function tE(t,a){for(var o=0;o<a.length;o++){const s=a[o];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const u=Object.getOwnPropertyDescriptor(s,i);u&&Object.defineProperty(t,i,u.get?u:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(i){if(i.ep)return;i.ep=!0;const u=o(i);fetch(i.href,u)}})();function l0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Af={exports:{}},gi={};var Ax;function nE(){if(Ax)return gi;Ax=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(s,i,u){var d=null;if(u!==void 0&&(d=""+u),i.key!==void 0&&(d=""+i.key),"key"in i){u={};for(var p in i)p!=="key"&&(u[p]=i[p])}else u=i;return i=u.ref,{$$typeof:t,type:s,key:d,ref:i!==void 0?i:null,props:u}}return gi.Fragment=a,gi.jsx=o,gi.jsxs=o,gi}var kx;function aE(){return kx||(kx=1,Af.exports=nE()),Af.exports}var c=aE(),kf={exports:{}},ke={};var Ox;function oE(){if(Ox)return ke;Ox=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),C=Symbol.iterator;function N(z){return z===null||typeof z!="object"?null:(z=C&&z[C]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function S(z,K,ne){this.props=z,this.context=K,this.refs=w,this.updater=ne||E}S.prototype.isReactComponent={},S.prototype.setState=function(z,K){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,K,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function R(){}R.prototype=S.prototype;function T(z,K,ne){this.props=z,this.context=K,this.refs=w,this.updater=ne||E}var D=T.prototype=new R;D.constructor=T,b(D,S.prototype),D.isPureReactComponent=!0;var k=Array.isArray;function O(){}var M={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function P(z,K,ne){var se=ne.ref;return{$$typeof:t,type:z,key:K,ref:se!==void 0?se:null,props:ne}}function $(z,K){return P(z.type,K,z.props)}function W(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function Q(z){var K={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ne){return K[ne]})}var q=/\/+/g;function F(z,K){return typeof z=="object"&&z!==null&&z.key!=null?Q(""+z.key):K.toString(36)}function ae(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(O,O):(z.status="pending",z.then(function(K){z.status==="pending"&&(z.status="fulfilled",z.value=K)},function(K){z.status==="pending"&&(z.status="rejected",z.reason=K)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function L(z,K,ne,se,fe){var ue=typeof z;(ue==="undefined"||ue==="boolean")&&(z=null);var Y=!1;if(z===null)Y=!0;else switch(ue){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(z.$$typeof){case t:case a:Y=!0;break;case y:return Y=z._init,L(Y(z._payload),K,ne,se,fe)}}if(Y)return fe=fe(z),Y=se===""?"."+F(z,0):se,k(fe)?(ne="",Y!=null&&(ne=Y.replace(q,"$&/")+"/"),L(fe,K,ne,"",function(Re){return Re})):fe!=null&&(W(fe)&&(fe=$(fe,ne+(fe.key==null||z&&z.key===fe.key?"":(""+fe.key).replace(q,"$&/")+"/")+Y)),K.push(fe)),1;Y=0;var ge=se===""?".":se+":";if(k(z))for(var ve=0;ve<z.length;ve++)se=z[ve],ue=ge+F(se,ve),Y+=L(se,K,ne,ue,fe);else if(ve=N(z),typeof ve=="function")for(z=ve.call(z),ve=0;!(se=z.next()).done;)se=se.value,ue=ge+F(se,ve++),Y+=L(se,K,ne,ue,fe);else if(ue==="object"){if(typeof z.then=="function")return L(ae(z),K,ne,se,fe);throw K=String(z),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Y}function H(z,K,ne){if(z==null)return z;var se=[],fe=0;return L(z,se,"","",function(ue){return K.call(ne,ue,fe++)}),se}function U(z){if(z._status===-1){var K=z._result;K=K(),K.then(function(ne){(z._status===0||z._status===-1)&&(z._status=1,z._result=ne)},function(ne){(z._status===0||z._status===-1)&&(z._status=2,z._result=ne)}),z._status===-1&&(z._status=0,z._result=K)}if(z._status===1)return z._result.default;throw z._result}var V=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ce={map:H,forEach:function(z,K,ne){H(z,function(){K.apply(this,arguments)},ne)},count:function(z){var K=0;return H(z,function(){K++}),K},toArray:function(z){return H(z,function(K){return K})||[]},only:function(z){if(!W(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return ke.Activity=x,ke.Children=ce,ke.Component=S,ke.Fragment=o,ke.Profiler=i,ke.PureComponent=T,ke.StrictMode=s,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ke.__COMPILER_RUNTIME={__proto__:null,c:function(z){return M.H.useMemoCache(z)}},ke.cache=function(z){return function(){return z.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(z,K,ne){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var se=b({},z.props),fe=z.key;if(K!=null)for(ue in K.key!==void 0&&(fe=""+K.key),K)!_.call(K,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&K.ref===void 0||(se[ue]=K[ue]);var ue=arguments.length-2;if(ue===1)se.children=ne;else if(1<ue){for(var Y=Array(ue),ge=0;ge<ue;ge++)Y[ge]=arguments[ge+2];se.children=Y}return P(z.type,fe,se)},ke.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},ke.createElement=function(z,K,ne){var se,fe={},ue=null;if(K!=null)for(se in K.key!==void 0&&(ue=""+K.key),K)_.call(K,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(fe[se]=K[se]);var Y=arguments.length-2;if(Y===1)fe.children=ne;else if(1<Y){for(var ge=Array(Y),ve=0;ve<Y;ve++)ge[ve]=arguments[ve+2];fe.children=ge}if(z&&z.defaultProps)for(se in Y=z.defaultProps,Y)fe[se]===void 0&&(fe[se]=Y[se]);return P(z,ue,fe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(z){return{$$typeof:p,render:z}},ke.isValidElement=W,ke.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:U}},ke.memo=function(z,K){return{$$typeof:m,type:z,compare:K===void 0?null:K}},ke.startTransition=function(z){var K=M.T,ne={};M.T=ne;try{var se=z(),fe=M.S;fe!==null&&fe(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(O,V)}catch(ue){V(ue)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),M.T=K}},ke.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},ke.use=function(z){return M.H.use(z)},ke.useActionState=function(z,K,ne){return M.H.useActionState(z,K,ne)},ke.useCallback=function(z,K){return M.H.useCallback(z,K)},ke.useContext=function(z){return M.H.useContext(z)},ke.useDebugValue=function(){},ke.useDeferredValue=function(z,K){return M.H.useDeferredValue(z,K)},ke.useEffect=function(z,K){return M.H.useEffect(z,K)},ke.useEffectEvent=function(z){return M.H.useEffectEvent(z)},ke.useId=function(){return M.H.useId()},ke.useImperativeHandle=function(z,K,ne){return M.H.useImperativeHandle(z,K,ne)},ke.useInsertionEffect=function(z,K){return M.H.useInsertionEffect(z,K)},ke.useLayoutEffect=function(z,K){return M.H.useLayoutEffect(z,K)},ke.useMemo=function(z,K){return M.H.useMemo(z,K)},ke.useOptimistic=function(z,K){return M.H.useOptimistic(z,K)},ke.useReducer=function(z,K,ne){return M.H.useReducer(z,K,ne)},ke.useRef=function(z){return M.H.useRef(z)},ke.useState=function(z){return M.H.useState(z)},ke.useSyncExternalStore=function(z,K,ne){return M.H.useSyncExternalStore(z,K,ne)},ke.useTransition=function(){return M.H.useTransition()},ke.version="19.2.4",ke}var zx;function Po(){return zx||(zx=1,kf.exports=oE()),kf.exports}var g=Po();const St=l0(g),c0=tE({__proto__:null,default:St},[g]);var Of={exports:{}},vi={},zf={exports:{}},Lf={};var Lx;function rE(){return Lx||(Lx=1,(function(t){function a(L,H){var U=L.length;L.push(H);e:for(;0<U;){var V=U-1>>>1,ce=L[V];if(0<i(ce,H))L[V]=H,L[U]=ce,U=V;else break e}}function o(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var H=L[0],U=L.pop();if(U!==H){L[0]=U;e:for(var V=0,ce=L.length,z=ce>>>1;V<z;){var K=2*(V+1)-1,ne=L[K],se=K+1,fe=L[se];if(0>i(ne,U))se<ce&&0>i(fe,ne)?(L[V]=fe,L[se]=U,V=se):(L[V]=ne,L[K]=U,V=K);else if(se<ce&&0>i(fe,U))L[V]=fe,L[se]=U,V=se;else break e}}return H}function i(L,H){var U=L.sortIndex-H.sortIndex;return U!==0?U:L.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var h=[],m=[],y=1,x=null,C=3,N=!1,E=!1,b=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(L){for(var H=o(m);H!==null;){if(H.callback===null)s(m);else if(H.startTime<=L)s(m),H.sortIndex=H.expirationTime,a(h,H);else break;H=o(m)}}function k(L){if(b=!1,D(L),!E)if(o(h)!==null)E=!0,O||(O=!0,Q());else{var H=o(m);H!==null&&ae(k,H.startTime-L)}}var O=!1,M=-1,_=5,P=-1;function $(){return w?!0:!(t.unstable_now()-P<_)}function W(){if(w=!1,O){var L=t.unstable_now();P=L;var H=!0;try{e:{E=!1,b&&(b=!1,R(M),M=-1),N=!0;var U=C;try{t:{for(D(L),x=o(h);x!==null&&!(x.expirationTime>L&&$());){var V=x.callback;if(typeof V=="function"){x.callback=null,C=x.priorityLevel;var ce=V(x.expirationTime<=L);if(L=t.unstable_now(),typeof ce=="function"){x.callback=ce,D(L),H=!0;break t}x===o(h)&&s(h),D(L)}else s(h);x=o(h)}if(x!==null)H=!0;else{var z=o(m);z!==null&&ae(k,z.startTime-L),H=!1}}break e}finally{x=null,C=U,N=!1}H=void 0}}finally{H?Q():O=!1}}}var Q;if(typeof T=="function")Q=function(){T(W)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,F=q.port2;q.port1.onmessage=W,Q=function(){F.postMessage(null)}}else Q=function(){S(W,0)};function ae(L,H){M=S(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(L){switch(C){case 1:case 2:case 3:var H=3;break;default:H=C}var U=C;C=H;try{return L()}finally{C=U}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=C;C=L;try{return H()}finally{C=U}},t.unstable_scheduleCallback=function(L,H,U){var V=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,L){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=U+ce,L={id:y++,callback:H,priorityLevel:L,startTime:U,expirationTime:ce,sortIndex:-1},U>V?(L.sortIndex=U,a(m,L),o(h)===null&&L===o(m)&&(b?(R(M),M=-1):b=!0,ae(k,U-V))):(L.sortIndex=ce,a(h,L),E||N||(E=!0,O||(O=!0,Q()))),L},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(L){var H=C;return function(){var U=C;C=H;try{return L.apply(this,arguments)}finally{C=U}}}})(Lf)),Lf}var Px;function sE(){return Px||(Px=1,zf.exports=rE()),zf.exports}var Pf={exports:{}},ln={};var Ux;function iE(){if(Ux)return ln;Ux=1;var t=Po();function a(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},i=Symbol.for("react.portal");function u(h,m,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:h,containerInfo:m,implementation:y}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(a(299));return u(h,m,null,y)},ln.flushSync=function(h){var m=d.T,y=s.p;try{if(d.T=null,s.p=2,h)return h()}finally{d.T=m,s.p=y,s.d.f()}},ln.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},ln.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},ln.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,x=p(y,m.crossOrigin),C=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:N}):y==="script"&&s.d.X(h,{crossOrigin:x,integrity:C,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ln.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=p(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},ln.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,x=p(y,m.crossOrigin);s.d.L(h,y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ln.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=p(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},ln.requestFormReset=function(h){s.d.r(h)},ln.unstable_batchedUpdates=function(h,m){return h(m)},ln.useFormState=function(h,m,y){return d.H.useFormState(h,m,y)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var Hx;function Yc(){if(Hx)return Pf.exports;Hx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Pf.exports=iE(),Pf.exports}var Bx;function lE(){if(Bx)return vi;Bx=1;var t=sE(),a=Po(),o=Yc();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(s(188))}function m(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var f=r.return;if(f===null)break;var v=f.alternate;if(v===null){if(l=f.return,l!==null){r=l;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===r)return h(f),e;if(v===l)return h(f),n;v=v.sibling}throw Error(s(188))}if(r.return!==l.return)r=f,l=v;else{for(var j=!1,A=f.child;A;){if(A===r){j=!0,r=f,l=v;break}if(A===l){j=!0,l=f,r=v;break}A=A.sibling}if(!j){for(A=v.child;A;){if(A===r){j=!0,r=v,l=f;break}if(A===l){j=!0,l=v,r=f;break}A=A.sibling}if(!j)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var q=Symbol.for("react.client.reference");function F(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case T:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case D:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:F(e.type)||"Memo";case _:n=e._payload,e=e._init;try{return F(e(n))}catch{}}return null}var ae=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},V=[],ce=-1;function z(e){return{current:e}}function K(e){0>ce||(e.current=V[ce],V[ce]=null,ce--)}function ne(e,n){ce++,V[ce]=e.current,e.current=n}var se=z(null),fe=z(null),ue=z(null),Y=z(null);function ge(e,n){switch(ne(ue,n),ne(fe,e),ne(se,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?tx(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=tx(n),e=nx(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(se),ne(se,e)}function ve(){K(se),K(fe),K(ue)}function Re(e){e.memoizedState!==null&&ne(Y,e);var n=se.current,r=nx(n,e.type);n!==r&&(ne(fe,e),ne(se,r))}function ye(e){fe.current===e&&(K(se),K(fe)),Y.current===e&&(K(Y),fi._currentValue=U)}var Ee,nt;function Ct(e){if(Ee===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ee=n&&n[1]||"",nt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+e+nt}var Ot=!1;function Bt(e,n){if(!e||Ot)return"";Ot=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var ee=te}Reflect.construct(e,[],le)}else{try{le.call()}catch(te){ee=te}e.call(le.prototype)}}else{try{throw Error()}catch(te){ee=te}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=l.DetermineComponentFrameRoot(),j=v[0],A=v[1];if(j&&A){var B=j.split(`
`),J=A.split(`
`);for(f=l=0;l<B.length&&!B[l].includes("DetermineComponentFrameRoot");)l++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(l===B.length||f===J.length)for(l=B.length-1,f=J.length-1;1<=l&&0<=f&&B[l]!==J[f];)f--;for(;1<=l&&0<=f;l--,f--)if(B[l]!==J[f]){if(l!==1||f!==1)do if(l--,f--,0>f||B[l]!==J[f]){var re=`
`+B[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=f);break}}}finally{Ot=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ct(r):""}function Kt(e,n){switch(e.tag){case 26:case 27:case 5:return Ct(e.type);case 16:return Ct("Lazy");case 13:return e.child!==n&&n!==null?Ct("Suspense Fallback"):Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return Bt(e.type,!1);case 11:return Bt(e.type.render,!1);case 1:return Bt(e.type,!0);case 31:return Ct("Activity");default:return""}}function zn(e){try{var n="",r=null;do n+=Kt(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var st=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,Tt=t.unstable_cancelCallback,Mt=t.unstable_shouldYield,un=t.unstable_requestPaint,It=t.unstable_now,hn=t.unstable_getCurrentPriorityLevel,Ln=t.unstable_ImmediatePriority,Nn=t.unstable_UserBlockingPriority,de=t.unstable_NormalPriority,xe=t.unstable_LowPriority,Ue=t.unstable_IdlePriority,Ie=t.log,tt=t.unstable_setDisableYieldValue,_t=null,ft=null;function Et(e){if(typeof Ie=="function"&&tt(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(_t,e)}catch{}}var at=Math.clz32?Math.clz32:wr,tn=Math.log,Io=Math.LN2;function wr(e){return e>>>=0,e===0?32:31-(tn(e)/Io|0)|0}var En=256,Ma=262144,We=4194304;function $e(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vt(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var f=0,v=e.suspendedLanes,j=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~v,l!==0?f=$e(l):(j&=A,j!==0?f=$e(j):r||(r=A&~e,r!==0&&(f=$e(r))))):(A=l&~v,A!==0?f=$e(A):j!==0?f=$e(j):r||(r=l&~e,r!==0&&(f=$e(r)))),f===0?0:n!==0&&n!==f&&(n&v)===0&&(v=f&-f,r=n&-n,v>=r||v===32&&(r&4194048)!==0)?n:f}function Je(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $t(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var e=We;return We<<=1,(We&62914560)===0&&(We=4194304),e}function Qt(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function zt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gn(e,n,r,l,f,v){var j=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var A=e.entanglements,B=e.expirationTimes,J=e.hiddenUpdates;for(r=j&~r;0<r;){var re=31-at(r),le=1<<re;A[re]=0,B[re]=-1;var ee=J[re];if(ee!==null)for(J[re]=null,re=0;re<ee.length;re++){var te=ee[re];te!==null&&(te.lane&=-536870913)}r&=~le}l!==0&&dn(e,l,0),v!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=v&~(j&~n))}function dn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-at(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Zn(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-at(r),f=1<<l;f&n|e[l]&n&&(e[l]|=n),r&=~f}}function Jn(e,n){var r=n&-n;return r=(r&42)!==0?1:Ce(r),(r&(e.suspendedLanes|n))!==0?0:r}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Me(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Ex(e.type))}function Qe(e,n){var r=H.p;try{return H.p=e,n()}finally{H.p=r}}var qe=Math.random().toString(36).slice(2),De="__reactFiber$"+qe,He="__reactProps$"+qe,yt="__reactContainer$"+qe,pt="__reactEvents$"+qe,Zt="__reactListeners$"+qe,Sr="__reactHandles$"+qe,Pn="__reactResources$"+qe,ea="__reactMarker$"+qe;function so(e){delete e[De],delete e[He],delete e[pt],delete e[Zt],delete e[Sr]}function ct(e){var n=e[De];if(n)return n;for(var r=e.parentNode;r;){if(n=r[yt]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=cx(e);e!==null;){if(r=e[De])return r;e=cx(e)}return n}e=r,r=e.parentNode}return null}function fa(e){if(e=e[De]||e[yt]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ta(e){var n=e[Pn];return n||(n=e[Pn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(e){e[ea]=!0}var qm=new Set,Fm={};function $o(e,n){Cr(e,n),Cr(e+"Capture",n)}function Cr(e,n){for(Fm[e]=n,e=0;e<n.length;e++)qm.add(n[e])}var YC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gm={},Ym={};function VC(e){return st.call(Ym,e)?!0:st.call(Gm,e)?!1:YC.test(e)?Ym[e]=!0:(Gm[e]=!0,!1)}function Xi(e,n,r){if(VC(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Ki(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function _a(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function Un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function XC(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,v=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(j){r=""+j,v.call(this,j)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(j){r=""+j},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Nu(e){if(!e._valueTracker){var n=Vm(e)?"checked":"value";e._valueTracker=XC(e,n,""+e[n])}}function Xm(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Vm(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function Wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var KC=/[\n"\\]/g;function Hn(e){return e.replace(KC,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Eu(e,n,r,l,f,v,j,A){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),n!=null?j==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Un(n)):e.value!==""+Un(n)&&(e.value=""+Un(n)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),n!=null?ju(e,j,Un(n)):r!=null?ju(e,j,Un(r)):l!=null&&e.removeAttribute("value"),f==null&&v!=null&&(e.defaultChecked=!!v),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Un(A):e.removeAttribute("name")}function Km(e,n,r,l,f,v,j,A){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),n!=null||r!=null){if(!(v!=="submit"&&v!=="reset"||n!=null)){Nu(e);return}r=r!=null?""+Un(r):"",n=n!=null?""+Un(n):r,A||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j),Nu(e)}function ju(e,n,r){n==="number"&&Wi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Nr(e,n,r,l){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Un(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Wm(e,n,r){if(n!=null&&(n=""+Un(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Un(r):""}function Qm(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Un(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Nu(e)}function Er(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var WC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zm(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||WC.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Jm(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&r[f]!==l&&Zm(e,f,l)}else for(var v in n)n.hasOwnProperty(v)&&Zm(e,v,n[v])}function Ru(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var QC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qi(e){return ZC.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Da(){}var Tu=null;function Mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jr=null,Rr=null;function eh(e){var n=fa(e);if(n&&(e=n.stateNode)){var r=e[He]||null;e:switch(e=n.stateNode,n.type){case"input":if(Eu(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var f=l[He]||null;if(!f)throw Error(s(90));Eu(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&Xm(l)}break e;case"textarea":Wm(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Nr(e,!!r.multiple,n,!1)}}}var _u=!1;function th(e,n,r){if(_u)return e(n,r);_u=!0;try{var l=e(n);return l}finally{if(_u=!1,(jr!==null||Rr!==null)&&(Ul(),jr&&(n=jr,e=Rr,Rr=jr=null,eh(n),e)))for(n=0;n<e.length;n++)eh(e[n])}}function Ms(e,n){var r=e.stateNode;if(r===null)return null;var l=r[He]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=!1;if(Aa)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Du=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Du=!1}var io=null,Au=null,Zi=null;function nh(){if(Zi)return Zi;var e,n=Au,r=n.length,l,f="value"in io?io.value:io.textContent,v=f.length;for(e=0;e<r&&n[e]===f[e];e++);var j=r-e;for(l=1;l<=j&&n[r-l]===f[v-l];l++);return Zi=f.slice(e,1<l?1-l:void 0)}function Ji(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function el(){return!0}function ah(){return!1}function vn(e){function n(r,l,f,v,j){this._reactName=r,this._targetInst=f,this.type=l,this.nativeEvent=v,this.target=j,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(r=e[A],this[A]=r?r(v):v[A]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?el:ah,this.isPropagationStopped=ah,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),n}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=vn(qo),Ds=x({},qo,{view:0,detail:0}),JC=vn(Ds),ku,Ou,As,nl=x({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(ku=e.screenX-As.screenX,Ou=e.screenY-As.screenY):Ou=ku=0,As=e),ku)},movementY:function(e){return"movementY"in e?e.movementY:Ou}}),oh=vn(nl),e2=x({},nl,{dataTransfer:0}),t2=vn(e2),n2=x({},Ds,{relatedTarget:0}),zu=vn(n2),a2=x({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),o2=vn(a2),r2=x({},qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),s2=vn(r2),i2=x({},qo,{data:0}),rh=vn(i2),l2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d2(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=u2[e])?!!n[e]:!1}function Lu(){return d2}var f2=x({},Ds,{key:function(e){if(e.key){var n=l2[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(e){return e.type==="keypress"?Ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p2=vn(f2),m2=x({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=vn(m2),h2=x({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),g2=vn(h2),v2=x({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),x2=vn(v2),y2=x({},nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),b2=vn(y2),w2=x({},qo,{newState:0,oldState:0}),S2=vn(w2),C2=[9,13,27,32],Pu=Aa&&"CompositionEvent"in window,ks=null;Aa&&"documentMode"in document&&(ks=document.documentMode);var N2=Aa&&"TextEvent"in window&&!ks,ih=Aa&&(!Pu||ks&&8<ks&&11>=ks),lh=" ",ch=!1;function uh(e,n){switch(e){case"keyup":return C2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function E2(e,n){switch(e){case"compositionend":return dh(n);case"keypress":return n.which!==32?null:(ch=!0,lh);case"textInput":return e=n.data,e===lh&&ch?null:e;default:return null}}function j2(e,n){if(Tr)return e==="compositionend"||!Pu&&uh(e,n)?(e=nh(),Zi=Au=io=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ih&&n.locale!=="ko"?null:n.data;default:return null}}var R2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!R2[e.type]:n==="textarea"}function ph(e,n,r,l){jr?Rr?Rr.push(l):Rr=[l]:jr=l,n=Gl(n,"onChange"),0<n.length&&(r=new tl("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Os=null,zs=null;function T2(e){Kv(e,0)}function al(e){var n=pa(e);if(Xm(n))return e}function mh(e,n){if(e==="change")return n}var hh=!1;if(Aa){var Uu;if(Aa){var Hu="oninput"in document;if(!Hu){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),Hu=typeof gh.oninput=="function"}Uu=Hu}else Uu=!1;hh=Uu&&(!document.documentMode||9<document.documentMode)}function vh(){Os&&(Os.detachEvent("onpropertychange",xh),zs=Os=null)}function xh(e){if(e.propertyName==="value"&&al(zs)){var n=[];ph(n,zs,e,Mu(e)),th(T2,n)}}function M2(e,n,r){e==="focusin"?(vh(),Os=n,zs=r,Os.attachEvent("onpropertychange",xh)):e==="focusout"&&vh()}function _2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(zs)}function D2(e,n){if(e==="click")return al(n)}function A2(e,n){if(e==="input"||e==="change")return al(n)}function k2(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var jn=typeof Object.is=="function"?Object.is:k2;function Ls(e,n){if(jn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var f=r[l];if(!st.call(n,f)||!jn(e[f],n[f]))return!1}return!0}function yh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bh(e,n){var r=yh(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yh(r)}}function wh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Wi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Wi(e.document)}return n}function Bu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var O2=Aa&&"documentMode"in document&&11>=document.documentMode,Mr=null,Iu=null,Ps=null,$u=!1;function Ch(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$u||Mr==null||Mr!==Wi(l)||(l=Mr,"selectionStart"in l&&Bu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ps&&Ls(Ps,l)||(Ps=l,l=Gl(Iu,"onSelect"),0<l.length&&(n=new tl("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Mr)))}function Fo(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var _r={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionrun:Fo("Transition","TransitionRun"),transitionstart:Fo("Transition","TransitionStart"),transitioncancel:Fo("Transition","TransitionCancel"),transitionend:Fo("Transition","TransitionEnd")},qu={},Nh={};Aa&&(Nh=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Go(e){if(qu[e])return qu[e];if(!_r[e])return e;var n=_r[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Nh)return qu[e]=n[r];return e}var Eh=Go("animationend"),jh=Go("animationiteration"),Rh=Go("animationstart"),z2=Go("transitionrun"),L2=Go("transitionstart"),P2=Go("transitioncancel"),Th=Go("transitionend"),Mh=new Map,Fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fu.push("scrollEnd");function na(e,n){Mh.set(e,n),$o(n,[e])}var ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],Dr=0,Gu=0;function rl(){for(var e=Dr,n=Gu=Dr=0;n<e;){var r=Bn[n];Bn[n++]=null;var l=Bn[n];Bn[n++]=null;var f=Bn[n];Bn[n++]=null;var v=Bn[n];if(Bn[n++]=null,l!==null&&f!==null){var j=l.pending;j===null?f.next=f:(f.next=j.next,j.next=f),l.pending=f}v!==0&&_h(r,f,v)}}function sl(e,n,r,l){Bn[Dr++]=e,Bn[Dr++]=n,Bn[Dr++]=r,Bn[Dr++]=l,Gu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Yu(e,n,r,l){return sl(e,n,r,l),il(e)}function Yo(e,n){return sl(e,null,null,n),il(e)}function _h(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var f=!1,v=e.return;v!==null;)v.childLanes|=r,l=v.alternate,l!==null&&(l.childLanes|=r),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(f=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,f&&n!==null&&(f=31-at(r),e=v.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=r|536870912),v):null}function il(e){if(50<ri)throw ri=0,tf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ar={};function U2(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,r,l){return new U2(e,n,r,l)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ka(e,n){var r=e.alternate;return r===null?(r=Rn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Dh(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ll(e,n,r,l,f,v){var j=0;if(l=e,typeof e=="function")Vu(e)&&(j=1);else if(typeof e=="string")j=qN(e,r,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=Rn(31,r,n,f),e.elementType=P,e.lanes=v,e;case b:return Vo(r.children,f,v,n);case w:j=8,f|=24;break;case S:return e=Rn(12,r,n,f|2),e.elementType=S,e.lanes=v,e;case k:return e=Rn(13,r,n,f),e.elementType=k,e.lanes=v,e;case O:return e=Rn(19,r,n,f),e.elementType=O,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:j=10;break e;case R:j=9;break e;case D:j=11;break e;case M:j=14;break e;case _:j=16,l=null;break e}j=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Rn(j,r,n,f),n.elementType=e,n.type=l,n.lanes=v,n}function Vo(e,n,r,l){return e=Rn(7,e,l,n),e.lanes=r,e}function Xu(e,n,r){return e=Rn(6,e,null,n),e.lanes=r,e}function Ah(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function Ku(e,n,r){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kh=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var r=kh.get(e);return r!==void 0?r:(n={value:e,source:n,stack:zn(n)},kh.set(e,n),n)}return{value:e,source:n,stack:zn(n)}}var kr=[],Or=0,cl=null,Us=0,$n=[],qn=0,lo=null,ma=1,ha="";function Oa(e,n){kr[Or++]=Us,kr[Or++]=cl,cl=e,Us=n}function Oh(e,n,r){$n[qn++]=ma,$n[qn++]=ha,$n[qn++]=lo,lo=e;var l=ma;e=ha;var f=32-at(l)-1;l&=~(1<<f),r+=1;var v=32-at(n)+f;if(30<v){var j=f-f%5;v=(l&(1<<j)-1).toString(32),l>>=j,f-=j,ma=1<<32-at(n)+f|r<<f|l,ha=v+e}else ma=1<<v|r<<f|l,ha=e}function Wu(e){e.return!==null&&(Oa(e,1),Oh(e,1,0))}function Qu(e){for(;e===cl;)cl=kr[--Or],kr[Or]=null,Us=kr[--Or],kr[Or]=null;for(;e===lo;)lo=$n[--qn],$n[qn]=null,ha=$n[--qn],$n[qn]=null,ma=$n[--qn],$n[qn]=null}function zh(e,n){$n[qn++]=ma,$n[qn++]=ha,$n[qn++]=lo,ma=n.id,ha=n.overflow,lo=e}var nn=null,bt=null,Ze=!1,co=null,Fn=!1,Zu=Error(s(519));function uo(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hs(In(n,e)),Zu}function Lh(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[De]=e,n[He]=l,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(r=0;r<ii.length;r++)Ge(ii[r],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":Ge("invalid",n),Km(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",n);break;case"textarea":Ge("invalid",n),Qm(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Jv(n.textContent,r)?(l.popover!=null&&(Ge("beforetoggle",n),Ge("toggle",n)),l.onScroll!=null&&Ge("scroll",n),l.onScrollEnd!=null&&Ge("scrollend",n),l.onClick!=null&&(n.onclick=Da),n=!0):n=!1,n||uo(e,!0)}function Ph(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:nn=nn.return}}function zr(e){if(e!==nn)return!1;if(!Ze)return Ph(e),Ze=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||vf(e.type,e.memoizedProps)),r=!r),r&&bt&&uo(e),Ph(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));bt=lx(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));bt=lx(e)}else n===27?(n=bt,Eo(e.type)?(e=Sf,Sf=null,bt=e):bt=n):bt=nn?Yn(e.stateNode.nextSibling):null;return!0}function Xo(){bt=nn=null,Ze=!1}function Ju(){var e=co;return e!==null&&(wn===null?wn=e:wn.push.apply(wn,e),co=null),e}function Hs(e){co===null?co=[e]:co.push(e)}var ed=z(null),Ko=null,za=null;function fo(e,n,r){ne(ed,n._currentValue),n._currentValue=r}function La(e){e._currentValue=ed.current,K(ed)}function td(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function nd(e,n,r,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var v=f.dependencies;if(v!==null){var j=f.child;v=v.firstContext;e:for(;v!==null;){var A=v;v=f;for(var B=0;B<n.length;B++)if(A.context===n[B]){v.lanes|=r,A=v.alternate,A!==null&&(A.lanes|=r),td(v.return,r,e),l||(j=null);break e}v=A.next}}else if(f.tag===18){if(j=f.return,j===null)throw Error(s(341));j.lanes|=r,v=j.alternate,v!==null&&(v.lanes|=r),td(j,r,e),j=null}else j=f.child;if(j!==null)j.return=f;else for(j=f;j!==null;){if(j===e){j=null;break}if(f=j.sibling,f!==null){f.return=j.return,j=f;break}j=j.return}f=j}}function Lr(e,n,r,l){e=null;for(var f=n,v=!1;f!==null;){if(!v){if((f.flags&524288)!==0)v=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var j=f.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var A=f.type;jn(f.pendingProps.value,j.value)||(e!==null?e.push(A):e=[A])}}else if(f===Y.current){if(j=f.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(fi):e=[fi])}f=f.return}e!==null&&nd(n,e,r,l),n.flags|=262144}function ul(e){for(e=e.firstContext;e!==null;){if(!jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wo(e){Ko=e,za=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function an(e){return Uh(Ko,e)}function dl(e,n){return Ko===null&&Wo(e),Uh(e,n)}function Uh(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},za===null){if(e===null)throw Error(s(308));za=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else za=za.next=n;return r}var H2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},B2=t.unstable_scheduleCallback,I2=t.unstable_NormalPriority,qt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new H2,data:new Map,refCount:0}}function Bs(e){e.refCount--,e.refCount===0&&B2(I2,function(){e.controller.abort()})}var Is=null,od=0,Pr=0,Ur=null;function $2(e,n){if(Is===null){var r=Is=[];od=0,Pr=lf(),Ur={status:"pending",value:void 0,then:function(l){r.push(l)}}}return od++,n.then(Hh,Hh),n}function Hh(){if(--od===0&&Is!==null){Ur!==null&&(Ur.status="fulfilled");var e=Is;Is=null,Pr=0,Ur=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function q2(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),l}var Bh=L.S;L.S=function(e,n){Cv=It(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&$2(e,n),Bh!==null&&Bh(e,n)};var Qo=z(null);function rd(){var e=Qo.current;return e!==null?e:xt.pooledCache}function fl(e,n){n===null?ne(Qo,Qo.current):ne(Qo,n.pool)}function Ih(){var e=rd();return e===null?null:{parent:qt._currentValue,pool:e}}var Hr=Error(s(460)),sd=Error(s(474)),pl=Error(s(542)),ml={then:function(){}};function $h(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qh(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Da,Da),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gh(e),e;default:if(typeof n.status=="string")n.then(Da,Da);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gh(e),e}throw Jo=n,Hr}}function Zo(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Jo=r,Hr):r}}var Jo=null;function Fh(){if(Jo===null)throw Error(s(459));var e=Jo;return Jo=null,e}function Gh(e){if(e===Hr||e===pl)throw Error(s(483))}var Br=null,$s=0;function hl(e){var n=$s;return $s+=1,Br===null&&(Br=[]),qh(Br,e,n)}function qs(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function gl(e,n){throw n.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yh(e){function n(X,G){if(e){var Z=X.deletions;Z===null?(X.deletions=[G],X.flags|=16):Z.push(G)}}function r(X,G){if(!e)return null;for(;G!==null;)n(X,G),G=G.sibling;return null}function l(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function f(X,G){return X=ka(X,G),X.index=0,X.sibling=null,X}function v(X,G,Z){return X.index=Z,e?(Z=X.alternate,Z!==null?(Z=Z.index,Z<G?(X.flags|=67108866,G):Z):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function j(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function A(X,G,Z,ie){return G===null||G.tag!==6?(G=Xu(Z,X.mode,ie),G.return=X,G):(G=f(G,Z),G.return=X,G)}function B(X,G,Z,ie){var Te=Z.type;return Te===b?re(X,G,Z.props.children,ie,Z.key):G!==null&&(G.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===_&&Zo(Te)===G.type)?(G=f(G,Z.props),qs(G,Z),G.return=X,G):(G=ll(Z.type,Z.key,Z.props,null,X.mode,ie),qs(G,Z),G.return=X,G)}function J(X,G,Z,ie){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Ku(Z,X.mode,ie),G.return=X,G):(G=f(G,Z.children||[]),G.return=X,G)}function re(X,G,Z,ie,Te){return G===null||G.tag!==7?(G=Vo(Z,X.mode,ie,Te),G.return=X,G):(G=f(G,Z),G.return=X,G)}function le(X,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Xu(""+G,X.mode,Z),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case N:return Z=ll(G.type,G.key,G.props,null,X.mode,Z),qs(Z,G),Z.return=X,Z;case E:return G=Ku(G,X.mode,Z),G.return=X,G;case _:return G=Zo(G),le(X,G,Z)}if(ae(G)||Q(G))return G=Vo(G,X.mode,Z,null),G.return=X,G;if(typeof G.then=="function")return le(X,hl(G),Z);if(G.$$typeof===T)return le(X,dl(X,G),Z);gl(X,G)}return null}function ee(X,G,Z,ie){var Te=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Te!==null?null:A(X,G,""+Z,ie);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:return Z.key===Te?B(X,G,Z,ie):null;case E:return Z.key===Te?J(X,G,Z,ie):null;case _:return Z=Zo(Z),ee(X,G,Z,ie)}if(ae(Z)||Q(Z))return Te!==null?null:re(X,G,Z,ie,null);if(typeof Z.then=="function")return ee(X,G,hl(Z),ie);if(Z.$$typeof===T)return ee(X,G,dl(X,Z),ie);gl(X,Z)}return null}function te(X,G,Z,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return X=X.get(Z)||null,A(G,X,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case N:return X=X.get(ie.key===null?Z:ie.key)||null,B(G,X,ie,Te);case E:return X=X.get(ie.key===null?Z:ie.key)||null,J(G,X,ie,Te);case _:return ie=Zo(ie),te(X,G,Z,ie,Te)}if(ae(ie)||Q(ie))return X=X.get(Z)||null,re(G,X,ie,Te,null);if(typeof ie.then=="function")return te(X,G,Z,hl(ie),Te);if(ie.$$typeof===T)return te(X,G,Z,dl(G,ie),Te);gl(G,ie)}return null}function be(X,G,Z,ie){for(var Te=null,ot=null,Ne=G,Pe=G=0,Xe=null;Ne!==null&&Pe<Z.length;Pe++){Ne.index>Pe?(Xe=Ne,Ne=null):Xe=Ne.sibling;var rt=ee(X,Ne,Z[Pe],ie);if(rt===null){Ne===null&&(Ne=Xe);break}e&&Ne&&rt.alternate===null&&n(X,Ne),G=v(rt,G,Pe),ot===null?Te=rt:ot.sibling=rt,ot=rt,Ne=Xe}if(Pe===Z.length)return r(X,Ne),Ze&&Oa(X,Pe),Te;if(Ne===null){for(;Pe<Z.length;Pe++)Ne=le(X,Z[Pe],ie),Ne!==null&&(G=v(Ne,G,Pe),ot===null?Te=Ne:ot.sibling=Ne,ot=Ne);return Ze&&Oa(X,Pe),Te}for(Ne=l(Ne);Pe<Z.length;Pe++)Xe=te(Ne,X,Pe,Z[Pe],ie),Xe!==null&&(e&&Xe.alternate!==null&&Ne.delete(Xe.key===null?Pe:Xe.key),G=v(Xe,G,Pe),ot===null?Te=Xe:ot.sibling=Xe,ot=Xe);return e&&Ne.forEach(function(_o){return n(X,_o)}),Ze&&Oa(X,Pe),Te}function _e(X,G,Z,ie){if(Z==null)throw Error(s(151));for(var Te=null,ot=null,Ne=G,Pe=G=0,Xe=null,rt=Z.next();Ne!==null&&!rt.done;Pe++,rt=Z.next()){Ne.index>Pe?(Xe=Ne,Ne=null):Xe=Ne.sibling;var _o=ee(X,Ne,rt.value,ie);if(_o===null){Ne===null&&(Ne=Xe);break}e&&Ne&&_o.alternate===null&&n(X,Ne),G=v(_o,G,Pe),ot===null?Te=_o:ot.sibling=_o,ot=_o,Ne=Xe}if(rt.done)return r(X,Ne),Ze&&Oa(X,Pe),Te;if(Ne===null){for(;!rt.done;Pe++,rt=Z.next())rt=le(X,rt.value,ie),rt!==null&&(G=v(rt,G,Pe),ot===null?Te=rt:ot.sibling=rt,ot=rt);return Ze&&Oa(X,Pe),Te}for(Ne=l(Ne);!rt.done;Pe++,rt=Z.next())rt=te(Ne,X,Pe,rt.value,ie),rt!==null&&(e&&rt.alternate!==null&&Ne.delete(rt.key===null?Pe:rt.key),G=v(rt,G,Pe),ot===null?Te=rt:ot.sibling=rt,ot=rt);return e&&Ne.forEach(function(eE){return n(X,eE)}),Ze&&Oa(X,Pe),Te}function gt(X,G,Z,ie){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:e:{for(var Te=Z.key;G!==null;){if(G.key===Te){if(Te=Z.type,Te===b){if(G.tag===7){r(X,G.sibling),ie=f(G,Z.props.children),ie.return=X,X=ie;break e}}else if(G.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===_&&Zo(Te)===G.type){r(X,G.sibling),ie=f(G,Z.props),qs(ie,Z),ie.return=X,X=ie;break e}r(X,G);break}else n(X,G);G=G.sibling}Z.type===b?(ie=Vo(Z.props.children,X.mode,ie,Z.key),ie.return=X,X=ie):(ie=ll(Z.type,Z.key,Z.props,null,X.mode,ie),qs(ie,Z),ie.return=X,X=ie)}return j(X);case E:e:{for(Te=Z.key;G!==null;){if(G.key===Te)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){r(X,G.sibling),ie=f(G,Z.children||[]),ie.return=X,X=ie;break e}else{r(X,G);break}else n(X,G);G=G.sibling}ie=Ku(Z,X.mode,ie),ie.return=X,X=ie}return j(X);case _:return Z=Zo(Z),gt(X,G,Z,ie)}if(ae(Z))return be(X,G,Z,ie);if(Q(Z)){if(Te=Q(Z),typeof Te!="function")throw Error(s(150));return Z=Te.call(Z),_e(X,G,Z,ie)}if(typeof Z.then=="function")return gt(X,G,hl(Z),ie);if(Z.$$typeof===T)return gt(X,G,dl(X,Z),ie);gl(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(r(X,G.sibling),ie=f(G,Z),ie.return=X,X=ie):(r(X,G),ie=Xu(Z,X.mode,ie),ie.return=X,X=ie),j(X)):r(X,G)}return function(X,G,Z,ie){try{$s=0;var Te=gt(X,G,Z,ie);return Br=null,Te}catch(Ne){if(Ne===Hr||Ne===pl)throw Ne;var ot=Rn(29,Ne,null,X.mode);return ot.lanes=ie,ot.return=X,ot}}}var er=Yh(!0),Vh=Yh(!1),po=!1;function id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ho(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=il(e),_h(e,null,r),n}return sl(e,l,n,r),il(e)}function Fs(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Zn(e,r)}}function cd(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var f=null,v=null;if(r=r.firstBaseUpdate,r!==null){do{var j={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};v===null?f=v=j:v=v.next=j,r=r.next}while(r!==null);v===null?f=v=n:v=v.next=n}else f=v=n;r={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var ud=!1;function Gs(){if(ud){var e=Ur;if(e!==null)throw e}}function Ys(e,n,r,l){ud=!1;var f=e.updateQueue;po=!1;var v=f.firstBaseUpdate,j=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var B=A,J=B.next;B.next=null,j===null?v=J:j.next=J,j=B;var re=e.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==j&&(A===null?re.firstBaseUpdate=J:A.next=J,re.lastBaseUpdate=B))}if(v!==null){var le=f.baseState;j=0,re=J=B=null,A=v;do{var ee=A.lane&-536870913,te=ee!==A.lane;if(te?(Ve&ee)===ee:(l&ee)===ee){ee!==0&&ee===Pr&&(ud=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var be=e,_e=A;ee=n;var gt=r;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){le=be.call(gt,le,ee);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,ee=typeof be=="function"?be.call(gt,le,ee):be,ee==null)break e;le=x({},le,ee);break e;case 2:po=!0}}ee=A.callback,ee!==null&&(e.flags|=64,te&&(e.flags|=8192),te=f.callbacks,te===null?f.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(J=re=te,B=le):re=re.next=te,j|=ee;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;te=A,A=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);re===null&&(B=le),f.baseState=B,f.firstBaseUpdate=J,f.lastBaseUpdate=re,v===null&&(f.shared.lanes=0),bo|=j,e.lanes=j,e.memoizedState=le}}function Xh(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Kh(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Xh(r[e],n)}var Ir=z(null),vl=z(0);function Wh(e,n){e=Ga,ne(vl,e),ne(Ir,n),Ga=e|n.baseLanes}function dd(){ne(vl,Ga),ne(Ir,Ir.current)}function fd(){Ga=vl.current,K(Ir),K(vl)}var Tn=z(null),Gn=null;function go(e){var n=e.alternate;ne(Lt,Lt.current&1),ne(Tn,e),Gn===null&&(n===null||Ir.current!==null||n.memoizedState!==null)&&(Gn=e)}function pd(e){ne(Lt,Lt.current),ne(Tn,e),Gn===null&&(Gn=e)}function Qh(e){e.tag===22?(ne(Lt,Lt.current),ne(Tn,e),Gn===null&&(Gn=e)):vo()}function vo(){ne(Lt,Lt.current),ne(Tn,Tn.current)}function Mn(e){K(Tn),Gn===e&&(Gn=null),K(Lt)}var Lt=z(0);function xl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bf(r)||wf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pa=0,ze=null,mt=null,Ft=null,yl=!1,$r=!1,tr=!1,bl=0,Vs=0,qr=null,F2=0;function At(){throw Error(s(321))}function md(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!jn(e[r],n[r]))return!1;return!0}function hd(e,n,r,l,f,v){return Pa=v,ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?Og:_d,tr=!1,v=r(l,f),tr=!1,$r&&(v=Jh(n,r,l,f)),Zh(e),v}function Zh(e){L.H=Ws;var n=mt!==null&&mt.next!==null;if(Pa=0,Ft=mt=ze=null,yl=!1,Vs=0,qr=null,n)throw Error(s(300));e===null||Gt||(e=e.dependencies,e!==null&&ul(e)&&(Gt=!0))}function Jh(e,n,r,l){ze=e;var f=0;do{if($r&&(qr=null),Vs=0,$r=!1,25<=f)throw Error(s(301));if(f+=1,Ft=mt=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}L.H=zg,v=n(r,l)}while($r);return v}function G2(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?Xs(n):n,e=e.useState()[0],(mt!==null?mt.memoizedState:null)!==e&&(ze.flags|=1024),n}function gd(){var e=bl!==0;return bl=0,e}function vd(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function xd(e){if(yl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}yl=!1}Pa=0,Ft=mt=ze=null,$r=!1,Vs=bl=0,qr=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ze.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function Pt(){if(mt===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var n=Ft===null?ze.memoizedState:Ft.next;if(n!==null)Ft=n,mt=e;else{if(e===null)throw ze.alternate===null?Error(s(467)):Error(s(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ft===null?ze.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(e){var n=Vs;return Vs+=1,qr===null&&(qr=[]),e=qh(qr,e,n),n=ze,(Ft===null?n.memoizedState:Ft.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Og:_d),e}function Sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xs(e);if(e.$$typeof===T)return an(e)}throw Error(s(438,String(e)))}function yd(e){var n=null,r=ze.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=wl(),ze.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=$;return n.index++,r}function Ua(e,n){return typeof n=="function"?n(e):n}function Cl(e){var n=Pt();return bd(n,mt,e)}function bd(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var f=e.baseQueue,v=l.pending;if(v!==null){if(f!==null){var j=f.next;f.next=v.next,v.next=j}n.baseQueue=f=v,l.pending=null}if(v=e.baseState,f===null)e.memoizedState=v;else{n=f.next;var A=j=null,B=null,J=n,re=!1;do{var le=J.lane&-536870913;if(le!==J.lane?(Ve&le)===le:(Pa&le)===le){var ee=J.revertLane;if(ee===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),le===Pr&&(re=!0);else if((Pa&ee)===ee){J=J.next,ee===Pr&&(re=!0);continue}else le={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(A=B=le,j=v):B=B.next=le,ze.lanes|=ee,bo|=ee;le=J.action,tr&&r(v,le),v=J.hasEagerState?J.eagerState:r(v,le)}else ee={lane:le,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(A=B=ee,j=v):B=B.next=ee,ze.lanes|=le,bo|=le;J=J.next}while(J!==null&&J!==n);if(B===null?j=v:B.next=A,!jn(v,e.memoizedState)&&(Gt=!0,re&&(r=Ur,r!==null)))throw r;e.memoizedState=v,e.baseState=j,e.baseQueue=B,l.lastRenderedState=v}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function wd(e){var n=Pt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,f=r.pending,v=n.memoizedState;if(f!==null){r.pending=null;var j=f=f.next;do v=e(v,j.action),j=j.next;while(j!==f);jn(v,n.memoizedState)||(Gt=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),r.lastRenderedState=v}return[v,l]}function eg(e,n,r){var l=ze,f=Pt(),v=Ze;if(v){if(r===void 0)throw Error(s(407));r=r()}else r=n();var j=!jn((mt||f).memoizedState,r);if(j&&(f.memoizedState=r,Gt=!0),f=f.queue,Nd(ag.bind(null,l,f,e),[e]),f.getSnapshot!==n||j||Ft!==null&&Ft.memoizedState.tag&1){if(l.flags|=2048,Fr(9,{destroy:void 0},ng.bind(null,l,f,r,n),null),xt===null)throw Error(s(349));v||(Pa&127)!==0||tg(l,n,r)}return r}function tg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=ze.updateQueue,n===null?(n=wl(),ze.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function ng(e,n,r,l){n.value=r,n.getSnapshot=l,og(n)&&rg(e)}function ag(e,n,r){return r(function(){og(n)&&rg(e)})}function og(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!jn(e,r)}catch{return!0}}function rg(e){var n=Yo(e,2);n!==null&&Sn(n,e,2)}function Sd(e){var n=fn();if(typeof e=="function"){var r=e;if(e=r(),tr){Et(!0);try{r()}finally{Et(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:e},n}function sg(e,n,r,l){return e.baseState=r,bd(e,mt,typeof l=="function"?l:Ua)}function Y2(e,n,r,l,f){if(jl(e))throw Error(s(485));if(e=n.action,e!==null){var v={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){v.listeners.push(j)}};L.T!==null?r(!0):v.isTransition=!1,l(v),r=n.pending,r===null?(v.next=n.pending=v,ig(n,v)):(v.next=r.next,n.pending=r.next=v)}}function ig(e,n){var r=n.action,l=n.payload,f=e.state;if(n.isTransition){var v=L.T,j={};L.T=j;try{var A=r(f,l),B=L.S;B!==null&&B(j,A),lg(e,n,A)}catch(J){Cd(e,n,J)}finally{v!==null&&j.types!==null&&(v.types=j.types),L.T=v}}else try{v=r(f,l),lg(e,n,v)}catch(J){Cd(e,n,J)}}function lg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){cg(e,n,l)},function(l){return Cd(e,n,l)}):cg(e,n,r)}function cg(e,n,r){n.status="fulfilled",n.value=r,ug(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ig(e,r)))}function Cd(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ug(n),n=n.next;while(n!==l)}e.action=null}function ug(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dg(e,n){return n}function fg(e,n){if(Ze){var r=xt.formState;if(r!==null){e:{var l=ze;if(Ze){if(bt){t:{for(var f=bt,v=Fn;f.nodeType!==8;){if(!v){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}v=f.data,f=v==="F!"||v==="F"?f:null}if(f){bt=Yn(f.nextSibling),l=f.data==="F!";break e}}uo(l)}l=!1}l&&(n=r[0])}}return r=fn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},r.queue=l,r=Dg.bind(null,ze,l),l.dispatch=r,l=Sd(!1),v=Md.bind(null,ze,!1,l.queue),l=fn(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,r=Y2.bind(null,ze,f,v,r),f.dispatch=r,l.memoizedState=e,[n,r,!1]}function pg(e){var n=Pt();return mg(n,mt,e)}function mg(e,n,r){if(n=bd(e,n,dg)[0],e=Cl(Ua)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xs(n)}catch(j){throw j===Hr?pl:j}else l=n;n=Pt();var f=n.queue,v=f.dispatch;return r!==n.memoizedState&&(ze.flags|=2048,Fr(9,{destroy:void 0},V2.bind(null,f,r),null)),[l,v,e]}function V2(e,n){e.action=n}function hg(e){var n=Pt(),r=mt;if(r!==null)return mg(n,r,e);Pt(),n=n.memoizedState,r=Pt();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Fr(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=ze.updateQueue,n===null&&(n=wl(),ze.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function gg(){return Pt().memoizedState}function Nl(e,n,r,l){var f=fn();ze.flags|=e,f.memoizedState=Fr(1|n,{destroy:void 0},r,l===void 0?null:l)}function El(e,n,r,l){var f=Pt();l=l===void 0?null:l;var v=f.memoizedState.inst;mt!==null&&l!==null&&md(l,mt.memoizedState.deps)?f.memoizedState=Fr(n,v,r,l):(ze.flags|=e,f.memoizedState=Fr(1|n,v,r,l))}function vg(e,n){Nl(8390656,8,e,n)}function Nd(e,n){El(2048,8,e,n)}function X2(e){ze.flags|=4;var n=ze.updateQueue;if(n===null)n=wl(),ze.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function xg(e){var n=Pt().memoizedState;return X2({ref:n,nextImpl:e}),function(){if((it&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function yg(e,n){return El(4,2,e,n)}function bg(e,n){return El(4,4,e,n)}function wg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sg(e,n,r){r=r!=null?r.concat([e]):null,El(4,4,wg.bind(null,n,e),r)}function Ed(){}function Cg(e,n){var r=Pt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&md(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Ng(e,n){var r=Pt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&md(n,l[1]))return l[0];if(l=e(),tr){Et(!0);try{e()}finally{Et(!1)}}return r.memoizedState=[l,n],l}function jd(e,n,r){return r===void 0||(Pa&1073741824)!==0&&(Ve&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ev(),ze.lanes|=e,bo|=e,r)}function Eg(e,n,r,l){return jn(r,n)?r:Ir.current!==null?(e=jd(e,r,l),jn(e,n)||(Gt=!0),e):(Pa&42)===0||(Pa&1073741824)!==0&&(Ve&261930)===0?(Gt=!0,e.memoizedState=r):(e=Ev(),ze.lanes|=e,bo|=e,n)}function jg(e,n,r,l,f){var v=H.p;H.p=v!==0&&8>v?v:8;var j=L.T,A={};L.T=A,Md(e,!1,n,r);try{var B=f(),J=L.S;if(J!==null&&J(A,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var re=q2(B,l);Ks(e,n,re,An(e))}else Ks(e,n,l,An(e))}catch(le){Ks(e,n,{then:function(){},status:"rejected",reason:le},An())}finally{H.p=v,j!==null&&A.types!==null&&(j.types=A.types),L.T=j}}function K2(){}function Rd(e,n,r,l){if(e.tag!==5)throw Error(s(476));var f=Rg(e).queue;jg(e,f,n,U,r===null?K2:function(){return Tg(e),r(l)})}function Rg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:U},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tg(e){var n=Rg(e);n.next===null&&(n=e.alternate.memoizedState),Ks(e,n.next.queue,{},An())}function Td(){return an(fi)}function Mg(){return Pt().memoizedState}function _g(){return Pt().memoizedState}function W2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=An();e=mo(r);var l=ho(n,e,r);l!==null&&(Sn(l,n,r),Fs(l,n,r)),n={cache:ad()},e.payload=n;return}n=n.return}}function Q2(e,n,r){var l=An();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},jl(e)?Ag(n,r):(r=Yu(e,n,r,l),r!==null&&(Sn(r,e,l),kg(r,n,l)))}function Dg(e,n,r){var l=An();Ks(e,n,r,l)}function Ks(e,n,r,l){var f={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(jl(e))Ag(n,f);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var j=n.lastRenderedState,A=v(j,r);if(f.hasEagerState=!0,f.eagerState=A,jn(A,j))return sl(e,n,f,0),xt===null&&rl(),!1}catch{}if(r=Yu(e,n,f,l),r!==null)return Sn(r,e,l),kg(r,n,l),!0}return!1}function Md(e,n,r,l){if(l={lane:2,revertLane:lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jl(e)){if(n)throw Error(s(479))}else n=Yu(e,r,l,2),n!==null&&Sn(n,e,2)}function jl(e){var n=e.alternate;return e===ze||n!==null&&n===ze}function Ag(e,n){$r=yl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function kg(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Zn(e,r)}}var Ws={readContext:an,use:Sl,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Ws.useEffectEvent=At;var Og={readContext:an,use:Sl,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:an,useEffect:vg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Nl(4194308,4,wg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Nl(4194308,4,e,n)},useInsertionEffect:function(e,n){Nl(4,2,e,n)},useMemo:function(e,n){var r=fn();n=n===void 0?null:n;var l=e();if(tr){Et(!0);try{e()}finally{Et(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=fn();if(r!==void 0){var f=r(n);if(tr){Et(!0);try{r(n)}finally{Et(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Q2.bind(null,ze,e),[l.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:function(e){e=Sd(e);var n=e.queue,r=Dg.bind(null,ze,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Ed,useDeferredValue:function(e,n){var r=fn();return jd(r,e,n)},useTransition:function(){var e=Sd(!1);return e=jg.bind(null,ze,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=ze,f=fn();if(Ze){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),xt===null)throw Error(s(349));(Ve&127)!==0||tg(l,n,r)}f.memoizedState=r;var v={value:r,getSnapshot:n};return f.queue=v,vg(ag.bind(null,l,v,e),[e]),l.flags|=2048,Fr(9,{destroy:void 0},ng.bind(null,l,v,r,n),null),r},useId:function(){var e=fn(),n=xt.identifierPrefix;if(Ze){var r=ha,l=ma;r=(l&~(1<<32-at(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=bl++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=F2++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Td,useFormState:fg,useActionState:fg,useOptimistic:function(e){var n=fn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Md.bind(null,ze,!0,r),r.dispatch=n,[e,n]},useMemoCache:yd,useCacheRefresh:function(){return fn().memoizedState=W2.bind(null,ze)},useEffectEvent:function(e){var n=fn(),r={impl:e};return n.memoizedState=r,function(){if((it&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},_d={readContext:an,use:Sl,useCallback:Cg,useContext:an,useEffect:Nd,useImperativeHandle:Sg,useInsertionEffect:yg,useLayoutEffect:bg,useMemo:Ng,useReducer:Cl,useRef:gg,useState:function(){return Cl(Ua)},useDebugValue:Ed,useDeferredValue:function(e,n){var r=Pt();return Eg(r,mt.memoizedState,e,n)},useTransition:function(){var e=Cl(Ua)[0],n=Pt().memoizedState;return[typeof e=="boolean"?e:Xs(e),n]},useSyncExternalStore:eg,useId:Mg,useHostTransitionStatus:Td,useFormState:pg,useActionState:pg,useOptimistic:function(e,n){var r=Pt();return sg(r,mt,e,n)},useMemoCache:yd,useCacheRefresh:_g};_d.useEffectEvent=xg;var zg={readContext:an,use:Sl,useCallback:Cg,useContext:an,useEffect:Nd,useImperativeHandle:Sg,useInsertionEffect:yg,useLayoutEffect:bg,useMemo:Ng,useReducer:wd,useRef:gg,useState:function(){return wd(Ua)},useDebugValue:Ed,useDeferredValue:function(e,n){var r=Pt();return mt===null?jd(r,e,n):Eg(r,mt.memoizedState,e,n)},useTransition:function(){var e=wd(Ua)[0],n=Pt().memoizedState;return[typeof e=="boolean"?e:Xs(e),n]},useSyncExternalStore:eg,useId:Mg,useHostTransitionStatus:Td,useFormState:hg,useActionState:hg,useOptimistic:function(e,n){var r=Pt();return mt!==null?sg(r,mt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:yd,useCacheRefresh:_g};zg.useEffectEvent=xg;function Dd(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ad={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=An(),f=mo(l);f.payload=n,r!=null&&(f.callback=r),n=ho(e,f,l),n!==null&&(Sn(n,e,l),Fs(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=An(),f=mo(l);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=ho(e,f,l),n!==null&&(Sn(n,e,l),Fs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=An(),l=mo(r);l.tag=2,n!=null&&(l.callback=n),n=ho(e,l,r),n!==null&&(Sn(n,e,r),Fs(n,e,r))}};function Lg(e,n,r,l,f,v,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,v,j):n.prototype&&n.prototype.isPureReactComponent?!Ls(r,l)||!Ls(f,v):!0}function Pg(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Ad.enqueueReplaceState(n,n.state,null)}function nr(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=x({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function Ug(e){ol(e)}function Hg(e){console.error(e)}function Bg(e){ol(e)}function Rl(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ig(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kd(e,n,r){return r=mo(r),r.tag=3,r.payload={element:null},r.callback=function(){Rl(e,n)},r}function $g(e){return e=mo(e),e.tag=3,e}function qg(e,n,r,l){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var v=l.value;e.payload=function(){return f(v)},e.callback=function(){Ig(n,r,l)}}var j=r.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){Ig(n,r,l),typeof f!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function Z2(e,n,r,l,f){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Lr(n,r,f,!0),r=Tn.current,r!==null){switch(r.tag){case 31:case 13:return Gn===null?Hl():r.alternate===null&&kt===0&&(kt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,l===ml?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),of(e,l,f)),!1;case 22:return r.flags|=65536,l===ml?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),of(e,l,f)),!1}throw Error(s(435,r.tag))}return of(e,l,f),Hl(),!1}if(Ze)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==Zu&&(e=Error(s(422),{cause:l}),Hs(In(e,r)))):(l!==Zu&&(n=Error(s(423),{cause:l}),Hs(In(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=In(l,r),f=kd(e.stateNode,l,f),cd(e,f),kt!==4&&(kt=2)),!1;var v=Error(s(520),{cause:l});if(v=In(v,r),oi===null?oi=[v]:oi.push(v),kt!==4&&(kt=2),n===null)return!0;l=In(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=kd(r.stateNode,l,e),cd(r,e),!1;case 1:if(n=r.type,v=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wo===null||!wo.has(v))))return r.flags|=65536,f&=-f,r.lanes|=f,f=$g(f),qg(f,e,r,l),cd(r,f),!1}r=r.return}while(r!==null);return!1}var Od=Error(s(461)),Gt=!1;function on(e,n,r,l){n.child=e===null?Vh(n,null,r,l):er(n,e.child,r,l)}function Fg(e,n,r,l,f){r=r.render;var v=n.ref;if("ref"in l){var j={};for(var A in l)A!=="ref"&&(j[A]=l[A])}else j=l;return Wo(n),l=hd(e,n,r,j,v,f),A=gd(),e!==null&&!Gt?(vd(e,n,f),Ha(e,n,f)):(Ze&&A&&Wu(n),n.flags|=1,on(e,n,l,f),n.child)}function Gg(e,n,r,l,f){if(e===null){var v=r.type;return typeof v=="function"&&!Vu(v)&&v.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=v,Yg(e,n,v,l,f)):(e=ll(r.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!$d(e,f)){var j=v.memoizedProps;if(r=r.compare,r=r!==null?r:Ls,r(j,l)&&e.ref===n.ref)return Ha(e,n,f)}return n.flags|=1,e=ka(v,l),e.ref=n.ref,e.return=n,n.child=e}function Yg(e,n,r,l,f){if(e!==null){var v=e.memoizedProps;if(Ls(v,l)&&e.ref===n.ref)if(Gt=!1,n.pendingProps=l=v,$d(e,f))(e.flags&131072)!==0&&(Gt=!0);else return n.lanes=e.lanes,Ha(e,n,f)}return zd(e,n,r,l,f)}function Vg(e,n,r,l){var f=l.children,v=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(v=v!==null?v.baseLanes|r:r,e!==null){for(l=n.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~v}else l=0,n.child=null;return Xg(e,n,v,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fl(n,v!==null?v.cachePool:null),v!==null?Wh(n,v):dd(),Qh(n);else return l=n.lanes=536870912,Xg(e,n,v!==null?v.baseLanes|r:r,r,l)}else v!==null?(fl(n,v.cachePool),Wh(n,v),vo(),n.memoizedState=null):(e!==null&&fl(n,null),dd(),vo());return on(e,n,f,r),n.child}function Qs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xg(e,n,r,l,f){var v=rd();return v=v===null?null:{parent:qt._currentValue,pool:v},n.memoizedState={baseLanes:r,cachePool:v},e!==null&&fl(n,null),dd(),Qh(n),e!==null&&Lr(e,n,l,!0),n.childLanes=f,null}function Tl(e,n){return n=_l({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kg(e,n,r){return er(n,e.child,null,r),e=Tl(n,n.pendingProps),e.flags|=2,Mn(n),n.memoizedState=null,e}function J2(e,n,r){var l=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ze){if(l.mode==="hidden")return e=Tl(n,l),n.lanes=536870912,Qs(null,e);if(pd(n),(e=bt)?(e=ix(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:lo!==null?{id:ma,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},r=Ah(e),r.return=n,n.child=r,nn=n,bt=null)):e=null,e===null)throw uo(n);return n.lanes=536870912,null}return Tl(n,l)}var v=e.memoizedState;if(v!==null){var j=v.dehydrated;if(pd(n),f)if(n.flags&256)n.flags&=-257,n=Kg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Gt||Lr(e,n,r,!1),f=(r&e.childLanes)!==0,Gt||f){if(l=xt,l!==null&&(j=Jn(l,r),j!==0&&j!==v.retryLane))throw v.retryLane=j,Yo(e,j),Sn(l,e,j),Od;Hl(),n=Kg(e,n,r)}else e=v.treeContext,bt=Yn(j.nextSibling),nn=n,Ze=!0,co=null,Fn=!1,e!==null&&zh(n,e),n=Tl(n,l),n.flags|=4096;return n}return e=ka(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ml(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function zd(e,n,r,l,f){return Wo(n),r=hd(e,n,r,l,void 0,f),l=gd(),e!==null&&!Gt?(vd(e,n,f),Ha(e,n,f)):(Ze&&l&&Wu(n),n.flags|=1,on(e,n,r,f),n.child)}function Wg(e,n,r,l,f,v){return Wo(n),n.updateQueue=null,r=Jh(n,l,r,f),Zh(e),l=gd(),e!==null&&!Gt?(vd(e,n,v),Ha(e,n,v)):(Ze&&l&&Wu(n),n.flags|=1,on(e,n,r,v),n.child)}function Qg(e,n,r,l,f){if(Wo(n),n.stateNode===null){var v=Ar,j=r.contextType;typeof j=="object"&&j!==null&&(v=an(j)),v=new r(l,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ad,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=l,v.state=n.memoizedState,v.refs={},id(n),j=r.contextType,v.context=typeof j=="object"&&j!==null?an(j):Ar,v.state=n.memoizedState,j=r.getDerivedStateFromProps,typeof j=="function"&&(Dd(n,r,j,l),v.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(j=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),j!==v.state&&Ad.enqueueReplaceState(v,v.state,null),Ys(n,l,v,f),Gs(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){v=n.stateNode;var A=n.memoizedProps,B=nr(r,A);v.props=B;var J=v.context,re=r.contextType;j=Ar,typeof re=="object"&&re!==null&&(j=an(re));var le=r.getDerivedStateFromProps;re=typeof le=="function"||typeof v.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,re||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A||J!==j)&&Pg(n,v,l,j),po=!1;var ee=n.memoizedState;v.state=ee,Ys(n,l,v,f),Gs(),J=n.memoizedState,A||ee!==J||po?(typeof le=="function"&&(Dd(n,r,le,l),J=n.memoizedState),(B=po||Lg(n,r,B,l,ee,J,j))?(re||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=J),v.props=l,v.state=J,v.context=j,l=B):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{v=n.stateNode,ld(e,n),j=n.memoizedProps,re=nr(r,j),v.props=re,le=n.pendingProps,ee=v.context,J=r.contextType,B=Ar,typeof J=="object"&&J!==null&&(B=an(J)),A=r.getDerivedStateFromProps,(J=typeof A=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j!==le||ee!==B)&&Pg(n,v,l,B),po=!1,ee=n.memoizedState,v.state=ee,Ys(n,l,v,f),Gs();var te=n.memoizedState;j!==le||ee!==te||po||e!==null&&e.dependencies!==null&&ul(e.dependencies)?(typeof A=="function"&&(Dd(n,r,A,l),te=n.memoizedState),(re=po||Lg(n,r,re,l,ee,te,B)||e!==null&&e.dependencies!==null&&ul(e.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,te,B),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,te,B)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||j===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=te),v.props=l,v.state=te,v.context=B,l=re):(typeof v.componentDidUpdate!="function"||j===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),l=!1)}return v=l,Ml(e,n),l=(n.flags&128)!==0,v||l?(v=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&l?(n.child=er(n,e.child,null,f),n.child=er(n,null,r,f)):on(e,n,r,f),n.memoizedState=v.state,e=n.child):e=Ha(e,n,f),e}function Zg(e,n,r,l){return Xo(),n.flags|=256,on(e,n,r,l),n.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pd(e){return{baseLanes:e,cachePool:Ih()}}function Ud(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Dn),e}function Jg(e,n,r){var l=n.pendingProps,f=!1,v=(n.flags&128)!==0,j;if((j=v)||(j=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),j&&(f=!0,n.flags&=-129),j=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ze){if(f?go(n):vo(),(e=bt)?(e=ix(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:lo!==null?{id:ma,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},r=Ah(e),r.return=n,n.child=r,nn=n,bt=null)):e=null,e===null)throw uo(n);return wf(e)?n.lanes=32:n.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(vo(),f=n.mode,A=_l({mode:"hidden",children:A},f),l=Vo(l,f,r,null),A.return=n,l.return=n,A.sibling=l,n.child=A,l=n.child,l.memoizedState=Pd(r),l.childLanes=Ud(e,j,r),n.memoizedState=Ld,Qs(null,l)):(go(n),Hd(n,A))}var B=e.memoizedState;if(B!==null&&(A=B.dehydrated,A!==null)){if(v)n.flags&256?(go(n),n.flags&=-257,n=Bd(e,n,r)):n.memoizedState!==null?(vo(),n.child=e.child,n.flags|=128,n=null):(vo(),A=l.fallback,f=n.mode,l=_l({mode:"visible",children:l.children},f),A=Vo(A,f,r,null),A.flags|=2,l.return=n,A.return=n,l.sibling=A,n.child=l,er(n,e.child,null,r),l=n.child,l.memoizedState=Pd(r),l.childLanes=Ud(e,j,r),n.memoizedState=Ld,n=Qs(null,l));else if(go(n),wf(A)){if(j=A.nextSibling&&A.nextSibling.dataset,j)var J=j.dgst;j=J,l=Error(s(419)),l.stack="",l.digest=j,Hs({value:l,source:null,stack:null}),n=Bd(e,n,r)}else if(Gt||Lr(e,n,r,!1),j=(r&e.childLanes)!==0,Gt||j){if(j=xt,j!==null&&(l=Jn(j,r),l!==0&&l!==B.retryLane))throw B.retryLane=l,Yo(e,l),Sn(j,e,l),Od;bf(A)||Hl(),n=Bd(e,n,r)}else bf(A)?(n.flags|=192,n.child=e.child,n=null):(e=B.treeContext,bt=Yn(A.nextSibling),nn=n,Ze=!0,co=null,Fn=!1,e!==null&&zh(n,e),n=Hd(n,l.children),n.flags|=4096);return n}return f?(vo(),A=l.fallback,f=n.mode,B=e.child,J=B.sibling,l=ka(B,{mode:"hidden",children:l.children}),l.subtreeFlags=B.subtreeFlags&65011712,J!==null?A=ka(J,A):(A=Vo(A,f,r,null),A.flags|=2),A.return=n,l.return=n,l.sibling=A,n.child=l,Qs(null,l),l=n.child,A=e.child.memoizedState,A===null?A=Pd(r):(f=A.cachePool,f!==null?(B=qt._currentValue,f=f.parent!==B?{parent:B,pool:B}:f):f=Ih(),A={baseLanes:A.baseLanes|r,cachePool:f}),l.memoizedState=A,l.childLanes=Ud(e,j,r),n.memoizedState=Ld,Qs(e.child,l)):(go(n),r=e.child,e=r.sibling,r=ka(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(j=n.deletions,j===null?(n.deletions=[e],n.flags|=16):j.push(e)),n.child=r,n.memoizedState=null,r)}function Hd(e,n){return n=_l({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function _l(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function Bd(e,n,r){return er(n,e.child,null,r),e=Hd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ev(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),td(e.return,n,r)}function Id(e,n,r,l,f,v){var j=e.memoizedState;j===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:f,treeForkCount:v}:(j.isBackwards=n,j.rendering=null,j.renderingStartTime=0,j.last=l,j.tail=r,j.tailMode=f,j.treeForkCount=v)}function tv(e,n,r){var l=n.pendingProps,f=l.revealOrder,v=l.tail;l=l.children;var j=Lt.current,A=(j&2)!==0;if(A?(j=j&1|2,n.flags|=128):j&=1,ne(Lt,j),on(e,n,l,r),l=Ze?Us:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ev(e,r,n);else if(e.tag===19)ev(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&xl(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),Id(n,!1,f,r,v,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&xl(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}Id(n,!0,r,null,v,l);break;case"together":Id(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ha(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),bo|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Lr(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=ka(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=ka(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function $d(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ul(e)))}function eN(e,n,r){switch(n.tag){case 3:ge(n,n.stateNode.containerInfo),fo(n,qt,e.memoizedState.cache),Xo();break;case 27:case 5:Re(n);break;case 4:ge(n,n.stateNode.containerInfo);break;case 10:fo(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(go(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jg(e,n,r):(go(n),e=Ha(e,n,r),e!==null?e.sibling:null);go(n);break;case 19:var f=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Lr(e,n,r,!1),l=(r&n.childLanes)!==0),f){if(l)return tv(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ne(Lt,Lt.current),l)break;return null;case 22:return n.lanes=0,Vg(e,n,r,n.pendingProps);case 24:fo(n,qt,e.memoizedState.cache)}return Ha(e,n,r)}function nv(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Gt=!0;else{if(!$d(e,r)&&(n.flags&128)===0)return Gt=!1,eN(e,n,r);Gt=(e.flags&131072)!==0}else Gt=!1,Ze&&(n.flags&1048576)!==0&&Oh(n,Us,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Zo(n.elementType),n.type=e,typeof e=="function")Vu(e)?(l=nr(e,l),n.tag=1,n=Qg(null,n,e,l,r)):(n.tag=0,n=zd(null,n,e,l,r));else{if(e!=null){var f=e.$$typeof;if(f===D){n.tag=11,n=Fg(null,n,e,l,r);break e}else if(f===M){n.tag=14,n=Gg(null,n,e,l,r);break e}}throw n=F(e)||e,Error(s(306,n,""))}}return n;case 0:return zd(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,f=nr(l,n.pendingProps),Qg(e,n,l,f,r);case 3:e:{if(ge(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var v=n.memoizedState;f=v.element,ld(e,n),Ys(n,l,null,r);var j=n.memoizedState;if(l=j.cache,fo(n,qt,l),l!==v.cache&&nd(n,[qt],r,!0),Gs(),l=j.element,v.isDehydrated)if(v={element:l,isDehydrated:!1,cache:j.cache},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){n=Zg(e,n,l,r);break e}else if(l!==f){f=In(Error(s(424)),n),Hs(f),n=Zg(e,n,l,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,bt=Yn(e.firstChild),nn=n,Ze=!0,co=null,Fn=!0,r=Vh(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xo(),l===f){n=Ha(e,n,r);break e}on(e,n,l,r)}n=n.child}return n;case 26:return Ml(e,n),e===null?(r=px(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ze||(r=n.type,e=n.pendingProps,l=Yl(ue.current).createElement(r),l[De]=n,l[He]=e,rn(l,r,e),Dt(l),n.stateNode=l):n.memoizedState=px(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Re(n),e===null&&Ze&&(l=n.stateNode=ux(n.type,n.pendingProps,ue.current),nn=n,Fn=!0,f=bt,Eo(n.type)?(Sf=f,bt=Yn(l.firstChild)):bt=f),on(e,n,n.pendingProps.children,r),Ml(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ze&&((f=l=bt)&&(l=_N(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,nn=n,bt=Yn(l.firstChild),Fn=!1,f=!0):f=!1),f||uo(n)),Re(n),f=n.type,v=n.pendingProps,j=e!==null?e.memoizedProps:null,l=v.children,vf(f,v)?l=null:j!==null&&vf(f,j)&&(n.flags|=32),n.memoizedState!==null&&(f=hd(e,n,G2,null,null,r),fi._currentValue=f),Ml(e,n),on(e,n,l,r),n.child;case 6:return e===null&&Ze&&((e=r=bt)&&(r=DN(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,nn=n,bt=null,e=!0):e=!1),e||uo(n)),null;case 13:return Jg(e,n,r);case 4:return ge(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=er(n,null,l,r):on(e,n,l,r),n.child;case 11:return Fg(e,n,n.type,n.pendingProps,r);case 7:return on(e,n,n.pendingProps,r),n.child;case 8:return on(e,n,n.pendingProps.children,r),n.child;case 12:return on(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,fo(n,n.type,l.value),on(e,n,l.children,r),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Wo(n),f=an(f),l=l(f),n.flags|=1,on(e,n,l,r),n.child;case 14:return Gg(e,n,n.type,n.pendingProps,r);case 15:return Yg(e,n,n.type,n.pendingProps,r);case 19:return tv(e,n,r);case 31:return J2(e,n,r);case 22:return Vg(e,n,r,n.pendingProps);case 24:return Wo(n),l=an(qt),e===null?(f=rd(),f===null&&(f=xt,v=ad(),f.pooledCache=v,v.refCount++,v!==null&&(f.pooledCacheLanes|=r),f=v),n.memoizedState={parent:l,cache:f},id(n),fo(n,qt,f)):((e.lanes&r)!==0&&(ld(e,n),Ys(n,null,null,r),Gs()),f=e.memoizedState,v=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),fo(n,qt,l)):(l=v.cache,fo(n,qt,l),l!==f.cache&&nd(n,[qt],r,!0))),on(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ba(e){e.flags|=4}function qd(e,n,r,l,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Mv())e.flags|=8192;else throw Jo=ml,sd}else e.flags&=-16777217}function av(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!xx(n))if(Mv())e.flags|=8192;else throw Jo=ml,sd}function Dl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wt():536870912,e.lanes|=n,Xr|=n)}function Zs(e,n){if(!Ze)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function tN(e,n,r){var l=n.pendingProps;switch(Qu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),La(qt),ve(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zr(n)?Ba(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ju())),wt(n),null;case 26:var f=n.type,v=n.memoizedState;return e===null?(Ba(n),v!==null?(wt(n),av(n,v)):(wt(n),qd(n,f,null,l,r))):v?v!==e.memoizedState?(Ba(n),wt(n),av(n,v)):(wt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ba(n),wt(n),qd(n,f,e,l,r)),null;case 27:if(ye(n),r=ue.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ba(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return wt(n),null}e=se.current,zr(n)?Lh(n):(e=ux(f,l,r),n.stateNode=e,Ba(n))}return wt(n),null;case 5:if(ye(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ba(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return wt(n),null}if(v=se.current,zr(n))Lh(n);else{var j=Yl(ue.current);switch(v){case 1:v=j.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:v=j.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":v=j.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":v=j.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":v=j.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof l.is=="string"?j.createElement("select",{is:l.is}):j.createElement("select"),l.multiple?v.multiple=!0:l.size&&(v.size=l.size);break;default:v=typeof l.is=="string"?j.createElement(f,{is:l.is}):j.createElement(f)}}v[De]=n,v[He]=l;e:for(j=n.child;j!==null;){if(j.tag===5||j.tag===6)v.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===n)break e;for(;j.sibling===null;){if(j.return===null||j.return===n)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}n.stateNode=v;e:switch(rn(v,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ba(n)}}return wt(n),qd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ba(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=ue.current,zr(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[De]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Jv(e.nodeValue,r)),e||uo(n,!0)}else e=Yl(e).createTextNode(l),e[De]=n,n.stateNode=e}return wt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=zr(n),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[De]=n}else Xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),e=!1}else r=Ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return wt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=zr(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[De]=n}else Xo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),f=!1}else f=Ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==f&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Dl(n,n.updateQueue),wt(n),null);case 4:return ve(),e===null&&ff(n.stateNode.containerInfo),wt(n),null;case 10:return La(n.type),wt(n),null;case 19:if(K(Lt),l=n.memoizedState,l===null)return wt(n),null;if(f=(n.flags&128)!==0,v=l.rendering,v===null)if(f)Zs(l,!1);else{if(kt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=xl(e),v!==null){for(n.flags|=128,Zs(l,!1),e=v.updateQueue,n.updateQueue=e,Dl(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Dh(r,e),r=r.sibling;return ne(Lt,Lt.current&1|2),Ze&&Oa(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&It()>Ll&&(n.flags|=128,f=!0,Zs(l,!1),n.lanes=4194304)}else{if(!f)if(e=xl(v),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Dl(n,e),Zs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!v.alternate&&!Ze)return wt(n),null}else 2*It()-l.renderingStartTime>Ll&&r!==536870912&&(n.flags|=128,f=!0,Zs(l,!1),n.lanes=4194304);l.isBackwards?(v.sibling=n.child,n.child=v):(e=l.last,e!==null?e.sibling=v:n.child=v,l.last=v)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=It(),e.sibling=null,r=Lt.current,ne(Lt,f?r&1|2:r&1),Ze&&Oa(n,l.treeForkCount),e):(wt(n),null);case 22:case 23:return Mn(n),fd(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),r=n.updateQueue,r!==null&&Dl(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&K(Qo),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),La(qt),wt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function nN(e,n){switch(Qu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return La(qt),ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ye(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(s(340));Xo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Xo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Lt),null;case 4:return ve(),null;case 10:return La(n.type),null;case 22:case 23:return Mn(n),fd(),e!==null&&K(Qo),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return La(qt),null;case 25:return null;default:return null}}function ov(e,n){switch(Qu(n),n.tag){case 3:La(qt),ve();break;case 26:case 27:case 5:ye(n);break;case 4:ve();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:K(Lt);break;case 10:La(n.type);break;case 22:case 23:Mn(n),fd(),e!==null&&K(Qo);break;case 24:La(qt)}}function Js(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var f=l.next;r=f;do{if((r.tag&e)===e){l=void 0;var v=r.create,j=r.inst;l=v(),j.destroy=l}r=r.next}while(r!==f)}}catch(A){dt(n,n.return,A)}}function xo(e,n,r){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&e)===e){var j=l.inst,A=j.destroy;if(A!==void 0){j.destroy=void 0,f=n;var B=r,J=A;try{J()}catch(re){dt(f,B,re)}}}l=l.next}while(l!==v)}}catch(re){dt(n,n.return,re)}}function rv(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Kh(n,r)}catch(l){dt(e,e.return,l)}}}function sv(e,n,r){r.props=nr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){dt(e,n,l)}}function ei(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(f){dt(e,n,f)}}function ga(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(f){dt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){dt(e,n,f)}else r.current=null}function iv(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(f){dt(e,e.return,f)}}function Fd(e,n,r){try{var l=e.stateNode;NN(l,e.type,r,n),l[He]=n}catch(f){dt(e,e.return,f)}}function lv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Eo(e.type)||e.tag===4}function Gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Eo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yd(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Da));else if(l!==4&&(l===27&&Eo(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Yd(e,n,r),e=e.sibling;e!==null;)Yd(e,n,r),e=e.sibling}function Al(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Eo(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Al(e,n,r),e=e.sibling;e!==null;)Al(e,n,r),e=e.sibling}function cv(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);rn(n,l,r),n[De]=e,n[He]=r}catch(v){dt(e,e.return,v)}}var Ia=!1,Yt=!1,Vd=!1,uv=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function aN(e,n){if(e=e.containerInfo,hf=Jl,e=Sh(e),Bu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var f=l.anchorOffset,v=l.focusNode;l=l.focusOffset;try{r.nodeType,v.nodeType}catch{r=null;break e}var j=0,A=-1,B=-1,J=0,re=0,le=e,ee=null;t:for(;;){for(var te;le!==r||f!==0&&le.nodeType!==3||(A=j+f),le!==v||l!==0&&le.nodeType!==3||(B=j+l),le.nodeType===3&&(j+=le.nodeValue.length),(te=le.firstChild)!==null;)ee=le,le=te;for(;;){if(le===e)break t;if(ee===r&&++J===f&&(A=j),ee===v&&++re===l&&(B=j),(te=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=te}r=A===-1||B===-1?null:{start:A,end:B}}else r=null}r=r||{start:0,end:0}}else r=null;for(gf={focusedElem:e,selectionRange:r},Jl=!1,Jt=n;Jt!==null;)if(n=Jt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Jt=e;else for(;Jt!==null;){switch(n=Jt,v=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,r=n,f=v.memoizedProps,v=v.memoizedState,l=r.stateNode;try{var be=nr(r.type,f);e=l.getSnapshotBeforeUpdate(be,v),l.__reactInternalSnapshotBeforeUpdate=e}catch(_e){dt(r,r.return,_e)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)yf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Jt=e;break}Jt=n.return}}function dv(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:qa(e,r),l&4&&Js(5,r);break;case 1:if(qa(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(j){dt(r,r.return,j)}else{var f=nr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(j){dt(r,r.return,j)}}l&64&&rv(r),l&512&&ei(r,r.return);break;case 3:if(qa(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Kh(e,n)}catch(j){dt(r,r.return,j)}}break;case 27:n===null&&l&4&&cv(r);case 26:case 5:qa(e,r),n===null&&l&4&&iv(r),l&512&&ei(r,r.return);break;case 12:qa(e,r);break;case 31:qa(e,r),l&4&&mv(e,r);break;case 13:qa(e,r),l&4&&hv(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=fN.bind(null,r),AN(e,r))));break;case 22:if(l=r.memoizedState!==null||Ia,!l){n=n!==null&&n.memoizedState!==null||Yt,f=Ia;var v=Yt;Ia=l,(Yt=n)&&!v?Fa(e,r,(r.subtreeFlags&8772)!==0):qa(e,r),Ia=f,Yt=v}break;case 30:break;default:qa(e,r)}}function fv(e){var n=e.alternate;n!==null&&(e.alternate=null,fv(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&so(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nt=null,xn=!1;function $a(e,n,r){for(r=r.child;r!==null;)pv(e,n,r),r=r.sibling}function pv(e,n,r){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(_t,r)}catch{}switch(r.tag){case 26:Yt||ga(r,n),$a(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Yt||ga(r,n);var l=Nt,f=xn;Eo(r.type)&&(Nt=r.stateNode,xn=!1),$a(e,n,r),ci(r.stateNode),Nt=l,xn=f;break;case 5:Yt||ga(r,n);case 6:if(l=Nt,f=xn,Nt=null,$a(e,n,r),Nt=l,xn=f,Nt!==null)if(xn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(r.stateNode)}catch(v){dt(r,n,v)}else try{Nt.removeChild(r.stateNode)}catch(v){dt(r,n,v)}break;case 18:Nt!==null&&(xn?(e=Nt,rx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ns(e)):rx(Nt,r.stateNode));break;case 4:l=Nt,f=xn,Nt=r.stateNode.containerInfo,xn=!0,$a(e,n,r),Nt=l,xn=f;break;case 0:case 11:case 14:case 15:xo(2,r,n),Yt||xo(4,r,n),$a(e,n,r);break;case 1:Yt||(ga(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&sv(r,n,l)),$a(e,n,r);break;case 21:$a(e,n,r);break;case 22:Yt=(l=Yt)||r.memoizedState!==null,$a(e,n,r),Yt=l;break;default:$a(e,n,r)}}function mv(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ns(e)}catch(r){dt(n,n.return,r)}}}function hv(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ns(e)}catch(r){dt(n,n.return,r)}}function oN(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new uv),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new uv),n;default:throw Error(s(435,e.tag))}}function kl(e,n){var r=oN(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var f=pN.bind(null,e,l);l.then(f,f)}})}function yn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var f=r[l],v=e,j=n,A=j;e:for(;A!==null;){switch(A.tag){case 27:if(Eo(A.type)){Nt=A.stateNode,xn=!1;break e}break;case 5:Nt=A.stateNode,xn=!1;break e;case 3:case 4:Nt=A.stateNode.containerInfo,xn=!0;break e}A=A.return}if(Nt===null)throw Error(s(160));pv(v,j,f),Nt=null,xn=!1,v=f.alternate,v!==null&&(v.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gv(n,e),n=n.sibling}var aa=null;function gv(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(n,e),bn(e),l&4&&(xo(3,e,e.return),Js(3,e),xo(5,e,e.return));break;case 1:yn(n,e),bn(e),l&512&&(Yt||r===null||ga(r,r.return)),l&64&&Ia&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var f=aa;if(yn(n,e),bn(e),l&512&&(Yt||r===null||ga(r,r.return)),l&4){var v=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":v=f.getElementsByTagName("title")[0],(!v||v[ea]||v[De]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=f.createElement(l),f.head.insertBefore(v,f.querySelector("head > title"))),rn(v,l,r),v[De]=e,Dt(v),l=v;break e;case"link":var j=gx("link","href",f).get(l+(r.href||""));if(j){for(var A=0;A<j.length;A++)if(v=j[A],v.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&v.getAttribute("rel")===(r.rel==null?null:r.rel)&&v.getAttribute("title")===(r.title==null?null:r.title)&&v.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){j.splice(A,1);break t}}v=f.createElement(l),rn(v,l,r),f.head.appendChild(v);break;case"meta":if(j=gx("meta","content",f).get(l+(r.content||""))){for(A=0;A<j.length;A++)if(v=j[A],v.getAttribute("content")===(r.content==null?null:""+r.content)&&v.getAttribute("name")===(r.name==null?null:r.name)&&v.getAttribute("property")===(r.property==null?null:r.property)&&v.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&v.getAttribute("charset")===(r.charSet==null?null:r.charSet)){j.splice(A,1);break t}}v=f.createElement(l),rn(v,l,r),f.head.appendChild(v);break;default:throw Error(s(468,l))}v[De]=e,Dt(v),l=v}e.stateNode=l}else vx(f,e.type,e.stateNode);else e.stateNode=hx(f,l,e.memoizedProps);else v!==l?(v===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):v.count--,l===null?vx(f,e.type,e.stateNode):hx(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Fd(e,e.memoizedProps,r.memoizedProps)}break;case 27:yn(n,e),bn(e),l&512&&(Yt||r===null||ga(r,r.return)),r!==null&&l&4&&Fd(e,e.memoizedProps,r.memoizedProps);break;case 5:if(yn(n,e),bn(e),l&512&&(Yt||r===null||ga(r,r.return)),e.flags&32){f=e.stateNode;try{Er(f,"")}catch(be){dt(e,e.return,be)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Fd(e,f,r!==null?r.memoizedProps:f)),l&1024&&(Vd=!0);break;case 6:if(yn(n,e),bn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(be){dt(e,e.return,be)}}break;case 3:if(Kl=null,f=aa,aa=Vl(n.containerInfo),yn(n,e),aa=f,bn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ns(n.containerInfo)}catch(be){dt(e,e.return,be)}Vd&&(Vd=!1,vv(e));break;case 4:l=aa,aa=Vl(e.stateNode.containerInfo),yn(n,e),bn(e),aa=l;break;case 12:yn(n,e),bn(e);break;case 31:yn(n,e),bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kl(e,l)));break;case 13:yn(n,e),bn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zl=It()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kl(e,l)));break;case 22:f=e.memoizedState!==null;var B=r!==null&&r.memoizedState!==null,J=Ia,re=Yt;if(Ia=J||f,Yt=re||B,yn(n,e),Yt=re,Ia=J,bn(e),l&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||B||Ia||Yt||ar(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){B=r=n;try{if(v=B.stateNode,f)j=v.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{A=B.stateNode;var le=B.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(be){dt(B,B.return,be)}}}else if(n.tag===6){if(r===null){B=n;try{B.stateNode.nodeValue=f?"":B.memoizedProps}catch(be){dt(B,B.return,be)}}}else if(n.tag===18){if(r===null){B=n;try{var te=B.stateNode;f?sx(te,!0):sx(B.stateNode,!1)}catch(be){dt(B,B.return,be)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,kl(e,r))));break;case 19:yn(n,e),bn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kl(e,l)));break;case 30:break;case 21:break;default:yn(n,e),bn(e)}}function bn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(lv(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,v=Gd(e);Al(e,v,f);break;case 5:var j=r.stateNode;r.flags&32&&(Er(j,""),r.flags&=-33);var A=Gd(e);Al(e,A,j);break;case 3:case 4:var B=r.stateNode.containerInfo,J=Gd(e);Yd(e,J,B);break;default:throw Error(s(161))}}catch(re){dt(e,e.return,re)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function vv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;vv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dv(e,n.alternate,n),n=n.sibling}function ar(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xo(4,n,n.return),ar(n);break;case 1:ga(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sv(n,n.return,r),ar(n);break;case 27:ci(n.stateNode);case 26:case 5:ga(n,n.return),ar(n);break;case 22:n.memoizedState===null&&ar(n);break;case 30:ar(n);break;default:ar(n)}e=e.sibling}}function Fa(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,v=n,j=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(f,v,r),Js(4,v);break;case 1:if(Fa(f,v,r),l=v,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){dt(l,l.return,J)}if(l=v,f=l.updateQueue,f!==null){var A=l.stateNode;try{var B=f.shared.hiddenCallbacks;if(B!==null)for(f.shared.hiddenCallbacks=null,f=0;f<B.length;f++)Xh(B[f],A)}catch(J){dt(l,l.return,J)}}r&&j&64&&rv(v),ei(v,v.return);break;case 27:cv(v);case 26:case 5:Fa(f,v,r),r&&l===null&&j&4&&iv(v),ei(v,v.return);break;case 12:Fa(f,v,r);break;case 31:Fa(f,v,r),r&&j&4&&mv(f,v);break;case 13:Fa(f,v,r),r&&j&4&&hv(f,v);break;case 22:v.memoizedState===null&&Fa(f,v,r),ei(v,v.return);break;case 30:break;default:Fa(f,v,r)}n=n.sibling}}function Xd(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Bs(r))}function Kd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bs(e))}function oa(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xv(e,n,r,l),n=n.sibling}function xv(e,n,r,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:oa(e,n,r,l),f&2048&&Js(9,n);break;case 1:oa(e,n,r,l);break;case 3:oa(e,n,r,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bs(e)));break;case 12:if(f&2048){oa(e,n,r,l),e=n.stateNode;try{var v=n.memoizedProps,j=v.id,A=v.onPostCommit;typeof A=="function"&&A(j,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(B){dt(n,n.return,B)}}else oa(e,n,r,l);break;case 31:oa(e,n,r,l);break;case 13:oa(e,n,r,l);break;case 23:break;case 22:v=n.stateNode,j=n.alternate,n.memoizedState!==null?v._visibility&2?oa(e,n,r,l):ti(e,n):v._visibility&2?oa(e,n,r,l):(v._visibility|=2,Gr(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Xd(j,n);break;case 24:oa(e,n,r,l),f&2048&&Kd(n.alternate,n);break;default:oa(e,n,r,l)}}function Gr(e,n,r,l,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var v=e,j=n,A=r,B=l,J=j.flags;switch(j.tag){case 0:case 11:case 15:Gr(v,j,A,B,f),Js(8,j);break;case 23:break;case 22:var re=j.stateNode;j.memoizedState!==null?re._visibility&2?Gr(v,j,A,B,f):ti(v,j):(re._visibility|=2,Gr(v,j,A,B,f)),f&&J&2048&&Xd(j.alternate,j);break;case 24:Gr(v,j,A,B,f),f&&J&2048&&Kd(j.alternate,j);break;default:Gr(v,j,A,B,f)}n=n.sibling}}function ti(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,f=l.flags;switch(l.tag){case 22:ti(r,l),f&2048&&Xd(l.alternate,l);break;case 24:ti(r,l),f&2048&&Kd(l.alternate,l);break;default:ti(r,l)}n=n.sibling}}var ni=8192;function Yr(e,n,r){if(e.subtreeFlags&ni)for(e=e.child;e!==null;)yv(e,n,r),e=e.sibling}function yv(e,n,r){switch(e.tag){case 26:Yr(e,n,r),e.flags&ni&&e.memoizedState!==null&&FN(r,aa,e.memoizedState,e.memoizedProps);break;case 5:Yr(e,n,r);break;case 3:case 4:var l=aa;aa=Vl(e.stateNode.containerInfo),Yr(e,n,r),aa=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ni,ni=16777216,Yr(e,n,r),ni=l):Yr(e,n,r));break;default:Yr(e,n,r)}}function bv(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ai(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Jt=l,Sv(l,e)}bv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wv(e),e=e.sibling}function wv(e){switch(e.tag){case 0:case 11:case 15:ai(e),e.flags&2048&&xo(9,e,e.return);break;case 3:ai(e);break;case 12:ai(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ol(e)):ai(e);break;default:ai(e)}}function Ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Jt=l,Sv(l,e)}bv(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xo(8,n,n.return),Ol(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ol(n));break;default:Ol(n)}e=e.sibling}}function Sv(e,n){for(;Jt!==null;){var r=Jt;switch(r.tag){case 0:case 11:case 15:xo(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bs(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Jt=l;else e:for(r=e;Jt!==null;){l=Jt;var f=l.sibling,v=l.return;if(fv(l),l===r){Jt=null;break e}if(f!==null){f.return=v,Jt=f;break e}Jt=v}}}var rN={getCacheForType:function(e){var n=an(qt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return an(qt).controller.signal}},sN=typeof WeakMap=="function"?WeakMap:Map,it=0,xt=null,Fe=null,Ve=0,ut=0,_n=null,yo=!1,Vr=!1,Wd=!1,Ga=0,kt=0,bo=0,or=0,Qd=0,Dn=0,Xr=0,oi=null,wn=null,Zd=!1,zl=0,Cv=0,Ll=1/0,Pl=null,wo=null,Vt=0,So=null,Kr=null,Ya=0,Jd=0,ef=null,Nv=null,ri=0,tf=null;function An(){return(it&2)!==0&&Ve!==0?Ve&-Ve:L.T!==null?lf():Me()}function Ev(){if(Dn===0)if((Ve&536870912)===0||Ze){var e=Ma;Ma<<=1,(Ma&3932160)===0&&(Ma=262144),Dn=e}else Dn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),Dn}function Sn(e,n,r){(e===xt&&(ut===2||ut===9)||e.cancelPendingCommit!==null)&&(Wr(e,0),Co(e,Ve,Dn,!1)),zt(e,r),((it&2)===0||e!==xt)&&(e===xt&&((it&2)===0&&(or|=r),kt===4&&Co(e,Ve,Dn,!1)),va(e))}function jv(e,n,r){if((it&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Je(e,n),f=l?cN(e,n):af(e,n,!0),v=l;do{if(f===0){Vr&&!l&&Co(e,n,0,!1);break}else{if(r=e.current.alternate,v&&!iN(r)){f=af(e,n,!1),v=!1;continue}if(f===2){if(v=n,e.errorRecoveryDisabledLanes&v)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){n=j;e:{var A=e;f=oi;var B=A.current.memoizedState.isDehydrated;if(B&&(Wr(A,j).flags|=256),j=af(A,j,!1),j!==2){if(Wd&&!B){A.errorRecoveryDisabledLanes|=v,or|=v,f=4;break e}v=wn,wn=f,v!==null&&(wn===null?wn=v:wn.push.apply(wn,v))}f=j}if(v=!1,f!==2)continue}}if(f===1){Wr(e,0),Co(e,n,0,!0);break}e:{switch(l=e,v=f,v){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Co(l,n,Dn,!yo);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=zl+300-It(),10<f)){if(Co(l,n,Dn,!yo),vt(l,0,!0)!==0)break e;Ya=n,l.timeoutHandle=ax(Rv.bind(null,l,r,wn,Pl,Zd,n,Dn,or,Xr,yo,v,"Throttled",-0,0),f);break e}Rv(l,r,wn,Pl,Zd,n,Dn,or,Xr,yo,v,null,-0,0)}}break}while(!0);va(e)}function Rv(e,n,r,l,f,v,j,A,B,J,re,le,ee,te){if(e.timeoutHandle=-1,le=n.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Da},yv(n,v,le);var be=(v&62914560)===v?zl-It():(v&4194048)===v?Cv-It():0;if(be=GN(le,be),be!==null){Ya=v,e.cancelPendingCommit=be(zv.bind(null,e,n,v,r,l,f,j,A,B,re,le,null,ee,te)),Co(e,v,j,!J);return}}zv(e,n,v,r,l,f,j,A,B)}function iN(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var f=r[l],v=f.getSnapshot;f=f.value;try{if(!jn(v(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Co(e,n,r,l){n&=~Qd,n&=~or,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var v=31-at(f),j=1<<v;l[v]=-1,f&=~j}r!==0&&dn(e,r,n)}function Ul(){return(it&6)===0?(si(0),!1):!0}function nf(){if(Fe!==null){if(ut===0)var e=Fe.return;else e=Fe,za=Ko=null,xd(e),Br=null,$s=0,e=Fe;for(;e!==null;)ov(e.alternate,e),e=e.return;Fe=null}}function Wr(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,RN(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ya=0,nf(),xt=e,Fe=r=ka(e.current,null),Ve=n,ut=0,_n=null,yo=!1,Vr=Je(e,n),Wd=!1,Xr=Dn=Qd=or=bo=kt=0,wn=oi=null,Zd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-at(l),v=1<<f;n|=e[f],l&=~v}return Ga=n,rl(),r}function Tv(e,n){ze=null,L.H=Ws,n===Hr||n===pl?(n=Fh(),ut=3):n===sd?(n=Fh(),ut=4):ut=n===Od?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Fe===null&&(kt=1,Rl(e,In(n,e.current)))}function Mv(){var e=Tn.current;return e===null?!0:(Ve&4194048)===Ve?Gn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?e===Gn:!1}function _v(){var e=L.H;return L.H=Ws,e===null?Ws:e}function Dv(){var e=L.A;return L.A=rN,e}function Hl(){kt=4,yo||(Ve&4194048)!==Ve&&Tn.current!==null||(Vr=!0),(bo&134217727)===0&&(or&134217727)===0||xt===null||Co(xt,Ve,Dn,!1)}function af(e,n,r){var l=it;it|=2;var f=_v(),v=Dv();(xt!==e||Ve!==n)&&(Pl=null,Wr(e,n)),n=!1;var j=kt;e:do try{if(ut!==0&&Fe!==null){var A=Fe,B=_n;switch(ut){case 8:nf(),j=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var J=ut;if(ut=0,_n=null,Qr(e,A,B,J),r&&Vr){j=0;break e}break;default:J=ut,ut=0,_n=null,Qr(e,A,B,J)}}lN(),j=kt;break}catch(re){Tv(e,re)}while(!0);return n&&e.shellSuspendCounter++,za=Ko=null,it=l,L.H=f,L.A=v,Fe===null&&(xt=null,Ve=0,rl()),j}function lN(){for(;Fe!==null;)Av(Fe)}function cN(e,n){var r=it;it|=2;var l=_v(),f=Dv();xt!==e||Ve!==n?(Pl=null,Ll=It()+500,Wr(e,n)):Vr=Je(e,n);e:do try{if(ut!==0&&Fe!==null){n=Fe;var v=_n;t:switch(ut){case 1:ut=0,_n=null,Qr(e,n,v,1);break;case 2:case 9:if($h(v)){ut=0,_n=null,kv(n);break}n=function(){ut!==2&&ut!==9||xt!==e||(ut=7),va(e)},v.then(n,n);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:$h(v)?(ut=0,_n=null,kv(n)):(ut=0,_n=null,Qr(e,n,v,7));break;case 5:var j=null;switch(Fe.tag){case 26:j=Fe.memoizedState;case 5:case 27:var A=Fe;if(j?xx(j):A.stateNode.complete){ut=0,_n=null;var B=A.sibling;if(B!==null)Fe=B;else{var J=A.return;J!==null?(Fe=J,Bl(J)):Fe=null}break t}}ut=0,_n=null,Qr(e,n,v,5);break;case 6:ut=0,_n=null,Qr(e,n,v,6);break;case 8:nf(),kt=6;break e;default:throw Error(s(462))}}uN();break}catch(re){Tv(e,re)}while(!0);return za=Ko=null,L.H=l,L.A=f,it=r,Fe!==null?0:(xt=null,Ve=0,rl(),kt)}function uN(){for(;Fe!==null&&!Mt();)Av(Fe)}function Av(e){var n=nv(e.alternate,e,Ga);e.memoizedProps=e.pendingProps,n===null?Bl(e):Fe=n}function kv(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Wg(r,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=Wg(r,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:xd(n);default:ov(r,n),n=Fe=Dh(n,Ga),n=nv(r,n,Ga)}e.memoizedProps=e.pendingProps,n===null?Bl(e):Fe=n}function Qr(e,n,r,l){za=Ko=null,xd(n),Br=null,$s=0;var f=n.return;try{if(Z2(e,f,n,r,Ve)){kt=1,Rl(e,In(r,e.current)),Fe=null;return}}catch(v){if(f!==null)throw Fe=f,v;kt=1,Rl(e,In(r,e.current)),Fe=null;return}n.flags&32768?(Ze||l===1?e=!0:Vr||(Ve&536870912)!==0?e=!1:(yo=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ov(n,e)):Bl(n)}function Bl(e){var n=e;do{if((n.flags&32768)!==0){Ov(n,yo);return}e=n.return;var r=tN(n.alternate,n,Ga);if(r!==null){Fe=r;return}if(n=n.sibling,n!==null){Fe=n;return}Fe=n=e}while(n!==null);kt===0&&(kt=5)}function Ov(e,n){do{var r=nN(e.alternate,e);if(r!==null){r.flags&=32767,Fe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=r}while(e!==null);kt=6,Fe=null}function zv(e,n,r,l,f,v,j,A,B){e.cancelPendingCommit=null;do Il();while(Vt!==0);if((it&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(v=n.lanes|n.childLanes,v|=Gu,gn(e,r,v,j,A,B),e===xt&&(Fe=xt=null,Ve=0),Kr=n,So=e,Ya=r,Jd=v,ef=f,Nv=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mN(de,function(){return Bv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,f=H.p,H.p=2,j=it,it|=4;try{aN(e,n,r)}finally{it=j,H.p=f,L.T=l}}Vt=1,Lv(),Pv(),Uv()}}function Lv(){if(Vt===1){Vt=0;var e=So,n=Kr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=L.T,L.T=null;var l=H.p;H.p=2;var f=it;it|=4;try{gv(n,e);var v=gf,j=Sh(e.containerInfo),A=v.focusedElem,B=v.selectionRange;if(j!==A&&A&&A.ownerDocument&&wh(A.ownerDocument.documentElement,A)){if(B!==null&&Bu(A)){var J=B.start,re=B.end;if(re===void 0&&(re=J),"selectionStart"in A)A.selectionStart=J,A.selectionEnd=Math.min(re,A.value.length);else{var le=A.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),be=A.textContent.length,_e=Math.min(B.start,be),gt=B.end===void 0?_e:Math.min(B.end,be);!te.extend&&_e>gt&&(j=gt,gt=_e,_e=j);var X=bh(A,_e),G=bh(A,gt);if(X&&G&&(te.rangeCount!==1||te.anchorNode!==X.node||te.anchorOffset!==X.offset||te.focusNode!==G.node||te.focusOffset!==G.offset)){var Z=le.createRange();Z.setStart(X.node,X.offset),te.removeAllRanges(),_e>gt?(te.addRange(Z),te.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),te.addRange(Z))}}}}for(le=[],te=A;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var ie=le[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Jl=!!hf,gf=hf=null}finally{it=f,H.p=l,L.T=r}}e.current=n,Vt=2}}function Pv(){if(Vt===2){Vt=0;var e=So,n=Kr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=L.T,L.T=null;var l=H.p;H.p=2;var f=it;it|=4;try{dv(e,n.alternate,n)}finally{it=f,H.p=l,L.T=r}}Vt=3}}function Uv(){if(Vt===4||Vt===3){Vt=0,un();var e=So,n=Kr,r=Ya,l=Nv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,Kr=So=null,Hv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(wo=null),Oe(r),n=n.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(_t,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,f=H.p,H.p=2,L.T=null;try{for(var v=e.onRecoverableError,j=0;j<l.length;j++){var A=l[j];v(A.value,{componentStack:A.stack})}}finally{L.T=n,H.p=f}}(Ya&3)!==0&&Il(),va(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===tf?ri++:(ri=0,tf=e):ri=0,si(0)}}function Hv(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bs(n)))}function Il(){return Lv(),Pv(),Uv(),Bv()}function Bv(){if(Vt!==5)return!1;var e=So,n=Jd;Jd=0;var r=Oe(Ya),l=L.T,f=H.p;try{H.p=32>r?32:r,L.T=null,r=ef,ef=null;var v=So,j=Ya;if(Vt=0,Kr=So=null,Ya=0,(it&6)!==0)throw Error(s(331));var A=it;if(it|=4,wv(v.current),xv(v,v.current,j,r),it=A,si(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(_t,v)}catch{}return!0}finally{H.p=f,L.T=l,Hv(e,n)}}function Iv(e,n,r){n=In(r,n),n=kd(e.stateNode,n,2),e=ho(e,n,2),e!==null&&(zt(e,2),va(e))}function dt(e,n,r){if(e.tag===3)Iv(e,e,r);else for(;n!==null;){if(n.tag===3){Iv(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wo===null||!wo.has(l))){e=In(r,e),r=$g(2),l=ho(n,r,2),l!==null&&(qg(r,l,n,e),zt(l,2),va(l));break}}n=n.return}}function of(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new sN;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(r)||(Wd=!0,f.add(r),e=dN.bind(null,e,n,r),n.then(e,e))}function dN(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,xt===e&&(Ve&r)===r&&(kt===4||kt===3&&(Ve&62914560)===Ve&&300>It()-zl?(it&2)===0&&Wr(e,0):Qd|=r,Xr===Ve&&(Xr=0)),va(e)}function $v(e,n){n===0&&(n=Wt()),e=Yo(e,n),e!==null&&(zt(e,n),va(e))}function fN(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),$v(e,r)}function pN(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),$v(e,r)}function mN(e,n){return et(e,n)}var $l=null,Zr=null,rf=!1,ql=!1,sf=!1,No=0;function va(e){e!==Zr&&e.next===null&&(Zr===null?$l=Zr=e:Zr=Zr.next=e),ql=!0,rf||(rf=!0,gN())}function si(e,n){if(!sf&&ql){sf=!0;do for(var r=!1,l=$l;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var v=0;else{var j=l.suspendedLanes,A=l.pingedLanes;v=(1<<31-at(42|e)+1)-1,v&=f&~(j&~A),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(r=!0,Yv(l,v))}else v=Ve,v=vt(l,l===xt?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(v&3)===0||Je(l,v)||(r=!0,Yv(l,v));l=l.next}while(r);sf=!1}}function hN(){qv()}function qv(){ql=rf=!1;var e=0;No!==0&&jN()&&(e=No);for(var n=It(),r=null,l=$l;l!==null;){var f=l.next,v=Fv(l,n);v===0?(l.next=null,r===null?$l=f:r.next=f,f===null&&(Zr=r)):(r=l,(e!==0||(v&3)!==0)&&(ql=!0)),l=f}Vt!==0&&Vt!==5||si(e),No!==0&&(No=0)}function Fv(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var j=31-at(v),A=1<<j,B=f[j];B===-1?((A&r)===0||(A&l)!==0)&&(f[j]=$t(A,n)):B<=n&&(e.expiredLanes|=A),v&=~A}if(n=xt,r=Ve,r=vt(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(ut===2||ut===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Tt(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Je(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&Tt(l),Oe(r)){case 2:case 8:r=Nn;break;case 32:r=de;break;case 268435456:r=Ue;break;default:r=de}return l=Gv.bind(null,e),r=et(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&Tt(l),e.callbackPriority=2,e.callbackNode=null,2}function Gv(e,n){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Il()&&e.callbackNode!==r)return null;var l=Ve;return l=vt(e,e===xt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(jv(e,l,n),Fv(e,It()),e.callbackNode!=null&&e.callbackNode===r?Gv.bind(null,e):null)}function Yv(e,n){if(Il())return null;jv(e,n,!0)}function gN(){TN(function(){(it&6)!==0?et(Ln,hN):qv()})}function lf(){if(No===0){var e=Pr;e===0&&(e=En,En<<=1,(En&261888)===0&&(En=256)),No=e}return No}function Vv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qi(""+e)}function Xv(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function vN(e,n,r,l,f){if(n==="submit"&&r&&r.stateNode===f){var v=Vv((f[He]||null).action),j=l.submitter;j&&(n=(n=j[He]||null)?Vv(n.formAction):j.getAttribute("formAction"),n!==null&&(v=n,j=null));var A=new tl("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(No!==0){var B=j?Xv(f,j):new FormData(f);Rd(r,{pending:!0,data:B,method:f.method,action:v},null,B)}}else typeof v=="function"&&(A.preventDefault(),B=j?Xv(f,j):new FormData(f),Rd(r,{pending:!0,data:B,method:f.method,action:v},v,B))},currentTarget:f}]})}}for(var cf=0;cf<Fu.length;cf++){var uf=Fu[cf],xN=uf.toLowerCase(),yN=uf[0].toUpperCase()+uf.slice(1);na(xN,"on"+yN)}na(Eh,"onAnimationEnd"),na(jh,"onAnimationIteration"),na(Rh,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(z2,"onTransitionRun"),na(L2,"onTransitionStart"),na(P2,"onTransitionCancel"),na(Th,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$o("onBeforeInput",["compositionend","keypress","textInput","paste"]),$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ii));function Kv(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],f=l.event;l=l.listeners;e:{var v=void 0;if(n)for(var j=l.length-1;0<=j;j--){var A=l[j],B=A.instance,J=A.currentTarget;if(A=A.listener,B!==v&&f.isPropagationStopped())break e;v=A,f.currentTarget=J;try{v(f)}catch(re){ol(re)}f.currentTarget=null,v=B}else for(j=0;j<l.length;j++){if(A=l[j],B=A.instance,J=A.currentTarget,A=A.listener,B!==v&&f.isPropagationStopped())break e;v=A,f.currentTarget=J;try{v(f)}catch(re){ol(re)}f.currentTarget=null,v=B}}}}function Ge(e,n){var r=n[pt];r===void 0&&(r=n[pt]=new Set);var l=e+"__bubble";r.has(l)||(Wv(n,e,2,!1),r.add(l))}function df(e,n,r){var l=0;n&&(l|=4),Wv(r,e,l,n)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function ff(e){if(!e[Fl]){e[Fl]=!0,qm.forEach(function(r){r!=="selectionchange"&&(bN.has(r)||df(r,!1,e),df(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Fl]||(n[Fl]=!0,df("selectionchange",!1,n))}}function Wv(e,n,r,l){switch(Ex(n)){case 2:var f=XN;break;case 8:f=KN;break;default:f=Rf}r=f.bind(null,n,r,e),f=void 0,!Du||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function pf(e,n,r,l,f){var v=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var j=l.tag;if(j===3||j===4){var A=l.stateNode.containerInfo;if(A===f)break;if(j===4)for(j=l.return;j!==null;){var B=j.tag;if((B===3||B===4)&&j.stateNode.containerInfo===f)return;j=j.return}for(;A!==null;){if(j=ct(A),j===null)return;if(B=j.tag,B===5||B===6||B===26||B===27){l=v=j;continue e}A=A.parentNode}}l=l.return}th(function(){var J=v,re=Mu(r),le=[];e:{var ee=Mh.get(e);if(ee!==void 0){var te=tl,be=e;switch(e){case"keypress":if(Ji(r)===0)break e;case"keydown":case"keyup":te=p2;break;case"focusin":be="focus",te=zu;break;case"focusout":be="blur",te=zu;break;case"beforeblur":case"afterblur":te=zu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=t2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=g2;break;case Eh:case jh:case Rh:te=o2;break;case Th:te=x2;break;case"scroll":case"scrollend":te=JC;break;case"wheel":te=b2;break;case"copy":case"cut":case"paste":te=s2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=sh;break;case"toggle":case"beforetoggle":te=S2}var _e=(n&4)!==0,gt=!_e&&(e==="scroll"||e==="scrollend"),X=_e?ee!==null?ee+"Capture":null:ee;_e=[];for(var G=J,Z;G!==null;){var ie=G;if(Z=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Z===null||X===null||(ie=Ms(G,X),ie!=null&&_e.push(li(G,ie,Z))),gt)break;G=G.return}0<_e.length&&(ee=new te(ee,be,null,r,re),le.push({event:ee,listeners:_e}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",ee&&r!==Tu&&(be=r.relatedTarget||r.fromElement)&&(ct(be)||be[yt]))break e;if((te||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(be=r.relatedTarget||r.toElement,te=J,be=be?ct(be):null,be!==null&&(gt=u(be),_e=be.tag,be!==gt||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(te=null,be=J),te!==be)){if(_e=oh,ie="onMouseLeave",X="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(_e=sh,ie="onPointerLeave",X="onPointerEnter",G="pointer"),gt=te==null?ee:pa(te),Z=be==null?ee:pa(be),ee=new _e(ie,G+"leave",te,r,re),ee.target=gt,ee.relatedTarget=Z,ie=null,ct(re)===J&&(_e=new _e(X,G+"enter",be,r,re),_e.target=Z,_e.relatedTarget=gt,ie=_e),gt=ie,te&&be)t:{for(_e=wN,X=te,G=be,Z=0,ie=X;ie;ie=_e(ie))Z++;ie=0;for(var Te=G;Te;Te=_e(Te))ie++;for(;0<Z-ie;)X=_e(X),Z--;for(;0<ie-Z;)G=_e(G),ie--;for(;Z--;){if(X===G||G!==null&&X===G.alternate){_e=X;break t}X=_e(X),G=_e(G)}_e=null}else _e=null;te!==null&&Qv(le,ee,te,_e,!1),be!==null&&gt!==null&&Qv(le,gt,be,_e,!0)}}e:{if(ee=J?pa(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var ot=mh;else if(fh(ee))if(hh)ot=A2;else{ot=_2;var Ne=M2}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Ru(J.elementType)&&(ot=mh):ot=D2;if(ot&&(ot=ot(e,J))){ph(le,ot,r,re);break e}Ne&&Ne(e,ee,J),e==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&ju(ee,"number",ee.value)}switch(Ne=J?pa(J):window,e){case"focusin":(fh(Ne)||Ne.contentEditable==="true")&&(Mr=Ne,Iu=J,Ps=null);break;case"focusout":Ps=Iu=Mr=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,Ch(le,r,re);break;case"selectionchange":if(O2)break;case"keydown":case"keyup":Ch(le,r,re)}var Pe;if(Pu)e:{switch(e){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Tr?uh(e,r)&&(Xe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Xe="onCompositionStart");Xe&&(ih&&r.locale!=="ko"&&(Tr||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Tr&&(Pe=nh()):(io=re,Au="value"in io?io.value:io.textContent,Tr=!0)),Ne=Gl(J,Xe),0<Ne.length&&(Xe=new rh(Xe,e,null,r,re),le.push({event:Xe,listeners:Ne}),Pe?Xe.data=Pe:(Pe=dh(r),Pe!==null&&(Xe.data=Pe)))),(Pe=N2?E2(e,r):j2(e,r))&&(Xe=Gl(J,"onBeforeInput"),0<Xe.length&&(Ne=new rh("onBeforeInput","beforeinput",null,r,re),le.push({event:Ne,listeners:Xe}),Ne.data=Pe)),vN(le,e,J,r,re)}Kv(le,n)})}function li(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Gl(e,n){for(var r=n+"Capture",l=[];e!==null;){var f=e,v=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||v===null||(f=Ms(e,r),f!=null&&l.unshift(li(e,f,v)),f=Ms(e,n),f!=null&&l.push(li(e,f,v))),e.tag===3)return l;e=e.return}return[]}function wN(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qv(e,n,r,l,f){for(var v=n._reactName,j=[];r!==null&&r!==l;){var A=r,B=A.alternate,J=A.stateNode;if(A=A.tag,B!==null&&B===l)break;A!==5&&A!==26&&A!==27||J===null||(B=J,f?(J=Ms(r,v),J!=null&&j.unshift(li(r,J,B))):f||(J=Ms(r,v),J!=null&&j.push(li(r,J,B)))),r=r.return}j.length!==0&&e.push({event:n,listeners:j})}var SN=/\r\n?/g,CN=/\u0000|\uFFFD/g;function Zv(e){return(typeof e=="string"?e:""+e).replace(SN,`
`).replace(CN,"")}function Jv(e,n){return n=Zv(n),Zv(e)===n}function ht(e,n,r,l,f,v){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Er(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Er(e,""+l);break;case"className":Ki(e,"class",l);break;case"tabIndex":Ki(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(e,r,l);break;case"style":Jm(e,l,v);break;case"data":if(n!=="object"){Ki(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Qi(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(r==="formAction"?(n!=="input"&&ht(e,n,"name",f.name,f,null),ht(e,n,"formEncType",f.formEncType,f,null),ht(e,n,"formMethod",f.formMethod,f,null),ht(e,n,"formTarget",f.formTarget,f,null)):(ht(e,n,"encType",f.encType,f,null),ht(e,n,"method",f.method,f,null),ht(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Qi(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Da);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Qi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),Xi(e,"popover",l);break;case"xlinkActuate":_a(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_a(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_a(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_a(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_a(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_a(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_a(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_a(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_a(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=QC.get(r)||r,Xi(e,r,l))}}function mf(e,n,r,l,f,v){switch(r){case"style":Jm(e,l,v);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Er(e,l):(typeof l=="number"||typeof l=="bigint")&&Er(e,""+l);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fm.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),v=e[He]||null,v=v!=null?v[r]:null,typeof v=="function"&&e.removeEventListener(n,v,f),typeof l=="function")){typeof v!="function"&&v!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,f);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Xi(e,r,l)}}}function rn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var l=!1,f=!1,v;for(v in r)if(r.hasOwnProperty(v)){var j=r[v];if(j!=null)switch(v){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ht(e,n,v,j,r,null)}}f&&ht(e,n,"srcSet",r.srcSet,r,null),l&&ht(e,n,"src",r.src,r,null);return;case"input":Ge("invalid",e);var A=v=j=f=null,B=null,J=null;for(l in r)if(r.hasOwnProperty(l)){var re=r[l];if(re!=null)switch(l){case"name":f=re;break;case"type":j=re;break;case"checked":B=re;break;case"defaultChecked":J=re;break;case"value":v=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,n));break;default:ht(e,n,l,re,r,null)}}Km(e,v,A,B,J,j,f,!1);return;case"select":Ge("invalid",e),l=j=v=null;for(f in r)if(r.hasOwnProperty(f)&&(A=r[f],A!=null))switch(f){case"value":v=A;break;case"defaultValue":j=A;break;case"multiple":l=A;default:ht(e,n,f,A,r,null)}n=v,r=j,e.multiple=!!l,n!=null?Nr(e,!!l,n,!1):r!=null&&Nr(e,!!l,r,!0);return;case"textarea":Ge("invalid",e),v=f=l=null;for(j in r)if(r.hasOwnProperty(j)&&(A=r[j],A!=null))switch(j){case"value":l=A;break;case"defaultValue":f=A;break;case"children":v=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ht(e,n,j,A,r,null)}Qm(e,l,f,v);return;case"option":for(B in r)r.hasOwnProperty(B)&&(l=r[B],l!=null)&&(B==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ht(e,n,B,l,r,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(l=0;l<ii.length;l++)Ge(ii[l],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in r)if(r.hasOwnProperty(J)&&(l=r[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ht(e,n,J,l,r,null)}return;default:if(Ru(n)){for(re in r)r.hasOwnProperty(re)&&(l=r[re],l!==void 0&&mf(e,n,re,l,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(l=r[A],l!=null&&ht(e,n,A,l,r,null))}function NN(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,v=null,j=null,A=null,B=null,J=null,re=null;for(te in r){var le=r[te];if(r.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=le;default:l.hasOwnProperty(te)||ht(e,n,te,null,l,le)}}for(var ee in l){var te=l[ee];if(le=r[ee],l.hasOwnProperty(ee)&&(te!=null||le!=null))switch(ee){case"type":v=te;break;case"name":f=te;break;case"checked":J=te;break;case"defaultChecked":re=te;break;case"value":j=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,n));break;default:te!==le&&ht(e,n,ee,te,l,le)}}Eu(e,j,A,B,J,re,v,f);return;case"select":te=j=A=ee=null;for(v in r)if(B=r[v],r.hasOwnProperty(v)&&B!=null)switch(v){case"value":break;case"multiple":te=B;default:l.hasOwnProperty(v)||ht(e,n,v,null,l,B)}for(f in l)if(v=l[f],B=r[f],l.hasOwnProperty(f)&&(v!=null||B!=null))switch(f){case"value":ee=v;break;case"defaultValue":A=v;break;case"multiple":j=v;default:v!==B&&ht(e,n,f,v,l,B)}n=A,r=j,l=te,ee!=null?Nr(e,!!r,ee,!1):!!l!=!!r&&(n!=null?Nr(e,!!r,n,!0):Nr(e,!!r,r?[]:"",!1));return;case"textarea":te=ee=null;for(A in r)if(f=r[A],r.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ht(e,n,A,null,l,f)}for(j in l)if(f=l[j],v=r[j],l.hasOwnProperty(j)&&(f!=null||v!=null))switch(j){case"value":ee=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==v&&ht(e,n,j,f,l,v)}Wm(e,ee,te);return;case"option":for(var be in r)ee=r[be],r.hasOwnProperty(be)&&ee!=null&&!l.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:ht(e,n,be,null,l,ee));for(B in l)ee=l[B],te=r[B],l.hasOwnProperty(B)&&ee!==te&&(ee!=null||te!=null)&&(B==="selected"?e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":ht(e,n,B,ee,l,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)ee=r[_e],r.hasOwnProperty(_e)&&ee!=null&&!l.hasOwnProperty(_e)&&ht(e,n,_e,null,l,ee);for(J in l)if(ee=l[J],te=r[J],l.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,n));break;default:ht(e,n,J,ee,l,te)}return;default:if(Ru(n)){for(var gt in r)ee=r[gt],r.hasOwnProperty(gt)&&ee!==void 0&&!l.hasOwnProperty(gt)&&mf(e,n,gt,void 0,l,ee);for(re in l)ee=l[re],te=r[re],!l.hasOwnProperty(re)||ee===te||ee===void 0&&te===void 0||mf(e,n,re,ee,l,te);return}}for(var X in r)ee=r[X],r.hasOwnProperty(X)&&ee!=null&&!l.hasOwnProperty(X)&&ht(e,n,X,null,l,ee);for(le in l)ee=l[le],te=r[le],!l.hasOwnProperty(le)||ee===te||ee==null&&te==null||ht(e,n,le,ee,l,te)}function ex(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EN(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var f=r[l],v=f.transferSize,j=f.initiatorType,A=f.duration;if(v&&A&&ex(j)){for(j=0,A=f.responseEnd,l+=1;l<r.length;l++){var B=r[l],J=B.startTime;if(J>A)break;var re=B.transferSize,le=B.initiatorType;re&&ex(le)&&(B=B.responseEnd,j+=re*(B<A?1:(A-J)/(B-J)))}if(--l,n+=8*(v+j)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hf=null,gf=null;function Yl(e){return e.nodeType===9?e:e.ownerDocument}function tx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nx(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xf=null;function jN(){var e=window.event;return e&&e.type==="popstate"?e===xf?!1:(xf=e,!0):(xf=null,!1)}var ax=typeof setTimeout=="function"?setTimeout:void 0,RN=typeof clearTimeout=="function"?clearTimeout:void 0,ox=typeof Promise=="function"?Promise:void 0,TN=typeof queueMicrotask=="function"?queueMicrotask:typeof ox<"u"?function(e){return ox.resolve(null).then(e).catch(MN)}:ax;function MN(e){setTimeout(function(){throw e})}function Eo(e){return e==="head"}function rx(e,n){var r=n,l=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(f),ns(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ci(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ci(r);for(var v=r.firstChild;v;){var j=v.nextSibling,A=v.nodeName;v[ea]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=j}}else r==="body"&&ci(e.ownerDocument.body);r=f}while(r);ns(n)}function sx(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function yf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yf(r),so(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function _N(e,n,r,l){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ea])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var v=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function DN(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Yn(e.nextSibling),e===null))return null;return e}function ix(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function bf(e){return e.data==="$?"||e.data==="$~"}function wf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function AN(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Sf=null;function lx(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Yn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function cx(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function ux(e,n,r){switch(n=Yl(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ci(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);so(e)}var Vn=new Map,dx=new Set;function Vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Va=H.d;H.d={f:kN,r:ON,D:zN,C:LN,L:PN,m:UN,X:BN,S:HN,M:IN};function kN(){var e=Va.f(),n=Ul();return e||n}function ON(e){var n=fa(e);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Va.r(e)}var Jr=typeof document>"u"?null:document;function fx(e,n,r){var l=Jr;if(l&&typeof n=="string"&&n){var f=Hn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),dx.has(f)||(dx.add(f),e={rel:e,crossOrigin:r,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),rn(n,"link",e),Dt(n),l.head.appendChild(n)))}}function zN(e){Va.D(e),fx("dns-prefetch",e,null)}function LN(e,n){Va.C(e,n),fx("preconnect",e,n)}function PN(e,n,r){Va.L(e,n,r);var l=Jr;if(l&&e&&n){var f='link[rel="preload"][as="'+Hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Hn(r.imageSizes)+'"]')):f+='[href="'+Hn(e)+'"]';var v=f;switch(n){case"style":v=es(e);break;case"script":v=ts(e)}Vn.has(v)||(e=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Vn.set(v,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(ui(v))||n==="script"&&l.querySelector(di(v))||(n=l.createElement("link"),rn(n,"link",e),Dt(n),l.head.appendChild(n)))}}function UN(e,n){Va.m(e,n);var r=Jr;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Hn(l)+'"][href="'+Hn(e)+'"]',v=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ts(e)}if(!Vn.has(v)&&(e=x({rel:"modulepreload",href:e},n),Vn.set(v,e),r.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(di(v)))return}l=r.createElement("link"),rn(l,"link",e),Dt(l),r.head.appendChild(l)}}}function HN(e,n,r){Va.S(e,n,r);var l=Jr;if(l&&e){var f=ta(l).hoistableStyles,v=es(e);n=n||"default";var j=f.get(v);if(!j){var A={loading:0,preload:null};if(j=l.querySelector(ui(v)))A.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Vn.get(v))&&Cf(e,r);var B=j=l.createElement("link");Dt(B),rn(B,"link",e),B._p=new Promise(function(J,re){B.onload=J,B.onerror=re}),B.addEventListener("load",function(){A.loading|=1}),B.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Xl(j,n,l)}j={type:"stylesheet",instance:j,count:1,state:A},f.set(v,j)}}}function BN(e,n){Va.X(e,n);var r=Jr;if(r&&e){var l=ta(r).hoistableScripts,f=ts(e),v=l.get(f);v||(v=r.querySelector(di(f)),v||(e=x({src:e,async:!0},n),(n=Vn.get(f))&&Nf(e,n),v=r.createElement("script"),Dt(v),rn(v,"link",e),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(f,v))}}function IN(e,n){Va.M(e,n);var r=Jr;if(r&&e){var l=ta(r).hoistableScripts,f=ts(e),v=l.get(f);v||(v=r.querySelector(di(f)),v||(e=x({src:e,async:!0,type:"module"},n),(n=Vn.get(f))&&Nf(e,n),v=r.createElement("script"),Dt(v),rn(v,"link",e),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(f,v))}}function px(e,n,r,l){var f=(f=ue.current)?Vl(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=es(r.href),r=ta(f).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=es(r.href);var v=ta(f).hoistableStyles,j=v.get(e);if(j||(f=f.ownerDocument||f,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,j),(v=f.querySelector(ui(e)))&&!v._p&&(j.instance=v,j.state.loading=5),Vn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(e,r),v||$N(f,e,r,j.state))),n&&l===null)throw Error(s(528,""));return j}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ts(r),r=ta(f).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function es(e){return'href="'+Hn(e)+'"'}function ui(e){return'link[rel="stylesheet"]['+e+"]"}function mx(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function $N(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),rn(n,"link",r),Dt(n),e.head.appendChild(n))}function ts(e){return'[src="'+Hn(e)+'"]'}function di(e){return"script[async]"+e}function hx(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Hn(r.href)+'"]');if(l)return n.instance=l,Dt(l),l;var f=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Dt(l),rn(l,"style",f),Xl(l,r.precedence,e),n.instance=l;case"stylesheet":f=es(r.href);var v=e.querySelector(ui(f));if(v)return n.state.loading|=4,n.instance=v,Dt(v),v;l=mx(r),(f=Vn.get(f))&&Cf(l,f),v=(e.ownerDocument||e).createElement("link"),Dt(v);var j=v;return j._p=new Promise(function(A,B){j.onload=A,j.onerror=B}),rn(v,"link",l),n.state.loading|=4,Xl(v,r.precedence,e),n.instance=v;case"script":return v=ts(r.src),(f=e.querySelector(di(v)))?(n.instance=f,Dt(f),f):(l=r,(f=Vn.get(v))&&(l=x({},r),Nf(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Dt(f),rn(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Xl(l,r.precedence,e));return n.instance}function Xl(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,v=f,j=0;j<l.length;j++){var A=l[j];if(A.dataset.precedence===n)v=A;else if(v!==f)break}v?v.parentNode.insertBefore(e,v.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Cf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Kl=null;function gx(e,n,r){if(Kl===null){var l=new Map,f=Kl=new Map;f.set(r,l)}else f=Kl,l=f.get(r),l||(l=new Map,f.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var v=r[f];if(!(v[ea]||v[De]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var j=v.getAttribute(n)||"";j=e+j;var A=l.get(j);A?A.push(v):l.set(j,[v])}}return l}function vx(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function qN(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function xx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function FN(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=es(l.href),v=n.querySelector(ui(f));if(v){n=v._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Wl.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=v,Dt(v);return}v=n.ownerDocument||n,l=mx(l),(f=Vn.get(f))&&Cf(l,f),v=v.createElement("link"),Dt(v);var j=v;j._p=new Promise(function(A,B){j.onload=A,j.onerror=B}),rn(v,"link",l),r.instance=v}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Wl.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ef=0;function GN(e,n){return e.stylesheets&&e.count===0&&Zl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Zl(e,e.stylesheets),e.unsuspend){var v=e.unsuspend;e.unsuspend=null,v()}},6e4+n);0<e.imgBytes&&Ef===0&&(Ef=62500*EN());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zl(e,e.stylesheets),e.unsuspend)){var v=e.unsuspend;e.unsuspend=null,v()}},(e.imgBytes>Ef?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Wl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ql=null;function Zl(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ql=new Map,n.forEach(YN,e),Ql=null,Wl.call(e))}function YN(e,n){if(!(n.state.loading&4)){var r=Ql.get(e);if(r)var l=r.get(null);else{r=new Map,Ql.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<f.length;v++){var j=f[v];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(r.set(j.dataset.precedence,j),l=j)}l&&r.set(null,l)}f=n.instance,j=f.getAttribute("data-precedence"),v=r.get(j)||l,v===l&&r.set(null,f),r.set(j,f),this.count++,l=Wl.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),v?v.parentNode.insertBefore(f,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var fi={$$typeof:T,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function VN(e,n,r,l,f,v,j,A,B){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.hiddenUpdates=Qt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=v,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function yx(e,n,r,l,f,v,j,A,B,J,re,le){return e=new VN(e,n,r,j,B,J,re,le,A),n=1,v===!0&&(n|=24),v=Rn(3,null,null,n),e.current=v,v.stateNode=e,n=ad(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:l,isDehydrated:r,cache:n},id(v),e}function bx(e){return e?(e=Ar,e):Ar}function wx(e,n,r,l,f,v){f=bx(f),l.context===null?l.context=f:l.pendingContext=f,l=mo(n),l.payload={element:r},v=v===void 0?null:v,v!==null&&(l.callback=v),r=ho(e,l,n),r!==null&&(Sn(r,e,n),Fs(r,e,n))}function Sx(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function jf(e,n){Sx(e,n),(e=e.alternate)&&Sx(e,n)}function Cx(e){if(e.tag===13||e.tag===31){var n=Yo(e,67108864);n!==null&&Sn(n,e,67108864),jf(e,67108864)}}function Nx(e){if(e.tag===13||e.tag===31){var n=An();n=Ce(n);var r=Yo(e,n);r!==null&&Sn(r,e,n),jf(e,n)}}var Jl=!0;function XN(e,n,r,l){var f=L.T;L.T=null;var v=H.p;try{H.p=2,Rf(e,n,r,l)}finally{H.p=v,L.T=f}}function KN(e,n,r,l){var f=L.T;L.T=null;var v=H.p;try{H.p=8,Rf(e,n,r,l)}finally{H.p=v,L.T=f}}function Rf(e,n,r,l){if(Jl){var f=Tf(l);if(f===null)pf(e,n,l,ec,r),jx(e,l);else if(QN(f,e,n,r,l))l.stopPropagation();else if(jx(e,l),n&4&&-1<WN.indexOf(e)){for(;f!==null;){var v=fa(f);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var j=$e(v.pendingLanes);if(j!==0){var A=v;for(A.pendingLanes|=2,A.entangledLanes|=2;j;){var B=1<<31-at(j);A.entanglements[1]|=B,j&=~B}va(v),(it&6)===0&&(Ll=It()+500,si(0))}}break;case 31:case 13:A=Yo(v,2),A!==null&&Sn(A,v,2),Ul(),jf(v,2)}if(v=Tf(l),v===null&&pf(e,n,l,ec,r),v===f)break;f=v}f!==null&&l.stopPropagation()}else pf(e,n,l,null,r)}}function Tf(e){return e=Mu(e),Mf(e)}var ec=null;function Mf(e){if(ec=null,e=ct(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ec=e,null}function Ex(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hn()){case Ln:return 2;case Nn:return 8;case de:case xe:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var _f=!1,jo=null,Ro=null,To=null,pi=new Map,mi=new Map,Mo=[],WN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jx(e,n){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":pi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(n.pointerId)}}function hi(e,n,r,l,f,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:v,targetContainers:[f]},n!==null&&(n=fa(n),n!==null&&Cx(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function QN(e,n,r,l,f){switch(n){case"focusin":return jo=hi(jo,e,n,r,l,f),!0;case"dragenter":return Ro=hi(Ro,e,n,r,l,f),!0;case"mouseover":return To=hi(To,e,n,r,l,f),!0;case"pointerover":var v=f.pointerId;return pi.set(v,hi(pi.get(v)||null,e,n,r,l,f)),!0;case"gotpointercapture":return v=f.pointerId,mi.set(v,hi(mi.get(v)||null,e,n,r,l,f)),!0}return!1}function Rx(e){var n=ct(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Qe(e.priority,function(){Nx(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Qe(e.priority,function(){Nx(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Tf(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Tu=l,r.target.dispatchEvent(l),Tu=null}else return n=fa(r),n!==null&&Cx(n),e.blockedOn=r,!1;n.shift()}return!0}function Tx(e,n,r){tc(e)&&r.delete(n)}function ZN(){_f=!1,jo!==null&&tc(jo)&&(jo=null),Ro!==null&&tc(Ro)&&(Ro=null),To!==null&&tc(To)&&(To=null),pi.forEach(Tx),mi.forEach(Tx)}function nc(e,n){e.blockedOn===n&&(e.blockedOn=null,_f||(_f=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZN)))}var ac=null;function Mx(e){ac!==e&&(ac=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(Mf(l||r)===null)continue;break}var v=fa(r);v!==null&&(e.splice(n,3),n-=3,Rd(v,{pending:!0,data:f,method:r.method,action:l},l,f))}}))}function ns(e){function n(B){return nc(B,e)}jo!==null&&nc(jo,e),Ro!==null&&nc(Ro,e),To!==null&&nc(To,e),pi.forEach(n),mi.forEach(n);for(var r=0;r<Mo.length;r++){var l=Mo[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Mo.length&&(r=Mo[0],r.blockedOn===null);)Rx(r),r.blockedOn===null&&Mo.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var f=r[l],v=r[l+1],j=f[He]||null;if(typeof v=="function")j||Mx(r);else if(j){var A=null;if(v&&v.hasAttribute("formAction")){if(f=v,j=v[He]||null)A=j.formAction;else if(Mf(f)!==null)continue}else A=j.action;typeof A=="function"?r[l+1]=A:(r.splice(l,3),l-=3),Mx(r)}}}function _x(){function e(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(j){return f=j})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Df(e){this._internalRoot=e}oc.prototype.render=Df.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=An();wx(r,l,e,n,null,null)},oc.prototype.unmount=Df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;wx(e.current,2,null,e,null,null),Ul(),n[yt]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Me();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Mo.length&&n!==0&&n<Mo[r].priority;r++);Mo.splice(r,0,e),r===0&&Rx(e)}};var Dx=a.version;if(Dx!=="19.2.4")throw Error(s(527,Dx,"19.2.4"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var JN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{_t=rc.inject(JN),ft=rc}catch{}}return vi.createRoot=function(e,n){if(!i(e))throw Error(s(299));var r=!1,l="",f=Ug,v=Hg,j=Bg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError)),n=yx(e,1,!1,null,null,r,l,null,f,v,j,_x),e[yt]=n.current,ff(e),new Df(n)},vi.hydrateRoot=function(e,n,r){if(!i(e))throw Error(s(299));var l=!1,f="",v=Ug,j=Hg,A=Bg,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(j=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(B=r.formState)),n=yx(e,1,!0,n,r??null,l,f,B,v,j,A,_x),n.context=bx(null),r=n.current,l=An(),l=Ce(l),f=mo(l),f.callback=null,ho(r,f,l),r=l,n.current.lanes=r,zt(n,r),va(n),e[yt]=n.current,ff(e),new oc(n)},vi.version="19.2.4",vi}var Ix;function cE(){if(Ix)return Of.exports;Ix=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Of.exports=lE(),Of.exports}var uE=cE();var $x="popstate";function dE(t={}){function a(s,i){let{pathname:u,search:d,hash:p}=s.location;return rp("",{pathname:u,search:d,hash:p},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function o(s,i){return typeof i=="string"?i:_i(i)}return pE(a,o,null,t)}function jt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function sa(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function fE(){return Math.random().toString(36).substring(2,10)}function qx(t,a){return{usr:t.state,key:t.key,idx:a}}function rp(t,a,o=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?xs(a):a,state:o,key:a&&a.key||s||fE()}}function _i({pathname:t="/",search:a="",hash:o=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function xs(t){let a={};if(t){let o=t.indexOf("#");o>=0&&(a.hash=t.substring(o),t=t.substring(0,o));let s=t.indexOf("?");s>=0&&(a.search=t.substring(s),t=t.substring(0,s)),t&&(a.pathname=t)}return a}function pE(t,a,o,s={}){let{window:i=document.defaultView,v5Compat:u=!1}=s,d=i.history,p="POP",h=null,m=y();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function y(){return(d.state||{idx:null}).idx}function x(){p="POP";let w=y(),S=w==null?null:w-m;m=w,h&&h({action:p,location:b.location,delta:S})}function C(w,S){p="PUSH";let R=rp(b.location,w,S);m=y()+1;let T=qx(R,m),D=b.createHref(R);try{d.pushState(T,"",D)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(D)}u&&h&&h({action:p,location:b.location,delta:1})}function N(w,S){p="REPLACE";let R=rp(b.location,w,S);m=y();let T=qx(R,m),D=b.createHref(R);d.replaceState(T,"",D),u&&h&&h({action:p,location:b.location,delta:0})}function E(w){return mE(w)}let b={get action(){return p},get location(){return t(i,d)},listen(w){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener($x,x),h=w,()=>{i.removeEventListener($x,x),h=null}},createHref(w){return a(i,w)},createURL:E,encodeLocation(w){let S=E(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:C,replace:N,go(w){return d.go(w)}};return b}function mE(t,a=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),jt(o,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:_i(t);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=o+s),new URL(s,o)}function u0(t,a,o="/"){return hE(t,a,o,!1)}function hE(t,a,o,s){let i=typeof a=="string"?xs(a):a,u=Za(i.pathname||"/",o);if(u==null)return null;let d=d0(t);gE(d);let p=null;for(let h=0;p==null&&h<d.length;++h){let m=RE(u);p=EE(d[h],m,s)}return p}function d0(t,a=[],o=[],s="",i=!1){let u=(d,p,h=i,m)=>{let y={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&h)return;jt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let x=Qa([s,y.relativePath]),C=o.concat(y);d.children&&d.children.length>0&&(jt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),d0(d.children,a,C,x,h)),!(d.path==null&&!d.index)&&a.push({path:x,score:CE(x,d.index),routesMeta:C})};return t.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let h of f0(d.path))u(d,p,!0,h)}),a}function f0(t){let a=t.split("/");if(a.length===0)return[];let[o,...s]=a,i=o.endsWith("?"),u=o.replace(/\?$/,"");if(s.length===0)return i?[u,""]:[u];let d=f0(s.join("/")),p=[];return p.push(...d.map(h=>h===""?u:[u,h].join("/"))),i&&p.push(...d),p.map(h=>t.startsWith("/")&&h===""?"/":h)}function gE(t){t.sort((a,o)=>a.score!==o.score?o.score-a.score:NE(a.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}var vE=/^:[\w-]+$/,xE=3,yE=2,bE=1,wE=10,SE=-2,Fx=t=>t==="*";function CE(t,a){let o=t.split("/"),s=o.length;return o.some(Fx)&&(s+=SE),a&&(s+=yE),o.filter(i=>!Fx(i)).reduce((i,u)=>i+(vE.test(u)?xE:u===""?bE:wE),s)}function NE(t,a){return t.length===a.length&&t.slice(0,-1).every((s,i)=>s===a[i])?t[t.length-1]-a[a.length-1]:0}function EE(t,a,o=!1){let{routesMeta:s}=t,i={},u="/",d=[];for(let p=0;p<s.length;++p){let h=s[p],m=p===s.length-1,y=u==="/"?a:a.slice(u.length)||"/",x=Tc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),C=h.route;if(!x&&m&&o&&!s[s.length-1].route.index&&(x=Tc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!x)return null;Object.assign(i,x.params),d.push({params:i,pathname:Qa([u,x.pathname]),pathnameBase:DE(Qa([u,x.pathnameBase])),route:C}),x.pathnameBase!=="/"&&(u=Qa([u,x.pathnameBase]))}return d}function Tc(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[o,s]=jE(t.path,t.caseSensitive,t.end),i=a.match(o);if(!i)return null;let u=i[0],d=u.replace(/(.)\/+$/,"$1"),p=i.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:x},C)=>{if(y==="*"){let E=p[C]||"";d=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const N=p[C];return x&&!N?m[y]=void 0:m[y]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:t}}function jE(t,a=!1,o=!0){sa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,h)=>(s.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,a?void 0:"i"),s]}function RE(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return sa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Za(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let o=a.endsWith("/")?a.length-1:a.length,s=t.charAt(o);return s&&s!=="/"?null:t.slice(o)||"/"}var TE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function ME(t,a="/"){let{pathname:o,search:s="",hash:i=""}=typeof t=="string"?xs(t):t,u;return o?(o=o.replace(/\/\/+/g,"/"),o.startsWith("/")?u=Gx(o.substring(1),"/"):u=Gx(o,a)):u=a,{pathname:u,search:AE(s),hash:kE(i)}}function Gx(t,a){let o=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?o.length>1&&o.pop():i!=="."&&o.push(i)}),o.length>1?o.join("/"):"/"}function Uf(t,a,o,s){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _E(t){return t.filter((a,o)=>o===0||a.route.path&&a.route.path.length>0)}function p0(t){let a=_E(t);return a.map((o,s)=>s===a.length-1?o.pathname:o.pathnameBase)}function m0(t,a,o,s=!1){let i;typeof t=="string"?i=xs(t):(i={...t},jt(!i.pathname||!i.pathname.includes("?"),Uf("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),Uf("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),Uf("#","search","hash",i)));let u=t===""||i.pathname==="",d=u?"/":i.pathname,p;if(d==null)p=o;else{let x=a.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),x-=1;i.pathname=C.join("/")}p=x>=0?a[x]:"/"}let h=ME(i,p),m=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var Qa=t=>t.join("/").replace(/\/\/+/g,"/"),DE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,OE=class{constructor(t,a,o,s=!1){this.status=t,this.statusText=a||"",this.internal=s,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function zE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function LE(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function g0(t,a){let o=t;if(typeof o!="string"||!TE.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let s=o,i=!1;if(h0)try{let u=new URL(window.location.href),d=o.startsWith("//")?new URL(u.protocol+o):new URL(o),p=Za(d.pathname,a);d.origin===u.origin&&p!=null?o=p+d.search+d.hash:i=!0}catch{sa(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var v0=["POST","PUT","PATCH","DELETE"];new Set(v0);var PE=["GET",...v0];new Set(PE);var ys=g.createContext(null);ys.displayName="DataRouter";var Vc=g.createContext(null);Vc.displayName="DataRouterState";var UE=g.createContext(!1),x0=g.createContext({isTransitioning:!1});x0.displayName="ViewTransition";var HE=g.createContext(new Map);HE.displayName="Fetchers";var BE=g.createContext(null);BE.displayName="Await";var Wn=g.createContext(null);Wn.displayName="Navigation";var Li=g.createContext(null);Li.displayName="Location";var oo=g.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var $p=g.createContext(null);$p.displayName="RouteError";var y0="REACT_ROUTER_ERROR",IE="REDIRECT",$E="ROUTE_ERROR_RESPONSE";function qE(t){if(t.startsWith(`${y0}:${IE}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function FE(t){if(t.startsWith(`${y0}:${$E}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new OE(a.status,a.statusText,a.data)}catch{}}function GE(t,{relative:a}={}){jt(Pi(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:s}=g.useContext(Wn),{hash:i,pathname:u,search:d}=Ui(t,{relative:a}),p=u;return o!=="/"&&(p=u==="/"?o:Qa([o,u])),s.createHref({pathname:p,search:d,hash:i})}function Pi(){return g.useContext(Li)!=null}function Uo(){return jt(Pi(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Li).location}var b0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w0(t){g.useContext(Wn).static||g.useLayoutEffect(t)}function S0(){let{isDataRoute:t}=g.useContext(oo);return t?oj():YE()}function YE(){jt(Pi(),"useNavigate() may be used only in the context of a <Router> component.");let t=g.useContext(ys),{basename:a,navigator:o}=g.useContext(Wn),{matches:s}=g.useContext(oo),{pathname:i}=Uo(),u=JSON.stringify(p0(s)),d=g.useRef(!1);return w0(()=>{d.current=!0}),g.useCallback((h,m={})=>{if(sa(d.current,b0),!d.current)return;if(typeof h=="number"){o.go(h);return}let y=m0(h,JSON.parse(u),i,m.relative==="path");t==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Qa([a,y.pathname])),(m.replace?o.replace:o.push)(y,m.state,m)},[a,o,u,i,t])}g.createContext(null);function Ui(t,{relative:a}={}){let{matches:o}=g.useContext(oo),{pathname:s}=Uo(),i=JSON.stringify(p0(o));return g.useMemo(()=>m0(t,JSON.parse(i),s,a==="path"),[t,i,s,a])}function VE(t,a){return C0(t,a)}function C0(t,a,o,s,i){jt(Pi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=g.useContext(Wn),{matches:d}=g.useContext(oo),p=d[d.length-1],h=p?p.params:{},m=p?p.pathname:"/",y=p?p.pathnameBase:"/",x=p&&p.route;{let R=x&&x.path||"";E0(m,!x||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let C=Uo(),N;if(a){let R=typeof a=="string"?xs(a):a;jt(y==="/"||R.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${R.pathname}" was given in the \`location\` prop.`),N=R}else N=C;let E=N.pathname||"/",b=E;if(y!=="/"){let R=y.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let w=u0(t,{pathname:b});sa(x||w!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),sa(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=ZE(w&&w.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:Qa([y,u.encodeLocation?u.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?y:Qa([y,u.encodeLocation?u.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),d,o,s,i);return a&&S?g.createElement(Li.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},S):S}function XE(){let t=aj(),a=zE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:u},"ErrorBoundary")," or"," ",g.createElement("code",{style:u},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},a),o?g.createElement("pre",{style:i},o):null,d)}var KE=g.createElement(XE,null),N0=class extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const o=FE(t.digest);o&&(t=o)}let a=t!==void 0?g.createElement(oo.Provider,{value:this.props.routeContext},g.createElement($p.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?g.createElement(WE,{error:t},a):a}};N0.contextType=UE;var Hf=new WeakMap;function WE({children:t,error:a}){let{basename:o}=g.useContext(Wn);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let s=qE(a.digest);if(s){let i=Hf.get(a);if(i)throw i;let u=g0(s.location,o);if(h0&&!Hf.get(a))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Hf.set(a,d),d}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function QE({routeContext:t,match:a,children:o}){let s=g.useContext(ys);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(oo.Provider,{value:t},o)}function ZE(t,a=[],o=null,s=null,i=null){if(t==null){if(!o)return null;if(o.errors)t=o.matches;else if(a.length===0&&!o.initialized&&o.matches.length>0)t=o.matches;else return null}let u=t,d=o?.errors;if(d!=null){let y=u.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);jt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,h=-1;if(o)for(let y=0;y<u.length;y++){let x=u[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=y),x.route.id){let{loaderData:C,errors:N}=o,E=x.route.loader&&!C.hasOwnProperty(x.route.id)&&(!N||N[x.route.id]===void 0);if(x.route.lazy||E){p=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let m=o&&s?(y,x)=>{s(y,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:LE(o.matches),errorInfo:x})}:void 0;return u.reduceRight((y,x,C)=>{let N,E=!1,b=null,w=null;o&&(N=d&&x.route.id?d[x.route.id]:void 0,b=x.route.errorElement||KE,p&&(h<0&&C===0?(E0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,w=null):h===C&&(E=!0,w=x.route.hydrateFallbackElement||null)));let S=a.concat(u.slice(0,C+1)),R=()=>{let T;return N?T=b:E?T=w:x.route.Component?T=g.createElement(x.route.Component,null):x.route.element?T=x.route.element:T=y,g.createElement(QE,{match:x,routeContext:{outlet:y,matches:S,isDataRoute:o!=null},children:T})};return o&&(x.route.ErrorBoundary||x.route.errorElement||C===0)?g.createElement(N0,{location:o.location,revalidation:o.revalidation,component:b,error:N,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:m}):R()},null)}function qp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(t){let a=g.useContext(ys);return jt(a,qp(t)),a}function ej(t){let a=g.useContext(Vc);return jt(a,qp(t)),a}function tj(t){let a=g.useContext(oo);return jt(a,qp(t)),a}function Fp(t){let a=tj(t),o=a.matches[a.matches.length-1];return jt(o.route.id,`${t} can only be used on routes that contain a unique "id"`),o.route.id}function nj(){return Fp("useRouteId")}function aj(){let t=g.useContext($p),a=ej("useRouteError"),o=Fp("useRouteError");return t!==void 0?t:a.errors?.[o]}function oj(){let{router:t}=JE("useNavigate"),a=Fp("useNavigate"),o=g.useRef(!1);return w0(()=>{o.current=!0}),g.useCallback(async(i,u={})=>{sa(o.current,b0),o.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:a,...u}))},[t,a])}var Yx={};function E0(t,a,o){!a&&!Yx[t]&&(Yx[t]=!0,sa(!1,o))}g.memo(rj);function rj({routes:t,future:a,state:o,onError:s}){return C0(t,void 0,o,s,a)}function sp(t){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sj({basename:t="/",children:a=null,location:o,navigationType:s="POP",navigator:i,static:u=!1,unstable_useTransitions:d}){jt(!Pi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=t.replace(/^\/*/,"/"),h=g.useMemo(()=>({basename:p,navigator:i,static:u,unstable_useTransitions:d,future:{}}),[p,i,u,d]);typeof o=="string"&&(o=xs(o));let{pathname:m="/",search:y="",hash:x="",state:C=null,key:N="default"}=o,E=g.useMemo(()=>{let b=Za(m,p);return b==null?null:{location:{pathname:b,search:y,hash:x,state:C,key:N},navigationType:s}},[p,m,y,x,C,N,s]);return sa(E!=null,`<Router basename="${p}"> is not able to match the URL "${m}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:g.createElement(Wn.Provider,{value:h},g.createElement(Li.Provider,{children:a,value:E}))}function ij({children:t,location:a}){return VE(ip(t),a)}function ip(t,a=[]){let o=[];return g.Children.forEach(t,(s,i)=>{if(!g.isValidElement(s))return;let u=[...a,i];if(s.type===g.Fragment){o.push.apply(o,ip(s.props.children,u));return}jt(s.type===sp,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=ip(s.props.children,u)),o.push(d)}),o}var Sc="get",Cc="application/x-www-form-urlencoded";function Xc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function lj(t){return Xc(t)&&t.tagName.toLowerCase()==="button"}function cj(t){return Xc(t)&&t.tagName.toLowerCase()==="form"}function uj(t){return Xc(t)&&t.tagName.toLowerCase()==="input"}function dj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fj(t,a){return t.button===0&&(!a||a==="_self")&&!dj(t)}function lp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,o)=>{let s=t[o];return a.concat(Array.isArray(s)?s.map(i=>[o,i]):[[o,s]])},[]))}function pj(t,a){let o=lp(t);return a&&a.forEach((s,i)=>{o.has(i)||a.getAll(i).forEach(u=>{o.append(i,u)})}),o}var sc=null;function mj(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var hj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bf(t){return t!=null&&!hj.has(t)?(sa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):t}function gj(t,a){let o,s,i,u,d;if(cj(t)){let p=t.getAttribute("action");s=p?Za(p,a):null,o=t.getAttribute("method")||Sc,i=Bf(t.getAttribute("enctype"))||Cc,u=new FormData(t)}else if(lj(t)||uj(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||p.getAttribute("action");if(s=h?Za(h,a):null,o=t.getAttribute("formmethod")||p.getAttribute("method")||Sc,i=Bf(t.getAttribute("formenctype"))||Bf(p.getAttribute("enctype"))||Cc,u=new FormData(p,t),!mj()){let{name:m,type:y,value:x}=t;if(y==="image"){let C=m?`${m}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else m&&u.append(m,x)}}else{if(Xc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Sc,s=null,i=Cc,d=t}return u&&i==="text/plain"&&(d=u,u=void 0),{action:s,method:o.toLowerCase(),encType:i,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function vj(t,a,o,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return o?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:a&&Za(i.pathname,a)==="/"?i.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function xj(t,a){if(t.id in a)return a[t.id];try{let o=await import(t.module);return a[t.id]=o,o}catch(o){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bj(t,a,o){let s=await Promise.all(t.map(async i=>{let u=a.routes[i.route.id];if(u){let d=await xj(u,o);return d.links?d.links():[]}return[]}));return Nj(s.flat(1).filter(yj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Vx(t,a,o,s,i,u){let d=(h,m)=>o[m]?h.route.id!==o[m].route.id:!0,p=(h,m)=>o[m].pathname!==h.pathname||o[m].route.path?.endsWith("*")&&o[m].params["*"]!==h.params["*"];return u==="assets"?a.filter((h,m)=>d(h,m)||p(h,m)):u==="data"?a.filter((h,m)=>{let y=s.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(d(h,m)||p(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function wj(t,a,{includeHydrateFallback:o}={}){return Sj(t.map(s=>{let i=a.routes[s.route.id];if(!i)return[];let u=[i.module];return i.clientActionModule&&(u=u.concat(i.clientActionModule)),i.clientLoaderModule&&(u=u.concat(i.clientLoaderModule)),o&&i.hydrateFallbackModule&&(u=u.concat(i.hydrateFallbackModule)),i.imports&&(u=u.concat(i.imports)),u}).flat(1))}function Sj(t){return[...new Set(t)]}function Cj(t){let a={},o=Object.keys(t).sort();for(let s of o)a[s]=t[s];return a}function Nj(t,a){let o=new Set;return new Set(a),t.reduce((s,i)=>{let u=JSON.stringify(Cj(i));return o.has(u)||(o.add(u),s.push({key:u,link:i})),s},[])}function j0(){let t=g.useContext(ys);return Gp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ej(){let t=g.useContext(Vc);return Gp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yp=g.createContext(void 0);Yp.displayName="FrameworkContext";function R0(){let t=g.useContext(Yp);return Gp(t,"You must render this element inside a <HydratedRouter> element"),t}function jj(t,a){let o=g.useContext(Yp),[s,i]=g.useState(!1),[u,d]=g.useState(!1),{onFocus:p,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:x}=a,C=g.useRef(null);g.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let b=S=>{S.forEach(R=>{d(R.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return C.current&&w.observe(C.current),()=>{w.disconnect()}}},[t]),g.useEffect(()=>{if(s){let b=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(b)}}},[s]);let N=()=>{i(!0)},E=()=>{i(!1),d(!1)};return o?t!=="intent"?[u,C,{}]:[u,C,{onFocus:xi(p,N),onBlur:xi(h,E),onMouseEnter:xi(m,N),onMouseLeave:xi(y,E),onTouchStart:xi(x,N)}]:[!1,C,{}]}function xi(t,a){return o=>{t&&t(o),o.defaultPrevented||a(o)}}function Rj({page:t,...a}){let{router:o}=j0(),s=g.useMemo(()=>u0(o.routes,t,o.basename),[o.routes,t,o.basename]);return s?g.createElement(Mj,{page:t,matches:s,...a}):null}function Tj(t){let{manifest:a,routeModules:o}=R0(),[s,i]=g.useState([]);return g.useEffect(()=>{let u=!1;return bj(t,a,o).then(d=>{u||i(d)}),()=>{u=!0}},[t,a,o]),s}function Mj({page:t,matches:a,...o}){let s=Uo(),{future:i,manifest:u,routeModules:d}=R0(),{basename:p}=j0(),{loaderData:h,matches:m}=Ej(),y=g.useMemo(()=>Vx(t,a,m,u,s,"data"),[t,a,m,u,s]),x=g.useMemo(()=>Vx(t,a,m,u,s,"assets"),[t,a,m,u,s]),C=g.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,w=!1;if(a.forEach(R=>{let T=u.routes[R.route.id];!T||!T.hasLoader||(!y.some(D=>D.route.id===R.route.id)&&R.route.id in h&&d[R.route.id]?.shouldRevalidate||T.hasClientLoader?w=!0:b.add(R.route.id))}),b.size===0)return[];let S=vj(t,p,i.unstable_trailingSlashAwareDataRequests,"data");return w&&b.size>0&&S.searchParams.set("_routes",a.filter(R=>b.has(R.route.id)).map(R=>R.route.id).join(",")),[S.pathname+S.search]},[p,i.unstable_trailingSlashAwareDataRequests,h,s,u,y,a,t,d]),N=g.useMemo(()=>wj(x,u),[x,u]),E=Tj(x);return g.createElement(g.Fragment,null,C.map(b=>g.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...o})),N.map(b=>g.createElement("link",{key:b,rel:"modulepreload",href:b,...o})),E.map(({key:b,link:w})=>g.createElement("link",{key:b,nonce:o.nonce,...w,crossOrigin:w.crossOrigin??o.crossOrigin})))}function _j(...t){return a=>{t.forEach(o=>{typeof o=="function"?o(a):o!=null&&(o.current=a)})}}var Dj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dj&&(window.__reactRouterVersion="7.13.0")}catch{}function Aj({basename:t,children:a,unstable_useTransitions:o,window:s}){let i=g.useRef();i.current==null&&(i.current=dE({window:s,v5Compat:!0}));let u=i.current,[d,p]=g.useState({action:u.action,location:u.location}),h=g.useCallback(m=>{o===!1?p(m):g.startTransition(()=>p(m))},[o]);return g.useLayoutEffect(()=>u.listen(h),[u,h]),g.createElement(sj,{basename:t,children:a,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:o})}var T0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M0=g.forwardRef(function({onClick:a,discover:o="render",prefetch:s="none",relative:i,reloadDocument:u,replace:d,state:p,target:h,to:m,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:C,...N},E){let{basename:b,unstable_useTransitions:w}=g.useContext(Wn),S=typeof m=="string"&&T0.test(m),R=g0(m,b);m=R.to;let T=GE(m,{relative:i}),[D,k,O]=jj(s,N),M=Lj(m,{replace:d,state:p,target:h,preventScrollReset:y,relative:i,viewTransition:x,unstable_defaultShouldRevalidate:C,unstable_useTransitions:w});function _($){a&&a($),$.defaultPrevented||M($)}let P=g.createElement("a",{...N,...O,href:R.absoluteURL||T,onClick:R.isExternal||u?a:_,ref:_j(E,k),target:h,"data-discover":!S&&o==="render"?"true":void 0});return D&&!S?g.createElement(g.Fragment,null,P,g.createElement(Rj,{page:T})):P});M0.displayName="Link";var kj=g.forwardRef(function({"aria-current":a="page",caseSensitive:o=!1,className:s="",end:i=!1,style:u,to:d,viewTransition:p,children:h,...m},y){let x=Ui(d,{relative:m.relative}),C=Uo(),N=g.useContext(Vc),{navigator:E,basename:b}=g.useContext(Wn),w=N!=null&&$j(x)&&p===!0,S=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,R=C.pathname,T=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;o||(R=R.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&b&&(T=Za(T,b)||T);const D=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let k=R===S||!i&&R.startsWith(S)&&R.charAt(D)==="/",O=T!=null&&(T===S||!i&&T.startsWith(S)&&T.charAt(S.length)==="/"),M={isActive:k,isPending:O,isTransitioning:w},_=k?a:void 0,P;typeof s=="function"?P=s(M):P=[s,k?"active":null,O?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let $=typeof u=="function"?u(M):u;return g.createElement(M0,{...m,"aria-current":_,className:P,ref:y,style:$,to:d,viewTransition:p},typeof h=="function"?h(M):h)});kj.displayName="NavLink";var Oj=g.forwardRef(({discover:t="render",fetcherKey:a,navigate:o,reloadDocument:s,replace:i,state:u,method:d=Sc,action:p,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:C,...N},E)=>{let{unstable_useTransitions:b}=g.useContext(Wn),w=Bj(),S=Ij(p,{relative:m}),R=d.toLowerCase()==="get"?"get":"post",T=typeof p=="string"&&T0.test(p),D=k=>{if(h&&h(k),k.defaultPrevented)return;k.preventDefault();let O=k.nativeEvent.submitter,M=O?.getAttribute("formmethod")||d,_=()=>w(O||k.currentTarget,{fetcherKey:a,method:M,navigate:o,replace:i,state:u,relative:m,preventScrollReset:y,viewTransition:x,unstable_defaultShouldRevalidate:C});b&&o!==!1?g.startTransition(()=>_()):_()};return g.createElement("form",{ref:E,method:R,action:S,onSubmit:s?h:D,...N,"data-discover":!T&&t==="render"?"true":void 0})});Oj.displayName="Form";function zj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _0(t){let a=g.useContext(ys);return jt(a,zj(t)),a}function Lj(t,{target:a,replace:o,state:s,preventScrollReset:i,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:h}={}){let m=S0(),y=Uo(),x=Ui(t,{relative:u});return g.useCallback(C=>{if(fj(C,a)){C.preventDefault();let N=o!==void 0?o:_i(y)===_i(x),E=()=>m(t,{replace:N,state:s,preventScrollReset:i,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});h?g.startTransition(()=>E()):E()}},[y,m,x,o,s,a,t,i,u,d,p,h])}function Pj(t){sa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=g.useRef(lp(t)),o=g.useRef(!1),s=Uo(),i=g.useMemo(()=>pj(s.search,o.current?null:a.current),[s.search]),u=S0(),d=g.useCallback((p,h)=>{const m=lp(typeof p=="function"?p(new URLSearchParams(i)):p);o.current=!0,u("?"+m,h)},[u,i]);return[i,d]}var Uj=0,Hj=()=>`__${String(++Uj)}__`;function Bj(){let{router:t}=_0("useSubmit"),{basename:a}=g.useContext(Wn),o=nj(),s=t.fetch,i=t.navigate;return g.useCallback(async(u,d={})=>{let{action:p,method:h,encType:m,formData:y,body:x}=gj(u,a);if(d.navigate===!1){let C=d.fetcherKey||Hj();await s(C,o,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:x,formMethod:d.method||h,formEncType:d.encType||m,flushSync:d.flushSync})}else await i(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:x,formMethod:d.method||h,formEncType:d.encType||m,replace:d.replace,state:d.state,fromRouteId:o,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,i,a,o])}function Ij(t,{relative:a}={}){let{basename:o}=g.useContext(Wn),s=g.useContext(oo);jt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),u={...Ui(t||".",{relative:a})},d=Uo();if(t==null){u.search=d.search;let p=new URLSearchParams(u.search),h=p.getAll("index");if(h.some(y=>y==="")){p.delete("index"),h.filter(x=>x).forEach(x=>p.append("index",x));let y=p.toString();u.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(u.pathname=u.pathname==="/"?o:Qa([o,u.pathname])),_i(u)}function $j(t,{relative:a}={}){let o=g.useContext(x0);jt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_0("useViewTransitionState"),i=Ui(t,{relative:a});if(!o.isTransitioning)return!1;let u=Za(o.currentLocation.pathname,s)||o.currentLocation.pathname,d=Za(o.nextLocation.pathname,s)||o.nextLocation.pathname;return Tc(i.pathname,d)!=null||Tc(i.pathname,u)!=null}var Hi=Yc();const qj=l0(Hi);const D0=(...t)=>t.filter((a,o,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===o).join(" ").trim();const Fj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Gj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,o,s)=>s?s.toUpperCase():o.toLowerCase());const Xx=t=>{const a=Gj(t);return a.charAt(0).toUpperCase()+a.slice(1)};var Yj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vj=t=>{for(const a in t)if(a.startsWith("aria-")||a==="role"||a==="title")return!0;return!1};const Xj=g.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:i="",children:u,iconNode:d,...p},h)=>g.createElement("svg",{ref:h,...Yj,width:a,height:a,stroke:t,strokeWidth:s?Number(o)*24/Number(a):o,className:D0("lucide",i),...!u&&!Vj(p)&&{"aria-hidden":"true"},...p},[...d.map(([m,y])=>g.createElement(m,y)),...Array.isArray(u)?u:[u]]));const je=(t,a)=>{const o=g.forwardRef(({className:s,...i},u)=>g.createElement(Xj,{ref:u,iconNode:a,className:D0(`lucide-${Fj(Xx(t))}`,`lucide-${t}`,s),...i}));return o.displayName=Xx(t),o};const Kj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Vp=je("activity",Kj);const Wj=[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]],Kx=je("audio-waveform",Wj);const Qj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zj=je("chart-column",Qj);const Jj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kc=je("check",Jj);const eR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bs=je("chevron-down",eR);const tR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nR=je("chevron-right",tR);const aR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],A0=je("chevron-up",aR);const oR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rR=je("circle-alert",oR);const sR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iR=je("circle-check-big",sR);const lR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xp=je("circle",lR);const cR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cp=je("clock",cR);const uR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],k0=je("copy",uR);const dR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]],fR=je("disc-3",dR);const pR=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],mR=je("ellipsis-vertical",pR);const hR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],If=je("external-link",hR);const gR=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],O0=je("folder-open",gR);const vR=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],xR=je("folder",vR);const yR=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],bR=je("gauge",yR);const wR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],z0=je("grid-3x3",wR);const SR=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],CR=je("grip-vertical",SR);const NR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],L0=je("info",NR);const ER=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jR=je("loader-circle",ER);const RR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],TR=je("maximize-2",RR);const MR=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],_R=je("mic",MR);const DR=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],AR=je("minimize-2",DR);const kR=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Rt=je("music",kR);const OR=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],zR=je("palette",OR);const LR=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],P0=je("pause",LR);const PR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],U0=je("pen",PR);const UR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],H0=je("pencil",UR);const HR=[["path",{d:"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8",key:"lag0yf"}],["path",{d:"M2 14h20",key:"myj16y"}],["path",{d:"M6 14v4",key:"9ng0ue"}],["path",{d:"M10 14v4",key:"1v8uk5"}],["path",{d:"M14 14v4",key:"1tqops"}],["path",{d:"M18 14v4",key:"18uqwm"}]],BR=je("piano",HR);const IR=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Bi=je("play",IR);const $R=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gr=je("plus",$R);const qR=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],FR=je("redo-2",qR);const GR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],YR=je("refresh-cw",GR);const VR=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],XR=je("repeat",VR);const KR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WR=je("save",KR);const QR=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Wx=je("scan",QR);const ZR=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],JR=je("scissors",ZR);const eT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],B0=je("search",eT);const tT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],nT=je("send",tT);const aT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oT=je("settings",aT);const rT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],sT=je("skip-back",rT);const iT=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],up=je("sliders-vertical",iT);const lT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Mc=je("sparkles",lT);const cT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],uT=je("square-pen",cT);const dT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Kp=je("square",dT);const fT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vr=je("trash-2",fT);const pT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],I0=je("triangle-alert",pT);const mT=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],hT=je("undo-2",mT);const gT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vT=je("upload",gT);const xT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],$0=je("volume-2",xT);const yT=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Qx=je("waves",yT);const bT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ja=je("x",bT);const wT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ST=je("zap",wT);const CT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],NT=je("zoom-in",CT);const ET=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],jT=je("zoom-out",ET),Zx=t=>{let a;const o=new Set,s=(m,y)=>{const x=typeof m=="function"?m(a):m;if(!Object.is(x,a)){const C=a;a=y??(typeof x!="object"||x===null)?x:Object.assign({},a,x),o.forEach(N=>N(a,C))}},i=()=>a,p={setState:s,getState:i,getInitialState:()=>h,subscribe:m=>(o.add(m),()=>o.delete(m))},h=a=t(s,i,p);return p},RT=(t=>t?Zx(t):Zx),TT=t=>t;function MT(t,a=TT){const o=St.useSyncExternalStore(t.subscribe,St.useCallback(()=>a(t.getState()),[t,a]),St.useCallback(()=>a(t.getInitialState()),[t,a]));return St.useDebugValue(o),o}const _T=t=>{const a=RT(t),o=s=>MT(a,s);return Object.assign(o,a),o},q0=(t=>_T),DT=t=>(a,o,s)=>{const i=s.subscribe;return s.subscribe=((d,p,h)=>{let m=d;if(p){const y=h?.equalityFn||Object.is;let x=d(s.getState());m=C=>{const N=d(C);if(!y(x,N)){const E=x;p(x=N,E)}},h?.fireImmediately&&p(x,x)}return i(m)}),t(a,o,s)},F0=DT;function AT(t,a){let o;try{o=t()}catch{return}return{getItem:i=>{var u;const d=h=>h===null?null:JSON.parse(h,void 0),p=(u=o.getItem(i))!=null?u:null;return p instanceof Promise?p.then(d):d(p)},setItem:(i,u)=>o.setItem(i,JSON.stringify(u,void 0)),removeItem:i=>o.removeItem(i)}}const dp=t=>a=>{try{const o=t(a);return o instanceof Promise?o:{then(s){return dp(s)(o)},catch(s){return this}}}catch(o){return{then(s){return this},catch(s){return dp(s)(o)}}}},kT=(t,a)=>(o,s,i)=>{let u={storage:AT(()=>window.localStorage),partialize:w=>w,version:0,merge:(w,S)=>({...S,...w}),...a},d=!1,p=0;const h=new Set,m=new Set;let y=u.storage;if(!y)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),o(...w)},s,i);const x=()=>{const w=u.partialize({...s()});return y.setItem(u.name,{state:w,version:u.version})},C=i.setState;i.setState=(w,S)=>(C(w,S),x());const N=t((...w)=>(o(...w),x()),s,i);i.getInitialState=()=>N;let E;const b=()=>{var w,S;if(!y)return;const R=++p;d=!1,h.forEach(D=>{var k;return D((k=s())!=null?k:N)});const T=((S=u.onRehydrateStorage)==null?void 0:S.call(u,(w=s())!=null?w:N))||void 0;return dp(y.getItem.bind(y))(u.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==u.version){if(u.migrate){const k=u.migrate(D.state,D.version);return k instanceof Promise?k.then(O=>[!0,O]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var k;if(R!==p)return;const[O,M]=D;if(E=u.merge(M,(k=s())!=null?k:N),o(E,!0),O)return x()}).then(()=>{R===p&&(T?.(E,void 0),E=s(),d=!0,m.forEach(D=>D(E)))}).catch(D=>{R===p&&T?.(void 0,D)})};return i.persist={setOptions:w=>{u={...u,...w},w.storage&&(y=w.storage)},clearStorage:()=>{y?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>b(),hasHydrated:()=>d,onHydrate:w=>(h.add(w),()=>{h.delete(w)}),onFinishHydration:w=>(m.add(w),()=>{m.delete(w)})},u.skipHydration||b(),E||N},G0=kT,Jx="http://localhost:8000",ey="ws://localhost:8000",Wp={baseURL:Jx,wsBaseURL:ey,endpoints:{audioEngine:"/audio-engine",api:{mixer:"/api/mixer",effects:"/api/effects",audio:"/api/audio",samples:"/api/samples",compositions:"/api/compositions",playback:"/api/playback",assistant:"/api/assistant"},ws:{spectrum:"/api/ws/spectrum",waveform:"/api/ws/waveform",meters:"/api/ws/meters",transport:"/api/ws/transport"}},getURL(t){return`${Jx}${t}`},getWSURL(t){return`${ey}${t}`}},OT=Wp.baseURL;class $f extends Error{constructor(a,o,s){super(a),this.status=o,this.endpoint=s,this.name="APIError"}}class xr{baseURL;constructor(a=OT){this.baseURL=a}async request(a,o){const s=`${this.baseURL}${a}`;try{const i=await fetch(s,{...o,headers:{"Content-Type":"application/json",...o?.headers}});if(!i.ok){let u=i.statusText;try{const d=await i.json();u=d.detail||d.message||u}catch{}throw new $f(u,i.status,a)}return i.status===204?{}:i.json()}catch(i){throw i instanceof $f?i:new $f(i instanceof Error?i.message:"Network error",0,a)}}async get(a,o){let s=a;if(o&&Object.keys(o).length>0){const i=new URLSearchParams(Object.entries(o).filter(([u,d])=>d!=null).map(([u,d])=>[u,String(d)])).toString();s=`${a}?${i}`}return this.request(s,{method:"GET"})}async post(a,o){return this.request(a,{method:"POST",body:o?JSON.stringify(o):void 0})}async put(a,o){return this.request(a,{method:"PUT",body:o?JSON.stringify(o):void 0})}async patch(a,o){return this.request(a,{method:"PATCH",body:o?JSON.stringify(o):void 0})}async delete(a){return this.request(a,{method:"DELETE"})}}class zT extends xr{async create(a){return this.post("/api/compositions/",a)}async list(){return this.get("/api/compositions/")}async getById(a,o=!1){return this.get(`/api/compositions/${a}`,{use_autosave:o})}async update(a,o){return this.put(`/api/compositions/${a}`,o)}async undo(a){return this.post(`/api/compositions/${a}/undo`,{})}async redo(a){return this.post(`/api/compositions/${a}/redo`,{})}async getUndoRedoStatus(a){return this.get(`/api/compositions/${a}/undo-redo-status`)}async getHistory(a){return this.get(`/api/compositions/${a}/history`)}async restoreHistoryVersion(a,o){return this.post(`/api/compositions/${a}/history/${o}/restore`,{})}async saveComposition(a,o=!0,s=!1,i){return this.post(`/api/compositions/${a}/save`,{composition_id:a,create_history:o,is_autosave:s,metadata:i})}async deleteComposition(a){return super.delete(`/api/compositions/${a}`)}async loadAll(){return this.post("/api/compositions/load-all",{})}async getChatHistory(a){return this.get(`/api/compositions/${a}/chat-history`)}async listHistory(a){return this.get(`/api/compositions/${a}/history`)}async restoreVersion(a,o){return this.post(`/api/compositions/${a}/restore/${o}`,{})}async recoverFromAutosave(a){return this.post(`/api/compositions/${a}/recover-autosave`,{})}async createTrack(a){const{composition_id:o,...s}=a;return this.post(`/api/compositions/${o}/tracks`,s)}async getTracks(a){return this.get(`/api/compositions/${a}/tracks`)}async updateTrack(a,o,s){return this.put(`/api/compositions/${a}/tracks/${o}`,s)}async muteTrack(a){const{composition_id:o,track_id:s,is_muted:i}=a;return this.put(`/api/compositions/${o}/tracks/${s}/mute`,{is_muted:i})}async soloTrack(a){const{composition_id:o,track_id:s,is_solo:i}=a;return this.put(`/api/compositions/${o}/tracks/${s}/solo`,{is_solo:i})}async deleteTrack(a,o){return this.delete(`/api/compositions/${a}/tracks/${o}`)}async addClip(a){const{sequence_id:o,...s}=a;return this.post(`/api/compositions/${o}/clips`,s)}async getClips(a){return this.get(`/api/compositions/${a}/clips`)}async updateClip(a,o,s){return this.put(`/api/compositions/${a}/clips/${o}`,s)}async deleteClip(a,o){return this.delete(`/api/compositions/${a}/clips/${o}`)}async assignClipToSlot(a){const{composition_id:o,track_index:s,slot_index:i,clip_id:u}=a;return this.put(`/api/compositions/${o}/clip-launcher/slots/${s}/${i}`,{clip_id:u})}async getClipSlots(a){return this.get(`/api/compositions/${a}/clip-launcher/slots`)}async createScene(a){const{composition_id:o,...s}=a;return this.post(`/api/compositions/${o}/clip-launcher/scenes`,s)}async updateScene(a){const{composition_id:o,scene_id:s,...i}=a;return this.put(`/api/compositions/${o}/clip-launcher/scenes/${s}`,i)}async deleteScene(a,o){return this.delete(`/api/compositions/${a}/clip-launcher/scenes/${o}`)}async setLaunchQuantization(a){const{composition_id:o,quantization:s}=a;return this.put(`/api/compositions/${o}/clip-launcher/quantization`,{quantization:s})}async launchClip(a,o){return this.post(`/api/compositions/${a}/clip-launcher/clips/${o}/launch`,{})}async stopClip(a,o){return this.post(`/api/compositions/${a}/clip-launcher/clips/${o}/stop`,{})}async launchScene(a,o){return this.post(`/api/compositions/${a}/clip-launcher/scenes/${o}/launch`,{})}async stopAllClips(a){return this.post(`/api/compositions/${a}/clip-launcher/clips/stop-all`,{})}async stopTrackClips(a,o){return this.post(`/api/compositions/${a}/clip-launcher/tracks/${o}/stop-all`,{})}}class LT extends xr{async play(a){return this.post("/api/playback/play",a||{position:0})}async stop(){return this.post("/api/playback/stop",{})}async pause(){return this.post("/api/playback/pause",{})}async resume(){return this.post("/api/playback/resume",{})}async seek(a){return this.post("/api/playback/seek",{position:a.position})}async setTempo(a){return this.put("/api/playback/tempo",a)}async setLoop(a,o,s){return this.put("/api/playback/loop",{enabled:a,start:o,end:s})}}class PT extends xr{async getChannels(){return this.get("/api/compositions/mixers/channels")}async createChannel(a){return this.post("/api/compositions/mixers/channels",a)}async getChannel(a){return this.get(`/api/compositions/mixers/channels/${a}`)}async updateChannel(a,o){return this.patch(`/api/compositions/mixers/channels/${a}`,o)}async deleteChannel(a){return this.delete(`/api/compositions/mixers/channels/${a}`)}async getMaster(){return this.get("/api/compositions/mixers/master")}async updateMaster(a){return this.patch("/api/compositions/mixers/master",a)}}class UT extends xr{async getDefinitions(){return(await this.get("/api/compositions/effects/definitions")).effects}async getCategories(){return this.get("/api/compositions/effects/categories")}async getEffectsByCategory(a){return(await this.get(`/api/compositions/effects/categories/${a}`)).effects}async getTrackEffectChain(a){return this.get(`/api/compositions/effects/track/${a}`)}async addEffect(a){return this.post(`/api/compositions/effects/track/${a.track_id}`,a)}async getEffect(a){return this.get(`/api/compositions/effects/${a}`)}async updateEffect(a,o){return this.patch(`/api/compositions/effects/${a}`,o)}async deleteEffect(a){return this.delete(`/api/compositions/effects/${a}`)}async moveEffect(a,o){return this.post(`/api/compositions/effects/${a}/move`,o)}async clearTrackEffects(a){return this.delete(`/api/compositions/effects/track/${a}/clear`)}}class HT extends xr{async createSynth(a){return this.post("/api/audio/synthesis/synths",a)}async getActiveSynths(){return this.get("/api/audio/synthesis/synths")}async getSynth(a){return this.get(`/api/audio/synthesis/synths/${a}`)}async setSynthParam(a,o){return this.put(`/api/audio/synthesis/synths/${a}`,o)}async deleteSynth(a,o=!0){return this.delete(`/api/audio/synthesis/synths/${a}?release=${o}`)}async deleteAllSynths(){return this.delete("/api/audio/synthesis/synths")}async previewNote(a){return this.post("/api/audio/preview",a)}async updateMetronome(a){return this.put("/api/audio/metronome",a)}async getSynthDefs(){const a=await this.get("/api/audio/synthdefs");return Array.isArray(a)?a:[]}async setInputDevice(a){return this.post("/api/audio/input/device",a)}async stopInput(){return this.post("/api/audio/input/stop",{})}async setInputGain(a){return this.post("/api/audio/input/gain",a)}async getInputStatus(){return this.get("/api/audio/input/status")}}class BT extends xr{async chat(a){return this.post("/api/assistant/chat",a)}async getState(a={}){return this.post("/api/assistant/state",a)}async getContext(){return this.get("/api/assistant/context")}async executeAction(a){return this.post("/api/assistant/action",a)}async executeBatchActions(a){return this.post("/api/assistant/actions/batch",a)}}class IT extends xr{async upload(a,o,s="Uncategorized"){const i=new FormData;i.append("file",a),i.append("name",o),i.append("category",s);const u=await fetch(`${this.baseURL}/api/samples/upload`,{method:"POST",body:i});if(!u.ok){const d=await u.json();throw new Error(d.detail||"Upload failed")}return u.json()}async getAll(){return this.get("/api/samples/")}async getById(a){return this.get(`/api/samples/${a}`)}async download(a){const o=await fetch(`${this.baseURL}/api/samples/${a}/download`);if(!o.ok)throw new Error("Download failed");return o.blob()}async update(a,o){const s=new URLSearchParams;return o.name!==void 0&&s.append("name",o.name),o.category!==void 0&&s.append("category",o.category),this.patch(`/api/samples/${a}?${s.toString()}`,{})}async deleteSample(a){return super.delete(`/api/samples/${a}`)}async updateDuration(a,o){const s=new FormData;s.append("duration",o.toString());const i=await fetch(`${this.baseURL}/api/samples/${a}/duration`,{method:"POST",body:s});if(!i.ok){const u=await i.json();throw new Error(u.detail||"Update duration failed")}return i.json()}}class $T{compositions;playback;mixer;effects;audio;assistant;samples;constructor(a){this.compositions=new zT(a),this.playback=new LT(a),this.mixer=new PT(a),this.effects=new UT(a),this.audio=new HT(a),this.assistant=new BT(a),this.samples=new IT(a)}}const pe=new $T;function qT(t){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",a.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}Array(12).fill(0);let fp=1;class FT{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{const o=this.subscribers.indexOf(a);this.subscribers.splice(o,1)}),this.publish=a=>{this.subscribers.forEach(o=>o(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var o;const{message:s,...i}=a,u=typeof a?.id=="number"||((o=a.id)==null?void 0:o.length)>0?a.id:fp++,d=this.toasts.find(h=>h.id===u),p=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),d?this.toasts=this.toasts.map(h=>h.id===u?(this.publish({...h,...a,id:u,title:s}),{...h,...a,id:u,dismissible:p,title:s}):h):this.addToast({title:s,...i,dismissible:p,id:u}),u},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(o=>o({id:a,dismiss:!0})))):this.toasts.forEach(o=>{this.subscribers.forEach(s=>s({id:o.id,dismiss:!0}))}),a),this.message=(a,o)=>this.create({...o,message:a}),this.error=(a,o)=>this.create({...o,message:a,type:"error"}),this.success=(a,o)=>this.create({...o,type:"success",message:a}),this.info=(a,o)=>this.create({...o,type:"info",message:a}),this.warning=(a,o)=>this.create({...o,type:"warning",message:a}),this.loading=(a,o)=>this.create({...o,type:"loading",message:a}),this.promise=(a,o)=>{if(!o)return;let s;o.loading!==void 0&&(s=this.create({...o,promise:a,type:"loading",message:o.loading,description:typeof o.description!="function"?o.description:void 0}));const i=Promise.resolve(a instanceof Function?a():a);let u=s!==void 0,d;const p=i.then(async m=>{if(d=["resolve",m],St.isValidElement(m))u=!1,this.create({id:s,type:"default",message:m});else if(YT(m)&&!m.ok){u=!1;const x=typeof o.error=="function"?await o.error(`HTTP error! status: ${m.status}`):o.error,C=typeof o.description=="function"?await o.description(`HTTP error! status: ${m.status}`):o.description,E=typeof x=="object"&&!St.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:C,...E})}else if(m instanceof Error){u=!1;const x=typeof o.error=="function"?await o.error(m):o.error,C=typeof o.description=="function"?await o.description(m):o.description,E=typeof x=="object"&&!St.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:C,...E})}else if(o.success!==void 0){u=!1;const x=typeof o.success=="function"?await o.success(m):o.success,C=typeof o.description=="function"?await o.description(m):o.description,E=typeof x=="object"&&!St.isValidElement(x)?x:{message:x};this.create({id:s,type:"success",description:C,...E})}}).catch(async m=>{if(d=["reject",m],o.error!==void 0){u=!1;const y=typeof o.error=="function"?await o.error(m):o.error,x=typeof o.description=="function"?await o.description(m):o.description,N=typeof y=="object"&&!St.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:x,...N})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),o.finally==null||o.finally.call(o)}),h=()=>new Promise((m,y)=>p.then(()=>d[0]==="reject"?y(d[1]):m(d[1])).catch(y));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(a,o)=>{const s=o?.id||fp++;return this.create({jsx:a(s),id:s,...o}),s},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Xn=new FT,GT=(t,a)=>{const o=a?.id||fp++;return Xn.addToast({title:t,...a,id:o}),o},YT=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",VT=GT,XT=()=>Xn.toasts,KT=()=>Xn.getActiveToasts(),oe=Object.assign(VT,{success:Xn.success,info:Xn.info,warning:Xn.warning,error:Xn.error,custom:Xn.custom,message:Xn.message,promise:Xn.promise,dismiss:Xn.dismiss,loading:Xn.loading},{getHistory:XT,getToasts:KT});qT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");class WT{channel;listeners=new Map;constructor(){this.channel=new BroadcastChannel("sonic-claude-sync"),this.setupMessageHandler(),console.log(" WindowManager initialized")}setupMessageHandler(){this.channel.onmessage=a=>{const{key:o,value:s}=a.data,i=this.listeners.get(o);i&&i.forEach(u=>u(s))}}broadcastState(a,o){const s={key:a,value:o,timestamp:Date.now()};this.channel.postMessage(s)}subscribeToState(a,o){return this.listeners.has(a)||this.listeners.set(a,new Set),this.listeners.get(a).add(o),()=>{const s=this.listeners.get(a);s&&(s.delete(o),s.size===0&&this.listeners.delete(a))}}openPopout(a,o){const u=window.screenX+50,d=window.screenY+50,p=`width=1200,height=800,left=${u},top=${d},resizable=yes,scrollbars=yes`,h=`/popout?tab=${a}&panels=${o.join(",")}`,m=window.open(h,`popout-${a}`,p);return m&&(console.log(` Opened popout for tab: ${a}`),this.broadcastState("popout-opened",{tabId:a,panelIds:o})),m}cleanup(){this.channel.close(),console.log(" WindowManager cleaned up")}}const Ae=new WT;window.addEventListener("beforeunload",()=>{Ae.cleanup()});const I=q0()(F0(G0((t,a)=>({transport:null,meters:{},spectrum:[],waveform:null,analytics:null,clipLaunchStates:{},activeComposition:null,compositions:[],hasUnsavedChanges:!1,_persistedCompositionId:null,canUndo:!1,canRedo:!1,tracks:[],clips:[],synthDefs:[],channels:[],master:null,effectDefinitions:[],effectChains:{},samples:[],sampleAssignments:{},activeSynths:{},zoom:.5,snapEnabled:!0,gridSize:16,isLooping:!0,loopStart:0,loopEnd:16,selectedClipId:null,clipDragStates:new Map,timelineScrollLeft:0,pianoRollScrollLeft:0,sampleEditorScrollLeft:0,showSampleBrowser:!1,showSequenceManager:!1,showSequenceSettings:!1,showPianoRoll:!1,pianoRollClipId:null,showSampleEditor:!1,sampleEditorClipId:null,showMeters:!0,meterMode:"both",selectedChannelId:null,selectedEffectId:null,showEffectBrowser:!1,chatHistory:[],analysisEvents:[],dawStateSnapshot:null,aiContext:null,activeAssistantTab:"chat",isSendingMessage:!1,isLoadingAssistantState:!1,activeInputsTab:"audio",activities:[],activityHistory:[],isAIActive:!1,setTransport:o=>t({transport:o}),setMeters:o=>t({meters:o}),setSpectrum:o=>t({spectrum:o}),setWaveform:o=>t({waveform:o}),setAnalytics:o=>t({analytics:o}),play:async()=>{try{const{activeComposition:o}=a();if(!o){oe.error("No active composition");return}await pe.playback.play({position:0})}catch(o){console.error("Failed to play:",o),oe.error("Failed to play")}},stop:async()=>{try{const{activeComposition:o}=a();o&&await pe.playback.stop()}catch(o){console.error("Failed to stop playback:",o),oe.error("Failed to stop playback")}},pause:async()=>{try{const{activeComposition:o}=a();o&&await pe.playback.pause()}catch(o){console.error("Failed to pause playback:",o),oe.error("Failed to pause playback")}},resume:async()=>{try{const{activeComposition:o}=a();o&&await pe.playback.resume()}catch(o){console.error("Failed to resume playback:",o),oe.error("Failed to resume playback")}},setTempo:async o=>{try{const{activeComposition:s}=a();if(!s){oe.error("No active composition");return}await pe.compositions.update(s.id,{tempo:o}),await a().loadComposition(s.id),await a().refreshUndoRedoStatus(),oe.success(`Tempo set to ${o} BPM`)}catch(s){console.error("Failed to set tempo:",s),oe.error("Failed to set tempo")}},toggleMetronome:async()=>{try{const{transport:o}=a(),i=!(o?.metronome_enabled??!1);await pe.audio.updateMetronome({enabled:i})}catch(o){console.error("Failed to toggle metronome:",o),oe.error("Failed to toggle metronome")}},seek:async(o,s=!1)=>{try{const{activeComposition:i}=a();if(!i)return;await pe.playback.seek({position:o,trigger_audio:s})}catch(i){console.error("Failed to seek:",i),oe.error("Failed to seek")}},createTrack:async(o,s,i)=>{try{const{activeComposition:u}=a();if(!u){oe.error("No active composition");return}await pe.compositions.createTrack({composition_id:u.id,name:o,type:s,instrument:i}),await a().loadComposition(u.id),await a().refreshUndoRedoStatus(),oe.success(`Created track: ${o}`)}catch(u){console.error("Failed to create track:",u),oe.error("Failed to create track")}},deleteTrack:async o=>{try{const{activeComposition:s,tracks:i}=a();if(!s){oe.error("No active composition");return}if(!i.find(d=>d.id===o)){oe.error("Track not found");return}await pe.compositions.deleteTrack(s.id,o),await a().loadComposition(s.id),await a().refreshUndoRedoStatus(),oe.success("Track deleted")}catch(s){console.error("Failed to delete track:",s),oe.error("Failed to delete track")}},renameTrack:async(o,s)=>{try{const{activeComposition:i,tracks:u}=a();if(!i)return;if(!u.find(p=>p.id===o)){oe.error("Track not found");return}await pe.compositions.updateTrack(i.id,o,{name:s}),await a().loadComposition(i.id),await a().refreshUndoRedoStatus()}catch(i){console.error("Failed to rename track:",i),oe.error("Failed to rename track")}},updateTrack:async(o,s)=>{try{const{activeComposition:i,tracks:u}=a();if(!i)return;if(!u.find(p=>p.id===o)){oe.error("Track not found");return}await pe.compositions.updateTrack(i.id,o,s),await a().loadComposition(i.id),await a().refreshUndoRedoStatus()}catch(i){console.error("Failed to update track:",i),oe.error("Failed to update track")}},updateTrackVolume:async(o,s)=>{try{const{activeComposition:i}=a();if(!i)return;await pe.compositions.updateTrack(i.id,o,{volume:s}),t(u=>({tracks:u.tracks.map(d=>d.id===o?{...d,volume:s}:d)}))}catch(i){console.error("Failed to update track volume:",i),oe.error("Failed to update track volume")}},updateTrackPan:async(o,s)=>{try{const{activeComposition:i}=a();if(!i)return;await pe.compositions.updateTrack(i.id,o,{pan:s}),t(u=>({tracks:u.tracks.map(d=>d.id===o?{...d,pan:s}:d)}))}catch(i){console.error("Failed to update track pan:",i),oe.error("Failed to update track pan")}},muteTrack:async(o,s)=>{try{const{activeComposition:i,tracks:u}=a();if(!i)return;if(!u.find(p=>p.id===o)){oe.error("Track not found");return}await pe.compositions.muteTrack({composition_id:i.id,track_id:o,is_muted:s}),await a().loadComposition(i.id),await a().refreshUndoRedoStatus()}catch(i){console.error("Failed to mute track:",i),oe.error("Failed to mute track")}},soloTrack:async(o,s)=>{try{const{activeComposition:i,tracks:u}=a();if(!i)return;if(!u.find(p=>p.id===o)){oe.error("Track not found");return}await pe.compositions.soloTrack({composition_id:i.id,track_id:o,is_solo:s}),await a().loadComposition(i.id),await a().refreshUndoRedoStatus()}catch(i){console.error("Failed to solo track:",i),oe.error("Failed to solo track")}},addClip:async o=>{try{const{activeComposition:s}=a();if(!s){oe.error("No active composition");return}await pe.compositions.addClip(o),await a().loadComposition(s.id),await a().refreshUndoRedoStatus()}catch(s){console.error("Failed to add clip:",s),oe.error("Failed to add clip")}},updateClip:async(o,s)=>{try{const{activeComposition:i,clips:u}=a();if(!i)return;if(!u.find(p=>p.id===o)){oe.error("Clip not found");return}await pe.compositions.updateClip(i.id,o,s),await a().loadComposition(i.id),await a().refreshUndoRedoStatus()}catch(i){console.error("Failed to update clip:",i),oe.error("Failed to update clip")}},deleteClip:async o=>{try{const{activeComposition:s,clips:i}=a();if(!s)return;if(!i.find(d=>d.id===o)){oe.error("Clip not found");return}await pe.compositions.deleteClip(s.id,o),await a().loadComposition(s.id),await a().refreshUndoRedoStatus()}catch(s){console.error("Failed to delete clip:",s),oe.error("Failed to delete clip")}},duplicateClip:async(o,s)=>{try{const i=a().clips.find(d=>d.id===s);if(!i){oe.error("Clip not found");return}const u=await pe.compositions.addClip({sequence_id:o,clip_type:i.type,track_id:i.track_id,start_time:i.start_time+i.duration,duration:i.duration,midi_events:i.midi_events,audio_file_path:i.audio_file_path,name:i.name?`${i.name} (copy)`:void 0});t(d=>({clips:[...d.clips,u]})),Ae.broadcastState("clips",a().clips),oe.success("Clip duplicated")}catch(i){console.error("Failed to duplicate clip:",i),oe.error("Failed to duplicate clip")}},loadSynthDefs:async()=>{try{const o=await pe.audio.getSynthDefs();t({synthDefs:o})}catch(o){console.error("Failed to load synth defs:",o),oe.error("Failed to load synth defs")}},setClipLaunchState:(o,s)=>{t(i=>({clipLaunchStates:{...i.clipLaunchStates,[o]:s}}))},setClipLaunchStatesFromWebSocket:(o,s)=>{const i={};o.forEach(u=>{i[u]={clipId:u,state:"playing",progress:0}}),s.forEach(u=>{i[u]={clipId:u,state:"triggered",progress:0}}),t({clipLaunchStates:i})},launchClip:async o=>{try{const{activeComposition:s}=a();if(!s)return;await pe.compositions.launchClip(s.id,o),t(i=>({clipLaunchStates:{...i.clipLaunchStates,[o]:{clipId:o,state:"playing",progress:0}}}))}catch(s){console.error("Failed to launch clip:",s),oe.error("Failed to launch clip")}},launchScene:async o=>{try{const{activeComposition:s}=a();if(!s)return;await pe.compositions.launchScene(s.id,o),oe.success("Scene launched")}catch(s){console.error("Failed to launch scene:",s),oe.error("Failed to launch scene")}},stopClip:async o=>{try{const{activeComposition:s}=a();if(!s)return;await pe.compositions.stopClip(s.id,o),t(i=>{const u={...i.clipLaunchStates};return delete u[o],{clipLaunchStates:u}})}catch(s){console.error("Failed to stop clip:",s),oe.error("Failed to stop clip")}},stopAllClips:async()=>{try{const{activeComposition:o}=a();if(!o)return;await pe.compositions.stopAllClips(o.id),t({clipLaunchStates:{}})}catch(o){console.error("Failed to stop all clips:",o),oe.error("Failed to stop all clips")}},stopTrackClips:async o=>{try{const{activeComposition:s}=a();if(!s)return;await pe.compositions.stopTrackClips(s.id,o),t(i=>{const u={...i.clipLaunchStates};return s.clips.filter(p=>p.track_id===o).map(p=>p.id).forEach(p=>{delete u[p]}),{clipLaunchStates:u}})}catch(s){console.error("Failed to stop track clips:",s),oe.error("Failed to stop track clips")}},assignClipToSlot:async(o,s,i)=>{try{const{activeComposition:u}=a();if(!u)return;await pe.compositions.assignClipToSlot({composition_id:u.id,track_index:o,slot_index:s,clip_id:i}),await a().loadComposition(u.id)}catch(u){console.error("Failed to assign clip to slot:",u),oe.error("Failed to assign clip to slot")}},createScene:async(o,s="#f39c12",i)=>{try{const{activeComposition:u}=a();if(!u)return;await pe.compositions.createScene({composition_id:u.id,name:o,color:s,tempo:i}),await a().loadComposition(u.id),oe.success(`Scene "${o}" created`)}catch(u){console.error("Failed to create scene:",u),oe.error("Failed to create scene")}},updateScene:async(o,s,i,u)=>{try{const{activeComposition:d}=a();if(!d)return;await pe.compositions.updateScene({composition_id:d.id,scene_id:o,name:s,color:i,tempo:u}),await a().loadComposition(d.id)}catch(d){console.error("Failed to update scene:",d),oe.error("Failed to update scene")}},deleteScene:async o=>{try{const{activeComposition:s}=a();if(!s)return;await pe.compositions.deleteScene(s.id,o),await a().loadComposition(s.id),oe.success("Scene deleted")}catch(s){console.error("Failed to delete scene:",s),oe.error("Failed to delete scene")}},setLaunchQuantization:async o=>{try{const{activeComposition:s}=a();if(!s)return;await pe.compositions.setLaunchQuantization({composition_id:s.id,quantization:o}),await a().loadComposition(s.id)}catch(s){console.error("Failed to set launch quantization:",s),oe.error("Failed to set launch quantization")}},loadChannels:async()=>{try{const o=await pe.mixer.getChannels();t({channels:o}),Ae.broadcastState("channels",o)}catch(o){console.error("Failed to load channels:",o),oe.error("Failed to load channels")}},loadMixerState:async o=>{try{const s=o.channels||[],i=o.master||null;t({channels:s,master:i}),Ae.broadcastState("channels",s),Ae.broadcastState("master",i)}catch(s){throw console.error("Failed to load mixer state:",s),oe.error("Failed to load mixer state"),s}},updateChannelVolume:async(o,s)=>{try{const i=await pe.mixer.updateChannel(o,{fader:s});t(u=>({channels:u.channels.map(d=>d.id===o?i:d)})),Ae.broadcastState("channels",a().channels),await a().refreshUndoRedoStatus()}catch(i){console.error("Failed to update channel volume:",i),oe.error("Failed to update channel volume")}},updateChannelPan:async(o,s)=>{try{const i=await pe.mixer.updateChannel(o,{pan:s});t(u=>({channels:u.channels.map(d=>d.id===o?i:d)})),Ae.broadcastState("channels",a().channels),await a().refreshUndoRedoStatus()}catch(i){console.error("Failed to update channel pan:",i),oe.error("Failed to update channel pan")}},toggleChannelMute:async o=>{try{const s=a().channels.find(u=>u.id===o);if(!s)return;const i=await pe.mixer.updateChannel(o,{mute:!s.mute});t(u=>({channels:u.channels.map(d=>d.id===o?i:d)})),Ae.broadcastState("channels",a().channels),await a().refreshUndoRedoStatus()}catch(s){console.error("Failed to toggle channel mute:",s),oe.error("Failed to toggle channel mute")}},toggleChannelSolo:async o=>{try{const s=a().channels.find(u=>u.id===o);if(!s)return;const i=await pe.mixer.updateChannel(o,{solo:!s.solo});t(u=>({channels:u.channels.map(d=>d.id===o?i:d)})),Ae.broadcastState("channels",a().channels),await a().refreshUndoRedoStatus()}catch(s){console.error("Failed to toggle channel solo:",s),oe.error("Failed to toggle channel solo")}},loadMaster:async()=>{try{const o=await pe.mixer.getMaster();t({master:o}),Ae.broadcastState("master",o)}catch(o){console.error("Failed to load master channel:",o),oe.error("Failed to load master channel")}},updateMasterFader:async o=>{try{const s=await pe.mixer.updateMaster({fader:o});t({master:s}),Ae.broadcastState("master",s),await a().refreshUndoRedoStatus()}catch(s){console.error("Failed to update master fader:",s),oe.error("Failed to update master fader")}},toggleMasterMute:async()=>{try{const{master:o}=a();if(!o)return;const s=await pe.mixer.updateMaster({mute:!o.mute});t({master:s}),Ae.broadcastState("master",s),await a().refreshUndoRedoStatus()}catch(o){console.error("Failed to toggle master mute:",o),oe.error("Failed to toggle master mute")}},toggleLimiter:async()=>{try{const{master:o}=a();if(!o)return;const s=await pe.mixer.updateMaster({limiter_enabled:!o.limiter_enabled});t({master:s}),Ae.broadcastState("master",s),await a().refreshUndoRedoStatus()}catch(o){console.error("Failed to toggle limiter:",o),oe.error("Failed to toggle limiter")}},setLimiterThreshold:async o=>{try{const s=await pe.mixer.updateMaster({limiter_threshold:o});t({master:s}),Ae.broadcastState("master",s),await a().refreshUndoRedoStatus()}catch(s){console.error("Failed to set limiter threshold:",s),oe.error("Failed to set limiter threshold")}},loadEffectDefinitions:async()=>{try{const o=await pe.effects.getDefinitions();t({effectDefinitions:o}),Ae.broadcastState("effectDefinitions",o)}catch(o){console.error("Failed to load effect definitions:",o),oe.error("Failed to load effect definitions")}},loadEffectChain:async o=>{try{const s=await pe.effects.getTrackEffectChain(o);t(i=>({effectChains:{...i.effectChains,[o]:s}})),Ae.broadcastState("effectChains",a().effectChains)}catch(s){console.error("Failed to load effect chain:",s),oe.error("Failed to load effect chain")}},loadEffectChains:async o=>{try{const s={};for(const i of o)s[i.track_id]=i;t({effectChains:s}),Ae.broadcastState("effectChains",s)}catch(s){throw console.error("Failed to load effect chains:",s),oe.error("Failed to load effect chains"),s}},addEffect:async(o,s,i)=>{try{const u=await pe.effects.addEffect({track_id:o,effect_name:s,slot_index:i});t(d=>{const p=d.effectChains[o]||{track_id:o,effects:[]},h=[...p.effects,u],m={...p,effects:h};return{effectChains:{...d.effectChains,[o]:m}}}),Ae.broadcastState("effectChains",a().effectChains),oe.success(`Added effect: ${s}`)}catch(u){console.error("Failed to add effect:",u),oe.error("Failed to add effect")}},deleteEffect:async o=>{try{await pe.effects.deleteEffect(o),t(s=>{const i={...s.effectChains};return Object.keys(i).forEach(u=>{i[u]={...i[u],effects:i[u].effects.filter(d=>d.id!==o)}}),{effectChains:i}}),Ae.broadcastState("effectChains",a().effectChains),oe.success("Effect deleted"),await a().refreshUndoRedoStatus()}catch(s){console.error("Failed to delete effect:",s),oe.error("Failed to delete effect")}},moveEffect:async(o,s)=>{try{await pe.effects.moveEffect(o,{new_slot_index:s}),t(i=>{const u={...i.effectChains};return Object.keys(u).forEach(d=>{const p=u[d].effects.findIndex(h=>h.id===o);if(p!==-1){const h=[...u[d].effects],[m]=h.splice(p,1);h.splice(s,0,m),u[d]={...u[d],effects:h}}}),{effectChains:u}})}catch(i){console.error("Failed to move effect:",i),oe.error("Failed to move effect")}},toggleEffectBypass:async o=>{try{let s=!1;const{effectChains:i}=a();Object.values(i).forEach(u=>{const d=u.effects.find(p=>p.id===o);d&&(s=d.is_bypassed)}),await pe.effects.updateEffect(o,{bypassed:!s}),t(u=>{const d={...u.effectChains};return Object.keys(d).forEach(p=>{d[p]={...d[p],effects:d[p].effects.map(h=>h.id===o?{...h,bypassed:!s}:h)}}),{effectChains:d}}),await a().refreshUndoRedoStatus()}catch(s){console.error("Failed to toggle effect bypass:",s),oe.error("Failed to toggle effect bypass")}},updateEffectParameter:async(o,s,i)=>{try{await pe.effects.updateEffect(o,{parameters:{[s]:i}}),t(u=>{const d={...u.effectChains};return Object.keys(d).forEach(p=>{d[p]={...d[p],effects:d[p].effects.map(h=>h.id===o?{...h,parameters:{...h.parameters,[s]:i}}:h)}}),{effectChains:d}}),await a().refreshUndoRedoStatus()}catch(u){console.error("Failed to update effect parameter:",u),oe.error("Failed to update effect parameter")}},loadSamples:async()=>{try{const o=await pe.samples.getAll();t({samples:o.samples}),Ae.broadcastState("samples",o.samples)}catch(o){console.error("Failed to load samples:",o),oe.error("Failed to load samples")}},uploadSample:async(o,s,i="Uncategorized")=>{try{await pe.samples.upload(o,s,i),await a().loadSamples(),oe.success(`Uploaded sample: ${s}`)}catch(u){console.error("Failed to upload sample:",u),oe.error("Failed to upload sample")}},deleteSample:async o=>{try{await pe.samples.deleteSample(o),await a().loadSamples(),oe.success("Sample deleted"),await a().refreshUndoRedoStatus()}catch(s){console.error("Failed to delete sample:",s),oe.error("Failed to delete sample")}},updateSample:async(o,s,i)=>{try{await pe.samples.update(o,{name:s,category:i}),await a().loadSamples(),oe.success("Sample updated"),await a().refreshUndoRedoStatus()}catch(u){console.error("Failed to update sample:",u),oe.error("Failed to update sample")}},loadSampleAssignments:async o=>{try{t({sampleAssignments:o}),Ae.broadcastState("sampleAssignments",o)}catch(s){throw console.error("Failed to load sample assignments:",s),oe.error("Failed to load sample assignments"),s}},assignSample:(o,s)=>{t(i=>{const u={...i.sampleAssignments,[o]:s};return Ae.broadcastState("sampleAssignments",u),{sampleAssignments:u}})},unassignSample:o=>{t(s=>{const i={...s.sampleAssignments};return delete i[o],Ae.broadcastState("sampleAssignments",i),{sampleAssignments:i}})},createSynth:async(o,s,i,u)=>{try{const d=await pe.audio.createSynth({synthdef:o,params:s,group:i,bus:u??void 0}),p={id:d.synth_id,synthdef:o,group:i??d.group,bus:u??null};return t(h=>({activeSynths:{...h.activeSynths,[p.id]:p}})),p}catch(d){throw console.error("Failed to create synth:",d),oe.error("Failed to create synth"),d}},setSynthParam:async(o,s,i)=>{try{await pe.audio.setSynthParam(o,{param:s,value:i})}catch(u){console.error("Failed to set synth param:",u),oe.error("Failed to set synth param")}},releaseSynth:async o=>{try{await pe.audio.deleteSynth(o,!0)}catch(s){console.error("Failed to release synth:",s),oe.error("Failed to release synth")}},freeSynth:async(o,s=!1)=>{try{await pe.audio.deleteSynth(o,!s),t(i=>{const u={...i.activeSynths};return delete u[o],{activeSynths:u}})}catch(i){console.error("Failed to free synth:",i),oe.error("Failed to free synth")}},freeAllSynths:async()=>{try{await pe.audio.deleteAllSynths(),t({activeSynths:{}})}catch(o){console.error("Failed to free all synths:",o),oe.error("Failed to free all synths")}},previewNote:async(o,s=100,i=1,u="default")=>{try{await pe.audio.previewNote({note:o,velocity:s,duration:i,synthdef:u})}catch(d){console.error("Failed to preview note:",d),oe.error("Failed to preview note")}},loadCompositions:async()=>{try{const o=await pe.compositions.list();t({compositions:o.compositions})}catch(o){console.error("Failed to load compositions:",o),oe.error("Failed to load compositions")}},initialize:async()=>{try{console.log(" Initializing DAW store..."),await a().loadCompositions();const{_persistedCompositionId:o}=a();console.log(" Checking for persisted composition ID:",o),o?(console.log(` Auto-loading last composition: ${o}`),await a().loadComposition(o)):console.log(" No persisted composition ID found - showing composition loader")}catch(o){console.error("Failed to initialize store:",o)}},createComposition:async(o,s=120,i="4/4")=>{try{const u=await pe.compositions.create({name:o,tempo:s,time_signature:i});await a().loadComposition(u.composition_id),await a().loadCompositions(),oe.success(`Created composition: ${o}`)}catch(u){throw console.error("Failed to create composition:",u),oe.error("Failed to create composition"),u}},loadComposition:async o=>{try{const s=await pe.compositions.getById(o),i=s.tracks||[],u=s.clips||[],d=s.mixer_state?.channels||[],p=s.mixer_state?.master||null,h=s.track_effects||[],m={};h.forEach(x=>{m[x.track_id]=x});const y=s.sample_assignments||{};t({activeComposition:s,tracks:i,clips:u,channels:d,master:p,effectChains:m,sampleAssignments:y,hasUnsavedChanges:!1,isLooping:s.loop_enabled??!1,loopStart:s.loop_start??0,loopEnd:s.loop_end??16}),Ae.broadcastState("activeComposition",s),Ae.broadcastState("tracks",i),Ae.broadcastState("clips",u),Ae.broadcastState("channels",d),Ae.broadcastState("master",p),Ae.broadcastState("effectChains",m),Ae.broadcastState("sampleAssignments",y),oe.success(`Loaded composition: ${s.name}`),await a().refreshUndoRedoStatus()}catch(s){throw console.error("Failed to load composition:",s),oe.error("Failed to load composition"),s}},refreshUndoRedoStatus:async()=>{try{const{activeComposition:o}=a();if(!o)return;const s=await pe.compositions.getUndoRedoStatus(o.id);t({canUndo:s.can_undo||!1,canRedo:s.can_redo||!1})}catch(o){console.error("Failed to refresh undo/redo status:",o)}},saveComposition:async(o=!0,s=!1)=>{try{const{activeComposition:i}=a();if(!i)throw new Error("No active composition to save");await pe.compositions.saveComposition(i.id,o,s),t({hasUnsavedChanges:!1}),s||oe.success(`Saved composition: ${i.name}`),await a().loadCompositions()}catch(i){throw console.error("Failed to save composition:",i),s||oe.error("Failed to save composition"),i}},updateCompositionMetadata:async(o,s,i)=>{try{const{activeComposition:u}=a();if(!u)throw new Error("No active composition");await pe.compositions.update(u.id,{name:o,tempo:s,time_signature:i});const d={...u};o&&(d.name=o),s&&(d.tempo=s),i&&(d.time_signature=i),t({activeComposition:d}),oe.success("Composition updated")}catch(u){throw console.error("Failed to update composition:",u),oe.error("Failed to update composition"),u}},deleteComposition:async o=>{try{await pe.compositions.deleteComposition(o);const{activeComposition:s}=a();s?.id===o&&t({activeComposition:null,tracks:[],clips:[],channels:[],master:null,effectChains:{},sampleAssignments:{}}),await a().loadCompositions(),oe.success("Composition deleted")}catch(s){throw console.error("Failed to delete composition:",s),oe.error("Failed to delete composition"),s}},markCompositionChanged:()=>{t({hasUnsavedChanges:!0})},markCompositionSaved:()=>{t({hasUnsavedChanges:!1})},setZoom:o=>{t({zoom:o})},setSnapEnabled:o=>{t({snapEnabled:o})},setGridSize:o=>{t({gridSize:o})},setIsLooping:async o=>{t({isLooping:o});const{activeComposition:s,loopStart:i,loopEnd:u}=a();if(s){const d={...s,loop_enabled:o};t({activeComposition:d});try{await pe.playback.setLoop(o,i,u)}catch(p){console.error("Failed to update loop enabled:",p)}}},setLoopStart:async o=>{t({loopStart:o});const{activeComposition:s,isLooping:i,loopEnd:u}=a();if(s){const d={...s,loop_start:o};t({activeComposition:d});try{await pe.playback.setLoop(i,o,u)}catch(p){console.error("Failed to update loop start:",p)}}},setLoopEnd:async o=>{t({loopEnd:o});const{activeComposition:s,isLooping:i,loopStart:u}=a();if(s){const d={...s,loop_end:o};t({activeComposition:d});try{await pe.playback.setLoop(i,u,o)}catch(p){console.error("Failed to update loop end:",p)}}},setSelectedClipId:o=>t({selectedClipId:o}),setClipDragState:(o,s)=>{t(s===null?i=>{const u=new Map(i.clipDragStates);return u.delete(o),{clipDragStates:u}}:i=>{const u=new Map(i.clipDragStates);return u.set(o,s),{clipDragStates:u}})},clearClipDragState:o=>{t(s=>{const i=new Map(s.clipDragStates);return i.delete(o),{clipDragStates:i}})},clearAllClipDragStates:()=>{t({clipDragStates:new Map})},setTimelineScrollLeft:o=>t({timelineScrollLeft:o}),setPianoRollScrollLeft:o=>t({pianoRollScrollLeft:o}),setSampleEditorScrollLeft:o=>t({sampleEditorScrollLeft:o}),setShowSampleBrowser:o=>t({showSampleBrowser:o}),setShowSequenceManager:o=>t({showSequenceManager:o}),setShowSequenceSettings:o=>t({showSequenceSettings:o}),openPianoRoll:o=>t({showPianoRoll:!0,pianoRollClipId:o}),closePianoRoll:()=>t({showPianoRoll:!1,pianoRollClipId:null}),openSampleEditor:o=>t({showSampleEditor:!0,sampleEditorClipId:o}),closeSampleEditor:()=>t({showSampleEditor:!1,sampleEditorClipId:null}),setShowMeters:o=>t({showMeters:o}),setMeterMode:o=>t({meterMode:o}),setSelectedChannelId:o=>t({selectedChannelId:o}),setSelectedEffectId:o=>t({selectedEffectId:o}),setShowEffectBrowser:o=>t({showEffectBrowser:o}),addChatMessage:o=>{t(s=>({chatHistory:[...s.chatHistory,o]})),Ae.broadcastState("chatHistory",a().chatHistory)},clearChatHistory:()=>{t({chatHistory:[]}),Ae.broadcastState("chatHistory",[])},addAnalysisEvent:o=>{t(s=>({analysisEvents:[...s.analysisEvents,o]})),Ae.broadcastState("analysisEvents",a().analysisEvents)},clearAnalysisEvents:()=>{t({analysisEvents:[]}),Ae.broadcastState("analysisEvents",[])},setDAWStateSnapshot:o=>{t({dawStateSnapshot:o}),Ae.broadcastState("dawStateSnapshot",o)},setAIContext:o=>{t({aiContext:o}),Ae.broadcastState("aiContext",o)},setActiveAssistantTab:o=>{t({activeAssistantTab:o})},setIsSendingMessage:o=>{t({isSendingMessage:o})},setActiveInputsTab:o=>{t({activeInputsTab:o})},setIsLoadingAssistantState:o=>{t({isLoadingAssistantState:o})},sendMessage:async o=>{try{t({isSendingMessage:!0});const s={id:`msg-${Date.now()}`,role:"user",content:o,timestamp:new Date().toISOString()};a().addChatMessage(s);const i=await pe.assistant.chat({message:o}),u={id:`msg-${Date.now()}-response`,role:"assistant",content:i.response,timestamp:new Date().toISOString(),actions_executed:i.actions_executed};if(a().addChatMessage(u),i.musical_context&&a().setAIContext(i.musical_context),i.actions_executed&&i.actions_executed.length>0){const d={id:`event-${Date.now()}`,type:"action",message:`Executed ${i.actions_executed.length} action(s)`,timestamp:new Date().toISOString(),metadata:{actions:i.actions_executed}};a().addAnalysisEvent(d)}}catch(s){console.error("Failed to send message:",s),oe.error("Failed to send message")}finally{t({isSendingMessage:!1})}},refreshAssistantState:async()=>{try{t({isLoadingAssistantState:!0});const o=await pe.assistant.getState({});a().setDAWStateSnapshot(o.full_state);const s=await pe.assistant.getContext();a().setAIContext(s.context),oe.success("Assistant state refreshed")}catch(o){console.error("Failed to refresh assistant state:",o),oe.error("Failed to refresh assistant state")}finally{t({isLoadingAssistantState:!1})}},startActivity:(o,s,i={})=>{const u=`activity-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,d={id:u,action:o,status:"in-progress",message:s,timestamp:Date.now(),duration:i.duration,targetId:i.targetId,targetType:i.targetType,tabId:i.tabId,metadata:i.metadata};return t(p=>({activities:[...p.activities,d],isAIActive:!0})),Ae.broadcastState("ai-activity",{activities:a().activities,activityHistory:a().activityHistory,isAIActive:!0}),u},completeActivity:(o,s,i)=>{t(u=>{const d=u.activities.find(y=>y.id===o);if(!d)return u;const p={...d,status:s?"success":"error",message:i||d.message},h=u.activities.filter(y=>y.id!==o),m=[p,...u.activityHistory].slice(0,50);return{activities:h,activityHistory:m,isAIActive:h.length>0}}),Ae.broadcastState("ai-activity",{activities:a().activities,activityHistory:a().activityHistory,isAIActive:a().isAIActive}),setTimeout(()=>{t(u=>({activityHistory:u.activityHistory.filter(d=>d.id!==o)}))},5e3)},updateActivity:(o,s)=>{t(i=>({activities:i.activities.map(u=>u.id===o?{...u,...s}:u)})),Ae.broadcastState("ai-activity",{activities:a().activities,activityHistory:a().activityHistory,isAIActive:a().isAIActive})},clearActivities:()=>{t({activities:[],isAIActive:!1}),Ae.broadcastState("ai-activity",{activities:[],activityHistory:a().activityHistory,isAIActive:!1})},clearActivityHistory:()=>{t({activityHistory:[]}),Ae.broadcastState("ai-activity",{activities:a().activities,activityHistory:[],isAIActive:a().isAIActive})},getActivitiesForTarget:o=>a().activities.filter(s=>s.targetId===o),getActivitiesForTab:o=>a().activities.filter(s=>s.tabId===o),getActivityById:o=>a().activities.find(s=>s.id===o),undo:async()=>{try{const{activeComposition:o,canUndo:s}=a();if(!o){oe.error("No active composition");return}if(!s){oe.error("Nothing to undo");return}const i=await pe.compositions.undo(o.id),u=i.composition,d=u.tracks||[],p=u.clips||[],h=u.mixer_state?.channels||[],m=u.mixer_state?.master||null,y=u.track_effects||[],x={};y.forEach(N=>{x[N.track_id]=N});const C=u.sample_assignments||{};t({activeComposition:u,tracks:d,clips:p,channels:h,master:m,effectChains:x,sampleAssignments:C,canUndo:i.can_undo||!1,canRedo:i.can_redo||!1}),oe.success("Undone")}catch(o){console.error("Failed to undo:",o),oe.error("Failed to undo action")}},redo:async()=>{try{const{activeComposition:o,canRedo:s}=a();if(!o){oe.error("No active composition");return}if(!s){oe.error("Nothing to redo");return}const i=await pe.compositions.redo(o.id),u=i.composition,d=u.tracks||[],p=u.clips||[],h=u.mixer_state?.channels||[],m=u.mixer_state?.master||null,y=u.track_effects||[],x={};y.forEach(N=>{x[N.track_id]=N});const C=u.sample_assignments||{};t({activeComposition:u,tracks:d,clips:p,channels:h,master:m,effectChains:x,sampleAssignments:C,canUndo:i.can_undo||!1,canRedo:i.can_redo||!1}),oe.success("Redone")}catch(o){console.error("Failed to redo:",o),oe.error("Failed to redo action")}}}),{name:"sonic-claude-daw",version:1,partialize:t=>({zoom:t.zoom,snapEnabled:t.snapEnabled,gridSize:t.gridSize,showMeters:t.showMeters,meterMode:t.meterMode,activeAssistantTab:t.activeAssistantTab,activeInputsTab:t.activeInputsTab,_persistedCompositionId:t.activeComposition?.id||null,showSampleBrowser:t.showSampleBrowser,showSequenceManager:t.showSequenceManager,showSequenceSettings:t.showSequenceSettings,showEffectBrowser:t.showEffectBrowser,selectedChannelId:t.selectedChannelId,selectedEffectId:t.selectedEffectId}),merge:(t,a)=>({...a,...t}),onRehydrateStorage:()=>(console.log(" Zustand persist: Starting hydration..."),(t,a)=>{a?console.error(" Zustand persist: Hydration failed:",a):console.log(" Zustand persist: Hydration complete",t)})})));function ty(t,a){if(typeof t=="function")return t(a);t!=null&&(t.current=a)}function Wc(...t){return a=>{let o=!1;const s=t.map(i=>{const u=ty(i,a);return!o&&typeof u=="function"&&(o=!0),u});if(o)return()=>{for(let i=0;i<s.length;i++){const u=s[i];typeof u=="function"?u():ty(t[i],null)}}}}function Ye(...t){return g.useCallback(Wc(...t),t)}function cr(t){const a=QT(t),o=g.forwardRef((s,i)=>{const{children:u,...d}=s,p=g.Children.toArray(u),h=p.find(ZT);if(h){const m=h.props.children,y=p.map(x=>x===h?g.Children.count(m)>1?g.Children.only(null):g.isValidElement(m)?m.props.children:null:x);return c.jsx(a,{...d,ref:i,children:g.isValidElement(m)?g.cloneElement(m,void 0,y):null})}return c.jsx(a,{...d,ref:i,children:u})});return o.displayName=`${t}.Slot`,o}var Y0=cr("Slot");function QT(t){const a=g.forwardRef((o,s)=>{const{children:i,...u}=o;if(g.isValidElement(i)){const d=eM(i),p=JT(u,i.props);return i.type!==g.Fragment&&(p.ref=s?Wc(s,d):d),g.cloneElement(i,p)}return g.Children.count(i)>1?g.Children.only(null):null});return a.displayName=`${t}.SlotClone`,a}var V0=Symbol("radix.slottable");function X0(t){const a=({children:o})=>c.jsx(c.Fragment,{children:o});return a.displayName=`${t}.Slottable`,a.__radixId=V0,a}function ZT(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===V0}function JT(t,a){const o={...a};for(const s in a){const i=t[s],u=a[s];/^on[A-Z]/.test(s)?i&&u?o[s]=(...p)=>{const h=u(...p);return i(...p),h}:i&&(o[s]=i):s==="style"?o[s]={...i,...u}:s==="className"&&(o[s]=[i,u].filter(Boolean).join(" "))}return{...t,...o}}function eM(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,o=a&&"isReactWarning"in a&&a.isReactWarning;return o?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,o=a&&"isReactWarning"in a&&a.isReactWarning,o?t.props.ref:t.props.ref||t.ref)}var tM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=tM.reduce((t,a)=>{const o=cr(`Primitive.${a}`),s=g.forwardRef((i,u)=>{const{asChild:d,...p}=i,h=d?o:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...p,ref:u})});return s.displayName=`Primitive.${a}`,{...t,[a]:s}},{});function K0(t,a){t&&Hi.flushSync(()=>t.dispatchEvent(a))}var W0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nM="VisuallyHidden",Q0=g.forwardRef((t,a)=>c.jsx(Le.span,{...t,ref:a,style:{...W0,...t.style}}));Q0.displayName=nM;var aM=Q0;function oM(t,a){const o=g.createContext(a),s=u=>{const{children:d,...p}=u,h=g.useMemo(()=>p,Object.values(p));return c.jsx(o.Provider,{value:h,children:d})};s.displayName=t+"Provider";function i(u){const d=g.useContext(o);if(d)return d;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${t}\``)}return[s,i]}function ua(t,a=[]){let o=[];function s(u,d){const p=g.createContext(d),h=o.length;o=[...o,d];const m=x=>{const{scope:C,children:N,...E}=x,b=C?.[t]?.[h]||p,w=g.useMemo(()=>E,Object.values(E));return c.jsx(b.Provider,{value:w,children:N})};m.displayName=u+"Provider";function y(x,C){const N=C?.[t]?.[h]||p,E=g.useContext(N);if(E)return E;if(d!==void 0)return d;throw new Error(`\`${x}\` must be used within \`${u}\``)}return[m,y]}const i=()=>{const u=o.map(d=>g.createContext(d));return function(p){const h=p?.[t]||u;return g.useMemo(()=>({[`__scope${t}`]:{...p,[t]:h}}),[p,h])}};return i.scopeName=t,[s,rM(i,...a)]}function rM(...t){const a=t[0];if(t.length===1)return a;const o=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(u){const d=s.reduce((p,{useScope:h,scopeName:m})=>{const x=h(u)[`__scope${m}`];return{...p,...x}},{});return g.useMemo(()=>({[`__scope${a.scopeName}`]:d}),[d])}};return o.scopeName=a.scopeName,o}function Qc(t){const a=t+"CollectionProvider",[o,s]=ua(a),[i,u]=o(a,{collectionRef:{current:null},itemMap:new Map}),d=b=>{const{scope:w,children:S}=b,R=St.useRef(null),T=St.useRef(new Map).current;return c.jsx(i,{scope:w,itemMap:T,collectionRef:R,children:S})};d.displayName=a;const p=t+"CollectionSlot",h=cr(p),m=St.forwardRef((b,w)=>{const{scope:S,children:R}=b,T=u(p,S),D=Ye(w,T.collectionRef);return c.jsx(h,{ref:D,children:R})});m.displayName=p;const y=t+"CollectionItemSlot",x="data-radix-collection-item",C=cr(y),N=St.forwardRef((b,w)=>{const{scope:S,children:R,...T}=b,D=St.useRef(null),k=Ye(w,D),O=u(y,S);return St.useEffect(()=>(O.itemMap.set(D,{ref:D,...T}),()=>{O.itemMap.delete(D)})),c.jsx(C,{[x]:"",ref:k,children:R})});N.displayName=y;function E(b){const w=u(t+"CollectionConsumer",b);return St.useCallback(()=>{const R=w.collectionRef.current;if(!R)return[];const T=Array.from(R.querySelectorAll(`[${x}]`));return Array.from(w.itemMap.values()).sort((O,M)=>T.indexOf(O.ref.current)-T.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:d,Slot:m,ItemSlot:N},E,s]}function he(t,a,{checkForDefaultPrevented:o=!0}={}){return function(i){if(t?.(i),o===!1||!i.defaultPrevented)return a?.(i)}}var cn=globalThis?.document?g.useLayoutEffect:()=>{},sM=c0[" useInsertionEffect ".trim().toString()]||cn;function ur({prop:t,defaultProp:a,onChange:o=()=>{},caller:s}){const[i,u,d]=iM({defaultProp:a,onChange:o}),p=t!==void 0,h=p?t:i;{const y=g.useRef(t!==void 0);g.useEffect(()=>{const x=y.current;x!==p&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=p},[p,s])}const m=g.useCallback(y=>{if(p){const x=lM(y)?y(t):y;x!==t&&d.current?.(x)}else u(y)},[p,t,u,d]);return[h,m]}function iM({defaultProp:t,onChange:a}){const[o,s]=g.useState(t),i=g.useRef(o),u=g.useRef(a);return sM(()=>{u.current=a},[a]),g.useEffect(()=>{i.current!==o&&(u.current?.(o),i.current=o)},[o,i]),[o,s,u]}function lM(t){return typeof t=="function"}function cM(t,a){return g.useReducer((o,s)=>a[o][s]??o,t)}var Ra=t=>{const{present:a,children:o}=t,s=uM(a),i=typeof o=="function"?o({present:s.isPresent}):g.Children.only(o),u=Ye(s.ref,dM(i));return typeof o=="function"||s.isPresent?g.cloneElement(i,{ref:u}):null};Ra.displayName="Presence";function uM(t){const[a,o]=g.useState(),s=g.useRef(null),i=g.useRef(t),u=g.useRef("none"),d=t?"mounted":"unmounted",[p,h]=cM(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const m=ic(s.current);u.current=p==="mounted"?m:"none"},[p]),cn(()=>{const m=s.current,y=i.current;if(y!==t){const C=u.current,N=ic(m);t?h("MOUNT"):N==="none"||m?.display==="none"?h("UNMOUNT"):h(y&&C!==N?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),cn(()=>{if(a){let m;const y=a.ownerDocument.defaultView??window,x=N=>{const b=ic(s.current).includes(CSS.escape(N.animationName));if(N.target===a&&b&&(h("ANIMATION_END"),!i.current)){const w=a.style.animationFillMode;a.style.animationFillMode="forwards",m=y.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=w)})}},C=N=>{N.target===a&&(u.current=ic(s.current))};return a.addEventListener("animationstart",C),a.addEventListener("animationcancel",x),a.addEventListener("animationend",x),()=>{y.clearTimeout(m),a.removeEventListener("animationstart",C),a.removeEventListener("animationcancel",x),a.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[a,h]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:g.useCallback(m=>{s.current=m?getComputedStyle(m):null,o(m)},[])}}function ic(t){return t?.animationName||"none"}function dM(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,o=a&&"isReactWarning"in a&&a.isReactWarning;return o?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,o=a&&"isReactWarning"in a&&a.isReactWarning,o?t.props.ref:t.props.ref||t.ref)}var fM=c0[" useId ".trim().toString()]||(()=>{}),pM=0;function Sa(t){const[a,o]=g.useState(fM());return cn(()=>{o(s=>s??String(pM++))},[t]),a?`radix-${a}`:""}var mM=g.createContext(void 0);function Zc(t){const a=g.useContext(mM);return t||a||"ltr"}function ia(t){const a=g.useRef(t);return g.useEffect(()=>{a.current=t}),g.useMemo(()=>(...o)=>a.current?.(...o),[])}function hM(t,a=globalThis?.document){const o=ia(t);g.useEffect(()=>{const s=i=>{i.key==="Escape"&&o(i)};return a.addEventListener("keydown",s,{capture:!0}),()=>a.removeEventListener("keydown",s,{capture:!0})},[o,a])}var gM="DismissableLayer",pp="dismissableLayer.update",vM="dismissableLayer.pointerDownOutside",xM="dismissableLayer.focusOutside",ny,Z0=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ii=g.forwardRef((t,a)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:d,onDismiss:p,...h}=t,m=g.useContext(Z0),[y,x]=g.useState(null),C=y?.ownerDocument??globalThis?.document,[,N]=g.useState({}),E=Ye(a,M=>x(M)),b=Array.from(m.layers),[w]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),S=b.indexOf(w),R=y?b.indexOf(y):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,D=R>=S,k=wM(M=>{const _=M.target,P=[...m.branches].some($=>$.contains(_));!D||P||(i?.(M),d?.(M),M.defaultPrevented||p?.())},C),O=SM(M=>{const _=M.target;[...m.branches].some($=>$.contains(_))||(u?.(M),d?.(M),M.defaultPrevented||p?.())},C);return hM(M=>{R===m.layers.size-1&&(s?.(M),!M.defaultPrevented&&p&&(M.preventDefault(),p()))},C),g.useEffect(()=>{if(y)return o&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(ny=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),ay(),()=>{o&&m.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=ny)}},[y,C,o,m]),g.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),ay())},[y,m]),g.useEffect(()=>{const M=()=>N({});return document.addEventListener(pp,M),()=>document.removeEventListener(pp,M)},[]),c.jsx(Le.div,{...h,ref:E,style:{pointerEvents:T?D?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,O.onFocusCapture),onBlurCapture:he(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,k.onPointerDownCapture)})});Ii.displayName=gM;var yM="DismissableLayerBranch",bM=g.forwardRef((t,a)=>{const o=g.useContext(Z0),s=g.useRef(null),i=Ye(a,s);return g.useEffect(()=>{const u=s.current;if(u)return o.branches.add(u),()=>{o.branches.delete(u)}},[o.branches]),c.jsx(Le.div,{...t,ref:i})});bM.displayName=yM;function wM(t,a=globalThis?.document){const o=ia(t),s=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const u=p=>{if(p.target&&!s.current){let h=function(){J0(vM,o,m,{discrete:!0})};const m={originalEvent:p};p.pointerType==="touch"?(a.removeEventListener("click",i.current),i.current=h,a.addEventListener("click",i.current,{once:!0})):h()}else a.removeEventListener("click",i.current);s.current=!1},d=window.setTimeout(()=>{a.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(d),a.removeEventListener("pointerdown",u),a.removeEventListener("click",i.current)}},[a,o]),{onPointerDownCapture:()=>s.current=!0}}function SM(t,a=globalThis?.document){const o=ia(t),s=g.useRef(!1);return g.useEffect(()=>{const i=u=>{u.target&&!s.current&&J0(xM,o,{originalEvent:u},{discrete:!1})};return a.addEventListener("focusin",i),()=>a.removeEventListener("focusin",i)},[a,o]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ay(){const t=new CustomEvent(pp);document.dispatchEvent(t)}function J0(t,a,o,{discrete:s}){const i=o.originalEvent.target,u=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:o});a&&i.addEventListener(t,a,{once:!0}),s?K0(i,u):i.dispatchEvent(u)}var qf="focusScope.autoFocusOnMount",Ff="focusScope.autoFocusOnUnmount",oy={bubbles:!1,cancelable:!0},CM="FocusScope",Jc=g.forwardRef((t,a)=>{const{loop:o=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:u,...d}=t,[p,h]=g.useState(null),m=ia(i),y=ia(u),x=g.useRef(null),C=Ye(a,b=>h(b)),N=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let b=function(T){if(N.paused||!p)return;const D=T.target;p.contains(D)?x.current=D:Oo(x.current,{select:!0})},w=function(T){if(N.paused||!p)return;const D=T.relatedTarget;D!==null&&(p.contains(D)||Oo(x.current,{select:!0}))},S=function(T){if(document.activeElement===document.body)for(const k of T)k.removedNodes.length>0&&Oo(p)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const R=new MutationObserver(S);return p&&R.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),R.disconnect()}}},[s,p,N.paused]),g.useEffect(()=>{if(p){sy.add(N);const b=document.activeElement;if(!p.contains(b)){const S=new CustomEvent(qf,oy);p.addEventListener(qf,m),p.dispatchEvent(S),S.defaultPrevented||(NM(MM(eb(p)),{select:!0}),document.activeElement===b&&Oo(p))}return()=>{p.removeEventListener(qf,m),setTimeout(()=>{const S=new CustomEvent(Ff,oy);p.addEventListener(Ff,y),p.dispatchEvent(S),S.defaultPrevented||Oo(b??document.body,{select:!0}),p.removeEventListener(Ff,y),sy.remove(N)},0)}}},[p,m,y,N]);const E=g.useCallback(b=>{if(!o&&!s||N.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,S=document.activeElement;if(w&&S){const R=b.currentTarget,[T,D]=EM(R);T&&D?!b.shiftKey&&S===D?(b.preventDefault(),o&&Oo(T,{select:!0})):b.shiftKey&&S===T&&(b.preventDefault(),o&&Oo(D,{select:!0})):S===R&&b.preventDefault()}},[o,s,N.paused]);return c.jsx(Le.div,{tabIndex:-1,...d,ref:C,onKeyDown:E})});Jc.displayName=CM;function NM(t,{select:a=!1}={}){const o=document.activeElement;for(const s of t)if(Oo(s,{select:a}),document.activeElement!==o)return}function EM(t){const a=eb(t),o=ry(a,t),s=ry(a.reverse(),t);return[o,s]}function eb(t){const a=[],o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)a.push(o.currentNode);return a}function ry(t,a){for(const o of t)if(!jM(o,{upTo:a}))return o}function jM(t,{upTo:a}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(a!==void 0&&t===a)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function RM(t){return t instanceof HTMLInputElement&&"select"in t}function Oo(t,{select:a=!1}={}){if(t&&t.focus){const o=document.activeElement;t.focus({preventScroll:!0}),t!==o&&RM(t)&&a&&t.select()}}var sy=TM();function TM(){let t=[];return{add(a){const o=t[0];a!==o&&o?.pause(),t=iy(t,a),t.unshift(a)},remove(a){t=iy(t,a),t[0]?.resume()}}}function iy(t,a){const o=[...t],s=o.indexOf(a);return s!==-1&&o.splice(s,1),o}function MM(t){return t.filter(a=>a.tagName!=="A")}var _M="Portal",$i=g.forwardRef((t,a)=>{const{container:o,...s}=t,[i,u]=g.useState(!1);cn(()=>u(!0),[]);const d=o||i&&globalThis?.document?.body;return d?qj.createPortal(c.jsx(Le.div,{...s,ref:a}),d):null});$i.displayName=_M;var Gf=0;function Qp(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ly()),document.body.insertAdjacentElement("beforeend",t[1]??ly()),Gf++,()=>{Gf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Gf--}},[])}function ly(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ya=function(){return ya=Object.assign||function(a){for(var o,s=1,i=arguments.length;s<i;s++){o=arguments[s];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(a[u]=o[u])}return a},ya.apply(this,arguments)};function tb(t,a){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)a.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(o[s[i]]=t[s[i]]);return o}function DM(t,a,o){if(o||arguments.length===2)for(var s=0,i=a.length,u;s<i;s++)(u||!(s in a))&&(u||(u=Array.prototype.slice.call(a,0,s)),u[s]=a[s]);return t.concat(u||Array.prototype.slice.call(a))}var Nc="right-scroll-bar-position",Ec="width-before-scroll-bar",AM="with-scroll-bars-hidden",kM="--removed-body-scroll-bar-size";function Yf(t,a){return typeof t=="function"?t(a):t&&(t.current=a),t}function OM(t,a){var o=g.useState(function(){return{value:t,callback:a,facade:{get current(){return o.value},set current(s){var i=o.value;i!==s&&(o.value=s,o.callback(s,i))}}}})[0];return o.callback=a,o.facade}var zM=typeof window<"u"?g.useLayoutEffect:g.useEffect,cy=new WeakMap;function LM(t,a){var o=OM(null,function(s){return t.forEach(function(i){return Yf(i,s)})});return zM(function(){var s=cy.get(o);if(s){var i=new Set(s),u=new Set(t),d=o.current;i.forEach(function(p){u.has(p)||Yf(p,null)}),u.forEach(function(p){i.has(p)||Yf(p,d)})}cy.set(o,t)},[t]),o}function PM(t){return t}function UM(t,a){a===void 0&&(a=PM);var o=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:t},useMedium:function(u){var d=a(u,s);return o.push(d),function(){o=o.filter(function(p){return p!==d})}},assignSyncMedium:function(u){for(s=!0;o.length;){var d=o;o=[],d.forEach(u)}o={push:function(p){return u(p)},filter:function(){return o}}},assignMedium:function(u){s=!0;var d=[];if(o.length){var p=o;o=[],p.forEach(u),d=o}var h=function(){var y=d;d=[],y.forEach(u)},m=function(){return Promise.resolve().then(h)};m(),o={push:function(y){d.push(y),m()},filter:function(y){return d=d.filter(y),o}}}};return i}function HM(t){t===void 0&&(t={});var a=UM(null);return a.options=ya({async:!0,ssr:!1},t),a}var nb=function(t){var a=t.sideCar,o=tb(t,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=a.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,ya({},o))};nb.isSideCarExport=!0;function BM(t,a){return t.useMedium(a),nb}var ab=HM(),Vf=function(){},eu=g.forwardRef(function(t,a){var o=g.useRef(null),s=g.useState({onScrollCapture:Vf,onWheelCapture:Vf,onTouchMoveCapture:Vf}),i=s[0],u=s[1],d=t.forwardProps,p=t.children,h=t.className,m=t.removeScrollBar,y=t.enabled,x=t.shards,C=t.sideCar,N=t.noRelative,E=t.noIsolation,b=t.inert,w=t.allowPinchZoom,S=t.as,R=S===void 0?"div":S,T=t.gapMode,D=tb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=C,O=LM([o,a]),M=ya(ya({},D),i);return g.createElement(g.Fragment,null,y&&g.createElement(k,{sideCar:ab,removeScrollBar:m,shards:x,noRelative:N,noIsolation:E,inert:b,setCallbacks:u,allowPinchZoom:!!w,lockRef:o,gapMode:T}),d?g.cloneElement(g.Children.only(p),ya(ya({},M),{ref:O})):g.createElement(R,ya({},M,{className:h,ref:O}),p))});eu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eu.classNames={fullWidth:Ec,zeroRight:Nc};var IM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $M(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var a=IM();return a&&t.setAttribute("nonce",a),t}function qM(t,a){t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a))}function FM(t){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(t)}var GM=function(){var t=0,a=null;return{add:function(o){t==0&&(a=$M())&&(qM(a,o),FM(a)),t++},remove:function(){t--,!t&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},YM=function(){var t=GM();return function(a,o){g.useEffect(function(){return t.add(a),function(){t.remove()}},[a&&o])}},ob=function(){var t=YM(),a=function(o){var s=o.styles,i=o.dynamic;return t(s,i),null};return a},VM={left:0,top:0,right:0,gap:0},Xf=function(t){return parseInt(t||"",10)||0},XM=function(t){var a=window.getComputedStyle(document.body),o=a[t==="padding"?"paddingLeft":"marginLeft"],s=a[t==="padding"?"paddingTop":"marginTop"],i=a[t==="padding"?"paddingRight":"marginRight"];return[Xf(o),Xf(s),Xf(i)]},KM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return VM;var a=XM(t),o=document.documentElement.clientWidth,s=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,s-o+a[2]-a[0])}},WM=ob(),ds="data-scroll-locked",QM=function(t,a,o,s){var i=t.left,u=t.top,d=t.right,p=t.gap;return o===void 0&&(o="margin"),`
  .`.concat(AM,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(p,"px ").concat(s,`;
  }
  body[`).concat(ds,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(s,";"),o==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(s,`;
    `),o==="padding"&&"padding-right: ".concat(p,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nc,` {
    right: `).concat(p,"px ").concat(s,`;
  }
  
  .`).concat(Ec,` {
    margin-right: `).concat(p,"px ").concat(s,`;
  }
  
  .`).concat(Nc," .").concat(Nc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ec," .").concat(Ec,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ds,`] {
    `).concat(kM,": ").concat(p,`px;
  }
`)},uy=function(){var t=parseInt(document.body.getAttribute(ds)||"0",10);return isFinite(t)?t:0},ZM=function(){g.useEffect(function(){return document.body.setAttribute(ds,(uy()+1).toString()),function(){var t=uy()-1;t<=0?document.body.removeAttribute(ds):document.body.setAttribute(ds,t.toString())}},[])},JM=function(t){var a=t.noRelative,o=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;ZM();var u=g.useMemo(function(){return KM(i)},[i]);return g.createElement(WM,{styles:QM(u,!a,i,o?"":"!important")})},mp=!1;if(typeof window<"u")try{var lc=Object.defineProperty({},"passive",{get:function(){return mp=!0,!0}});window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{mp=!1}var as=mp?{passive:!1}:!1,e_=function(t){return t.tagName==="TEXTAREA"},rb=function(t,a){if(!(t instanceof Element))return!1;var o=window.getComputedStyle(t);return o[a]!=="hidden"&&!(o.overflowY===o.overflowX&&!e_(t)&&o[a]==="visible")},t_=function(t){return rb(t,"overflowY")},n_=function(t){return rb(t,"overflowX")},dy=function(t,a){var o=a.ownerDocument,s=a;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=sb(t,s);if(i){var u=ib(t,s),d=u[1],p=u[2];if(d>p)return!0}s=s.parentNode}while(s&&s!==o.body);return!1},a_=function(t){var a=t.scrollTop,o=t.scrollHeight,s=t.clientHeight;return[a,o,s]},o_=function(t){var a=t.scrollLeft,o=t.scrollWidth,s=t.clientWidth;return[a,o,s]},sb=function(t,a){return t==="v"?t_(a):n_(a)},ib=function(t,a){return t==="v"?a_(a):o_(a)},r_=function(t,a){return t==="h"&&a==="rtl"?-1:1},s_=function(t,a,o,s,i){var u=r_(t,window.getComputedStyle(a).direction),d=u*s,p=o.target,h=a.contains(p),m=!1,y=d>0,x=0,C=0;do{if(!p)break;var N=ib(t,p),E=N[0],b=N[1],w=N[2],S=b-w-u*E;(E||S)&&sb(t,p)&&(x+=S,C+=E);var R=p.parentNode;p=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!h&&p!==document.body||h&&(a.contains(p)||a===p));return(y&&Math.abs(x)<1||!y&&Math.abs(C)<1)&&(m=!0),m},cc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fy=function(t){return[t.deltaX,t.deltaY]},py=function(t){return t&&"current"in t?t.current:t},i_=function(t,a){return t[0]===a[0]&&t[1]===a[1]},l_=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},c_=0,os=[];function u_(t){var a=g.useRef([]),o=g.useRef([0,0]),s=g.useRef(),i=g.useState(c_++)[0],u=g.useState(ob)[0],d=g.useRef(t);g.useEffect(function(){d.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=DM([t.lockRef.current],(t.shards||[]).map(py),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var p=g.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!d.current.allowPinchZoom;var S=cc(b),R=o.current,T="deltaX"in b?b.deltaX:R[0]-S[0],D="deltaY"in b?b.deltaY:R[1]-S[1],k,O=b.target,M=Math.abs(T)>Math.abs(D)?"h":"v";if("touches"in b&&M==="h"&&O.type==="range")return!1;var _=window.getSelection(),P=_&&_.anchorNode,$=P?P===O||P.contains(O):!1;if($)return!1;var W=dy(M,O);if(!W)return!0;if(W?k=M:(k=M==="v"?"h":"v",W=dy(M,O)),!W)return!1;if(!s.current&&"changedTouches"in b&&(T||D)&&(s.current=k),!k)return!0;var Q=s.current||k;return s_(Q,w,b,Q==="h"?T:D)},[]),h=g.useCallback(function(b){var w=b;if(!(!os.length||os[os.length-1]!==u)){var S="deltaY"in w?fy(w):cc(w),R=a.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&i_(k.delta,S)})[0];if(R&&R.should){w.cancelable&&w.preventDefault();return}if(!R){var T=(d.current.shards||[]).map(py).filter(Boolean).filter(function(k){return k.contains(w.target)}),D=T.length>0?p(w,T[0]):!d.current.noIsolation;D&&w.cancelable&&w.preventDefault()}}},[]),m=g.useCallback(function(b,w,S,R){var T={name:b,delta:w,target:S,should:R,shadowParent:d_(S)};a.current.push(T),setTimeout(function(){a.current=a.current.filter(function(D){return D!==T})},1)},[]),y=g.useCallback(function(b){o.current=cc(b),s.current=void 0},[]),x=g.useCallback(function(b){m(b.type,fy(b),b.target,p(b,t.lockRef.current))},[]),C=g.useCallback(function(b){m(b.type,cc(b),b.target,p(b,t.lockRef.current))},[]);g.useEffect(function(){return os.push(u),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:C}),document.addEventListener("wheel",h,as),document.addEventListener("touchmove",h,as),document.addEventListener("touchstart",y,as),function(){os=os.filter(function(b){return b!==u}),document.removeEventListener("wheel",h,as),document.removeEventListener("touchmove",h,as),document.removeEventListener("touchstart",y,as)}},[]);var N=t.removeScrollBar,E=t.inert;return g.createElement(g.Fragment,null,E?g.createElement(u,{styles:l_(i)}):null,N?g.createElement(JM,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function d_(t){for(var a=null;t!==null;)t instanceof ShadowRoot&&(a=t.host,t=t.host),t=t.parentNode;return a}const f_=BM(ab,u_);var tu=g.forwardRef(function(t,a){return g.createElement(eu,ya({},t,{ref:a,sideCar:f_}))});tu.classNames=eu.classNames;var p_=function(t){if(typeof document>"u")return null;var a=Array.isArray(t)?t[0]:t;return a.ownerDocument.body},rs=new WeakMap,uc=new WeakMap,dc={},Kf=0,lb=function(t){return t&&(t.host||lb(t.parentNode))},m_=function(t,a){return a.map(function(o){if(t.contains(o))return o;var s=lb(o);return s&&t.contains(s)?s:(console.error("aria-hidden",o,"in not contained inside",t,". Doing nothing"),null)}).filter(function(o){return!!o})},h_=function(t,a,o,s){var i=m_(a,Array.isArray(t)?t:[t]);dc[o]||(dc[o]=new WeakMap);var u=dc[o],d=[],p=new Set,h=new Set(i),m=function(x){!x||p.has(x)||(p.add(x),m(x.parentNode))};i.forEach(m);var y=function(x){!x||h.has(x)||Array.prototype.forEach.call(x.children,function(C){if(p.has(C))y(C);else try{var N=C.getAttribute(s),E=N!==null&&N!=="false",b=(rs.get(C)||0)+1,w=(u.get(C)||0)+1;rs.set(C,b),u.set(C,w),d.push(C),b===1&&E&&uc.set(C,!0),w===1&&C.setAttribute(o,"true"),E||C.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",C,S)}})};return y(a),p.clear(),Kf++,function(){d.forEach(function(x){var C=rs.get(x)-1,N=u.get(x)-1;rs.set(x,C),u.set(x,N),C||(uc.has(x)||x.removeAttribute(s),uc.delete(x)),N||x.removeAttribute(o)}),Kf--,Kf||(rs=new WeakMap,rs=new WeakMap,uc=new WeakMap,dc={})}},Zp=function(t,a,o){o===void 0&&(o="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=p_(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),h_(s,i,o,"aria-hidden")):function(){return null}},nu="Dialog",[cb,ub]=ua(nu),[g_,da]=cb(nu),db=t=>{const{__scopeDialog:a,children:o,open:s,defaultOpen:i,onOpenChange:u,modal:d=!0}=t,p=g.useRef(null),h=g.useRef(null),[m,y]=ur({prop:s,defaultProp:i??!1,onChange:u,caller:nu});return c.jsx(g_,{scope:a,triggerRef:p,contentRef:h,contentId:Sa(),titleId:Sa(),descriptionId:Sa(),open:m,onOpenChange:y,onOpenToggle:g.useCallback(()=>y(x=>!x),[y]),modal:d,children:o})};db.displayName=nu;var fb="DialogTrigger",pb=g.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,i=da(fb,o),u=Ye(a,i.triggerRef);return c.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":tm(i.open),...s,ref:u,onClick:he(t.onClick,i.onOpenToggle)})});pb.displayName=fb;var Jp="DialogPortal",[v_,mb]=cb(Jp,{forceMount:void 0}),hb=t=>{const{__scopeDialog:a,forceMount:o,children:s,container:i}=t,u=da(Jp,a);return c.jsx(v_,{scope:a,forceMount:o,children:g.Children.map(s,d=>c.jsx(Ra,{present:o||u.open,children:c.jsx($i,{asChild:!0,container:i,children:d})}))})};hb.displayName=Jp;var _c="DialogOverlay",gb=g.forwardRef((t,a)=>{const o=mb(_c,t.__scopeDialog),{forceMount:s=o.forceMount,...i}=t,u=da(_c,t.__scopeDialog);return u.modal?c.jsx(Ra,{present:s||u.open,children:c.jsx(y_,{...i,ref:a})}):null});gb.displayName=_c;var x_=cr("DialogOverlay.RemoveScroll"),y_=g.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,i=da(_c,o);return c.jsx(tu,{as:x_,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Le.div,{"data-state":tm(i.open),...s,ref:a,style:{pointerEvents:"auto",...s.style}})})}),dr="DialogContent",vb=g.forwardRef((t,a)=>{const o=mb(dr,t.__scopeDialog),{forceMount:s=o.forceMount,...i}=t,u=da(dr,t.__scopeDialog);return c.jsx(Ra,{present:s||u.open,children:u.modal?c.jsx(b_,{...i,ref:a}):c.jsx(w_,{...i,ref:a})})});vb.displayName=dr;var b_=g.forwardRef((t,a)=>{const o=da(dr,t.__scopeDialog),s=g.useRef(null),i=Ye(a,o.contentRef,s);return g.useEffect(()=>{const u=s.current;if(u)return Zp(u)},[]),c.jsx(xb,{...t,ref:i,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,u=>{u.preventDefault(),o.triggerRef.current?.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,u=>{const d=u.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0;(d.button===2||p)&&u.preventDefault()}),onFocusOutside:he(t.onFocusOutside,u=>u.preventDefault())})}),w_=g.forwardRef((t,a)=>{const o=da(dr,t.__scopeDialog),s=g.useRef(!1),i=g.useRef(!1);return c.jsx(xb,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{t.onCloseAutoFocus?.(u),u.defaultPrevented||(s.current||o.triggerRef.current?.focus(),u.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:u=>{t.onInteractOutside?.(u),u.defaultPrevented||(s.current=!0,u.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=u.target;o.triggerRef.current?.contains(d)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&i.current&&u.preventDefault()}})}),xb=g.forwardRef((t,a)=>{const{__scopeDialog:o,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:u,...d}=t,p=da(dr,o),h=g.useRef(null),m=Ye(a,h);return Qp(),c.jsxs(c.Fragment,{children:[c.jsx(Jc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:u,children:c.jsx(Ii,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":tm(p.open),...d,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(C_,{titleId:p.titleId}),c.jsx(E_,{contentRef:h,descriptionId:p.descriptionId})]})]})}),em="DialogTitle",yb=g.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,i=da(em,o);return c.jsx(Le.h2,{id:i.titleId,...s,ref:a})});yb.displayName=em;var bb="DialogDescription",wb=g.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,i=da(bb,o);return c.jsx(Le.p,{id:i.descriptionId,...s,ref:a})});wb.displayName=bb;var Sb="DialogClose",Cb=g.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,i=da(Sb,o);return c.jsx(Le.button,{type:"button",...s,ref:a,onClick:he(t.onClick,()=>i.onOpenChange(!1))})});Cb.displayName=Sb;function tm(t){return t?"open":"closed"}var Nb="DialogTitleWarning",[S_,Eb]=oM(Nb,{contentName:dr,titleName:em,docsSlug:"dialog"}),C_=({titleId:t})=>{const a=Eb(Nb),o=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(o))},[o,t]),null},N_="DialogDescriptionWarning",E_=({contentRef:t,descriptionId:a})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Eb(N_).contentName}}.`;return g.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");a&&i&&(document.getElementById(a)||console.warn(s))},[s,t,a]),null},jb=db,j_=pb,Rb=hb,Tb=gb,Mb=vb,_b=yb,Db=wb,nm=Cb,Ab="AlertDialog",[R_]=ua(Ab,[ub]),ro=ub(),kb=t=>{const{__scopeAlertDialog:a,...o}=t,s=ro(a);return c.jsx(jb,{...s,...o,modal:!0})};kb.displayName=Ab;var T_="AlertDialogTrigger",M_=g.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,i=ro(o);return c.jsx(j_,{...i,...s,ref:a})});M_.displayName=T_;var __="AlertDialogPortal",Ob=t=>{const{__scopeAlertDialog:a,...o}=t,s=ro(a);return c.jsx(Rb,{...s,...o})};Ob.displayName=__;var D_="AlertDialogOverlay",zb=g.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,i=ro(o);return c.jsx(Tb,{...i,...s,ref:a})});zb.displayName=D_;var fs="AlertDialogContent",[A_,k_]=R_(fs),O_=X0("AlertDialogContent"),Lb=g.forwardRef((t,a)=>{const{__scopeAlertDialog:o,children:s,...i}=t,u=ro(o),d=g.useRef(null),p=Ye(a,d),h=g.useRef(null);return c.jsx(S_,{contentName:fs,titleName:Pb,docsSlug:"alert-dialog",children:c.jsx(A_,{scope:o,cancelRef:h,children:c.jsxs(Mb,{role:"alertdialog",...u,...i,ref:p,onOpenAutoFocus:he(i.onOpenAutoFocus,m=>{m.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[c.jsx(O_,{children:s}),c.jsx(L_,{contentRef:d})]})})})});Lb.displayName=fs;var Pb="AlertDialogTitle",Ub=g.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,i=ro(o);return c.jsx(_b,{...i,...s,ref:a})});Ub.displayName=Pb;var Hb="AlertDialogDescription",Bb=g.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,i=ro(o);return c.jsx(Db,{...i,...s,ref:a})});Bb.displayName=Hb;var z_="AlertDialogAction",Ib=g.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,i=ro(o);return c.jsx(nm,{...i,...s,ref:a})});Ib.displayName=z_;var $b="AlertDialogCancel",qb=g.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,{cancelRef:i}=k_($b,o),u=ro(o),d=Ye(a,i);return c.jsx(nm,{...u,...s,ref:d})});qb.displayName=$b;var L_=({contentRef:t})=>{const a=`\`${fs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${fs}\` by passing a \`${Hb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${fs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},P_=kb,U_=Ob,Fb=zb,Gb=Lb,Yb=Ib,Vb=qb,Xb=Ub,Kb=Bb;function Wb(t){const a=g.useRef({value:t,previous:t});return g.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}function Qb(t){const[a,o]=g.useState(void 0);return cn(()=>{if(t){o({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const u=i[0];let d,p;if("borderBoxSize"in u){const h=u.borderBoxSize,m=Array.isArray(h)?h[0]:h;d=m.inlineSize,p=m.blockSize}else d=t.offsetWidth,p=t.offsetHeight;o({width:d,height:p})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else o(void 0)},[t]),a}const H_=["top","right","bottom","left"],zo=Math.min,kn=Math.max,Dc=Math.round,fc=Math.floor,Ca=t=>({x:t,y:t}),B_={left:"right",right:"left",bottom:"top",top:"bottom"},I_={start:"end",end:"start"};function hp(t,a,o){return kn(t,zo(a,o))}function Ja(t,a){return typeof t=="function"?t(a):t}function eo(t){return t.split("-")[0]}function ws(t){return t.split("-")[1]}function am(t){return t==="x"?"y":"x"}function om(t){return t==="y"?"height":"width"}const $_=new Set(["top","bottom"]);function wa(t){return $_.has(eo(t))?"y":"x"}function rm(t){return am(wa(t))}function q_(t,a,o){o===void 0&&(o=!1);const s=ws(t),i=rm(t),u=om(i);let d=i==="x"?s===(o?"end":"start")?"right":"left":s==="start"?"bottom":"top";return a.reference[u]>a.floating[u]&&(d=Ac(d)),[d,Ac(d)]}function F_(t){const a=Ac(t);return[gp(t),a,gp(a)]}function gp(t){return t.replace(/start|end/g,a=>I_[a])}const my=["left","right"],hy=["right","left"],G_=["top","bottom"],Y_=["bottom","top"];function V_(t,a,o){switch(t){case"top":case"bottom":return o?a?hy:my:a?my:hy;case"left":case"right":return a?G_:Y_;default:return[]}}function X_(t,a,o,s){const i=ws(t);let u=V_(eo(t),o==="start",s);return i&&(u=u.map(d=>d+"-"+i),a&&(u=u.concat(u.map(gp)))),u}function Ac(t){return t.replace(/left|right|bottom|top/g,a=>B_[a])}function K_(t){return{top:0,right:0,bottom:0,left:0,...t}}function Zb(t){return typeof t!="number"?K_(t):{top:t,right:t,bottom:t,left:t}}function kc(t){const{x:a,y:o,width:s,height:i}=t;return{width:s,height:i,top:o,left:a,right:a+s,bottom:o+i,x:a,y:o}}function gy(t,a,o){let{reference:s,floating:i}=t;const u=wa(a),d=rm(a),p=om(d),h=eo(a),m=u==="y",y=s.x+s.width/2-i.width/2,x=s.y+s.height/2-i.height/2,C=s[p]/2-i[p]/2;let N;switch(h){case"top":N={x:y,y:s.y-i.height};break;case"bottom":N={x:y,y:s.y+s.height};break;case"right":N={x:s.x+s.width,y:x};break;case"left":N={x:s.x-i.width,y:x};break;default:N={x:s.x,y:s.y}}switch(ws(a)){case"start":N[d]-=C*(o&&m?-1:1);break;case"end":N[d]+=C*(o&&m?-1:1);break}return N}async function W_(t,a){var o;a===void 0&&(a={});const{x:s,y:i,platform:u,rects:d,elements:p,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:C=!1,padding:N=0}=Ja(a,t),E=Zb(N),w=p[C?x==="floating"?"reference":"floating":x],S=kc(await u.getClippingRect({element:(o=await(u.isElement==null?void 0:u.isElement(w)))==null||o?w:w.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(p.floating)),boundary:m,rootBoundary:y,strategy:h})),R=x==="floating"?{x:s,y:i,width:d.floating.width,height:d.floating.height}:d.reference,T=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p.floating)),D=await(u.isElement==null?void 0:u.isElement(T))?await(u.getScale==null?void 0:u.getScale(T))||{x:1,y:1}:{x:1,y:1},k=kc(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:R,offsetParent:T,strategy:h}):R);return{top:(S.top-k.top+E.top)/D.y,bottom:(k.bottom-S.bottom+E.bottom)/D.y,left:(S.left-k.left+E.left)/D.x,right:(k.right-S.right+E.right)/D.x}}const Q_=async(t,a,o)=>{const{placement:s="bottom",strategy:i="absolute",middleware:u=[],platform:d}=o,p=u.filter(Boolean),h=await(d.isRTL==null?void 0:d.isRTL(a));let m=await d.getElementRects({reference:t,floating:a,strategy:i}),{x:y,y:x}=gy(m,s,h),C=s,N={},E=0;for(let w=0;w<p.length;w++){var b;const{name:S,fn:R}=p[w],{x:T,y:D,data:k,reset:O}=await R({x:y,y:x,initialPlacement:s,placement:C,strategy:i,middlewareData:N,rects:m,platform:{...d,detectOverflow:(b=d.detectOverflow)!=null?b:W_},elements:{reference:t,floating:a}});y=T??y,x=D??x,N={...N,[S]:{...N[S],...k}},O&&E<=50&&(E++,typeof O=="object"&&(O.placement&&(C=O.placement),O.rects&&(m=O.rects===!0?await d.getElementRects({reference:t,floating:a,strategy:i}):O.rects),{x:y,y:x}=gy(m,C,h)),w=-1)}return{x:y,y:x,placement:C,strategy:i,middlewareData:N}},Z_=t=>({name:"arrow",options:t,async fn(a){const{x:o,y:s,placement:i,rects:u,platform:d,elements:p,middlewareData:h}=a,{element:m,padding:y=0}=Ja(t,a)||{};if(m==null)return{};const x=Zb(y),C={x:o,y:s},N=rm(i),E=om(N),b=await d.getDimensions(m),w=N==="y",S=w?"top":"left",R=w?"bottom":"right",T=w?"clientHeight":"clientWidth",D=u.reference[E]+u.reference[N]-C[N]-u.floating[E],k=C[N]-u.reference[N],O=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m));let M=O?O[T]:0;(!M||!await(d.isElement==null?void 0:d.isElement(O)))&&(M=p.floating[T]||u.floating[E]);const _=D/2-k/2,P=M/2-b[E]/2-1,$=zo(x[S],P),W=zo(x[R],P),Q=$,q=M-b[E]-W,F=M/2-b[E]/2+_,ae=hp(Q,F,q),L=!h.arrow&&ws(i)!=null&&F!==ae&&u.reference[E]/2-(F<Q?$:W)-b[E]/2<0,H=L?F<Q?F-Q:F-q:0;return{[N]:C[N]+H,data:{[N]:ae,centerOffset:F-ae-H,...L&&{alignmentOffset:H}},reset:L}}}),J_=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var o,s;const{placement:i,middlewareData:u,rects:d,initialPlacement:p,platform:h,elements:m}=a,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:C,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:b=!0,...w}=Ja(t,a);if((o=u.arrow)!=null&&o.alignmentOffset)return{};const S=eo(i),R=wa(p),T=eo(p)===p,D=await(h.isRTL==null?void 0:h.isRTL(m.floating)),k=C||(T||!b?[Ac(p)]:F_(p)),O=E!=="none";!C&&O&&k.push(...X_(p,b,E,D));const M=[p,...k],_=await h.detectOverflow(a,w),P=[];let $=((s=u.flip)==null?void 0:s.overflows)||[];if(y&&P.push(_[S]),x){const F=q_(i,d,D);P.push(_[F[0]],_[F[1]])}if($=[...$,{placement:i,overflows:P}],!P.every(F=>F<=0)){var W,Q;const F=(((W=u.flip)==null?void 0:W.index)||0)+1,ae=M[F];if(ae&&(!(x==="alignment"?R!==wa(ae):!1)||$.every(U=>wa(U.placement)===R?U.overflows[0]>0:!0)))return{data:{index:F,overflows:$},reset:{placement:ae}};let L=(Q=$.filter(H=>H.overflows[0]<=0).sort((H,U)=>H.overflows[1]-U.overflows[1])[0])==null?void 0:Q.placement;if(!L)switch(N){case"bestFit":{var q;const H=(q=$.filter(U=>{if(O){const V=wa(U.placement);return V===R||V==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(V=>V>0).reduce((V,ce)=>V+ce,0)]).sort((U,V)=>U[1]-V[1])[0])==null?void 0:q[0];H&&(L=H);break}case"initialPlacement":L=p;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function vy(t,a){return{top:t.top-a.height,right:t.right-a.width,bottom:t.bottom-a.height,left:t.left-a.width}}function xy(t){return H_.some(a=>t[a]>=0)}const eD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(a){const{rects:o,platform:s}=a,{strategy:i="referenceHidden",...u}=Ja(t,a);switch(i){case"referenceHidden":{const d=await s.detectOverflow(a,{...u,elementContext:"reference"}),p=vy(d,o.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:xy(p)}}}case"escaped":{const d=await s.detectOverflow(a,{...u,altBoundary:!0}),p=vy(d,o.floating);return{data:{escapedOffsets:p,escaped:xy(p)}}}default:return{}}}}},Jb=new Set(["left","top"]);async function tD(t,a){const{placement:o,platform:s,elements:i}=t,u=await(s.isRTL==null?void 0:s.isRTL(i.floating)),d=eo(o),p=ws(o),h=wa(o)==="y",m=Jb.has(d)?-1:1,y=u&&h?-1:1,x=Ja(a,t);let{mainAxis:C,crossAxis:N,alignmentAxis:E}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return p&&typeof E=="number"&&(N=p==="end"?E*-1:E),h?{x:N*y,y:C*m}:{x:C*m,y:N*y}}const nD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var o,s;const{x:i,y:u,placement:d,middlewareData:p}=a,h=await tD(a,t);return d===((o=p.offset)==null?void 0:o.placement)&&(s=p.arrow)!=null&&s.alignmentOffset?{}:{x:i+h.x,y:u+h.y,data:{...h,placement:d}}}}},aD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(a){const{x:o,y:s,placement:i,platform:u}=a,{mainAxis:d=!0,crossAxis:p=!1,limiter:h={fn:S=>{let{x:R,y:T}=S;return{x:R,y:T}}},...m}=Ja(t,a),y={x:o,y:s},x=await u.detectOverflow(a,m),C=wa(eo(i)),N=am(C);let E=y[N],b=y[C];if(d){const S=N==="y"?"top":"left",R=N==="y"?"bottom":"right",T=E+x[S],D=E-x[R];E=hp(T,E,D)}if(p){const S=C==="y"?"top":"left",R=C==="y"?"bottom":"right",T=b+x[S],D=b-x[R];b=hp(T,b,D)}const w=h.fn({...a,[N]:E,[C]:b});return{...w,data:{x:w.x-o,y:w.y-s,enabled:{[N]:d,[C]:p}}}}}},oD=function(t){return t===void 0&&(t={}),{options:t,fn(a){const{x:o,y:s,placement:i,rects:u,middlewareData:d}=a,{offset:p=0,mainAxis:h=!0,crossAxis:m=!0}=Ja(t,a),y={x:o,y:s},x=wa(i),C=am(x);let N=y[C],E=y[x];const b=Ja(p,a),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const T=C==="y"?"height":"width",D=u.reference[C]-u.floating[T]+w.mainAxis,k=u.reference[C]+u.reference[T]-w.mainAxis;N<D?N=D:N>k&&(N=k)}if(m){var S,R;const T=C==="y"?"width":"height",D=Jb.has(eo(i)),k=u.reference[x]-u.floating[T]+(D&&((S=d.offset)==null?void 0:S[x])||0)+(D?0:w.crossAxis),O=u.reference[x]+u.reference[T]+(D?0:((R=d.offset)==null?void 0:R[x])||0)-(D?w.crossAxis:0);E<k?E=k:E>O&&(E=O)}return{[C]:N,[x]:E}}}},rD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(a){var o,s;const{placement:i,rects:u,platform:d,elements:p}=a,{apply:h=()=>{},...m}=Ja(t,a),y=await d.detectOverflow(a,m),x=eo(i),C=ws(i),N=wa(i)==="y",{width:E,height:b}=u.floating;let w,S;x==="top"||x==="bottom"?(w=x,S=C===(await(d.isRTL==null?void 0:d.isRTL(p.floating))?"start":"end")?"left":"right"):(S=x,w=C==="end"?"top":"bottom");const R=b-y.top-y.bottom,T=E-y.left-y.right,D=zo(b-y[w],R),k=zo(E-y[S],T),O=!a.middlewareData.shift;let M=D,_=k;if((o=a.middlewareData.shift)!=null&&o.enabled.x&&(_=T),(s=a.middlewareData.shift)!=null&&s.enabled.y&&(M=R),O&&!C){const $=kn(y.left,0),W=kn(y.right,0),Q=kn(y.top,0),q=kn(y.bottom,0);N?_=E-2*($!==0||W!==0?$+W:kn(y.left,y.right)):M=b-2*(Q!==0||q!==0?Q+q:kn(y.top,y.bottom))}await h({...a,availableWidth:_,availableHeight:M});const P=await d.getDimensions(p.floating);return E!==P.width||b!==P.height?{reset:{rects:!0}}:{}}}};function au(){return typeof window<"u"}function Ss(t){return ew(t)?(t.nodeName||"").toLowerCase():"#document"}function On(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function Ta(t){var a;return(a=(ew(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function ew(t){return au()?t instanceof Node||t instanceof On(t).Node:!1}function la(t){return au()?t instanceof Element||t instanceof On(t).Element:!1}function Na(t){return au()?t instanceof HTMLElement||t instanceof On(t).HTMLElement:!1}function yy(t){return!au()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof On(t).ShadowRoot}const sD=new Set(["inline","contents"]);function qi(t){const{overflow:a,overflowX:o,overflowY:s,display:i}=ca(t);return/auto|scroll|overlay|hidden|clip/.test(a+s+o)&&!sD.has(i)}const iD=new Set(["table","td","th"]);function lD(t){return iD.has(Ss(t))}const cD=[":popover-open",":modal"];function ou(t){return cD.some(a=>{try{return t.matches(a)}catch{return!1}})}const uD=["transform","translate","scale","rotate","perspective"],dD=["transform","translate","scale","rotate","perspective","filter"],fD=["paint","layout","strict","content"];function sm(t){const a=im(),o=la(t)?ca(t):t;return uD.some(s=>o[s]?o[s]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!a&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!a&&(o.filter?o.filter!=="none":!1)||dD.some(s=>(o.willChange||"").includes(s))||fD.some(s=>(o.contain||"").includes(s))}function pD(t){let a=Lo(t);for(;Na(a)&&!ms(a);){if(sm(a))return a;if(ou(a))return null;a=Lo(a)}return null}function im(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mD=new Set(["html","body","#document"]);function ms(t){return mD.has(Ss(t))}function ca(t){return On(t).getComputedStyle(t)}function ru(t){return la(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lo(t){if(Ss(t)==="html")return t;const a=t.assignedSlot||t.parentNode||yy(t)&&t.host||Ta(t);return yy(a)?a.host:a}function tw(t){const a=Lo(t);return ms(a)?t.ownerDocument?t.ownerDocument.body:t.body:Na(a)&&qi(a)?a:tw(a)}function Di(t,a,o){var s;a===void 0&&(a=[]),o===void 0&&(o=!0);const i=tw(t),u=i===((s=t.ownerDocument)==null?void 0:s.body),d=On(i);if(u){const p=vp(d);return a.concat(d,d.visualViewport||[],qi(i)?i:[],p&&o?Di(p):[])}return a.concat(i,Di(i,[],o))}function vp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nw(t){const a=ca(t);let o=parseFloat(a.width)||0,s=parseFloat(a.height)||0;const i=Na(t),u=i?t.offsetWidth:o,d=i?t.offsetHeight:s,p=Dc(o)!==u||Dc(s)!==d;return p&&(o=u,s=d),{width:o,height:s,$:p}}function lm(t){return la(t)?t:t.contextElement}function ps(t){const a=lm(t);if(!Na(a))return Ca(1);const o=a.getBoundingClientRect(),{width:s,height:i,$:u}=nw(a);let d=(u?Dc(o.width):o.width)/s,p=(u?Dc(o.height):o.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const hD=Ca(0);function aw(t){const a=On(t);return!im()||!a.visualViewport?hD:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function gD(t,a,o){return a===void 0&&(a=!1),!o||a&&o!==On(t)?!1:a}function fr(t,a,o,s){a===void 0&&(a=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),u=lm(t);let d=Ca(1);a&&(s?la(s)&&(d=ps(s)):d=ps(t));const p=gD(u,o,s)?aw(u):Ca(0);let h=(i.left+p.x)/d.x,m=(i.top+p.y)/d.y,y=i.width/d.x,x=i.height/d.y;if(u){const C=On(u),N=s&&la(s)?On(s):s;let E=C,b=vp(E);for(;b&&s&&N!==E;){const w=ps(b),S=b.getBoundingClientRect(),R=ca(b),T=S.left+(b.clientLeft+parseFloat(R.paddingLeft))*w.x,D=S.top+(b.clientTop+parseFloat(R.paddingTop))*w.y;h*=w.x,m*=w.y,y*=w.x,x*=w.y,h+=T,m+=D,E=On(b),b=vp(E)}}return kc({width:y,height:x,x:h,y:m})}function su(t,a){const o=ru(t).scrollLeft;return a?a.left+o:fr(Ta(t)).left+o}function ow(t,a){const o=t.getBoundingClientRect(),s=o.left+a.scrollLeft-su(t,o),i=o.top+a.scrollTop;return{x:s,y:i}}function vD(t){let{elements:a,rect:o,offsetParent:s,strategy:i}=t;const u=i==="fixed",d=Ta(s),p=a?ou(a.floating):!1;if(s===d||p&&u)return o;let h={scrollLeft:0,scrollTop:0},m=Ca(1);const y=Ca(0),x=Na(s);if((x||!x&&!u)&&((Ss(s)!=="body"||qi(d))&&(h=ru(s)),Na(s))){const N=fr(s);m=ps(s),y.x=N.x+s.clientLeft,y.y=N.y+s.clientTop}const C=d&&!x&&!u?ow(d,h):Ca(0);return{width:o.width*m.x,height:o.height*m.y,x:o.x*m.x-h.scrollLeft*m.x+y.x+C.x,y:o.y*m.y-h.scrollTop*m.y+y.y+C.y}}function xD(t){return Array.from(t.getClientRects())}function yD(t){const a=Ta(t),o=ru(t),s=t.ownerDocument.body,i=kn(a.scrollWidth,a.clientWidth,s.scrollWidth,s.clientWidth),u=kn(a.scrollHeight,a.clientHeight,s.scrollHeight,s.clientHeight);let d=-o.scrollLeft+su(t);const p=-o.scrollTop;return ca(s).direction==="rtl"&&(d+=kn(a.clientWidth,s.clientWidth)-i),{width:i,height:u,x:d,y:p}}const by=25;function bD(t,a){const o=On(t),s=Ta(t),i=o.visualViewport;let u=s.clientWidth,d=s.clientHeight,p=0,h=0;if(i){u=i.width,d=i.height;const y=im();(!y||y&&a==="fixed")&&(p=i.offsetLeft,h=i.offsetTop)}const m=su(s);if(m<=0){const y=s.ownerDocument,x=y.body,C=getComputedStyle(x),N=y.compatMode==="CSS1Compat"&&parseFloat(C.marginLeft)+parseFloat(C.marginRight)||0,E=Math.abs(s.clientWidth-x.clientWidth-N);E<=by&&(u-=E)}else m<=by&&(u+=m);return{width:u,height:d,x:p,y:h}}const wD=new Set(["absolute","fixed"]);function SD(t,a){const o=fr(t,!0,a==="fixed"),s=o.top+t.clientTop,i=o.left+t.clientLeft,u=Na(t)?ps(t):Ca(1),d=t.clientWidth*u.x,p=t.clientHeight*u.y,h=i*u.x,m=s*u.y;return{width:d,height:p,x:h,y:m}}function wy(t,a,o){let s;if(a==="viewport")s=bD(t,o);else if(a==="document")s=yD(Ta(t));else if(la(a))s=SD(a,o);else{const i=aw(t);s={x:a.x-i.x,y:a.y-i.y,width:a.width,height:a.height}}return kc(s)}function rw(t,a){const o=Lo(t);return o===a||!la(o)||ms(o)?!1:ca(o).position==="fixed"||rw(o,a)}function CD(t,a){const o=a.get(t);if(o)return o;let s=Di(t,[],!1).filter(p=>la(p)&&Ss(p)!=="body"),i=null;const u=ca(t).position==="fixed";let d=u?Lo(t):t;for(;la(d)&&!ms(d);){const p=ca(d),h=sm(d);!h&&p.position==="fixed"&&(i=null),(u?!h&&!i:!h&&p.position==="static"&&!!i&&wD.has(i.position)||qi(d)&&!h&&rw(t,d))?s=s.filter(y=>y!==d):i=p,d=Lo(d)}return a.set(t,s),s}function ND(t){let{element:a,boundary:o,rootBoundary:s,strategy:i}=t;const d=[...o==="clippingAncestors"?ou(a)?[]:CD(a,this._c):[].concat(o),s],p=d[0],h=d.reduce((m,y)=>{const x=wy(a,y,i);return m.top=kn(x.top,m.top),m.right=zo(x.right,m.right),m.bottom=zo(x.bottom,m.bottom),m.left=kn(x.left,m.left),m},wy(a,p,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function ED(t){const{width:a,height:o}=nw(t);return{width:a,height:o}}function jD(t,a,o){const s=Na(a),i=Ta(a),u=o==="fixed",d=fr(t,!0,u,a);let p={scrollLeft:0,scrollTop:0};const h=Ca(0);function m(){h.x=su(i)}if(s||!s&&!u)if((Ss(a)!=="body"||qi(i))&&(p=ru(a)),s){const N=fr(a,!0,u,a);h.x=N.x+a.clientLeft,h.y=N.y+a.clientTop}else i&&m();u&&!s&&i&&m();const y=i&&!s&&!u?ow(i,p):Ca(0),x=d.left+p.scrollLeft-h.x-y.x,C=d.top+p.scrollTop-h.y-y.y;return{x,y:C,width:d.width,height:d.height}}function Wf(t){return ca(t).position==="static"}function Sy(t,a){if(!Na(t)||ca(t).position==="fixed")return null;if(a)return a(t);let o=t.offsetParent;return Ta(t)===o&&(o=o.ownerDocument.body),o}function sw(t,a){const o=On(t);if(ou(t))return o;if(!Na(t)){let i=Lo(t);for(;i&&!ms(i);){if(la(i)&&!Wf(i))return i;i=Lo(i)}return o}let s=Sy(t,a);for(;s&&lD(s)&&Wf(s);)s=Sy(s,a);return s&&ms(s)&&Wf(s)&&!sm(s)?o:s||pD(t)||o}const RD=async function(t){const a=this.getOffsetParent||sw,o=this.getDimensions,s=await o(t.floating);return{reference:jD(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function TD(t){return ca(t).direction==="rtl"}const MD={convertOffsetParentRelativeRectToViewportRelativeRect:vD,getDocumentElement:Ta,getClippingRect:ND,getOffsetParent:sw,getElementRects:RD,getClientRects:xD,getDimensions:ED,getScale:ps,isElement:la,isRTL:TD};function iw(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function _D(t,a){let o=null,s;const i=Ta(t);function u(){var p;clearTimeout(s),(p=o)==null||p.disconnect(),o=null}function d(p,h){p===void 0&&(p=!1),h===void 0&&(h=1),u();const m=t.getBoundingClientRect(),{left:y,top:x,width:C,height:N}=m;if(p||a(),!C||!N)return;const E=fc(x),b=fc(i.clientWidth-(y+C)),w=fc(i.clientHeight-(x+N)),S=fc(y),T={rootMargin:-E+"px "+-b+"px "+-w+"px "+-S+"px",threshold:kn(0,zo(1,h))||1};let D=!0;function k(O){const M=O[0].intersectionRatio;if(M!==h){if(!D)return d();M?d(!1,M):s=setTimeout(()=>{d(!1,1e-7)},1e3)}M===1&&!iw(m,t.getBoundingClientRect())&&d(),D=!1}try{o=new IntersectionObserver(k,{...T,root:i.ownerDocument})}catch{o=new IntersectionObserver(k,T)}o.observe(t)}return d(!0),u}function DD(t,a,o,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=lm(t),y=i||u?[...m?Di(m):[],...Di(a)]:[];y.forEach(S=>{i&&S.addEventListener("scroll",o,{passive:!0}),u&&S.addEventListener("resize",o)});const x=m&&p?_D(m,o):null;let C=-1,N=null;d&&(N=new ResizeObserver(S=>{let[R]=S;R&&R.target===m&&N&&(N.unobserve(a),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var T;(T=N)==null||T.observe(a)})),o()}),m&&!h&&N.observe(m),N.observe(a));let E,b=h?fr(t):null;h&&w();function w(){const S=fr(t);b&&!iw(b,S)&&o(),b=S,E=requestAnimationFrame(w)}return o(),()=>{var S;y.forEach(R=>{i&&R.removeEventListener("scroll",o),u&&R.removeEventListener("resize",o)}),x?.(),(S=N)==null||S.disconnect(),N=null,h&&cancelAnimationFrame(E)}}const AD=nD,kD=aD,OD=J_,zD=rD,LD=eD,Cy=Z_,PD=oD,UD=(t,a,o)=>{const s=new Map,i={platform:MD,...o},u={...i.platform,_c:s};return Q_(t,a,{...i,platform:u})};var HD=typeof document<"u",BD=function(){},jc=HD?g.useLayoutEffect:BD;function Oc(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let o,s,i;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(o=t.length,o!==a.length)return!1;for(s=o;s--!==0;)if(!Oc(t[s],a[s]))return!1;return!0}if(i=Object.keys(t),o=i.length,o!==Object.keys(a).length)return!1;for(s=o;s--!==0;)if(!{}.hasOwnProperty.call(a,i[s]))return!1;for(s=o;s--!==0;){const u=i[s];if(!(u==="_owner"&&t.$$typeof)&&!Oc(t[u],a[u]))return!1}return!0}return t!==t&&a!==a}function lw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ny(t,a){const o=lw(t);return Math.round(a*o)/o}function Qf(t){const a=g.useRef(t);return jc(()=>{a.current=t}),a}function ID(t){t===void 0&&(t={});const{placement:a="bottom",strategy:o="absolute",middleware:s=[],platform:i,elements:{reference:u,floating:d}={},transform:p=!0,whileElementsMounted:h,open:m}=t,[y,x]=g.useState({x:0,y:0,strategy:o,placement:a,middlewareData:{},isPositioned:!1}),[C,N]=g.useState(s);Oc(C,s)||N(s);const[E,b]=g.useState(null),[w,S]=g.useState(null),R=g.useCallback(U=>{U!==O.current&&(O.current=U,b(U))},[]),T=g.useCallback(U=>{U!==M.current&&(M.current=U,S(U))},[]),D=u||E,k=d||w,O=g.useRef(null),M=g.useRef(null),_=g.useRef(y),P=h!=null,$=Qf(h),W=Qf(i),Q=Qf(m),q=g.useCallback(()=>{if(!O.current||!M.current)return;const U={placement:a,strategy:o,middleware:C};W.current&&(U.platform=W.current),UD(O.current,M.current,U).then(V=>{const ce={...V,isPositioned:Q.current!==!1};F.current&&!Oc(_.current,ce)&&(_.current=ce,Hi.flushSync(()=>{x(ce)}))})},[C,a,o,W,Q]);jc(()=>{m===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,x(U=>({...U,isPositioned:!1})))},[m]);const F=g.useRef(!1);jc(()=>(F.current=!0,()=>{F.current=!1}),[]),jc(()=>{if(D&&(O.current=D),k&&(M.current=k),D&&k){if($.current)return $.current(D,k,q);q()}},[D,k,q,$,P]);const ae=g.useMemo(()=>({reference:O,floating:M,setReference:R,setFloating:T}),[R,T]),L=g.useMemo(()=>({reference:D,floating:k}),[D,k]),H=g.useMemo(()=>{const U={position:o,left:0,top:0};if(!L.floating)return U;const V=Ny(L.floating,y.x),ce=Ny(L.floating,y.y);return p?{...U,transform:"translate("+V+"px, "+ce+"px)",...lw(L.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:V,top:ce}},[o,p,L.floating,y.x,y.y]);return g.useMemo(()=>({...y,update:q,refs:ae,elements:L,floatingStyles:H}),[y,q,ae,L,H])}const $D=t=>{function a(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:t,fn(o){const{element:s,padding:i}=typeof t=="function"?t(o):t;return s&&a(s)?s.current!=null?Cy({element:s.current,padding:i}).fn(o):{}:s?Cy({element:s,padding:i}).fn(o):{}}}},qD=(t,a)=>({...AD(t),options:[t,a]}),FD=(t,a)=>({...kD(t),options:[t,a]}),GD=(t,a)=>({...PD(t),options:[t,a]}),YD=(t,a)=>({...OD(t),options:[t,a]}),VD=(t,a)=>({...zD(t),options:[t,a]}),XD=(t,a)=>({...LD(t),options:[t,a]}),KD=(t,a)=>({...$D(t),options:[t,a]});var WD="Arrow",cw=g.forwardRef((t,a)=>{const{children:o,width:s=10,height:i=5,...u}=t;return c.jsx(Le.svg,{...u,ref:a,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?o:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});cw.displayName=WD;var QD=cw,cm="Popper",[uw,Cs]=ua(cm),[ZD,dw]=uw(cm),fw=t=>{const{__scopePopper:a,children:o}=t,[s,i]=g.useState(null);return c.jsx(ZD,{scope:a,anchor:s,onAnchorChange:i,children:o})};fw.displayName=cm;var pw="PopperAnchor",mw=g.forwardRef((t,a)=>{const{__scopePopper:o,virtualRef:s,...i}=t,u=dw(pw,o),d=g.useRef(null),p=Ye(a,d),h=g.useRef(null);return g.useEffect(()=>{const m=h.current;h.current=s?.current||d.current,m!==h.current&&u.onAnchorChange(h.current)}),s?null:c.jsx(Le.div,{...i,ref:p})});mw.displayName=pw;var um="PopperContent",[JD,eA]=uw(um),hw=g.forwardRef((t,a)=>{const{__scopePopper:o,side:s="bottom",sideOffset:i=0,align:u="center",alignOffset:d=0,arrowPadding:p=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:C=!1,updatePositionStrategy:N="optimized",onPlaced:E,...b}=t,w=dw(um,o),[S,R]=g.useState(null),T=Ye(a,Y=>R(Y)),[D,k]=g.useState(null),O=Qb(D),M=O?.width??0,_=O?.height??0,P=s+(u!=="center"?"-"+u:""),$=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},W=Array.isArray(m)?m:[m],Q=W.length>0,q={padding:$,boundary:W.filter(nA),altBoundary:Q},{refs:F,floatingStyles:ae,placement:L,isPositioned:H,middlewareData:U}=ID({strategy:"fixed",placement:P,whileElementsMounted:(...Y)=>DD(...Y,{animationFrame:N==="always"}),elements:{reference:w.anchor},middleware:[qD({mainAxis:i+_,alignmentAxis:d}),h&&FD({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?GD():void 0,...q}),h&&YD({...q}),VD({...q,apply:({elements:Y,rects:ge,availableWidth:ve,availableHeight:Re})=>{const{width:ye,height:Ee}=ge.reference,nt=Y.floating.style;nt.setProperty("--radix-popper-available-width",`${ve}px`),nt.setProperty("--radix-popper-available-height",`${Re}px`),nt.setProperty("--radix-popper-anchor-width",`${ye}px`),nt.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),D&&KD({element:D,padding:p}),aA({arrowWidth:M,arrowHeight:_}),C&&XD({strategy:"referenceHidden",...q})]}),[V,ce]=xw(L),z=ia(E);cn(()=>{H&&z?.()},[H,z]);const K=U.arrow?.x,ne=U.arrow?.y,se=U.arrow?.centerOffset!==0,[fe,ue]=g.useState();return cn(()=>{S&&ue(window.getComputedStyle(S).zIndex)},[S]),c.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:H?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(JD,{scope:o,placedSide:V,onArrowChange:k,arrowX:K,arrowY:ne,shouldHideArrow:se,children:c.jsx(Le.div,{"data-side":V,"data-align":ce,...b,ref:T,style:{...b.style,animation:H?void 0:"none"}})})})});hw.displayName=um;var gw="PopperArrow",tA={top:"bottom",right:"left",bottom:"top",left:"right"},vw=g.forwardRef(function(a,o){const{__scopePopper:s,...i}=a,u=eA(gw,s),d=tA[u.placedSide];return c.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:c.jsx(QD,{...i,ref:o,style:{...i.style,display:"block"}})})});vw.displayName=gw;function nA(t){return t!==null}var aA=t=>({name:"transformOrigin",options:t,fn(a){const{placement:o,rects:s,middlewareData:i}=a,d=i.arrow?.centerOffset!==0,p=d?0:t.arrowWidth,h=d?0:t.arrowHeight,[m,y]=xw(o),x={start:"0%",center:"50%",end:"100%"}[y],C=(i.arrow?.x??0)+p/2,N=(i.arrow?.y??0)+h/2;let E="",b="";return m==="bottom"?(E=d?x:`${C}px`,b=`${-h}px`):m==="top"?(E=d?x:`${C}px`,b=`${s.floating.height+h}px`):m==="right"?(E=`${-h}px`,b=d?x:`${N}px`):m==="left"&&(E=`${s.floating.width+h}px`,b=d?x:`${N}px`),{data:{x:E,y:b}}}});function xw(t){const[a,o="center"]=t.split("-");return[a,o]}var dm=fw,fm=mw,pm=hw,mm=vw,Zf="rovingFocusGroup.onEntryFocus",oA={bubbles:!1,cancelable:!0},Fi="RovingFocusGroup",[xp,yw,rA]=Qc(Fi),[sA,bw]=ua(Fi,[rA]),[iA,lA]=sA(Fi),ww=g.forwardRef((t,a)=>c.jsx(xp.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(xp.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(cA,{...t,ref:a})})}));ww.displayName=Fi;var cA=g.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:o,orientation:s,loop:i=!1,dir:u,currentTabStopId:d,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...x}=t,C=g.useRef(null),N=Ye(a,C),E=Zc(u),[b,w]=ur({prop:d,defaultProp:p??null,onChange:h,caller:Fi}),[S,R]=g.useState(!1),T=ia(m),D=yw(o),k=g.useRef(!1),[O,M]=g.useState(0);return g.useEffect(()=>{const _=C.current;if(_)return _.addEventListener(Zf,T),()=>_.removeEventListener(Zf,T)},[T]),c.jsx(iA,{scope:o,orientation:s,dir:E,loop:i,currentTabStopId:b,onItemFocus:g.useCallback(_=>w(_),[w]),onItemShiftTab:g.useCallback(()=>R(!0),[]),onFocusableItemAdd:g.useCallback(()=>M(_=>_+1),[]),onFocusableItemRemove:g.useCallback(()=>M(_=>_-1),[]),children:c.jsx(Le.div,{tabIndex:S||O===0?-1:0,"data-orientation":s,...x,ref:N,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{k.current=!0}),onFocus:he(t.onFocus,_=>{const P=!k.current;if(_.target===_.currentTarget&&P&&!S){const $=new CustomEvent(Zf,oA);if(_.currentTarget.dispatchEvent($),!$.defaultPrevented){const W=D().filter(L=>L.focusable),Q=W.find(L=>L.active),q=W.find(L=>L.id===b),ae=[Q,q,...W].filter(Boolean).map(L=>L.ref.current);Nw(ae,y)}}k.current=!1}),onBlur:he(t.onBlur,()=>R(!1))})})}),Sw="RovingFocusGroupItem",Cw=g.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:o,focusable:s=!0,active:i=!1,tabStopId:u,children:d,...p}=t,h=Sa(),m=u||h,y=lA(Sw,o),x=y.currentTabStopId===m,C=yw(o),{onFocusableItemAdd:N,onFocusableItemRemove:E,currentTabStopId:b}=y;return g.useEffect(()=>{if(s)return N(),()=>E()},[s,N,E]),c.jsx(xp.ItemSlot,{scope:o,id:m,focusable:s,active:i,children:c.jsx(Le.span,{tabIndex:x?0:-1,"data-orientation":y.orientation,...p,ref:a,onMouseDown:he(t.onMouseDown,w=>{s?y.onItemFocus(m):w.preventDefault()}),onFocus:he(t.onFocus,()=>y.onItemFocus(m)),onKeyDown:he(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){y.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const S=fA(w,y.orientation,y.dir);if(S!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let T=C().filter(D=>D.focusable).map(D=>D.ref.current);if(S==="last")T.reverse();else if(S==="prev"||S==="next"){S==="prev"&&T.reverse();const D=T.indexOf(w.currentTarget);T=y.loop?pA(T,D+1):T.slice(D+1)}setTimeout(()=>Nw(T))}}),children:typeof d=="function"?d({isCurrentTabStop:x,hasTabStop:b!=null}):d})})});Cw.displayName=Sw;var uA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dA(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fA(t,a,o){const s=dA(t.key,o);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return uA[s]}function Nw(t,a=!1){const o=document.activeElement;for(const s of t)if(s===o||(s.focus({preventScroll:a}),document.activeElement!==o))return}function pA(t,a){return t.map((o,s)=>t[(a+s)%t.length])}var mA=ww,hA=Cw,yp=["Enter"," "],gA=["ArrowDown","PageUp","Home"],Ew=["ArrowUp","PageDown","End"],vA=[...gA,...Ew],xA={ltr:[...yp,"ArrowRight"],rtl:[...yp,"ArrowLeft"]},yA={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gi="Menu",[Ai,bA,wA]=Qc(Gi),[yr,iu]=ua(Gi,[wA,Cs,bw]),lu=Cs(),jw=bw(),[SA,br]=yr(Gi),[CA,Yi]=yr(Gi),Rw=t=>{const{__scopeMenu:a,open:o=!1,children:s,dir:i,onOpenChange:u,modal:d=!0}=t,p=lu(a),[h,m]=g.useState(null),y=g.useRef(!1),x=ia(u),C=Zc(i);return g.useEffect(()=>{const N=()=>{y.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>y.current=!1;return document.addEventListener("keydown",N,{capture:!0}),()=>{document.removeEventListener("keydown",N,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),c.jsx(dm,{...p,children:c.jsx(SA,{scope:a,open:o,onOpenChange:x,content:h,onContentChange:m,children:c.jsx(CA,{scope:a,onClose:g.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:y,dir:C,modal:d,children:s})})})};Rw.displayName=Gi;var NA="MenuAnchor",hm=g.forwardRef((t,a)=>{const{__scopeMenu:o,...s}=t,i=lu(o);return c.jsx(fm,{...i,...s,ref:a})});hm.displayName=NA;var gm="MenuPortal",[EA,Tw]=yr(gm,{forceMount:void 0}),Mw=t=>{const{__scopeMenu:a,forceMount:o,children:s,container:i}=t,u=br(gm,a);return c.jsx(EA,{scope:a,forceMount:o,children:c.jsx(Ra,{present:o||u.open,children:c.jsx($i,{asChild:!0,container:i,children:s})})})};Mw.displayName=gm;var Kn="MenuContent",[jA,vm]=yr(Kn),_w=g.forwardRef((t,a)=>{const o=Tw(Kn,t.__scopeMenu),{forceMount:s=o.forceMount,...i}=t,u=br(Kn,t.__scopeMenu),d=Yi(Kn,t.__scopeMenu);return c.jsx(Ai.Provider,{scope:t.__scopeMenu,children:c.jsx(Ra,{present:s||u.open,children:c.jsx(Ai.Slot,{scope:t.__scopeMenu,children:d.modal?c.jsx(RA,{...i,ref:a}):c.jsx(TA,{...i,ref:a})})})})}),RA=g.forwardRef((t,a)=>{const o=br(Kn,t.__scopeMenu),s=g.useRef(null),i=Ye(a,s);return g.useEffect(()=>{const u=s.current;if(u)return Zp(u)},[]),c.jsx(xm,{...t,ref:i,trapFocus:o.open,disableOutsidePointerEvents:o.open,disableOutsideScroll:!0,onFocusOutside:he(t.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>o.onOpenChange(!1)})}),TA=g.forwardRef((t,a)=>{const o=br(Kn,t.__scopeMenu);return c.jsx(xm,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>o.onOpenChange(!1)})}),MA=cr("MenuContent.ScrollLock"),xm=g.forwardRef((t,a)=>{const{__scopeMenu:o,loop:s=!1,trapFocus:i,onOpenAutoFocus:u,onCloseAutoFocus:d,disableOutsidePointerEvents:p,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:x,onInteractOutside:C,onDismiss:N,disableOutsideScroll:E,...b}=t,w=br(Kn,o),S=Yi(Kn,o),R=lu(o),T=jw(o),D=bA(o),[k,O]=g.useState(null),M=g.useRef(null),_=Ye(a,M,w.onContentChange),P=g.useRef(0),$=g.useRef(""),W=g.useRef(0),Q=g.useRef(null),q=g.useRef("right"),F=g.useRef(0),ae=E?tu:g.Fragment,L=E?{as:MA,allowPinchZoom:!0}:void 0,H=V=>{const ce=$.current+V,z=D().filter(Y=>!Y.disabled),K=document.activeElement,ne=z.find(Y=>Y.ref.current===K)?.textValue,se=z.map(Y=>Y.textValue),fe=IA(se,ce,ne),ue=z.find(Y=>Y.textValue===fe)?.ref.current;(function Y(ge){$.current=ge,window.clearTimeout(P.current),ge!==""&&(P.current=window.setTimeout(()=>Y(""),1e3))})(ce),ue&&setTimeout(()=>ue.focus())};g.useEffect(()=>()=>window.clearTimeout(P.current),[]),Qp();const U=g.useCallback(V=>q.current===Q.current?.side&&qA(V,Q.current?.area),[]);return c.jsx(jA,{scope:o,searchRef:$,onItemEnter:g.useCallback(V=>{U(V)&&V.preventDefault()},[U]),onItemLeave:g.useCallback(V=>{U(V)||(M.current?.focus(),O(null))},[U]),onTriggerLeave:g.useCallback(V=>{U(V)&&V.preventDefault()},[U]),pointerGraceTimerRef:W,onPointerGraceIntentChange:g.useCallback(V=>{Q.current=V},[]),children:c.jsx(ae,{...L,children:c.jsx(Jc,{asChild:!0,trapped:i,onMountAutoFocus:he(u,V=>{V.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:c.jsx(Ii,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:x,onInteractOutside:C,onDismiss:N,children:c.jsx(mA,{asChild:!0,...T,dir:S.dir,orientation:"vertical",loop:s,currentTabStopId:k,onCurrentTabStopIdChange:O,onEntryFocus:he(h,V=>{S.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(pm,{role:"menu","aria-orientation":"vertical","data-state":Yw(w.open),"data-radix-menu-content":"",dir:S.dir,...R,...b,ref:_,style:{outline:"none",...b.style},onKeyDown:he(b.onKeyDown,V=>{const z=V.target.closest("[data-radix-menu-content]")===V.currentTarget,K=V.ctrlKey||V.altKey||V.metaKey,ne=V.key.length===1;z&&(V.key==="Tab"&&V.preventDefault(),!K&&ne&&H(V.key));const se=M.current;if(V.target!==se||!vA.includes(V.key))return;V.preventDefault();const ue=D().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);Ew.includes(V.key)&&ue.reverse(),HA(ue)}),onBlur:he(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(P.current),$.current="")}),onPointerMove:he(t.onPointerMove,ki(V=>{const ce=V.target,z=F.current!==V.clientX;if(V.currentTarget.contains(ce)&&z){const K=V.clientX>F.current?"right":"left";q.current=K,F.current=V.clientX}}))})})})})})})});_w.displayName=Kn;var _A="MenuGroup",ym=g.forwardRef((t,a)=>{const{__scopeMenu:o,...s}=t;return c.jsx(Le.div,{role:"group",...s,ref:a})});ym.displayName=_A;var DA="MenuLabel",Dw=g.forwardRef((t,a)=>{const{__scopeMenu:o,...s}=t;return c.jsx(Le.div,{...s,ref:a})});Dw.displayName=DA;var zc="MenuItem",Ey="menu.itemSelect",cu=g.forwardRef((t,a)=>{const{disabled:o=!1,onSelect:s,...i}=t,u=g.useRef(null),d=Yi(zc,t.__scopeMenu),p=vm(zc,t.__scopeMenu),h=Ye(a,u),m=g.useRef(!1),y=()=>{const x=u.current;if(!o&&x){const C=new CustomEvent(Ey,{bubbles:!0,cancelable:!0});x.addEventListener(Ey,N=>s?.(N),{once:!0}),K0(x,C),C.defaultPrevented?m.current=!1:d.onClose()}};return c.jsx(Aw,{...i,ref:h,disabled:o,onClick:he(t.onClick,y),onPointerDown:x=>{t.onPointerDown?.(x),m.current=!0},onPointerUp:he(t.onPointerUp,x=>{m.current||x.currentTarget?.click()}),onKeyDown:he(t.onKeyDown,x=>{const C=p.searchRef.current!=="";o||C&&x.key===" "||yp.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});cu.displayName=zc;var Aw=g.forwardRef((t,a)=>{const{__scopeMenu:o,disabled:s=!1,textValue:i,...u}=t,d=vm(zc,o),p=jw(o),h=g.useRef(null),m=Ye(a,h),[y,x]=g.useState(!1),[C,N]=g.useState("");return g.useEffect(()=>{const E=h.current;E&&N((E.textContent??"").trim())},[u.children]),c.jsx(Ai.ItemSlot,{scope:o,disabled:s,textValue:i??C,children:c.jsx(hA,{asChild:!0,...p,focusable:!s,children:c.jsx(Le.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...u,ref:m,onPointerMove:he(t.onPointerMove,ki(E=>{s?d.onItemLeave(E):(d.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(t.onPointerLeave,ki(E=>d.onItemLeave(E))),onFocus:he(t.onFocus,()=>x(!0)),onBlur:he(t.onBlur,()=>x(!1))})})})}),AA="MenuCheckboxItem",kw=g.forwardRef((t,a)=>{const{checked:o=!1,onCheckedChange:s,...i}=t;return c.jsx(Uw,{scope:t.__scopeMenu,checked:o,children:c.jsx(cu,{role:"menuitemcheckbox","aria-checked":Lc(o)?"mixed":o,...i,ref:a,"data-state":wm(o),onSelect:he(i.onSelect,()=>s?.(Lc(o)?!0:!o),{checkForDefaultPrevented:!1})})})});kw.displayName=AA;var Ow="MenuRadioGroup",[kA,OA]=yr(Ow,{value:void 0,onValueChange:()=>{}}),zw=g.forwardRef((t,a)=>{const{value:o,onValueChange:s,...i}=t,u=ia(s);return c.jsx(kA,{scope:t.__scopeMenu,value:o,onValueChange:u,children:c.jsx(ym,{...i,ref:a})})});zw.displayName=Ow;var Lw="MenuRadioItem",Pw=g.forwardRef((t,a)=>{const{value:o,...s}=t,i=OA(Lw,t.__scopeMenu),u=o===i.value;return c.jsx(Uw,{scope:t.__scopeMenu,checked:u,children:c.jsx(cu,{role:"menuitemradio","aria-checked":u,...s,ref:a,"data-state":wm(u),onSelect:he(s.onSelect,()=>i.onValueChange?.(o),{checkForDefaultPrevented:!1})})})});Pw.displayName=Lw;var bm="MenuItemIndicator",[Uw,zA]=yr(bm,{checked:!1}),Hw=g.forwardRef((t,a)=>{const{__scopeMenu:o,forceMount:s,...i}=t,u=zA(bm,o);return c.jsx(Ra,{present:s||Lc(u.checked)||u.checked===!0,children:c.jsx(Le.span,{...i,ref:a,"data-state":wm(u.checked)})})});Hw.displayName=bm;var LA="MenuSeparator",Bw=g.forwardRef((t,a)=>{const{__scopeMenu:o,...s}=t;return c.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...s,ref:a})});Bw.displayName=LA;var PA="MenuArrow",Iw=g.forwardRef((t,a)=>{const{__scopeMenu:o,...s}=t,i=lu(o);return c.jsx(mm,{...i,...s,ref:a})});Iw.displayName=PA;var UA="MenuSub",[Z3,$w]=yr(UA),Ti="MenuSubTrigger",qw=g.forwardRef((t,a)=>{const o=br(Ti,t.__scopeMenu),s=Yi(Ti,t.__scopeMenu),i=$w(Ti,t.__scopeMenu),u=vm(Ti,t.__scopeMenu),d=g.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:h}=u,m={__scopeMenu:t.__scopeMenu},y=g.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return g.useEffect(()=>y,[y]),g.useEffect(()=>{const x=p.current;return()=>{window.clearTimeout(x),h(null)}},[p,h]),c.jsx(hm,{asChild:!0,...m,children:c.jsx(Aw,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":i.contentId,"data-state":Yw(o.open),...t,ref:Wc(a,i.onTriggerChange),onClick:x=>{t.onClick?.(x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),o.open||o.onOpenChange(!0))},onPointerMove:he(t.onPointerMove,ki(x=>{u.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!o.open&&!d.current&&(u.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{o.onOpenChange(!0),y()},100))})),onPointerLeave:he(t.onPointerLeave,ki(x=>{y();const C=o.content?.getBoundingClientRect();if(C){const N=o.content?.dataset.side,E=N==="right",b=E?-5:5,w=C[E?"left":"right"],S=C[E?"right":"left"];u.onPointerGraceIntentChange({area:[{x:x.clientX+b,y:x.clientY},{x:w,y:C.top},{x:S,y:C.top},{x:S,y:C.bottom},{x:w,y:C.bottom}],side:N}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(x),x.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:he(t.onKeyDown,x=>{const C=u.searchRef.current!=="";t.disabled||C&&x.key===" "||xA[s.dir].includes(x.key)&&(o.onOpenChange(!0),o.content?.focus(),x.preventDefault())})})})});qw.displayName=Ti;var Fw="MenuSubContent",Gw=g.forwardRef((t,a)=>{const o=Tw(Kn,t.__scopeMenu),{forceMount:s=o.forceMount,...i}=t,u=br(Kn,t.__scopeMenu),d=Yi(Kn,t.__scopeMenu),p=$w(Fw,t.__scopeMenu),h=g.useRef(null),m=Ye(a,h);return c.jsx(Ai.Provider,{scope:t.__scopeMenu,children:c.jsx(Ra,{present:s||u.open,children:c.jsx(Ai.Slot,{scope:t.__scopeMenu,children:c.jsx(xm,{id:p.contentId,"aria-labelledby":p.triggerId,...i,ref:m,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{d.isUsingKeyboardRef.current&&h.current?.focus(),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:he(t.onFocusOutside,y=>{y.target!==p.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:he(t.onEscapeKeyDown,y=>{d.onClose(),y.preventDefault()}),onKeyDown:he(t.onKeyDown,y=>{const x=y.currentTarget.contains(y.target),C=yA[d.dir].includes(y.key);x&&C&&(u.onOpenChange(!1),p.trigger?.focus(),y.preventDefault())})})})})})});Gw.displayName=Fw;function Yw(t){return t?"open":"closed"}function Lc(t){return t==="indeterminate"}function wm(t){return Lc(t)?"indeterminate":t?"checked":"unchecked"}function HA(t){const a=document.activeElement;for(const o of t)if(o===a||(o.focus(),document.activeElement!==a))return}function BA(t,a){return t.map((o,s)=>t[(a+s)%t.length])}function IA(t,a,o){const i=a.length>1&&Array.from(a).every(m=>m===a[0])?a[0]:a,u=o?t.indexOf(o):-1;let d=BA(t,Math.max(u,0));i.length===1&&(d=d.filter(m=>m!==o));const h=d.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return h!==o?h:void 0}function $A(t,a){const{x:o,y:s}=t;let i=!1;for(let u=0,d=a.length-1;u<a.length;d=u++){const p=a[u],h=a[d],m=p.x,y=p.y,x=h.x,C=h.y;y>s!=C>s&&o<(x-m)*(s-y)/(C-y)+m&&(i=!i)}return i}function qA(t,a){if(!a)return!1;const o={x:t.clientX,y:t.clientY};return $A(o,a)}function ki(t){return a=>a.pointerType==="mouse"?t(a):void 0}var Vw=Rw,Xw=hm,Kw=Mw,Ww=_w,Qw=ym,Zw=Dw,Jw=cu,e1=kw,t1=zw,n1=Pw,a1=Hw,o1=Bw,r1=Iw,s1=qw,i1=Gw,Sm="ContextMenu",[FA]=ua(Sm,[iu]),pn=iu(),[GA,l1]=FA(Sm),c1=t=>{const{__scopeContextMenu:a,children:o,onOpenChange:s,dir:i,modal:u=!0}=t,[d,p]=g.useState(!1),h=pn(a),m=ia(s),y=g.useCallback(x=>{p(x),m(x)},[m]);return c.jsx(GA,{scope:a,open:d,onOpenChange:y,modal:u,children:c.jsx(Vw,{...h,dir:i,open:d,onOpenChange:y,modal:u,children:o})})};c1.displayName=Sm;var u1="ContextMenuTrigger",d1=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,disabled:s=!1,...i}=t,u=l1(u1,o),d=pn(o),p=g.useRef({x:0,y:0}),h=g.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...p.current})}),m=g.useRef(0),y=g.useCallback(()=>window.clearTimeout(m.current),[]),x=C=>{p.current={x:C.clientX,y:C.clientY},u.onOpenChange(!0)};return g.useEffect(()=>y,[y]),g.useEffect(()=>{s&&y()},[s,y]),c.jsxs(c.Fragment,{children:[c.jsx(Xw,{...d,virtualRef:h}),c.jsx(Le.span,{"data-state":u.open?"open":"closed","data-disabled":s?"":void 0,...i,ref:a,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:s?t.onContextMenu:he(t.onContextMenu,C=>{y(),x(C),C.preventDefault()}),onPointerDown:s?t.onPointerDown:he(t.onPointerDown,pc(C=>{y(),m.current=window.setTimeout(()=>x(C),700)})),onPointerMove:s?t.onPointerMove:he(t.onPointerMove,pc(y)),onPointerCancel:s?t.onPointerCancel:he(t.onPointerCancel,pc(y)),onPointerUp:s?t.onPointerUp:he(t.onPointerUp,pc(y))})]})});d1.displayName=u1;var YA="ContextMenuPortal",f1=t=>{const{__scopeContextMenu:a,...o}=t,s=pn(a);return c.jsx(Kw,{...s,...o})};f1.displayName=YA;var p1="ContextMenuContent",m1=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=l1(p1,o),u=pn(o),d=g.useRef(!1);return c.jsx(Ww,{...u,...s,ref:a,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:p=>{t.onCloseAutoFocus?.(p),!p.defaultPrevented&&d.current&&p.preventDefault(),d.current=!1},onInteractOutside:p=>{t.onInteractOutside?.(p),!p.defaultPrevented&&!i.modal&&(d.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});m1.displayName=p1;var VA="ContextMenuGroup",XA=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(Qw,{...i,...s,ref:a})});XA.displayName=VA;var KA="ContextMenuLabel",h1=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(Zw,{...i,...s,ref:a})});h1.displayName=KA;var WA="ContextMenuItem",g1=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(Jw,{...i,...s,ref:a})});g1.displayName=WA;var QA="ContextMenuCheckboxItem",v1=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(e1,{...i,...s,ref:a})});v1.displayName=QA;var ZA="ContextMenuRadioGroup",JA=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(t1,{...i,...s,ref:a})});JA.displayName=ZA;var ek="ContextMenuRadioItem",x1=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(n1,{...i,...s,ref:a})});x1.displayName=ek;var tk="ContextMenuItemIndicator",y1=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(a1,{...i,...s,ref:a})});y1.displayName=tk;var nk="ContextMenuSeparator",b1=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(o1,{...i,...s,ref:a})});b1.displayName=nk;var ak="ContextMenuArrow",ok=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(r1,{...i,...s,ref:a})});ok.displayName=ak;var rk="ContextMenuSubTrigger",w1=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(s1,{...i,...s,ref:a})});w1.displayName=rk;var sk="ContextMenuSubContent",S1=g.forwardRef((t,a)=>{const{__scopeContextMenu:o,...s}=t,i=pn(o);return c.jsx(i1,{...i,...s,ref:a,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});S1.displayName=sk;function pc(t){return a=>a.pointerType!=="mouse"?t(a):void 0}var ik=c1,lk=d1,ck=f1,C1=m1,N1=h1,E1=g1,j1=v1,R1=x1,T1=y1,M1=b1,_1=w1,D1=S1,uu="DropdownMenu",[uk]=ua(uu,[iu]),mn=iu(),[dk,A1]=uk(uu),k1=t=>{const{__scopeDropdownMenu:a,children:o,dir:s,open:i,defaultOpen:u,onOpenChange:d,modal:p=!0}=t,h=mn(a),m=g.useRef(null),[y,x]=ur({prop:i,defaultProp:u??!1,onChange:d,caller:uu});return c.jsx(dk,{scope:a,triggerId:Sa(),triggerRef:m,contentId:Sa(),open:y,onOpenChange:x,onOpenToggle:g.useCallback(()=>x(C=>!C),[x]),modal:p,children:c.jsx(Vw,{...h,open:y,onOpenChange:x,dir:s,modal:p,children:o})})};k1.displayName=uu;var O1="DropdownMenuTrigger",z1=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,disabled:s=!1,...i}=t,u=A1(O1,o),d=mn(o);return c.jsx(Xw,{asChild:!0,...d,children:c.jsx(Le.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Wc(a,u.triggerRef),onPointerDown:he(t.onPointerDown,p=>{!s&&p.button===0&&p.ctrlKey===!1&&(u.onOpenToggle(),u.open||p.preventDefault())}),onKeyDown:he(t.onKeyDown,p=>{s||(["Enter"," "].includes(p.key)&&u.onOpenToggle(),p.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});z1.displayName=O1;var fk="DropdownMenuPortal",L1=t=>{const{__scopeDropdownMenu:a,...o}=t,s=mn(a);return c.jsx(Kw,{...s,...o})};L1.displayName=fk;var P1="DropdownMenuContent",U1=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=A1(P1,o),u=mn(o),d=g.useRef(!1);return c.jsx(Ww,{id:i.contentId,"aria-labelledby":i.triggerId,...u,...s,ref:a,onCloseAutoFocus:he(t.onCloseAutoFocus,p=>{d.current||i.triggerRef.current?.focus(),d.current=!1,p.preventDefault()}),onInteractOutside:he(t.onInteractOutside,p=>{const h=p.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,y=h.button===2||m;(!i.modal||y)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});U1.displayName=P1;var pk="DropdownMenuGroup",mk=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(Qw,{...i,...s,ref:a})});mk.displayName=pk;var hk="DropdownMenuLabel",H1=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(Zw,{...i,...s,ref:a})});H1.displayName=hk;var gk="DropdownMenuItem",B1=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(Jw,{...i,...s,ref:a})});B1.displayName=gk;var vk="DropdownMenuCheckboxItem",xk=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(e1,{...i,...s,ref:a})});xk.displayName=vk;var yk="DropdownMenuRadioGroup",bk=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(t1,{...i,...s,ref:a})});bk.displayName=yk;var wk="DropdownMenuRadioItem",Sk=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(n1,{...i,...s,ref:a})});Sk.displayName=wk;var Ck="DropdownMenuItemIndicator",Nk=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(a1,{...i,...s,ref:a})});Nk.displayName=Ck;var Ek="DropdownMenuSeparator",I1=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(o1,{...i,...s,ref:a})});I1.displayName=Ek;var jk="DropdownMenuArrow",Rk=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(r1,{...i,...s,ref:a})});Rk.displayName=jk;var Tk="DropdownMenuSubTrigger",Mk=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(s1,{...i,...s,ref:a})});Mk.displayName=Tk;var _k="DropdownMenuSubContent",Dk=g.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=mn(o);return c.jsx(i1,{...i,...s,ref:a,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dk.displayName=_k;var Ak=k1,kk=z1,Ok=L1,zk=U1,Lk=H1,Pk=B1,Uk=I1,Hk="Label",$1=g.forwardRef((t,a)=>c.jsx(Le.label,{...t,ref:a,onMouseDown:o=>{o.target.closest("button, input, select, textarea")||(t.onMouseDown?.(o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));$1.displayName=Hk;var Bk=$1;function Pc(t,[a,o]){return Math.min(o,Math.max(a,t))}var Ik=[" ","Enter","ArrowUp","ArrowDown"],$k=[" ","Enter"],pr="Select",[du,fu,qk]=Qc(pr),[Ns]=ua(pr,[qk,Cs]),pu=Cs(),[Fk,Ho]=Ns(pr),[Gk,Yk]=Ns(pr),q1=t=>{const{__scopeSelect:a,children:o,open:s,defaultOpen:i,onOpenChange:u,value:d,defaultValue:p,onValueChange:h,dir:m,name:y,autoComplete:x,disabled:C,required:N,form:E}=t,b=pu(a),[w,S]=g.useState(null),[R,T]=g.useState(null),[D,k]=g.useState(!1),O=Zc(m),[M,_]=ur({prop:s,defaultProp:i??!1,onChange:u,caller:pr}),[P,$]=ur({prop:d,defaultProp:p,onChange:h,caller:pr}),W=g.useRef(null),Q=w?E||!!w.closest("form"):!0,[q,F]=g.useState(new Set),ae=Array.from(q).map(L=>L.props.value).join(";");return c.jsx(dm,{...b,children:c.jsxs(Fk,{required:N,scope:a,trigger:w,onTriggerChange:S,valueNode:R,onValueNodeChange:T,valueNodeHasChildren:D,onValueNodeHasChildrenChange:k,contentId:Sa(),value:P,onValueChange:$,open:M,onOpenChange:_,dir:O,triggerPointerDownPosRef:W,disabled:C,children:[c.jsx(du.Provider,{scope:a,children:c.jsx(Gk,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(L=>{F(H=>new Set(H).add(L))},[]),onNativeOptionRemove:g.useCallback(L=>{F(H=>{const U=new Set(H);return U.delete(L),U})},[]),children:o})}),Q?c.jsxs(pS,{"aria-hidden":!0,required:N,tabIndex:-1,name:y,autoComplete:x,value:P,onChange:L=>$(L.target.value),disabled:C,form:E,children:[P===void 0?c.jsx("option",{value:""}):null,Array.from(q)]},ae):null]})})};q1.displayName=pr;var F1="SelectTrigger",G1=g.forwardRef((t,a)=>{const{__scopeSelect:o,disabled:s=!1,...i}=t,u=pu(o),d=Ho(F1,o),p=d.disabled||s,h=Ye(a,d.onTriggerChange),m=fu(o),y=g.useRef("touch"),[x,C,N]=hS(b=>{const w=m().filter(T=>!T.disabled),S=w.find(T=>T.value===d.value),R=gS(w,b,S);R!==void 0&&d.onValueChange(R.value)}),E=b=>{p||(d.onOpenChange(!0),N()),b&&(d.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return c.jsx(fm,{asChild:!0,...u,children:c.jsx(Le.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":mS(d.value)?"":void 0,...i,ref:h,onClick:he(i.onClick,b=>{b.currentTarget.focus(),y.current!=="mouse"&&E(b)}),onPointerDown:he(i.onPointerDown,b=>{y.current=b.pointerType;const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(E(b),b.preventDefault())}),onKeyDown:he(i.onKeyDown,b=>{const w=x.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&C(b.key),!(w&&b.key===" ")&&Ik.includes(b.key)&&(E(),b.preventDefault())})})})});G1.displayName=F1;var Y1="SelectValue",V1=g.forwardRef((t,a)=>{const{__scopeSelect:o,className:s,style:i,children:u,placeholder:d="",...p}=t,h=Ho(Y1,o),{onValueNodeHasChildrenChange:m}=h,y=u!==void 0,x=Ye(a,h.onValueNodeChange);return cn(()=>{m(y)},[m,y]),c.jsx(Le.span,{...p,ref:x,style:{pointerEvents:"none"},children:mS(h.value)?c.jsx(c.Fragment,{children:d}):u})});V1.displayName=Y1;var Vk="SelectIcon",X1=g.forwardRef((t,a)=>{const{__scopeSelect:o,children:s,...i}=t;return c.jsx(Le.span,{"aria-hidden":!0,...i,ref:a,children:s||""})});X1.displayName=Vk;var Xk="SelectPortal",K1=t=>c.jsx($i,{asChild:!0,...t});K1.displayName=Xk;var mr="SelectContent",W1=g.forwardRef((t,a)=>{const o=Ho(mr,t.__scopeSelect),[s,i]=g.useState();if(cn(()=>{i(new DocumentFragment)},[]),!o.open){const u=s;return u?Hi.createPortal(c.jsx(Q1,{scope:t.__scopeSelect,children:c.jsx(du.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),u):null}return c.jsx(Z1,{...t,ref:a})});W1.displayName=mr;var ra=10,[Q1,Bo]=Ns(mr),Kk="SelectContentImpl",Wk=cr("SelectContent.RemoveScroll"),Z1=g.forwardRef((t,a)=>{const{__scopeSelect:o,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:u,onPointerDownOutside:d,side:p,sideOffset:h,align:m,alignOffset:y,arrowPadding:x,collisionBoundary:C,collisionPadding:N,sticky:E,hideWhenDetached:b,avoidCollisions:w,...S}=t,R=Ho(mr,o),[T,D]=g.useState(null),[k,O]=g.useState(null),M=Ye(a,Y=>D(Y)),[_,P]=g.useState(null),[$,W]=g.useState(null),Q=fu(o),[q,F]=g.useState(!1),ae=g.useRef(!1);g.useEffect(()=>{if(T)return Zp(T)},[T]),Qp();const L=g.useCallback(Y=>{const[ge,...ve]=Q().map(Ee=>Ee.ref.current),[Re]=ve.slice(-1),ye=document.activeElement;for(const Ee of Y)if(Ee===ye||(Ee?.scrollIntoView({block:"nearest"}),Ee===ge&&k&&(k.scrollTop=0),Ee===Re&&k&&(k.scrollTop=k.scrollHeight),Ee?.focus(),document.activeElement!==ye))return},[Q,k]),H=g.useCallback(()=>L([_,T]),[L,_,T]);g.useEffect(()=>{q&&H()},[q,H]);const{onOpenChange:U,triggerPointerDownPosRef:V}=R;g.useEffect(()=>{if(T){let Y={x:0,y:0};const ge=Re=>{Y={x:Math.abs(Math.round(Re.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(Re.pageY)-(V.current?.y??0))}},ve=Re=>{Y.x<=10&&Y.y<=10?Re.preventDefault():T.contains(Re.target)||U(!1),document.removeEventListener("pointermove",ge),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",ve,{capture:!0})}}},[T,U,V]),g.useEffect(()=>{const Y=()=>U(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[U]);const[ce,z]=hS(Y=>{const ge=Q().filter(ye=>!ye.disabled),ve=ge.find(ye=>ye.ref.current===document.activeElement),Re=gS(ge,Y,ve);Re&&setTimeout(()=>Re.ref.current.focus())}),K=g.useCallback((Y,ge,ve)=>{const Re=!ae.current&&!ve;(R.value!==void 0&&R.value===ge||Re)&&(P(Y),Re&&(ae.current=!0))},[R.value]),ne=g.useCallback(()=>T?.focus(),[T]),se=g.useCallback((Y,ge,ve)=>{const Re=!ae.current&&!ve;(R.value!==void 0&&R.value===ge||Re)&&W(Y)},[R.value]),fe=s==="popper"?bp:J1,ue=fe===bp?{side:p,sideOffset:h,align:m,alignOffset:y,arrowPadding:x,collisionBoundary:C,collisionPadding:N,sticky:E,hideWhenDetached:b,avoidCollisions:w}:{};return c.jsx(Q1,{scope:o,content:T,viewport:k,onViewportChange:O,itemRefCallback:K,selectedItem:_,onItemLeave:ne,itemTextRefCallback:se,focusSelectedItem:H,selectedItemText:$,position:s,isPositioned:q,searchRef:ce,children:c.jsx(tu,{as:Wk,allowPinchZoom:!0,children:c.jsx(Jc,{asChild:!0,trapped:R.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:he(i,Y=>{R.trigger?.focus({preventScroll:!0}),Y.preventDefault()}),children:c.jsx(Ii,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:c.jsx(fe,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:Y=>Y.preventDefault(),...S,...ue,onPlaced:()=>F(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:he(S.onKeyDown,Y=>{const ge=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!ge&&Y.key.length===1&&z(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Re=Q().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const ye=Y.target,Ee=Re.indexOf(ye);Re=Re.slice(Ee+1)}setTimeout(()=>L(Re)),Y.preventDefault()}})})})})})})});Z1.displayName=Kk;var Qk="SelectItemAlignedPosition",J1=g.forwardRef((t,a)=>{const{__scopeSelect:o,onPlaced:s,...i}=t,u=Ho(mr,o),d=Bo(mr,o),[p,h]=g.useState(null),[m,y]=g.useState(null),x=Ye(a,M=>y(M)),C=fu(o),N=g.useRef(!1),E=g.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:S,focusSelectedItem:R}=d,T=g.useCallback(()=>{if(u.trigger&&u.valueNode&&p&&m&&b&&w&&S){const M=u.trigger.getBoundingClientRect(),_=m.getBoundingClientRect(),P=u.valueNode.getBoundingClientRect(),$=S.getBoundingClientRect();if(u.dir!=="rtl"){const ye=$.left-_.left,Ee=P.left-ye,nt=M.left-Ee,Ct=M.width+nt,Ot=Math.max(Ct,_.width),Bt=window.innerWidth-ra,Kt=Pc(Ee,[ra,Math.max(ra,Bt-Ot)]);p.style.minWidth=Ct+"px",p.style.left=Kt+"px"}else{const ye=_.right-$.right,Ee=window.innerWidth-P.right-ye,nt=window.innerWidth-M.right-Ee,Ct=M.width+nt,Ot=Math.max(Ct,_.width),Bt=window.innerWidth-ra,Kt=Pc(Ee,[ra,Math.max(ra,Bt-Ot)]);p.style.minWidth=Ct+"px",p.style.right=Kt+"px"}const W=C(),Q=window.innerHeight-ra*2,q=b.scrollHeight,F=window.getComputedStyle(m),ae=parseInt(F.borderTopWidth,10),L=parseInt(F.paddingTop,10),H=parseInt(F.borderBottomWidth,10),U=parseInt(F.paddingBottom,10),V=ae+L+q+U+H,ce=Math.min(w.offsetHeight*5,V),z=window.getComputedStyle(b),K=parseInt(z.paddingTop,10),ne=parseInt(z.paddingBottom,10),se=M.top+M.height/2-ra,fe=Q-se,ue=w.offsetHeight/2,Y=w.offsetTop+ue,ge=ae+L+Y,ve=V-ge;if(ge<=se){const ye=W.length>0&&w===W[W.length-1].ref.current;p.style.bottom="0px";const Ee=m.clientHeight-b.offsetTop-b.offsetHeight,nt=Math.max(fe,ue+(ye?ne:0)+Ee+H),Ct=ge+nt;p.style.height=Ct+"px"}else{const ye=W.length>0&&w===W[0].ref.current;p.style.top="0px";const nt=Math.max(se,ae+b.offsetTop+(ye?K:0)+ue)+ve;p.style.height=nt+"px",b.scrollTop=ge-se+b.offsetTop}p.style.margin=`${ra}px 0`,p.style.minHeight=ce+"px",p.style.maxHeight=Q+"px",s?.(),requestAnimationFrame(()=>N.current=!0)}},[C,u.trigger,u.valueNode,p,m,b,w,S,u.dir,s]);cn(()=>T(),[T]);const[D,k]=g.useState();cn(()=>{m&&k(window.getComputedStyle(m).zIndex)},[m]);const O=g.useCallback(M=>{M&&E.current===!0&&(T(),R?.(),E.current=!1)},[T,R]);return c.jsx(Jk,{scope:o,contentWrapper:p,shouldExpandOnScrollRef:N,onScrollButtonChange:O,children:c.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:c.jsx(Le.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});J1.displayName=Qk;var Zk="SelectPopperPosition",bp=g.forwardRef((t,a)=>{const{__scopeSelect:o,align:s="start",collisionPadding:i=ra,...u}=t,d=pu(o);return c.jsx(pm,{...d,...u,ref:a,align:s,collisionPadding:i,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bp.displayName=Zk;var[Jk,Cm]=Ns(mr,{}),wp="SelectViewport",eS=g.forwardRef((t,a)=>{const{__scopeSelect:o,nonce:s,...i}=t,u=Bo(wp,o),d=Cm(wp,o),p=Ye(a,u.onViewportChange),h=g.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(du.Slot,{scope:o,children:c.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:he(i.onScroll,m=>{const y=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:C}=d;if(C?.current&&x){const N=Math.abs(h.current-y.scrollTop);if(N>0){const E=window.innerHeight-ra*2,b=parseFloat(x.style.minHeight),w=parseFloat(x.style.height),S=Math.max(b,w);if(S<E){const R=S+N,T=Math.min(E,R),D=R-T;x.style.height=T+"px",x.style.bottom==="0px"&&(y.scrollTop=D>0?D:0,x.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});eS.displayName=wp;var tS="SelectGroup",[e5,t5]=Ns(tS),nS=g.forwardRef((t,a)=>{const{__scopeSelect:o,...s}=t,i=Sa();return c.jsx(e5,{scope:o,id:i,children:c.jsx(Le.div,{role:"group","aria-labelledby":i,...s,ref:a})})});nS.displayName=tS;var aS="SelectLabel",oS=g.forwardRef((t,a)=>{const{__scopeSelect:o,...s}=t,i=t5(aS,o);return c.jsx(Le.div,{id:i.id,...s,ref:a})});oS.displayName=aS;var Uc="SelectItem",[n5,rS]=Ns(Uc),sS=g.forwardRef((t,a)=>{const{__scopeSelect:o,value:s,disabled:i=!1,textValue:u,...d}=t,p=Ho(Uc,o),h=Bo(Uc,o),m=p.value===s,[y,x]=g.useState(u??""),[C,N]=g.useState(!1),E=Ye(a,R=>h.itemRefCallback?.(R,s,i)),b=Sa(),w=g.useRef("touch"),S=()=>{i||(p.onValueChange(s),p.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(n5,{scope:o,value:s,disabled:i,textId:b,isSelected:m,onItemTextChange:g.useCallback(R=>{x(T=>T||(R?.textContent??"").trim())},[]),children:c.jsx(du.ItemSlot,{scope:o,value:s,disabled:i,textValue:y,children:c.jsx(Le.div,{role:"option","aria-labelledby":b,"data-highlighted":C?"":void 0,"aria-selected":m&&C,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:E,onFocus:he(d.onFocus,()=>N(!0)),onBlur:he(d.onBlur,()=>N(!1)),onClick:he(d.onClick,()=>{w.current!=="mouse"&&S()}),onPointerUp:he(d.onPointerUp,()=>{w.current==="mouse"&&S()}),onPointerDown:he(d.onPointerDown,R=>{w.current=R.pointerType}),onPointerMove:he(d.onPointerMove,R=>{w.current=R.pointerType,i?h.onItemLeave?.():w.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(d.onPointerLeave,R=>{R.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:he(d.onKeyDown,R=>{h.searchRef?.current!==""&&R.key===" "||($k.includes(R.key)&&S(),R.key===" "&&R.preventDefault())})})})})});sS.displayName=Uc;var Mi="SelectItemText",iS=g.forwardRef((t,a)=>{const{__scopeSelect:o,className:s,style:i,...u}=t,d=Ho(Mi,o),p=Bo(Mi,o),h=rS(Mi,o),m=Yk(Mi,o),[y,x]=g.useState(null),C=Ye(a,S=>x(S),h.onItemTextChange,S=>p.itemTextRefCallback?.(S,h.value,h.disabled)),N=y?.textContent,E=g.useMemo(()=>c.jsx("option",{value:h.value,disabled:h.disabled,children:N},h.value),[h.disabled,h.value,N]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=m;return cn(()=>(b(E),()=>w(E)),[b,w,E]),c.jsxs(c.Fragment,{children:[c.jsx(Le.span,{id:h.textId,...u,ref:C}),h.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Hi.createPortal(u.children,d.valueNode):null]})});iS.displayName=Mi;var lS="SelectItemIndicator",cS=g.forwardRef((t,a)=>{const{__scopeSelect:o,...s}=t;return rS(lS,o).isSelected?c.jsx(Le.span,{"aria-hidden":!0,...s,ref:a}):null});cS.displayName=lS;var Sp="SelectScrollUpButton",uS=g.forwardRef((t,a)=>{const o=Bo(Sp,t.__scopeSelect),s=Cm(Sp,t.__scopeSelect),[i,u]=g.useState(!1),d=Ye(a,s.onScrollButtonChange);return cn(()=>{if(o.viewport&&o.isPositioned){let p=function(){const m=h.scrollTop>0;u(m)};const h=o.viewport;return p(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,o.isPositioned]),i?c.jsx(fS,{...t,ref:d,onAutoScroll:()=>{const{viewport:p,selectedItem:h}=o;p&&h&&(p.scrollTop=p.scrollTop-h.offsetHeight)}}):null});uS.displayName=Sp;var Cp="SelectScrollDownButton",dS=g.forwardRef((t,a)=>{const o=Bo(Cp,t.__scopeSelect),s=Cm(Cp,t.__scopeSelect),[i,u]=g.useState(!1),d=Ye(a,s.onScrollButtonChange);return cn(()=>{if(o.viewport&&o.isPositioned){let p=function(){const m=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<m;u(y)};const h=o.viewport;return p(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,o.isPositioned]),i?c.jsx(fS,{...t,ref:d,onAutoScroll:()=>{const{viewport:p,selectedItem:h}=o;p&&h&&(p.scrollTop=p.scrollTop+h.offsetHeight)}}):null});dS.displayName=Cp;var fS=g.forwardRef((t,a)=>{const{__scopeSelect:o,onAutoScroll:s,...i}=t,u=Bo("SelectScrollButton",o),d=g.useRef(null),p=fu(o),h=g.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return g.useEffect(()=>()=>h(),[h]),cn(()=>{p().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[p]),c.jsx(Le.div,{"aria-hidden":!0,...i,ref:a,style:{flexShrink:0,...i.style},onPointerDown:he(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(s,50))}),onPointerMove:he(i.onPointerMove,()=>{u.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(s,50))}),onPointerLeave:he(i.onPointerLeave,()=>{h()})})}),a5="SelectSeparator",o5=g.forwardRef((t,a)=>{const{__scopeSelect:o,...s}=t;return c.jsx(Le.div,{"aria-hidden":!0,...s,ref:a})});o5.displayName=a5;var Np="SelectArrow",r5=g.forwardRef((t,a)=>{const{__scopeSelect:o,...s}=t,i=pu(o),u=Ho(Np,o),d=Bo(Np,o);return u.open&&d.position==="popper"?c.jsx(mm,{...i,...s,ref:a}):null});r5.displayName=Np;var s5="SelectBubbleInput",pS=g.forwardRef(({__scopeSelect:t,value:a,...o},s)=>{const i=g.useRef(null),u=Ye(s,i),d=Wb(a);return g.useEffect(()=>{const p=i.current;if(!p)return;const h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==a&&y){const x=new Event("change",{bubbles:!0});y.call(p,a),p.dispatchEvent(x)}},[d,a]),c.jsx(Le.select,{...o,style:{...W0,...o.style},ref:u,defaultValue:a})});pS.displayName=s5;function mS(t){return t===""||t===void 0}function hS(t){const a=ia(t),o=g.useRef(""),s=g.useRef(0),i=g.useCallback(d=>{const p=o.current+d;a(p),(function h(m){o.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>h(""),1e3))})(p)},[a]),u=g.useCallback(()=>{o.current="",window.clearTimeout(s.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(s.current),[]),[o,i,u]}function gS(t,a,o){const i=a.length>1&&Array.from(a).every(m=>m===a[0])?a[0]:a,u=o?t.indexOf(o):-1;let d=i5(t,Math.max(u,0));i.length===1&&(d=d.filter(m=>m!==o));const h=d.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==o?h:void 0}function i5(t,a){return t.map((o,s)=>t[(a+s)%t.length])}var l5=q1,c5=G1,u5=V1,d5=X1,f5=K1,p5=W1,m5=eS,h5=nS,g5=oS,v5=sS,x5=iS,y5=cS,b5=uS,w5=dS,vS=["PageUp","PageDown"],xS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Es="Slider",[Ep,S5,C5]=Qc(Es),[bS]=ua(Es,[C5]),[N5,mu]=bS(Es),wS=g.forwardRef((t,a)=>{const{name:o,min:s=0,max:i=100,step:u=1,orientation:d="horizontal",disabled:p=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[s],value:y,onValueChange:x=()=>{},onValueCommit:C=()=>{},inverted:N=!1,form:E,...b}=t,w=g.useRef(new Set),S=g.useRef(0),T=d==="horizontal"?E5:j5,[D=[],k]=ur({prop:y,defaultProp:m,onChange:W=>{[...w.current][S.current]?.focus(),x(W)}}),O=g.useRef(D);function M(W){const Q=D5(D,W);$(W,Q)}function _(W){$(W,S.current)}function P(){const W=O.current[S.current];D[S.current]!==W&&C(D)}function $(W,Q,{commit:q}={commit:!1}){const F=z5(u),ae=L5(Math.round((W-s)/u)*u+s,F),L=Pc(ae,[s,i]);k((H=[])=>{const U=M5(H,L,Q);if(O5(U,h*u)){S.current=U.indexOf(L);const V=String(U)!==String(H);return V&&q&&C(U),V?U:H}else return H})}return c.jsx(N5,{scope:t.__scopeSlider,name:o,disabled:p,min:s,max:i,valueIndexToChangeRef:S,thumbs:w.current,values:D,orientation:d,form:E,children:c.jsx(Ep.Provider,{scope:t.__scopeSlider,children:c.jsx(Ep.Slot,{scope:t.__scopeSlider,children:c.jsx(T,{"aria-disabled":p,"data-disabled":p?"":void 0,...b,ref:a,onPointerDown:he(b.onPointerDown,()=>{p||(O.current=D)}),min:s,max:i,inverted:N,onSlideStart:p?void 0:M,onSlideMove:p?void 0:_,onSlideEnd:p?void 0:P,onHomeKeyDown:()=>!p&&$(s,0,{commit:!0}),onEndKeyDown:()=>!p&&$(i,D.length-1,{commit:!0}),onStepKeyDown:({event:W,direction:Q})=>{if(!p){const ae=vS.includes(W.key)||W.shiftKey&&xS.includes(W.key)?10:1,L=S.current,H=D[L],U=u*ae*Q;$(H+U,L,{commit:!0})}}})})})})});wS.displayName=Es;var[SS,CS]=bS(Es,{startEdge:"left",endEdge:"right",size:"width",direction:1}),E5=g.forwardRef((t,a)=>{const{min:o,max:s,dir:i,inverted:u,onSlideStart:d,onSlideMove:p,onSlideEnd:h,onStepKeyDown:m,...y}=t,[x,C]=g.useState(null),N=Ye(a,T=>C(T)),E=g.useRef(void 0),b=Zc(i),w=b==="ltr",S=w&&!u||!w&&u;function R(T){const D=E.current||x.getBoundingClientRect(),k=[0,D.width],M=Nm(k,S?[o,s]:[s,o]);return E.current=D,M(T-D.left)}return c.jsx(SS,{scope:t.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:c.jsx(NS,{dir:b,"data-orientation":"horizontal",...y,ref:N,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const D=R(T.clientX);d?.(D)},onSlideMove:T=>{const D=R(T.clientX);p?.(D)},onSlideEnd:()=>{E.current=void 0,h?.()},onStepKeyDown:T=>{const k=yS[S?"from-left":"from-right"].includes(T.key);m?.({event:T,direction:k?-1:1})}})})}),j5=g.forwardRef((t,a)=>{const{min:o,max:s,inverted:i,onSlideStart:u,onSlideMove:d,onSlideEnd:p,onStepKeyDown:h,...m}=t,y=g.useRef(null),x=Ye(a,y),C=g.useRef(void 0),N=!i;function E(b){const w=C.current||y.current.getBoundingClientRect(),S=[0,w.height],T=Nm(S,N?[s,o]:[o,s]);return C.current=w,T(b-w.top)}return c.jsx(SS,{scope:t.__scopeSlider,startEdge:N?"bottom":"top",endEdge:N?"top":"bottom",size:"height",direction:N?1:-1,children:c.jsx(NS,{"data-orientation":"vertical",...m,ref:x,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const w=E(b.clientY);u?.(w)},onSlideMove:b=>{const w=E(b.clientY);d?.(w)},onSlideEnd:()=>{C.current=void 0,p?.()},onStepKeyDown:b=>{const S=yS[N?"from-bottom":"from-top"].includes(b.key);h?.({event:b,direction:S?-1:1})}})})}),NS=g.forwardRef((t,a)=>{const{__scopeSlider:o,onSlideStart:s,onSlideMove:i,onSlideEnd:u,onHomeKeyDown:d,onEndKeyDown:p,onStepKeyDown:h,...m}=t,y=mu(Es,o);return c.jsx(Le.span,{...m,ref:a,onKeyDown:he(t.onKeyDown,x=>{x.key==="Home"?(d(x),x.preventDefault()):x.key==="End"?(p(x),x.preventDefault()):vS.concat(xS).includes(x.key)&&(h(x),x.preventDefault())}),onPointerDown:he(t.onPointerDown,x=>{const C=x.target;C.setPointerCapture(x.pointerId),x.preventDefault(),y.thumbs.has(C)?C.focus():s(x)}),onPointerMove:he(t.onPointerMove,x=>{x.target.hasPointerCapture(x.pointerId)&&i(x)}),onPointerUp:he(t.onPointerUp,x=>{const C=x.target;C.hasPointerCapture(x.pointerId)&&(C.releasePointerCapture(x.pointerId),u(x))})})}),ES="SliderTrack",jS=g.forwardRef((t,a)=>{const{__scopeSlider:o,...s}=t,i=mu(ES,o);return c.jsx(Le.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:a})});jS.displayName=ES;var jp="SliderRange",RS=g.forwardRef((t,a)=>{const{__scopeSlider:o,...s}=t,i=mu(jp,o),u=CS(jp,o),d=g.useRef(null),p=Ye(a,d),h=i.values.length,m=i.values.map(C=>_S(C,i.min,i.max)),y=h>1?Math.min(...m):0,x=100-Math.max(...m);return c.jsx(Le.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...s,ref:p,style:{...t.style,[u.startEdge]:y+"%",[u.endEdge]:x+"%"}})});RS.displayName=jp;var Rp="SliderThumb",TS=g.forwardRef((t,a)=>{const o=S5(t.__scopeSlider),[s,i]=g.useState(null),u=Ye(a,p=>i(p)),d=g.useMemo(()=>s?o().findIndex(p=>p.ref.current===s):-1,[o,s]);return c.jsx(R5,{...t,ref:u,index:d})}),R5=g.forwardRef((t,a)=>{const{__scopeSlider:o,index:s,name:i,...u}=t,d=mu(Rp,o),p=CS(Rp,o),[h,m]=g.useState(null),y=Ye(a,R=>m(R)),x=h?d.form||!!h.closest("form"):!0,C=Qb(h),N=d.values[s],E=N===void 0?0:_S(N,d.min,d.max),b=_5(s,d.values.length),w=C?.[p.size],S=w?A5(w,E,p.direction):0;return g.useEffect(()=>{if(h)return d.thumbs.add(h),()=>{d.thumbs.delete(h)}},[h,d.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[p.startEdge]:`calc(${E}% + ${S}px)`},children:[c.jsx(Ep.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(Le.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":d.min,"aria-valuenow":N,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...u,ref:y,style:N===void 0?{display:"none"}:t.style,onFocus:he(t.onFocus,()=>{d.valueIndexToChangeRef.current=s})})}),x&&c.jsx(MS,{name:i??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:N},s)]})});TS.displayName=Rp;var T5="RadioBubbleInput",MS=g.forwardRef(({__scopeSlider:t,value:a,...o},s)=>{const i=g.useRef(null),u=Ye(i,s),d=Wb(a);return g.useEffect(()=>{const p=i.current;if(!p)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==a&&y){const x=new Event("input",{bubbles:!0});y.call(p,a),p.dispatchEvent(x)}},[d,a]),c.jsx(Le.input,{style:{display:"none"},...o,ref:u,defaultValue:a})});MS.displayName=T5;function M5(t=[],a,o){const s=[...t];return s[o]=a,s.sort((i,u)=>i-u)}function _S(t,a,o){const u=100/(o-a)*(t-a);return Pc(u,[0,100])}function _5(t,a){return a>2?`Value ${t+1} of ${a}`:a===2?["Minimum","Maximum"][t]:void 0}function D5(t,a){if(t.length===1)return 0;const o=t.map(i=>Math.abs(i-a)),s=Math.min(...o);return o.indexOf(s)}function A5(t,a,o){const s=t/2,u=Nm([0,50],[0,s]);return(s-u(a)*o)*o}function k5(t){return t.slice(0,-1).map((a,o)=>t[o+1]-a)}function O5(t,a){if(a>0){const o=k5(t);return Math.min(...o)>=a}return!0}function Nm(t,a){return o=>{if(t[0]===t[1]||a[0]===a[1])return a[0];const s=(a[1]-a[0])/(t[1]-t[0]);return a[0]+s*(o-t[0])}}function z5(t){return(String(t).split(".")[1]||"").length}function L5(t,a){const o=Math.pow(10,a);return Math.round(t*o)/o}var P5=wS,U5=jS,H5=RS,B5=TS,[hu]=ua("Tooltip",[Cs]),gu=Cs(),DS="TooltipProvider",I5=700,Tp="tooltip.open",[$5,Em]=hu(DS),AS=t=>{const{__scopeTooltip:a,delayDuration:o=I5,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:u}=t,d=g.useRef(!0),p=g.useRef(!1),h=g.useRef(0);return g.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),c.jsx($5,{scope:a,isOpenDelayedRef:d,delayDuration:o,onOpen:g.useCallback(()=>{window.clearTimeout(h.current),d.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>d.current=!0,s)},[s]),isPointerInTransitRef:p,onPointerInTransitChange:g.useCallback(m=>{p.current=m},[]),disableHoverableContent:i,children:u})};AS.displayName=DS;var Oi="Tooltip",[q5,Vi]=hu(Oi),kS=t=>{const{__scopeTooltip:a,children:o,open:s,defaultOpen:i,onOpenChange:u,disableHoverableContent:d,delayDuration:p}=t,h=Em(Oi,t.__scopeTooltip),m=gu(a),[y,x]=g.useState(null),C=Sa(),N=g.useRef(0),E=d??h.disableHoverableContent,b=p??h.delayDuration,w=g.useRef(!1),[S,R]=ur({prop:s,defaultProp:i??!1,onChange:M=>{M?(h.onOpen(),document.dispatchEvent(new CustomEvent(Tp))):h.onClose(),u?.(M)},caller:Oi}),T=g.useMemo(()=>S?w.current?"delayed-open":"instant-open":"closed",[S]),D=g.useCallback(()=>{window.clearTimeout(N.current),N.current=0,w.current=!1,R(!0)},[R]),k=g.useCallback(()=>{window.clearTimeout(N.current),N.current=0,R(!1)},[R]),O=g.useCallback(()=>{window.clearTimeout(N.current),N.current=window.setTimeout(()=>{w.current=!0,R(!0),N.current=0},b)},[b,R]);return g.useEffect(()=>()=>{N.current&&(window.clearTimeout(N.current),N.current=0)},[]),c.jsx(dm,{...m,children:c.jsx(q5,{scope:a,contentId:C,open:S,stateAttribute:T,trigger:y,onTriggerChange:x,onTriggerEnter:g.useCallback(()=>{h.isOpenDelayedRef.current?O():D()},[h.isOpenDelayedRef,O,D]),onTriggerLeave:g.useCallback(()=>{E?k():(window.clearTimeout(N.current),N.current=0)},[k,E]),onOpen:D,onClose:k,disableHoverableContent:E,children:o})})};kS.displayName=Oi;var Mp="TooltipTrigger",OS=g.forwardRef((t,a)=>{const{__scopeTooltip:o,...s}=t,i=Vi(Mp,o),u=Em(Mp,o),d=gu(o),p=g.useRef(null),h=Ye(a,p,i.onTriggerChange),m=g.useRef(!1),y=g.useRef(!1),x=g.useCallback(()=>m.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),c.jsx(fm,{asChild:!0,...d,children:c.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:h,onPointerMove:he(t.onPointerMove,C=>{C.pointerType!=="touch"&&!y.current&&!u.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:he(t.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:he(t.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:he(t.onFocus,()=>{m.current||i.onOpen()}),onBlur:he(t.onBlur,i.onClose),onClick:he(t.onClick,i.onClose)})})});OS.displayName=Mp;var jm="TooltipPortal",[F5,G5]=hu(jm,{forceMount:void 0}),zS=t=>{const{__scopeTooltip:a,forceMount:o,children:s,container:i}=t,u=Vi(jm,a);return c.jsx(F5,{scope:a,forceMount:o,children:c.jsx(Ra,{present:o||u.open,children:c.jsx($i,{asChild:!0,container:i,children:s})})})};zS.displayName=jm;var hs="TooltipContent",LS=g.forwardRef((t,a)=>{const o=G5(hs,t.__scopeTooltip),{forceMount:s=o.forceMount,side:i="top",...u}=t,d=Vi(hs,t.__scopeTooltip);return c.jsx(Ra,{present:s||d.open,children:d.disableHoverableContent?c.jsx(PS,{side:i,...u,ref:a}):c.jsx(Y5,{side:i,...u,ref:a})})}),Y5=g.forwardRef((t,a)=>{const o=Vi(hs,t.__scopeTooltip),s=Em(hs,t.__scopeTooltip),i=g.useRef(null),u=Ye(a,i),[d,p]=g.useState(null),{trigger:h,onClose:m}=o,y=i.current,{onPointerInTransitChange:x}=s,C=g.useCallback(()=>{p(null),x(!1)},[x]),N=g.useCallback((E,b)=>{const w=E.currentTarget,S={x:E.clientX,y:E.clientY},R=W5(S,w.getBoundingClientRect()),T=Q5(S,R),D=Z5(b.getBoundingClientRect()),k=eO([...T,...D]);p(k),x(!0)},[x]);return g.useEffect(()=>()=>C(),[C]),g.useEffect(()=>{if(h&&y){const E=w=>N(w,y),b=w=>N(w,h);return h.addEventListener("pointerleave",E),y.addEventListener("pointerleave",b),()=>{h.removeEventListener("pointerleave",E),y.removeEventListener("pointerleave",b)}}},[h,y,N,C]),g.useEffect(()=>{if(d){const E=b=>{const w=b.target,S={x:b.clientX,y:b.clientY},R=h?.contains(w)||y?.contains(w),T=!J5(S,d);R?C():T&&(C(),m())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[h,y,d,m,C]),c.jsx(PS,{...t,ref:u})}),[V5,X5]=hu(Oi,{isInside:!1}),K5=X0("TooltipContent"),PS=g.forwardRef((t,a)=>{const{__scopeTooltip:o,children:s,"aria-label":i,onEscapeKeyDown:u,onPointerDownOutside:d,...p}=t,h=Vi(hs,o),m=gu(o),{onClose:y}=h;return g.useEffect(()=>(document.addEventListener(Tp,y),()=>document.removeEventListener(Tp,y)),[y]),g.useEffect(()=>{if(h.trigger){const x=C=>{C.target?.contains(h.trigger)&&y()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[h.trigger,y]),c.jsx(Ii,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:x=>x.preventDefault(),onDismiss:y,children:c.jsxs(pm,{"data-state":h.stateAttribute,...m,...p,ref:a,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(K5,{children:s}),c.jsx(V5,{scope:o,isInside:!0,children:c.jsx(aM,{id:h.contentId,role:"tooltip",children:i||s})})]})})});LS.displayName=hs;var US="TooltipArrow",HS=g.forwardRef((t,a)=>{const{__scopeTooltip:o,...s}=t,i=gu(o);return X5(US,o).isInside?null:c.jsx(mm,{...i,...s,ref:a})});HS.displayName=US;function W5(t,a){const o=Math.abs(a.top-t.y),s=Math.abs(a.bottom-t.y),i=Math.abs(a.right-t.x),u=Math.abs(a.left-t.x);switch(Math.min(o,s,i,u)){case u:return"left";case i:return"right";case o:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Q5(t,a,o=5){const s=[];switch(a){case"top":s.push({x:t.x-o,y:t.y+o},{x:t.x+o,y:t.y+o});break;case"bottom":s.push({x:t.x-o,y:t.y-o},{x:t.x+o,y:t.y-o});break;case"left":s.push({x:t.x+o,y:t.y-o},{x:t.x+o,y:t.y+o});break;case"right":s.push({x:t.x-o,y:t.y-o},{x:t.x-o,y:t.y+o});break}return s}function Z5(t){const{top:a,right:o,bottom:s,left:i}=t;return[{x:i,y:a},{x:o,y:a},{x:o,y:s},{x:i,y:s}]}function J5(t,a){const{x:o,y:s}=t;let i=!1;for(let u=0,d=a.length-1;u<a.length;d=u++){const p=a[u],h=a[d],m=p.x,y=p.y,x=h.x,C=h.y;y>s!=C>s&&o<(x-m)*(s-y)/(C-y)+m&&(i=!i)}return i}function eO(t){const a=t.slice();return a.sort((o,s)=>o.x<s.x?-1:o.x>s.x?1:o.y<s.y?-1:o.y>s.y?1:0),tO(a)}function tO(t){if(t.length<=1)return t.slice();const a=[];for(let s=0;s<t.length;s++){const i=t[s];for(;a.length>=2;){const u=a[a.length-1],d=a[a.length-2];if((u.x-d.x)*(i.y-d.y)>=(u.y-d.y)*(i.x-d.x))a.pop();else break}a.push(i)}a.pop();const o=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;o.length>=2;){const u=o[o.length-1],d=o[o.length-2];if((u.x-d.x)*(i.y-d.y)>=(u.y-d.y)*(i.x-d.x))o.pop();else break}o.push(i)}return o.pop(),a.length===1&&o.length===1&&a[0].x===o[0].x&&a[0].y===o[0].y?a:a.concat(o)}var nO=AS,aO=kS,oO=OS,rO=zS,sO=LS,iO=HS;function BS(t){var a,o,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(o=BS(t[a]))&&(s&&(s+=" "),s+=o)}else for(o in t)t[o]&&(s&&(s+=" "),s+=o);return s}function vu(){for(var t,a,o=0,s="",i=arguments.length;o<i;o++)(t=arguments[o])&&(a=BS(t))&&(s&&(s+=" "),s+=a);return s}const lO=(t,a)=>{const o=new Array(t.length+a.length);for(let s=0;s<t.length;s++)o[s]=t[s];for(let s=0;s<a.length;s++)o[t.length+s]=a[s];return o},cO=(t,a)=>({classGroupId:t,validator:a}),IS=(t=new Map,a=null,o)=>({nextPart:t,validators:a,classGroupId:o}),Hc="-",jy=[],uO="arbitrary..",dO=t=>{const a=pO(t),{conflictingClassGroups:o,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return fO(d);const p=d.split(Hc),h=p[0]===""&&p.length>1?1:0;return $S(p,h,a)},getConflictingClassGroupIds:(d,p)=>{if(p){const h=s[d],m=o[d];return h?m?lO(m,h):h:m||jy}return o[d]||jy}}},$S=(t,a,o)=>{if(t.length-a===0)return o.classGroupId;const i=t[a],u=o.nextPart.get(i);if(u){const m=$S(t,a+1,u);if(m)return m}const d=o.validators;if(d===null)return;const p=a===0?t.join(Hc):t.slice(a).join(Hc),h=d.length;for(let m=0;m<h;m++){const y=d[m];if(y.validator(p))return y.classGroupId}},fO=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const a=t.slice(1,-1),o=a.indexOf(":"),s=a.slice(0,o);return s?uO+s:void 0})(),pO=t=>{const{theme:a,classGroups:o}=t;return mO(o,a)},mO=(t,a)=>{const o=IS();for(const s in t){const i=t[s];Rm(i,o,s,a)}return o},Rm=(t,a,o,s)=>{const i=t.length;for(let u=0;u<i;u++){const d=t[u];hO(d,a,o,s)}},hO=(t,a,o,s)=>{if(typeof t=="string"){gO(t,a,o);return}if(typeof t=="function"){vO(t,a,o,s);return}xO(t,a,o,s)},gO=(t,a,o)=>{const s=t===""?a:qS(a,t);s.classGroupId=o},vO=(t,a,o,s)=>{if(yO(t)){Rm(t(s),a,o,s);return}a.validators===null&&(a.validators=[]),a.validators.push(cO(o,t))},xO=(t,a,o,s)=>{const i=Object.entries(t),u=i.length;for(let d=0;d<u;d++){const[p,h]=i[d];Rm(h,qS(a,p),o,s)}},qS=(t,a)=>{let o=t;const s=a.split(Hc),i=s.length;for(let u=0;u<i;u++){const d=s[u];let p=o.nextPart.get(d);p||(p=IS(),o.nextPart.set(d,p)),o=p}return o},yO=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,bO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let a=0,o=Object.create(null),s=Object.create(null);const i=(u,d)=>{o[u]=d,a++,a>t&&(a=0,s=o,o=Object.create(null))};return{get(u){let d=o[u];if(d!==void 0)return d;if((d=s[u])!==void 0)return i(u,d),d},set(u,d){u in o?o[u]=d:i(u,d)}}},_p="!",Ry=":",wO=[],Ty=(t,a,o,s,i)=>({modifiers:t,hasImportantModifier:a,baseClassName:o,maybePostfixModifierPosition:s,isExternal:i}),SO=t=>{const{prefix:a,experimentalParseClassName:o}=t;let s=i=>{const u=[];let d=0,p=0,h=0,m;const y=i.length;for(let b=0;b<y;b++){const w=i[b];if(d===0&&p===0){if(w===Ry){u.push(i.slice(h,b)),h=b+1;continue}if(w==="/"){m=b;continue}}w==="["?d++:w==="]"?d--:w==="("?p++:w===")"&&p--}const x=u.length===0?i:i.slice(h);let C=x,N=!1;x.endsWith(_p)?(C=x.slice(0,-1),N=!0):x.startsWith(_p)&&(C=x.slice(1),N=!0);const E=m&&m>h?m-h:void 0;return Ty(u,N,C,E)};if(a){const i=a+Ry,u=s;s=d=>d.startsWith(i)?u(d.slice(i.length)):Ty(wO,!1,d,void 0,!0)}if(o){const i=s;s=u=>o({className:u,parseClassName:i})}return s},CO=t=>{const a=new Map;return t.orderSensitiveModifiers.forEach((o,s)=>{a.set(o,1e6+s)}),o=>{const s=[];let i=[];for(let u=0;u<o.length;u++){const d=o[u],p=d[0]==="[",h=a.has(d);p||h?(i.length>0&&(i.sort(),s.push(...i),i=[]),s.push(d)):i.push(d)}return i.length>0&&(i.sort(),s.push(...i)),s}},NO=t=>({cache:bO(t.cacheSize),parseClassName:SO(t),sortModifiers:CO(t),...dO(t)}),EO=/\s+/,jO=(t,a)=>{const{parseClassName:o,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:u}=a,d=[],p=t.trim().split(EO);let h="";for(let m=p.length-1;m>=0;m-=1){const y=p[m],{isExternal:x,modifiers:C,hasImportantModifier:N,baseClassName:E,maybePostfixModifierPosition:b}=o(y);if(x){h=y+(h.length>0?" "+h:h);continue}let w=!!b,S=s(w?E.substring(0,b):E);if(!S){if(!w){h=y+(h.length>0?" "+h:h);continue}if(S=s(E),!S){h=y+(h.length>0?" "+h:h);continue}w=!1}const R=C.length===0?"":C.length===1?C[0]:u(C).join(":"),T=N?R+_p:R,D=T+S;if(d.indexOf(D)>-1)continue;d.push(D);const k=i(S,w);for(let O=0;O<k.length;++O){const M=k[O];d.push(T+M)}h=y+(h.length>0?" "+h:h)}return h},RO=(...t)=>{let a=0,o,s,i="";for(;a<t.length;)(o=t[a++])&&(s=FS(o))&&(i&&(i+=" "),i+=s);return i},FS=t=>{if(typeof t=="string")return t;let a,o="";for(let s=0;s<t.length;s++)t[s]&&(a=FS(t[s]))&&(o&&(o+=" "),o+=a);return o},TO=(t,...a)=>{let o,s,i,u;const d=h=>{const m=a.reduce((y,x)=>x(y),t());return o=NO(m),s=o.cache.get,i=o.cache.set,u=p,p(h)},p=h=>{const m=s(h);if(m)return m;const y=jO(h,o);return i(h,y),y};return u=d,(...h)=>u(RO(...h))},MO=[],Xt=t=>{const a=o=>o[t]||MO;return a.isThemeGetter=!0,a},GS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,YS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_O=/^\d+\/\d+$/,DO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,OO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=t=>_O.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Do=t=>!!t&&Number.isInteger(Number(t)),Jf=t=>t.endsWith("%")&&Be(t.slice(0,-1)),Xa=t=>DO.test(t),LO=()=>!0,PO=t=>AO.test(t)&&!kO.test(t),VS=()=>!1,UO=t=>OO.test(t),HO=t=>zO.test(t),BO=t=>!we(t)&&!Se(t),IO=t=>js(t,WS,VS),we=t=>GS.test(t),rr=t=>js(t,QS,PO),ep=t=>js(t,YO,Be),My=t=>js(t,XS,VS),$O=t=>js(t,KS,HO),mc=t=>js(t,ZS,UO),Se=t=>YS.test(t),yi=t=>Rs(t,QS),qO=t=>Rs(t,VO),_y=t=>Rs(t,XS),FO=t=>Rs(t,WS),GO=t=>Rs(t,KS),hc=t=>Rs(t,ZS,!0),js=(t,a,o)=>{const s=GS.exec(t);return s?s[1]?a(s[1]):o(s[2]):!1},Rs=(t,a,o=!1)=>{const s=YS.exec(t);return s?s[1]?a(s[1]):o:!1},XS=t=>t==="position"||t==="percentage",KS=t=>t==="image"||t==="url",WS=t=>t==="length"||t==="size"||t==="bg-size",QS=t=>t==="length",YO=t=>t==="number",VO=t=>t==="family-name",ZS=t=>t==="shadow",XO=()=>{const t=Xt("color"),a=Xt("font"),o=Xt("text"),s=Xt("font-weight"),i=Xt("tracking"),u=Xt("leading"),d=Xt("breakpoint"),p=Xt("container"),h=Xt("spacing"),m=Xt("radius"),y=Xt("shadow"),x=Xt("inset-shadow"),C=Xt("text-shadow"),N=Xt("drop-shadow"),E=Xt("blur"),b=Xt("perspective"),w=Xt("aspect"),S=Xt("ease"),R=Xt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...D(),Se,we],O=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],_=()=>[Se,we,h],P=()=>[ss,"full","auto",..._()],$=()=>[Do,"none","subgrid",Se,we],W=()=>["auto",{span:["full",Do,Se,we]},Do,Se,we],Q=()=>[Do,"auto",Se,we],q=()=>["auto","min","max","fr",Se,we],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",..._()],H=()=>[ss,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],U=()=>[t,Se,we],V=()=>[...D(),_y,My,{position:[Se,we]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",FO,IO,{size:[Se,we]}],K=()=>[Jf,yi,rr],ne=()=>["","none","full",m,Se,we],se=()=>["",Be,yi,rr],fe=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[Be,Jf,_y,My],ge=()=>["","none",E,Se,we],ve=()=>["none",Be,Se,we],Re=()=>["none",Be,Se,we],ye=()=>[Be,Se,we],Ee=()=>[ss,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xa],breakpoint:[Xa],color:[LO],container:[Xa],"drop-shadow":[Xa],ease:["in","out","in-out"],font:[BO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xa],shadow:[Xa],spacing:["px",Be],text:[Xa],"text-shadow":[Xa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ss,we,Se,w]}],container:["container"],columns:[{columns:[Be,we,Se,p]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Do,"auto",Se,we]}],basis:[{basis:[ss,"full","auto",p,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,ss,"auto","initial","none",we]}],grow:[{grow:["",Be,Se,we]}],shrink:[{shrink:["",Be,Se,we]}],order:[{order:[Do,"first","last","none",Se,we]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[p,"screen",...H()]}],"min-w":[{"min-w":[p,"screen","none",...H()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[d]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",o,yi,rr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Se,ep]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jf,we]}],"font-family":[{font:[qO,we,a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Se,we]}],"line-clamp":[{"line-clamp":[Be,"none",Se,ep]}],leading:[{leading:[u,..._()]}],"list-image":[{"list-image":["none",Se,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Se,rr]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[Be,"auto",Se,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Do,Se,we],radial:["",Se,we],conic:[Do,Se,we]},GO,$O]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Se,we]}],"outline-w":[{outline:["",Be,yi,rr]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",y,hc,mc]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",x,hc,mc]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[Be,rr]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",C,hc,mc]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[Be,Se,we]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Se,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,we]}],filter:[{filter:["","none",Se,we]}],blur:[{blur:ge()}],brightness:[{brightness:[Be,Se,we]}],contrast:[{contrast:[Be,Se,we]}],"drop-shadow":[{"drop-shadow":["","none",N,hc,mc]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",Be,Se,we]}],"hue-rotate":[{"hue-rotate":[Be,Se,we]}],invert:[{invert:["",Be,Se,we]}],saturate:[{saturate:[Be,Se,we]}],sepia:[{sepia:["",Be,Se,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,we]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Se,we]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Se,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Se,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Se,we]}],"backdrop-invert":[{"backdrop-invert":["",Be,Se,we]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Se,we]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Se,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Se,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Se,we]}],ease:[{ease:["linear","initial",S,Se,we]}],delay:[{delay:[Be,Se,we]}],animate:[{animate:["none",R,Se,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Se,we]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[Se,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,we]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[Be,yi,rr,ep]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},KO=TO(XO);function me(...t){return KO(vu(t))}function Dp(t){return t?new Date(t).toLocaleString():"Unknown"}function JS({...t}){return c.jsx(Ak,{"data-slot":"dropdown-menu",...t})}function eC({...t}){return c.jsx(kk,{"data-slot":"dropdown-menu-trigger",...t})}function tC({className:t,sideOffset:a=4,...o}){return c.jsx(Ok,{children:c.jsx(zk,{"data-slot":"dropdown-menu-content",sideOffset:a,className:me("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...o})})}function cs({className:t,inset:a,variant:o="default",...s}){return c.jsx(Pk,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":o,className:me("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function WO({className:t,inset:a,...o}){return c.jsx(Lk,{"data-slot":"dropdown-menu-label","data-inset":a,className:me("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...o})}function Ap({className:t,...a}){return c.jsx(Uk,{"data-slot":"dropdown-menu-separator",className:me("bg-border -mx-1 my-1 h-px",t),...a})}const Dy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ay=vu,Tm=(t,a)=>o=>{var s;if(a?.variants==null)return Ay(t,o?.class,o?.className);const{variants:i,defaultVariants:u}=a,d=Object.keys(i).map(m=>{const y=o?.[m],x=u?.[m];if(y===null)return null;const C=Dy(y)||Dy(x);return i[m][C]}),p=o&&Object.entries(o).reduce((m,y)=>{let[x,C]=y;return C===void 0||(m[x]=C),m},{}),h=a==null||(s=a.compoundVariants)===null||s===void 0?void 0:s.reduce((m,y)=>{let{class:x,className:C,...N}=y;return Object.entries(N).every(E=>{let[b,w]=E;return Array.isArray(w)?w.includes({...u,...p}[b]):{...u,...p}[b]===w})?[...m,x,C]:m},[]);return Ay(t,d,h,o?.class,o?.className)},Mm=Tm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded text-xs font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-primary/50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-[0_0_10px_rgba(0,245,255,0.3)] hover:shadow-[0_0_15px_rgba(0,245,255,0.5)]",destructive:"bg-destructive text-white hover:bg-destructive/90 shadow-[0_0_10px_rgba(239,68,68,0.3)] hover:shadow-[0_0_15px_rgba(239,68,68,0.5)]",outline:"border border-border bg-background hover:bg-muted hover:border-primary/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-[0_0_10px_rgba(192,132,252,0.3)] hover:shadow-[0_0_15px_rgba(192,132,252,0.5)]",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-8 px-3 py-1.5 has-[>svg]:px-2.5",xs:"h-6 gap-1 rounded px-2 py-1 has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-7 rounded gap-1.5 px-2.5 has-[>svg]:px-2",lg:"h-9 rounded px-4 has-[>svg]:px-3.5",icon:"size-8","icon-xs":"size-6 rounded [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-7","icon-lg":"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ke({className:t,variant:a="default",size:o="default",asChild:s=!1,...i}){const u=s?Y0:"button";return c.jsx(u,{"data-slot":"button","data-variant":a,"data-size":o,className:me(Mm({variant:a,size:o,className:t})),...i})}const QO=Tm("inline-flex items-center justify-center border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline",midi:"bg-purple-500/20 text-purple-400 border border-purple-500/30",audio:"bg-blue-500/20 text-blue-400 border border-blue-500/30",sample:"bg-green-500/20 text-green-400 border border-green-500/30"},rounded:{full:"rounded-full",default:"rounded"}},defaultVariants:{variant:"default",rounded:"full"}});function Cn({className:t,variant:a="default",rounded:o="full",asChild:s=!1,...i}){const u=s?Y0:"span";return c.jsx(u,{"data-slot":"badge","data-variant":a,"data-rounded":o,className:me(QO({variant:a,rounded:o}),t),...i})}function ZO(){const t=I(x=>x.activeComposition),a=I(x=>x.compositions),o=I(x=>x.loadComposition),s=I(x=>x.saveComposition),i=I(x=>x.hasUnsavedChanges),[u,d]=g.useState(!1),[p,h]=g.useState(!1),m=async x=>{x!==t?.id&&(await o(x),d(!1))},y=async x=>{if(x.stopPropagation(),t){h(!0);try{await s()}finally{h(!1)}}};return t?c.jsxs(JS,{open:u,onOpenChange:d,children:[c.jsx(eC,{asChild:!0,children:c.jsxs(Ke,{variant:"outline",className:me("gap-2 min-w-[200px] justify-between",i&&"border-yellow-500/50"),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rt,{className:"h-4 w-4"}),c.jsx("span",{className:"font-semibold",children:t.name}),i&&c.jsx(Cn,{variant:"outline",className:"text-xs px-1 py-0",children:"*"})]}),c.jsx(bs,{className:"h-4 w-4 opacity-50"})]})}),c.jsxs(tC,{align:"start",className:"w-[300px]",children:[c.jsxs(WO,{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Compositions"}),i&&c.jsxs(Ke,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs",onClick:y,disabled:p,children:[c.jsx(WR,{className:"h-3 w-3 mr-1"}),p?"Saving...":"Save"]})]}),c.jsx(Ap,{}),c.jsx(cs,{className:"bg-primary/10 font-semibold",disabled:!0,children:c.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rt,{className:"h-4 w-4"}),t.name,c.jsx(Cn,{variant:"default",className:"text-xs ml-auto",children:"Active"})]}),c.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[c.jsx(cp,{className:"h-3 w-3"}),Dp(t.created_at)]})]})}),c.jsx(Ap,{}),a.filter(x=>x.id!==t?.id).map(x=>c.jsx(cs,{onClick:()=>m(x.id),children:c.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[c.jsx("div",{className:"font-medium",children:x.name}),c.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[c.jsx(cp,{className:"h-3 w-3"}),Dp(x.updated_at)]})]})},x.id)),a.length===1&&c.jsx("div",{className:"px-2 py-4 text-center text-xs text-muted-foreground",children:"No other compositions"})]})]}):null}function nC({isEngineRunning:t=!1,cpuUsage:a=0,activeSynths:o=0}){return c.jsxs("header",{className:"bg-card border-border flex h-[60px] items-center justify-between border-b-2 px-6 py-2",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rt,{className:"text-primary h-7 w-7"}),c.jsx("div",{children:c.jsx("h1",{className:"text-primary text-glow-cyan text-lg font-bold tracking-[0.3em]",children:"SONIC CLAUDE"})})]}),c.jsx(ZO,{})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`h-2 w-2 rounded-full ${t?"bg-primary animate-pulse shadow-[0_0_8px_rgba(0,255,255,0.6)]":"bg-destructive"}`}),c.jsx("span",{className:"text-muted-foreground text-xs font-medium tracking-wider",children:"ENGINE"}),c.jsx("span",{className:`text-xs font-bold tracking-wider ${t?"text-primary":"text-destructive"}`,children:t?"READY":"OFFLINE"})]}),t&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Vp,{className:"text-muted-foreground h-3.5 w-3.5"}),c.jsx("span",{className:"text-muted-foreground text-xs font-medium tracking-wider",children:"CPU"}),c.jsxs("span",{className:`text-xs font-bold tracking-wider ${a>80?"text-destructive":a>50?"text-yellow-500":"text-primary"}`,children:[a.toFixed(1),"%"]})]}),t&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-muted-foreground text-xs font-medium tracking-wider",children:"SYNTHS"}),c.jsx("span",{className:"text-primary text-xs font-bold tracking-wider",children:o})]})]})]})}function Ts(t){const{margin:a,containerPadding:o,containerWidth:s,cols:i}=t;return(s-a[0]*(i-1)-o[0]*2)/i}function gs(t,a,o){return Number.isFinite(t)?Math.round(a*t+Math.max(0,t-1)*o):t}function bi(t,a,o,s,i,u,d){const{margin:p,containerPadding:h,rowHeight:m}=t,y=Ts(t);let x,C,N,E;if(d?(x=Math.round(d.width),C=Math.round(d.height)):(x=gs(s,y,p[0]),C=gs(i,m,p[1])),u?(N=Math.round(u.top),E=Math.round(u.left)):d?(N=Math.round(d.top),E=Math.round(d.left)):(N=Math.round((m+p[1])*o+h[1]),E=Math.round((y+p[0])*a+h[0])),!u&&!d){if(Number.isFinite(s)){const w=Math.round((y+p[0])*(a+s)+h[0])-E-x;w!==p[0]&&(x+=w-p[0])}if(Number.isFinite(i)){const w=Math.round((m+p[1])*(o+i)+h[1])-N-C;w!==p[1]&&(C+=w-p[1])}}return{top:N,left:E,width:x,height:C}}function JO(t,a,o,s,i){const{margin:u,containerPadding:d,cols:p,rowHeight:h,maxRows:m}=t,y=Ts(t);let x=Math.round((o-d[0])/(y+u[0])),C=Math.round((a-d[1])/(h+u[1]));return x=Bc(x,0,p-s),C=Bc(C,0,m-i),{x,y:C}}function gc(t,a,o){const{margin:s,containerPadding:i,rowHeight:u}=t,d=Ts(t),p=Math.round((o-i[0])/(d+s[0])),h=Math.round((a-i[1])/(u+s[1]));return{x:p,y:h}}function ez(t,a,o){const{margin:s,rowHeight:i}=t,u=Ts(t),d=Math.max(1,Math.round((a+s[0])/(u+s[0]))),p=Math.max(1,Math.round((o+s[1])/(i+s[1])));return{w:d,h:p}}function Bc(t,a,o){return Math.max(Math.min(t,o),a)}function _m(t,a){return!(t.i===a.i||t.x+t.w<=a.x||t.x>=a.x+a.w||t.y+t.h<=a.y||t.y>=a.y+a.h)}function Ic(t,a){for(let o=0;o<t.length;o++){const s=t[o];if(s!==void 0&&_m(s,a))return s}}function aC(t,a){return t.filter(o=>_m(o,a))}function tz(t,a){return a==="horizontal"?nz(t):a==="vertical"||a==="wrap"?kp(t):[...t]}function kp(t){return[...t].sort((a,o)=>a.y!==o.y?a.y-o.y:a.x-o.x)}function nz(t){return[...t].sort((a,o)=>a.x!==o.x?a.x-o.x:a.y-o.y)}function Dm(t){let a=0;for(let o=0;o<t.length;o++){const s=t[o];if(s!==void 0){const i=s.y+s.h;i>a&&(a=i)}}return a}function sr(t,a){for(let o=0;o<t.length;o++){const s=t[o];if(s!==void 0&&s.i===a)return s}}function Am(t){return t.filter(a=>a.static===!0)}function vs(t){return{i:t.i,x:t.x,y:t.y,w:t.w,h:t.h,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:!!t.moved,static:!!t.static,isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,constraints:t.constraints,isBounded:t.isBounded}}function oC(t){const a=new Array(t.length);for(let o=0;o<t.length;o++){const s=t[o];s!==void 0&&(a[o]=vs(s))}return a}function az(t,a){const o=new Array(t.length);for(let s=0;s<t.length;s++){const i=t[s];i!==void 0&&(a.i===i.i?o[s]=a:o[s]=i)}return o}function oz(t,a,o){let s=sr(t,a);return s?(s=o(vs(s)),[az(t,s),s]):[[...t],null]}function rz(t,a){const o=Am(t);for(let s=0;s<t.length;s++){const i=t[s];if(i!==void 0)if(i.x+i.w>a.cols&&(i.x=a.cols-i.w),i.x<0&&(i.x=0,i.w=a.cols),!i.static)o.push(i);else for(;Ic(o,i);)i.y++}return t}function ir(t,a,o,s,i,u,d,p,h){if(a.static&&a.isDraggable!==!0)return[...t];if(a.y===s&&a.x===o)return[...t];const m=a.x,y=a.y;typeof o=="number"&&(a.x=o),typeof s=="number"&&(a.y=s),a.moved=!0;let x=tz(t,d);(d==="vertical"&&typeof s=="number"?y>=s:d==="horizontal"&&typeof o=="number"&&m>=o)&&(x=x.reverse());const N=aC(x,a),E=N.length>0;if(E&&h)return oC(t);if(E&&u)return a.x=m,a.y=y,a.moved=!1,t;let b=[...t];for(let w=0;w<N.length;w++){const S=N[w];S!==void 0&&(S.moved||(S.static?b=ky(b,S,a,i,d):b=ky(b,a,S,i,d)))}return b}function ky(t,a,o,s,i,u){const d=i==="horizontal",p=i==="vertical",h=a.static;if(s){s=!1;const x={x:d?Math.max(a.x-o.w,0):o.x,y:p?Math.max(a.y-o.h,0):o.y,w:o.w,h:o.h,i:"-1"},C=Ic(t,x),N=C!==void 0&&C.y+C.h>a.y,E=C!==void 0&&a.x+a.w>C.x;if(!C)return ir(t,o,d?x.x:void 0,p?x.y:void 0,s,h,i);if(N&&p)return ir(t,o,void 0,o.y+1,s,h,i);if(N&&i===null)return a.y=o.y,o.y=o.y+o.h,[...t];if(E&&d)return ir(t,a,o.x,void 0,s,h,i)}const m=d?o.x+1:void 0,y=p?o.y+1:void 0;return m===void 0&&y===void 0?[...t]:ir(t,o,m,y,s,h,i)}function us(t,a,o){return Math.max(a,Math.min(o,t))}var sz={name:"gridBounds",constrainPosition(t,a,o,{cols:s,maxRows:i}){return{x:us(a,0,Math.max(0,s-t.w)),y:us(o,0,Math.max(0,i-t.h))}},constrainSize(t,a,o,s,{cols:i,maxRows:u}){const d=s==="w"||s==="nw"||s==="sw"?t.x+t.w:i-t.x,p=s==="n"||s==="nw"||s==="ne"?t.y+t.h:u-t.y;return{w:us(a,1,Math.max(1,d)),h:us(o,1,Math.max(1,p))}}},iz={name:"minMaxSize",constrainSize(t,a,o){return{w:us(a,t.minW??1,t.maxW??1/0),h:us(o,t.minH??1,t.maxH??1/0)}}},rC=[sz,iz];function vc(t,a,o,s,i){let u={x:o,y:s};for(const d of t)d.constrainPosition&&(u=d.constrainPosition(a,u.x,u.y,i));if(a.constraints)for(const d of a.constraints)d.constrainPosition&&(u=d.constrainPosition(a,u.x,u.y,i));return u}function lz(t,a,o,s,i,u){let d={w:o,h:s};for(const p of t)p.constrainSize&&(d=p.constrainSize(a,d.w,d.h,i,u));if(a.constraints)for(const p of a.constraints)p.constrainSize&&(d=p.constrainSize(a,d.w,d.h,i,u));return d}function sC({top:t,left:a,width:o,height:s}){const i=`translate(${a}px,${t}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${o}px`,height:`${s}px`,position:"absolute"}}function cz({top:t,left:a,width:o,height:s}){return{top:`${t}px`,left:`${a}px`,width:`${o}px`,height:`${s}px`,position:"absolute"}}function Oy(t){return t*100+"%"}function uz(t,a,o,s){return t+o>s?a:o}function iC(t,a,o){return t<0?a:o}function dz(t){return Math.max(0,t)}function $c(t){return Math.max(0,t)}var km=(t,a,o)=>{const{left:s,height:i,width:u}=a,d=t.top-(i-t.height);return{left:s,width:u,height:iC(d,t.height,i),top:$c(d)}},Om=(t,a,o)=>{const{top:s,left:i,height:u,width:d}=a;return{top:s,height:u,width:uz(t.left,t.width,d,o),left:dz(i)}},zm=(t,a,o)=>{const{top:s,height:i,width:u}=a,d=t.left+t.width-u;return d<0?{height:i,width:t.left+t.width,top:$c(s),left:0}:{height:i,width:u,top:$c(s),left:d}},Lm=(t,a,o)=>{const{top:s,left:i,height:u,width:d}=a;return{width:d,left:i,height:iC(s,t.height,u),top:$c(s)}},fz=(t,a,o)=>km(t,Om(t,a,o)),pz=(t,a,o)=>km(t,zm(t,a)),mz=(t,a,o)=>Lm(t,Om(t,a,o)),hz=(t,a,o)=>Lm(t,zm(t,a)),gz={n:km,ne:fz,e:Om,se:mz,s:Lm,sw:hz,w:zm,nw:pz};function vz(t,a,o,s){const i=gz[t];return i?i(a,{...a,...o},s):o}var xz={type:"transform",scale:1,calcStyle(t){return sC(t)}},yz=xz,bz={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},wz={enabled:!0,bounded:!1,threshold:3},Sz={enabled:!0,handles:["se"]},Cz={enabled:!1,defaultItem:{w:1,h:1}};function lC(t,a,o,s,i){a[s]+=1;const d=t.findIndex(h=>h.i===a.i),p=i??Am(t).length>0;for(let h=d+1;h<t.length;h++){const m=t[h];if(m!==void 0&&!m.static){if(!p&&m.y>a.y+a.h)break;_m(a,m)&&lC(t,m,o+a.h,s,p)}}a[s]=o}function Nz(t,a,o,s){for(a.x=Math.max(a.x,0),a.y=Math.max(a.y,0),a.y=Math.min(s,a.y);a.y>0&&!Ic(t,a);)a.y--;let i;for(;(i=Ic(t,a))!==void 0;)lC(o,a,i.y+i.h,"y");return a.y=Math.max(a.y,0),a}var Pm={type:"vertical",allowOverlap:!1,compact(t,a){const o=Am(t);let s=Dm(o);const i=kp(t),u=new Array(t.length);for(let d=0;d<i.length;d++){const p=i[d];if(p===void 0)continue;let h=vs(p);h.static||(h=Nz(o,h,i,s),s=Math.max(s,h.y+h.h),o.push(h));const m=t.indexOf(p);u[m]=h,h.moved=!1}return u}},Ez={...Pm,allowOverlap:!0,compact(t,a){return oC(t)}};function jz(t,a=!1,o=!1){let s;return a?s=Ez:s=Pm,o?{...s,preventCollision:o}:s}function cC(t){return function(o,s,i,u,d,p,h){return t(o,s,h)}}function xu(t){return function(o,s,i,u){if(!o||!s||typeof o!="object"||typeof s!="object")return t(o,s,i,u);var d=u.get(o),p=u.get(s);if(d&&p)return d===s&&p===o;u.set(o,s),u.set(s,o);var h=t(o,s,i,u);return u.delete(o),u.delete(s),h}}function uC(t,a){var o={};for(var s in t)o[s]=t[s];for(var s in a)o[s]=a[s];return o}function zy(t){return t.constructor===Object||t.constructor==null}function Ly(t){return typeof t.then=="function"}function yu(t,a){return t===a||t!==t&&a!==a}var Rz="[object Arguments]",Tz="[object Boolean]",Mz="[object Date]",_z="[object RegExp]",Dz="[object Map]",Az="[object Number]",kz="[object Object]",Oz="[object Set]",zz="[object String]",Py=Object.prototype.toString;function bu(t){var a=t.areArraysEqual,o=t.areDatesEqual,s=t.areMapsEqual,i=t.areObjectsEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,p=t.createIsNestedEqual,h=p(m);function m(y,x,C){if(y===x)return!0;if(!y||!x||typeof y!="object"||typeof x!="object")return y!==y&&x!==x;if(zy(y)&&zy(x))return i(y,x,h,C);var N=Array.isArray(y),E=Array.isArray(x);if(N||E)return N===E&&a(y,x,h,C);var b=Py.call(y);return b!==Py.call(x)?!1:b===Mz?o(y,x,h,C):b===_z?u(y,x,h,C):b===Dz?s(y,x,h,C):b===Oz?d(y,x,h,C):b===kz||b===Rz?Ly(y)||Ly(x)?!1:i(y,x,h,C):b===Tz||b===Az||b===zz?yu(y.valueOf(),x.valueOf()):!1}return m}function dC(t,a,o,s){var i=t.length;if(a.length!==i)return!1;for(;i-- >0;)if(!o(t[i],a[i],i,i,t,a,s))return!1;return!0}var Lz=xu(dC);function fC(t,a){return yu(t.valueOf(),a.valueOf())}function pC(t,a,o,s){var i=t.size===a.size;if(!i)return!1;if(!t.size)return!0;var u={},d=0;return t.forEach(function(p,h){if(i){var m=!1,y=0;a.forEach(function(x,C){!m&&!u[y]&&(m=o(h,C,d,y,t,a,s)&&o(p,x,h,C,t,a,s))&&(u[y]=!0),y++}),d++,i=m}}),i}var Pz=xu(pC),Uz="_owner",Hz=Object.prototype.hasOwnProperty;function mC(t,a,o,s){var i=Object.keys(t),u=i.length;if(Object.keys(a).length!==u)return!1;for(var d;u-- >0;){if(d=i[u],d===Uz){var p=!!t.$$typeof,h=!!a.$$typeof;if((p||h)&&p!==h)return!1}if(!Hz.call(a,d)||!o(t[d],a[d],d,d,t,a,s))return!1}return!0}var Bz=xu(mC);function hC(t,a){return t.source===a.source&&t.flags===a.flags}function gC(t,a,o,s){var i=t.size===a.size;if(!i)return!1;if(!t.size)return!0;var u={};return t.forEach(function(d,p){if(i){var h=!1,m=0;a.forEach(function(y,x){!h&&!u[m]&&(h=o(d,y,p,x,t,a,s))&&(u[m]=!0),m++}),i=h}}),i}var Iz=xu(gC),vC=Object.freeze({areArraysEqual:dC,areDatesEqual:fC,areMapsEqual:pC,areObjectsEqual:mC,areRegExpsEqual:hC,areSetsEqual:gC,createIsNestedEqual:cC}),xC=Object.freeze({areArraysEqual:Lz,areDatesEqual:fC,areMapsEqual:Pz,areObjectsEqual:Bz,areRegExpsEqual:hC,areSetsEqual:Iz,createIsNestedEqual:cC}),$z=bu(vC);function is(t,a){return $z(t,a,void 0)}bu(uC(vC,{createIsNestedEqual:function(){return yu}}));bu(xC);bu(uC(xC,{createIsNestedEqual:function(){return yu}}));var wi={exports:{}},tp={},np={exports:{}},ap,Uy;function qz(){if(Uy)return ap;Uy=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ap=t,ap}var op,Hy;function Fz(){if(Hy)return op;Hy=1;var t=qz();function a(){}function o(){}return o.resetWarningCache=a,op=function(){function s(d,p,h,m,y,x){if(x!==t){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}s.isRequired=s;function i(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:o,resetWarningCache:a};return u.PropTypes=u,u},op}var By;function wu(){return By||(By=1,np.exports=Fz()()),np.exports}var xc={exports:{}},Iy;function Gz(){if(Iy)return xc.exports;Iy=1;function t(o){var s,i,u="";if(typeof o=="string"||typeof o=="number")u+=o;else if(typeof o=="object")if(Array.isArray(o)){var d=o.length;for(s=0;s<d;s++)o[s]&&(i=t(o[s]))&&(u&&(u+=" "),u+=i)}else for(i in o)o[i]&&(u&&(u+=" "),u+=i);return u}function a(){for(var o,s,i=0,u="",d=arguments.length;i<d;i++)(o=arguments[i])&&(s=t(o))&&(u&&(u+=" "),u+=s);return u}return xc.exports=a,xc.exports.clsx=a,xc.exports}var Ut={},Ao={},$y;function Su(){if($y)return Ao;$y=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.dontSetMe=i,Ao.findInArray=t,Ao.int=s,Ao.isFunction=a,Ao.isNum=o;function t(u,d){for(let p=0,h=u.length;p<h;p++)if(d.apply(d,[u[p],p,u]))return u[p]}function a(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Function]"}function o(u){return typeof u=="number"&&!isNaN(u)}function s(u){return parseInt(u,10)}function i(u,d,p){if(u[d])return new Error(`Invalid prop ${d} passed to ${p} - do not set this, set it on the child.`)}return Ao}var ko={},qy;function Yz(){if(qy)return ko;qy=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.browserPrefixToKey=o,ko.browserPrefixToStyle=s,ko.default=void 0,ko.getPrefix=a;const t=["Moz","Webkit","O","ms"];function a(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const d=window.document?.documentElement?.style;if(!d||u in d)return"";for(let p=0;p<t.length;p++)if(o(u,t[p])in d)return t[p];return""}function o(u,d){return d?`${d}${i(u)}`:u}function s(u,d){return d?`-${d.toLowerCase()}-${u}`:u}function i(u){let d="",p=!0;for(let h=0;h<u.length;h++)p?(d+=u[h].toUpperCase(),p=!1):u[h]==="-"?p=!0:d+=u[h];return d}return ko.default=a(),ko}var Fy;function Um(){if(Fy)return Ut;Fy=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.addClassName=k,Ut.addEvent=d,Ut.addUserSelectStyles=R,Ut.createCSSTransform=N,Ut.createSVGTransform=E,Ut.getTouch=w,Ut.getTouchIdentifier=S,Ut.getTranslation=b,Ut.innerHeight=y,Ut.innerWidth=x,Ut.matchesSelector=i,Ut.matchesSelectorAndParentsTo=u,Ut.offsetXYFromParent=C,Ut.outerHeight=h,Ut.outerWidth=m,Ut.removeClassName=O,Ut.removeEvent=p,Ut.scheduleRemoveUserSelectStyles=T;var t=Su(),a=o(Yz());function o(M,_){if(typeof WeakMap=="function")var P=new WeakMap,$=new WeakMap;return(o=function(W,Q){if(!Q&&W&&W.__esModule)return W;var q,F,ae={__proto__:null,default:W};if(W===null||typeof W!="object"&&typeof W!="function")return ae;if(q=Q?$:P){if(q.has(W))return q.get(W);q.set(W,ae)}for(const L in W)L!=="default"&&{}.hasOwnProperty.call(W,L)&&((F=(q=Object.defineProperty)&&Object.getOwnPropertyDescriptor(W,L))&&(F.get||F.set)?q(ae,L,F):ae[L]=W[L]);return ae})(M,_)}let s="";function i(M,_){return s||(s=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(P){return(0,t.isFunction)(M[P])})),(0,t.isFunction)(M[s])?M[s](_):!1}function u(M,_,P){let $=M;do{if(i($,_))return!0;if($===P)return!1;$=$.parentNode}while($);return!1}function d(M,_,P,$){if(!M)return;const W={capture:!0,...$};M.addEventListener?M.addEventListener(_,P,W):M.attachEvent?M.attachEvent("on"+_,P):M["on"+_]=P}function p(M,_,P,$){if(!M)return;const W={capture:!0,...$};M.removeEventListener?M.removeEventListener(_,P,W):M.detachEvent?M.detachEvent("on"+_,P):M["on"+_]=null}function h(M){let _=M.clientHeight;const P=M.ownerDocument.defaultView.getComputedStyle(M);return _+=(0,t.int)(P.borderTopWidth),_+=(0,t.int)(P.borderBottomWidth),_}function m(M){let _=M.clientWidth;const P=M.ownerDocument.defaultView.getComputedStyle(M);return _+=(0,t.int)(P.borderLeftWidth),_+=(0,t.int)(P.borderRightWidth),_}function y(M){let _=M.clientHeight;const P=M.ownerDocument.defaultView.getComputedStyle(M);return _-=(0,t.int)(P.paddingTop),_-=(0,t.int)(P.paddingBottom),_}function x(M){let _=M.clientWidth;const P=M.ownerDocument.defaultView.getComputedStyle(M);return _-=(0,t.int)(P.paddingLeft),_-=(0,t.int)(P.paddingRight),_}function C(M,_,P){const W=_===_.ownerDocument.body?{left:0,top:0}:_.getBoundingClientRect(),Q=(M.clientX+_.scrollLeft-W.left)/P,q=(M.clientY+_.scrollTop-W.top)/P;return{x:Q,y:q}}function N(M,_){const P=b(M,_,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:P}}function E(M,_){return b(M,_,"")}function b(M,_,P){let{x:$,y:W}=M,Q=`translate(${$}${P},${W}${P})`;if(_){const q=`${typeof _.x=="string"?_.x:_.x+P}`,F=`${typeof _.y=="string"?_.y:_.y+P}`;Q=`translate(${q}, ${F})`+Q}return Q}function w(M,_){return M.targetTouches&&(0,t.findInArray)(M.targetTouches,P=>_===P.identifier)||M.changedTouches&&(0,t.findInArray)(M.changedTouches,P=>_===P.identifier)}function S(M){if(M.targetTouches&&M.targetTouches[0])return M.targetTouches[0].identifier;if(M.changedTouches&&M.changedTouches[0])return M.changedTouches[0].identifier}function R(M){if(!M)return;let _=M.getElementById("react-draggable-style-el");_||(_=M.createElement("style"),_.type="text/css",_.id="react-draggable-style-el",_.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,_.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,M.getElementsByTagName("head")[0].appendChild(_)),M.body&&k(M.body,"react-draggable-transparent-selection")}function T(M){window.requestAnimationFrame?window.requestAnimationFrame(()=>{D(M)}):D(M)}function D(M){if(M)try{if(M.body&&O(M.body,"react-draggable-transparent-selection"),M.selection)M.selection.empty();else{const _=(M.defaultView||window).getSelection();_&&_.type!=="Caret"&&_.removeAllRanges()}}catch{}}function k(M,_){M.classList?M.classList.add(_):M.className.match(new RegExp(`(?:^|\\s)${_}(?!\\S)`))||(M.className+=` ${_}`)}function O(M,_){M.classList?M.classList.remove(_):M.className=M.className.replace(new RegExp(`(?:^|\\s)${_}(?!\\S)`,"g"),"")}return Ut}var xa={},Gy;function yC(){if(Gy)return xa;Gy=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.canDragX=i,xa.canDragY=u,xa.createCoreData=p,xa.createDraggableData=h,xa.getBoundPosition=o,xa.getControlPosition=d,xa.snapToGrid=s;var t=Su(),a=Um();function o(x,C,N){if(!x.props.bounds)return[C,N];let{bounds:E}=x.props;E=typeof E=="string"?E:m(E);const b=y(x);if(typeof E=="string"){const{ownerDocument:w}=b,S=w.defaultView;let R;if(E==="parent"?R=b.parentNode:R=b.getRootNode().querySelector(E),!(R instanceof S.HTMLElement))throw new Error('Bounds selector "'+E+'" could not find an element.');const T=R,D=S.getComputedStyle(b),k=S.getComputedStyle(T);E={left:-b.offsetLeft+(0,t.int)(k.paddingLeft)+(0,t.int)(D.marginLeft),top:-b.offsetTop+(0,t.int)(k.paddingTop)+(0,t.int)(D.marginTop),right:(0,a.innerWidth)(T)-(0,a.outerWidth)(b)-b.offsetLeft+(0,t.int)(k.paddingRight)-(0,t.int)(D.marginRight),bottom:(0,a.innerHeight)(T)-(0,a.outerHeight)(b)-b.offsetTop+(0,t.int)(k.paddingBottom)-(0,t.int)(D.marginBottom)}}return(0,t.isNum)(E.right)&&(C=Math.min(C,E.right)),(0,t.isNum)(E.bottom)&&(N=Math.min(N,E.bottom)),(0,t.isNum)(E.left)&&(C=Math.max(C,E.left)),(0,t.isNum)(E.top)&&(N=Math.max(N,E.top)),[C,N]}function s(x,C,N){const E=Math.round(C/x[0])*x[0],b=Math.round(N/x[1])*x[1];return[E,b]}function i(x){return x.props.axis==="both"||x.props.axis==="x"}function u(x){return x.props.axis==="both"||x.props.axis==="y"}function d(x,C,N){const E=typeof C=="number"?(0,a.getTouch)(x,C):null;if(typeof C=="number"&&!E)return null;const b=y(N),w=N.props.offsetParent||b.offsetParent||b.ownerDocument.body;return(0,a.offsetXYFromParent)(E||x,w,N.props.scale)}function p(x,C,N){const E=!(0,t.isNum)(x.lastX),b=y(x);return E?{node:b,deltaX:0,deltaY:0,lastX:C,lastY:N,x:C,y:N}:{node:b,deltaX:C-x.lastX,deltaY:N-x.lastY,lastX:x.lastX,lastY:x.lastY,x:C,y:N}}function h(x,C){const N=x.props.scale;return{node:C.node,x:x.state.x+C.deltaX/N,y:x.state.y+C.deltaY/N,deltaX:C.deltaX/N,deltaY:C.deltaY/N,lastX:x.state.x,lastY:x.state.y}}function m(x){return{left:x.left,top:x.top,right:x.right,bottom:x.bottom}}function y(x){const C=x.findDOMNode();if(!C)throw new Error("<DraggableCore>: Unmounted during event!");return C}return xa}var Si={},yc={},Yy;function bC(){if(Yy)return yc;Yy=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.default=t;function t(){}return yc}var Vy;function Vz(){if(Vy)return Si;Vy=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.default=void 0;var t=h(Po()),a=p(wu()),o=p(Yc()),s=Um(),i=yC(),u=Su(),d=p(bC());function p(b){return b&&b.__esModule?b:{default:b}}function h(b,w){if(typeof WeakMap=="function")var S=new WeakMap,R=new WeakMap;return(h=function(T,D){if(!D&&T&&T.__esModule)return T;var k,O,M={__proto__:null,default:T};if(T===null||typeof T!="object"&&typeof T!="function")return M;if(k=D?R:S){if(k.has(T))return k.get(T);k.set(T,M)}for(const _ in T)_!=="default"&&{}.hasOwnProperty.call(T,_)&&((O=(k=Object.defineProperty)&&Object.getOwnPropertyDescriptor(T,_))&&(O.get||O.set)?k(M,_,O):M[_]=T[_]);return M})(b,w)}function m(b,w,S){return(w=y(w))in b?Object.defineProperty(b,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[w]=S,b}function y(b){var w=x(b,"string");return typeof w=="symbol"?w:w+""}function x(b,w){if(typeof b!="object"||!b)return b;var S=b[Symbol.toPrimitive];if(S!==void 0){var R=S.call(b,w);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(b)}const C={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let N=C.mouse,E=class extends t.Component{constructor(){super(...arguments),m(this,"dragging",!1),m(this,"lastX",NaN),m(this,"lastY",NaN),m(this,"touchIdentifier",null),m(this,"mounted",!1),m(this,"handleDragStart",w=>{if(this.props.onMouseDown(w),!this.props.allowAnyClick&&typeof w.button=="number"&&w.button!==0)return!1;const S=this.findDOMNode();if(!S||!S.ownerDocument||!S.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:R}=S;if(this.props.disabled||!(w.target instanceof R.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(w.target,this.props.handle,S)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(w.target,this.props.cancel,S))return;w.type==="touchstart"&&!this.props.allowMobileScroll&&w.preventDefault();const T=(0,s.getTouchIdentifier)(w);this.touchIdentifier=T;const D=(0,i.getControlPosition)(w,T,this);if(D==null)return;const{x:k,y:O}=D,M=(0,i.createCoreData)(this,k,O);(0,d.default)("DraggableCore: handleDragStart: %j",M),(0,d.default)("calling",this.props.onStart),!(this.props.onStart(w,M)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(R),this.dragging=!0,this.lastX=k,this.lastY=O,(0,s.addEvent)(R,N.move,this.handleDrag),(0,s.addEvent)(R,N.stop,this.handleDragStop))}),m(this,"handleDrag",w=>{const S=(0,i.getControlPosition)(w,this.touchIdentifier,this);if(S==null)return;let{x:R,y:T}=S;if(Array.isArray(this.props.grid)){let O=R-this.lastX,M=T-this.lastY;if([O,M]=(0,i.snapToGrid)(this.props.grid,O,M),!O&&!M)return;R=this.lastX+O,T=this.lastY+M}const D=(0,i.createCoreData)(this,R,T);if((0,d.default)("DraggableCore: handleDrag: %j",D),this.props.onDrag(w,D)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const M=document.createEvent("MouseEvents");M.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(M)}return}this.lastX=R,this.lastY=T}),m(this,"handleDragStop",w=>{if(!this.dragging)return;const S=(0,i.getControlPosition)(w,this.touchIdentifier,this);if(S==null)return;let{x:R,y:T}=S;if(Array.isArray(this.props.grid)){let M=R-this.lastX||0,_=T-this.lastY||0;[M,_]=(0,i.snapToGrid)(this.props.grid,M,_),R=this.lastX+M,T=this.lastY+_}const D=(0,i.createCoreData)(this,R,T);if(this.props.onStop(w,D)===!1||this.mounted===!1)return!1;const O=this.findDOMNode();O&&this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(O.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",D),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,O&&((0,d.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(O.ownerDocument,N.move,this.handleDrag),(0,s.removeEvent)(O.ownerDocument,N.stop,this.handleDragStop))}),m(this,"onMouseDown",w=>(N=C.mouse,this.handleDragStart(w))),m(this,"onMouseUp",w=>(N=C.mouse,this.handleDragStop(w))),m(this,"onTouchStart",w=>(N=C.touch,this.handleDragStart(w))),m(this,"onTouchEnd",w=>(N=C.touch,this.handleDragStop(w)))}componentDidMount(){this.mounted=!0;const w=this.findDOMNode();w&&(0,s.addEvent)(w,C.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const w=this.findDOMNode();if(w){const{ownerDocument:S}=w;(0,s.removeEvent)(S,C.mouse.move,this.handleDrag),(0,s.removeEvent)(S,C.touch.move,this.handleDrag),(0,s.removeEvent)(S,C.mouse.stop,this.handleDragStop),(0,s.removeEvent)(S,C.touch.stop,this.handleDragStop),(0,s.removeEvent)(w,C.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(S)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:o.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Si.default=E,m(E,"displayName","DraggableCore"),m(E,"propTypes",{allowAnyClick:a.default.bool,allowMobileScroll:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(b,w){if(b[w]&&b[w].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),m(E,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Si}var Xy;function Xz(){return Xy||(Xy=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),t.default=void 0;var a=x(Po()),o=y(wu()),s=y(Yc()),i=Gz(),u=Um(),d=yC(),p=Su(),h=y(Vz()),m=y(bC());function y(S){return S&&S.__esModule?S:{default:S}}function x(S,R){if(typeof WeakMap=="function")var T=new WeakMap,D=new WeakMap;return(x=function(k,O){if(!O&&k&&k.__esModule)return k;var M,_,P={__proto__:null,default:k};if(k===null||typeof k!="object"&&typeof k!="function")return P;if(M=O?D:T){if(M.has(k))return M.get(k);M.set(k,P)}for(const $ in k)$!=="default"&&{}.hasOwnProperty.call(k,$)&&((_=(M=Object.defineProperty)&&Object.getOwnPropertyDescriptor(k,$))&&(_.get||_.set)?M(P,$,_):P[$]=k[$]);return P})(S,R)}function C(){return C=Object.assign?Object.assign.bind():function(S){for(var R=1;R<arguments.length;R++){var T=arguments[R];for(var D in T)({}).hasOwnProperty.call(T,D)&&(S[D]=T[D])}return S},C.apply(null,arguments)}function N(S,R,T){return(R=E(R))in S?Object.defineProperty(S,R,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[R]=T,S}function E(S){var R=b(S,"string");return typeof R=="symbol"?R:R+""}function b(S,R){if(typeof S!="object"||!S)return S;var T=S[Symbol.toPrimitive];if(T!==void 0){var D=T.call(S,R);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(S)}class w extends a.Component{static getDerivedStateFromProps(R,T){let{position:D}=R,{prevPropsPosition:k}=T;return D&&(!k||D.x!==k.x||D.y!==k.y)?((0,m.default)("Draggable: getDerivedStateFromProps %j",{position:D,prevPropsPosition:k}),{x:D.x,y:D.y,prevPropsPosition:{...D}}):null}constructor(R){super(R),N(this,"onDragStart",(T,D)=>{if((0,m.default)("Draggable: onDragStart: %j",D),this.props.onStart(T,(0,d.createDraggableData)(this,D))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),N(this,"onDrag",(T,D)=>{if(!this.state.dragging)return!1;(0,m.default)("Draggable: onDrag: %j",D);const k=(0,d.createDraggableData)(this,D),O={x:k.x,y:k.y,slackX:0,slackY:0};if(this.props.bounds){const{x:_,y:P}=O;O.x+=this.state.slackX,O.y+=this.state.slackY;const[$,W]=(0,d.getBoundPosition)(this,O.x,O.y);O.x=$,O.y=W,O.slackX=this.state.slackX+(_-O.x),O.slackY=this.state.slackY+(P-O.y),k.x=O.x,k.y=O.y,k.deltaX=O.x-this.state.x,k.deltaY=O.y-this.state.y}if(this.props.onDrag(T,k)===!1)return!1;this.setState(O)}),N(this,"onDragStop",(T,D)=>{if(!this.state.dragging||this.props.onStop(T,(0,d.createDraggableData)(this,D))===!1)return!1;(0,m.default)("Draggable: onDragStop: %j",D);const O={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:_,y:P}=this.props.position;O.x=_,O.y=P}this.setState(O)}),this.state={dragging:!1,dragged:!1,x:R.position?R.position.x:R.defaultPosition.x,y:R.position?R.position.y:R.defaultPosition.y,prevPropsPosition:{...R.position},slackX:0,slackY:0,isElementSVG:!1},R.position&&!(R.onDrag||R.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??s.default.findDOMNode(this)}render(){const{axis:R,bounds:T,children:D,defaultPosition:k,defaultClassName:O,defaultClassNameDragging:M,defaultClassNameDragged:_,position:P,positionOffset:$,scale:W,...Q}=this.props;let q={},F=null;const L=!!!P||this.state.dragging,H=P||k,U={x:(0,d.canDragX)(this)&&L?this.state.x:H.x,y:(0,d.canDragY)(this)&&L?this.state.y:H.y};this.state.isElementSVG?F=(0,u.createSVGTransform)(U,$):q=(0,u.createCSSTransform)(U,$);const V=(0,i.clsx)(D.props.className||"",O,{[M]:this.state.dragging,[_]:this.state.dragged});return a.createElement(h.default,C({},Q,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),a.cloneElement(a.Children.only(D),{className:V,style:{...D.props.style,...q},transform:F}))}}t.default=w,N(w,"displayName","Draggable"),N(w,"propTypes",{...h.default.propTypes,axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),N(w,"defaultProps",{...h.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(tp)),tp}var Ky;function Hm(){if(Ky)return wi.exports;Ky=1;const{default:t,DraggableCore:a}=Xz();return wi.exports=t,wi.exports.default=t,wi.exports.DraggableCore=a,wi.exports}var Kz=Hm(),Ci={exports:{}},Ni={},bc={},Wy;function Wz(){if(Wy)return bc;Wy=1,bc.__esModule=!0,bc.cloneElement=p;var t=a(Po());function a(h){return h&&h.__esModule?h:{default:h}}function o(h,m){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(h);m&&(x=x.filter(function(C){return Object.getOwnPropertyDescriptor(h,C).enumerable})),y.push.apply(y,x)}return y}function s(h){for(var m=1;m<arguments.length;m++){var y=arguments[m]!=null?arguments[m]:{};m%2?o(Object(y),!0).forEach(function(x){i(h,x,y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):o(Object(y)).forEach(function(x){Object.defineProperty(h,x,Object.getOwnPropertyDescriptor(y,x))})}return h}function i(h,m,y){return(m=u(m))in h?Object.defineProperty(h,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[m]=y,h}function u(h){var m=d(h,"string");return typeof m=="symbol"?m:m+""}function d(h,m){if(typeof h!="object"||!h)return h;var y=h[Symbol.toPrimitive];if(y!==void 0){var x=y.call(h,m);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(h)}function p(h,m){return m.style&&h.props.style&&(m.style=s(s({},h.props.style),m.style)),m.className&&h.props.className&&(m.className=`${h.props.className} ${m.className}`),t.default.cloneElement(h,m)}return bc}var Ei={},Qy;function wC(){if(Qy)return Ei;Qy=1,Ei.__esModule=!0,Ei.resizableProps=void 0;var t=a(wu());Hm();function a(o){return o&&o.__esModule?o:{default:o}}return Ei.resizableProps={axis:t.default.oneOf(["both","x","y","none"]),className:t.default.string,children:t.default.element.isRequired,draggableOpts:t.default.shape({allowAnyClick:t.default.bool,cancel:t.default.string,children:t.default.node,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:typeof Element<"u"?t.default.instanceOf(Element):t.default.any,grid:t.default.arrayOf(t.default.number),handle:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number}),height:function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];const[u]=s;return u.axis==="both"||u.axis==="y"?t.default.number.isRequired(...s):t.default.number(...s)},handle:t.default.oneOfType([t.default.node,t.default.func]),handleSize:t.default.arrayOf(t.default.number),lockAspectRatio:t.default.bool,maxConstraints:t.default.arrayOf(t.default.number),minConstraints:t.default.arrayOf(t.default.number),onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,resizeHandles:t.default.arrayOf(t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:t.default.number,width:function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];const[u]=s;return u.axis==="both"||u.axis==="x"?t.default.number.isRequired(...s):t.default.number(...s)}},Ei}var Zy;function SC(){if(Zy)return Ni;Zy=1,Ni.__esModule=!0,Ni.default=void 0;var t=u(Po()),a=Hm(),o=Wz(),s=wC();const i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function u(b,w){if(typeof WeakMap=="function")var S=new WeakMap,R=new WeakMap;return(u=function(T,D){if(!D&&T&&T.__esModule)return T;var k,O,M={__proto__:null,default:T};if(T===null||typeof T!="object"&&typeof T!="function")return M;if(k=D?R:S){if(k.has(T))return k.get(T);k.set(T,M)}for(const _ in T)_!=="default"&&{}.hasOwnProperty.call(T,_)&&((O=(k=Object.defineProperty)&&Object.getOwnPropertyDescriptor(T,_))&&(O.get||O.set)?k(M,_,O):M[_]=T[_]);return M})(b,w)}function d(){return d=Object.assign?Object.assign.bind():function(b){for(var w=1;w<arguments.length;w++){var S=arguments[w];for(var R in S)({}).hasOwnProperty.call(S,R)&&(b[R]=S[R])}return b},d.apply(null,arguments)}function p(b,w){if(b==null)return{};var S,R,T=h(b,w);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(b);for(R=0;R<D.length;R++)S=D[R],w.indexOf(S)===-1&&{}.propertyIsEnumerable.call(b,S)&&(T[S]=b[S])}return T}function h(b,w){if(b==null)return{};var S={};for(var R in b)if({}.hasOwnProperty.call(b,R)){if(w.indexOf(R)!==-1)continue;S[R]=b[R]}return S}function m(b,w){var S=Object.keys(b);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(b);w&&(R=R.filter(function(T){return Object.getOwnPropertyDescriptor(b,T).enumerable})),S.push.apply(S,R)}return S}function y(b){for(var w=1;w<arguments.length;w++){var S=arguments[w]!=null?arguments[w]:{};w%2?m(Object(S),!0).forEach(function(R){x(b,R,S[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(S)):m(Object(S)).forEach(function(R){Object.defineProperty(b,R,Object.getOwnPropertyDescriptor(S,R))})}return b}function x(b,w,S){return(w=C(w))in b?Object.defineProperty(b,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[w]=S,b}function C(b){var w=N(b,"string");return typeof w=="symbol"?w:w+""}function N(b,w){if(typeof b!="object"||!b)return b;var S=b[Symbol.toPrimitive];if(S!==void 0){var R=S.call(b,w);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(b)}let E=class extends t.Component{constructor(){super(...arguments),this.handleRefs={},this.lastHandleRect=null,this.slack=null,this.lastSize=null}componentWillUnmount(){this.resetData()}resetData(){this.lastHandleRect=this.slack=this.lastSize=null}runConstraints(w,S){const{minConstraints:R,maxConstraints:T,lockAspectRatio:D}=this.props;if(!R&&!T&&!D)return[w,S];if(D){const P=this.props.width/this.props.height,$=w-this.props.width,W=S-this.props.height;Math.abs($)>Math.abs(W*P)?S=w/P:w=S*P}const[k,O]=[w,S];let[M,_]=this.slack||[0,0];return w+=M,S+=_,R&&(w=Math.max(R[0],w),S=Math.max(R[1],S)),T&&(w=Math.min(T[0],w),S=Math.min(T[1],S)),this.slack=[M+(k-w),_+(O-S)],[w,S]}resizeHandler(w,S){return(R,T)=>{let{node:D,deltaX:k,deltaY:O}=T;w==="onResizeStart"&&this.resetData();const M=(this.props.axis==="both"||this.props.axis==="x")&&S!=="n"&&S!=="s",_=(this.props.axis==="both"||this.props.axis==="y")&&S!=="e"&&S!=="w";if(!M&&!_)return;const P=S[0],$=S[S.length-1],W=D.getBoundingClientRect();if(this.lastHandleRect!=null){if($==="w"){const H=W.left-this.lastHandleRect.left;k+=H}if(P==="n"){const H=W.top-this.lastHandleRect.top;O+=H}}this.lastHandleRect=W,$==="w"&&(k=-k),P==="n"&&(O=-O);let Q=this.props.width+(M?k/this.props.transformScale:0),q=this.props.height+(_?O/this.props.transformScale:0);[Q,q]=this.runConstraints(Q,q),w==="onResizeStop"&&this.lastSize&&({width:Q,height:q}=this.lastSize);const F=Q!==this.props.width||q!==this.props.height;w!=="onResizeStop"&&(this.lastSize={width:Q,height:q});const ae=typeof this.props[w]=="function"?this.props[w]:null;ae&&!(w==="onResize"&&!F)&&(R.persist?.(),ae(R,{node:D,size:{width:Q,height:q},handle:S})),w==="onResizeStop"&&this.resetData()}}renderResizeHandle(w,S){const{handle:R}=this.props;if(!R)return t.createElement("span",{className:`react-resizable-handle react-resizable-handle-${w}`,ref:S});if(typeof R=="function")return R(w,S);const T=typeof R.type=="string",D=y({ref:S},T?{}:{handleAxis:w});return t.cloneElement(R,D)}render(){const w=this.props,{children:S,className:R,draggableOpts:T,width:D,height:k,handle:O,handleSize:M,lockAspectRatio:_,axis:P,minConstraints:$,maxConstraints:W,onResize:Q,onResizeStop:q,onResizeStart:F,resizeHandles:ae,transformScale:L}=w,H=p(w,i);return(0,o.cloneElement)(S,y(y({},H),{},{className:`${R?`${R} `:""}react-resizable`,children:[...t.Children.toArray(S.props.children),...ae.map(U=>{const V=this.handleRefs[U]??(this.handleRefs[U]=t.createRef());return t.createElement(a.DraggableCore,d({},T,{nodeRef:V,key:`resizableHandle-${U}`,onStop:this.resizeHandler("onResizeStop",U),onStart:this.resizeHandler("onResizeStart",U),onDrag:this.resizeHandler("onResize",U)}),this.renderResizeHandle(U,V))})]}))}};return Ni.default=E,E.propTypes=s.resizableProps,E.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Ni}var ji={},Jy;function Qz(){if(Jy)return ji;Jy=1,ji.__esModule=!0,ji.default=void 0;var t=d(Po()),a=u(wu()),o=u(SC()),s=wC();const i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function u(w){return w&&w.__esModule?w:{default:w}}function d(w,S){if(typeof WeakMap=="function")var R=new WeakMap,T=new WeakMap;return(d=function(D,k){if(!k&&D&&D.__esModule)return D;var O,M,_={__proto__:null,default:D};if(D===null||typeof D!="object"&&typeof D!="function")return _;if(O=k?T:R){if(O.has(D))return O.get(D);O.set(D,_)}for(const P in D)P!=="default"&&{}.hasOwnProperty.call(D,P)&&((M=(O=Object.defineProperty)&&Object.getOwnPropertyDescriptor(D,P))&&(M.get||M.set)?O(_,P,M):_[P]=D[P]);return _})(w,S)}function p(){return p=Object.assign?Object.assign.bind():function(w){for(var S=1;S<arguments.length;S++){var R=arguments[S];for(var T in R)({}).hasOwnProperty.call(R,T)&&(w[T]=R[T])}return w},p.apply(null,arguments)}function h(w,S){var R=Object.keys(w);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(w);S&&(T=T.filter(function(D){return Object.getOwnPropertyDescriptor(w,D).enumerable})),R.push.apply(R,T)}return R}function m(w){for(var S=1;S<arguments.length;S++){var R=arguments[S]!=null?arguments[S]:{};S%2?h(Object(R),!0).forEach(function(T){y(w,T,R[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(R)):h(Object(R)).forEach(function(T){Object.defineProperty(w,T,Object.getOwnPropertyDescriptor(R,T))})}return w}function y(w,S,R){return(S=x(S))in w?Object.defineProperty(w,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):w[S]=R,w}function x(w){var S=C(w,"string");return typeof S=="symbol"?S:S+""}function C(w,S){if(typeof w!="object"||!w)return w;var R=w[Symbol.toPrimitive];if(R!==void 0){var T=R.call(w,S);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(w)}function N(w,S){if(w==null)return{};var R,T,D=E(w,S);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(w);for(T=0;T<k.length;T++)R=k[T],S.indexOf(R)===-1&&{}.propertyIsEnumerable.call(w,R)&&(D[R]=w[R])}return D}function E(w,S){if(w==null)return{};var R={};for(var T in w)if({}.hasOwnProperty.call(w,T)){if(S.indexOf(T)!==-1)continue;R[T]=w[T]}return R}let b=class extends t.Component{constructor(){super(...arguments),this.state={width:this.props.width,height:this.props.height,propsWidth:this.props.width,propsHeight:this.props.height},this.onResize=(S,R)=>{const{size:T}=R;this.props.onResize?(S.persist?.(),this.setState(T,()=>this.props.onResize&&this.props.onResize(S,R))):this.setState(T)}}static getDerivedStateFromProps(S,R){return R.propsWidth!==S.width||R.propsHeight!==S.height?{width:S.width,height:S.height,propsWidth:S.width,propsHeight:S.height}:null}render(){const S=this.props,{handle:R,handleSize:T,onResize:D,onResizeStart:k,onResizeStop:O,draggableOpts:M,minConstraints:_,maxConstraints:P,lockAspectRatio:$,axis:W,width:Q,height:q,resizeHandles:F,style:ae,transformScale:L}=S,H=N(S,i);return t.createElement(o.default,{axis:W,draggableOpts:M,handle:R,handleSize:T,height:this.state.height,lockAspectRatio:$,maxConstraints:P,minConstraints:_,onResizeStart:k,onResize:this.onResize,onResizeStop:O,resizeHandles:F,transformScale:L,width:this.state.width},t.createElement("div",p({},H,{style:m(m({},ae),{},{width:this.state.width+"px",height:this.state.height+"px"})})))}};return ji.default=b,b.propTypes=m(m({},s.resizableProps),{},{children:a.default.element}),ji}var e0;function Zz(){return e0||(e0=1,Ci.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Ci.exports.Resizable=SC().default,Ci.exports.ResizableBox=Qz().default),Ci.exports}var Jz=Zz();function t0(t){const{children:a,cols:o,containerWidth:s,margin:i,containerPadding:u,rowHeight:d,maxRows:p,isDraggable:h,isResizable:m,isBounded:y,static:x,useCSSTransforms:C=!0,usePercentages:N=!1,transformScale:E=1,positionStrategy:b,dragThreshold:w=0,droppingPosition:S,className:R="",style:T,handle:D="",cancel:k="",x:O,y:M,w:_,h:P,minW:$=1,maxW:W=1/0,minH:Q=1,maxH:q=1/0,i:F,resizeHandles:ae,resizeHandle:L,constraints:H=rC,layoutItem:U,layout:V=[],onDragStart:ce,onDrag:z,onDragStop:K,onResizeStart:ne,onResize:se,onResizeStop:fe}=t,[ue,Y]=g.useState(!1),[ge,ve]=g.useState(!1),Re=g.useRef(null),ye=g.useRef({left:0,top:0}),Ee=g.useRef({top:0,left:0,width:0,height:0}),nt=g.useRef(void 0),Ct=g.useRef(V);Ct.current=V;const Ot=g.useRef(null),Bt=g.useRef(null),Kt=g.useRef(!1),zn=g.useRef({x:0,y:0}),st=g.useRef(!1),et=g.useMemo(()=>({cols:o,containerPadding:u,containerWidth:s,margin:i,maxRows:p,rowHeight:d}),[o,u,s,i,p,d]),Tt=g.useMemo(()=>({cols:o,maxRows:p,containerWidth:s,containerHeight:0,rowHeight:d,margin:i,layout:[]}),[o,p,s,d,i]),Mt=g.useCallback(()=>({...Tt,layout:Ct.current}),[Tt]),un=g.useMemo(()=>U??{i:F,x:O,y:M,w:_,h:P,minW:$,maxW:W,minH:Q,maxH:q},[U,F,O,M,_,P,$,W,Q,q]),It=g.useCallback(We=>{if(b?.calcStyle)return b.calcStyle(We);if(C)return sC(We);const $e=cz(We);return N?{...$e,left:Oy(We.left/s),width:Oy(We.width/s)}:$e},[b,C,N,s]),hn=g.useCallback((We,{node:$e})=>{if(!ce)return;const{offsetParent:vt}=$e;if(!vt)return;const Je=vt.getBoundingClientRect(),$t=$e.getBoundingClientRect(),Wt=$t.left/E,Qt=Je.left/E,zt=$t.top/E,gn=Je.top/E;let dn;if(b?.calcDragPosition){const Oe=We;dn=b.calcDragPosition(Oe.clientX,Oe.clientY,Oe.clientX-$t.left,Oe.clientY-$t.top)}else dn={left:Wt-Qt+vt.scrollLeft,top:zt-gn+vt.scrollTop};if(ye.current=dn,w>0){const Oe=We;zn.current={x:Oe.clientX,y:Oe.clientY},Kt.current=!0,st.current=!1,Y(!0);return}Y(!0);const Zn=gc(et,dn.top,dn.left),{x:Jn,y:Ce}=vc(H,un,Zn.x,Zn.y,Mt());ce(F,Jn,Ce,{e:We,node:$e,newPosition:dn})},[ce,E,et,b,w,H,un,Mt,F]),Ln=g.useCallback((We,{node:$e,deltaX:vt,deltaY:Je})=>{if(!z||!ue)return;const $t=We;if(Kt.current&&!st.current){const Jn=$t.clientX-zn.current.x,Ce=$t.clientY-zn.current.y;if(Math.hypot(Jn,Ce)<w)return;if(st.current=!0,Kt.current=!1,ce){const Me=gc(et,ye.current.top,ye.current.left),{x:Qe,y:qe}=vc(H,un,Me.x,Me.y,Mt());ce(F,Qe,qe,{e:We,node:$e,newPosition:ye.current})}}let Wt=ye.current.top+Je,Qt=ye.current.left+vt;if(y){const{offsetParent:Jn}=$e;if(Jn){const Ce=Jn.clientHeight-gs(P,d,i[1]);Wt=Bc(Wt,0,Ce);const Oe=Ts(et),Me=s-gs(_,Oe,i[0]);Qt=Bc(Qt,0,Me)}}const zt={top:Wt,left:Qt};ye.current=zt;const gn=gc(et,Wt,Qt),{x:dn,y:Zn}=vc(H,un,gn.x,gn.y,Mt());z(F,dn,Zn,{e:We,node:$e,newPosition:zt})},[z,ce,ue,w,y,P,d,i,et,s,_,F,H,un,Mt]),Nn=g.useCallback((We,{node:$e})=>{if(!K||!ue)return;const vt=Kt.current;if(Kt.current=!1,st.current=!1,zn.current={x:0,y:0},vt){Y(!1),ye.current={left:0,top:0};return}const{left:Je,top:$t}=ye.current,Wt={top:$t,left:Je};Y(!1),ye.current={left:0,top:0};const Qt=gc(et,$t,Je),{x:zt,y:gn}=vc(H,un,Qt.x,Qt.y,Mt());K(F,zt,gn,{e:We,node:$e,newPosition:Wt})},[K,ue,et,H,un,Mt,F]);Ot.current=hn,Bt.current=Ln;const de=g.useCallback((We,{node:$e,size:vt,handle:Je},$t,Wt)=>{const Qt=Wt==="onResizeStart"?ne:Wt==="onResize"?se:fe;if(!Qt)return;let zt;$e?zt=vz(Je,$t,vt,s):zt={...vt,top:$t.top,left:$t.left},Ee.current=zt;const gn=ez(et,zt.width,zt.height),{w:dn,h:Zn}=lz(H,un,gn.w,gn.h,Je,Mt());Qt(F,dn,Zn,{e:We.nativeEvent,node:$e,size:zt,handle:Je})},[ne,se,fe,s,et,F,H,un,Mt]),xe=g.useCallback((We,$e)=>{ve(!0);const vt=bi(et,O,M,_,P),Je={...$e,handle:$e.handle};de(We,Je,vt,"onResizeStart")},[de,et,O,M,_,P]),Ue=g.useCallback((We,$e)=>{const vt=bi(et,O,M,_,P),Je={...$e,handle:$e.handle};de(We,Je,vt,"onResize")},[de,et,O,M,_,P]),Ie=g.useCallback((We,$e)=>{ve(!1),Ee.current={top:0,left:0,width:0,height:0};const vt=bi(et,O,M,_,P),Je={...$e,handle:$e.handle};de(We,Je,vt,"onResizeStop")},[de,et,O,M,_,P]);g.useEffect(()=>{if(!S)return;const We=Re.current;if(!We)return;const $e=nt.current||{left:0,top:0},vt=ue&&(S.left!==$e.left||S.top!==$e.top);if(ue){if(vt){const Je=S.left-ye.current.left,$t=S.top-ye.current.top,Wt={node:We,deltaX:Je,deltaY:$t,lastX:ye.current.left,lastY:ye.current.top,x:S.left,y:S.top};Bt.current?.(S.e,Wt)}}else{const Je={node:We,deltaX:S.left,deltaY:S.top,lastX:0,lastY:0,x:S.left,y:S.top};Ot.current?.(S.e,Je)}nt.current=S},[S,ue,F]);const tt=bi(et,O,M,_,P,ue?ye.current:null,ge?Ee.current:null),_t=St.Children.only(a),ft=bi(et,0,0,1,1),Et=[ft.width,ft.height],at=[1/0,1/0],tn=_t.props,Io=tn.className,wr=tn.style;let En=St.cloneElement(_t,{ref:Re,className:vu("react-grid-item",Io,R,{static:x,resizing:ge,"react-draggable":h,"react-draggable-dragging":ue,dropping:!!S,cssTransforms:C}),style:{...T,...wr,...It(tt)}});const Ma=L;return En=c.jsx(Jz.Resizable,{draggableOpts:{disabled:!m},className:m?void 0:"react-resizable-hide",width:tt.width,height:tt.height,minConstraints:Et,maxConstraints:at,onResizeStart:xe,onResize:Ue,onResizeStop:Ie,transformScale:E,resizeHandles:ae,handle:Ma,children:En}),En=c.jsx(Kz.DraggableCore,{disabled:!h,onStart:hn,onDrag:Ln,onStop:Nn,handle:D,cancel:".react-resizable-handle"+(k?","+k:""),scale:E,nodeRef:Re,children:En}),En}var Ka=()=>{},n0="react-grid-layout",CC=!1;try{CC=/firefox/i.test(navigator.userAgent)}catch{}function e4(t,a){const o=St.Children.toArray(t),s=St.Children.toArray(a);if(o.length!==s.length)return!1;for(let i=0;i<o.length;i++){const u=o[i],d=s[i];if(u?.key!==d?.key)return!1}return!0}function a0(t,a,o,s){const i=[],u=new Set;St.Children.forEach(a,p=>{if(!St.isValidElement(p)||p.key===null)return;const h=String(p.key);u.add(h);const m=t.find(y=>y.i===h);if(m)i.push(vs(m));else{const x=p.props["data-grid"];x?i.push({i:h,x:x.x??0,y:x.y??0,w:x.w??1,h:x.h??1,minW:x.minW,maxW:x.maxW,minH:x.minH,maxH:x.maxH,static:x.static,isDraggable:x.isDraggable,isResizable:x.isResizable,resizeHandles:x.resizeHandles,isBounded:x.isBounded}):i.push({i:h,x:0,y:Dm(i),w:1,h:1})}});const d=rz(i,{cols:o});return s.compact(d,o)}function t4(t){const{children:a,width:o,gridConfig:s,dragConfig:i,resizeConfig:u,dropConfig:d,positionStrategy:p=yz,compactor:h,constraints:m=rC,layout:y=[],droppingItem:x,autoSize:C=!0,className:N="",style:E={},innerRef:b,onLayoutChange:w=Ka,onDragStart:S=Ka,onDrag:R=Ka,onDragStop:T=Ka,onResizeStart:D=Ka,onResize:k=Ka,onResizeStop:O=Ka,onDrop:M=Ka,onDropDragOver:_=Ka}=t,P=g.useMemo(()=>({...bz,...s}),[s]),$=g.useMemo(()=>({...wz,...i}),[i]),W=g.useMemo(()=>({...Sz,...u}),[u]),Q=g.useMemo(()=>({...Cz,...d}),[d]),{cols:q,rowHeight:F,maxRows:ae,margin:L,containerPadding:H}=P,{enabled:U,bounded:V,handle:ce,cancel:z,threshold:K}=$,{enabled:ne,handles:se,handleComponent:fe}=W,{enabled:ue,defaultItem:Y,onDragOver:ge}=Q,ve=h??jz(),Re=ve.type,ye=ve.allowOverlap,Ee=ve.preventCollision??!1,nt=g.useMemo(()=>x??{i:"__dropping-elem__",...Y},[x,Y]),Ct=p.type==="transform",Ot=p.scale,Bt=H??L,[Kt,zn]=g.useState(!1),[st,et]=g.useState(()=>a0(y,a,q,ve)),[Tt,Mt]=g.useState(null),[un,It]=g.useState(!1),[hn,Ln]=g.useState(null),[Nn,de]=g.useState(),xe=g.useRef(null),Ue=g.useRef(null),Ie=g.useRef(null),tt=g.useRef(0),_t=g.useRef(st),ft=g.useRef(y),Et=g.useRef(a),at=g.useRef(Re),tn=g.useRef(st);tn.current=st,g.useEffect(()=>{zn(!0),is(st,y)||w(st)},[]),g.useEffect(()=>{if(Tt||hn)return;const Ce=!is(y,ft.current),Oe=!e4(a,Et.current),Me=Re!==at.current;if(Ce||Oe||Me){const qe=a0(Ce?y:st,a,q,ve);is(qe,st)||et(qe)}ft.current=y,Et.current=a,at.current=Re},[y,a,q,Re,ve,Tt,hn,st]),g.useEffect(()=>{if(!Tt&&!is(st,_t.current)){_t.current=st;const Ce=st.filter(Oe=>Oe.i!==nt.i);w(Ce)}},[st,Tt,w,nt.i]);const Io=g.useMemo(()=>{if(!C)return;const Ce=Dm(st),Oe=Bt[1];return Ce*F+(Ce-1)*L[1]+Oe*2+"px"},[C,st,F,L,Bt]),wr=g.useCallback((Ce,Oe,Me,Qe)=>{const qe=tn.current,De=sr(qe,Ce);if(!De)return;const He={w:De.w,h:De.h,x:De.x,y:De.y,i:Ce};xe.current=vs(De),Ie.current=qe,Mt(He),S(qe,De,De,null,Qe.e,Qe.node)},[S]),En=g.useCallback((Ce,Oe,Me,Qe)=>{const qe=tn.current,De=xe.current,He=sr(qe,Ce);if(!He)return;const yt={w:He.w,h:He.h,x:He.x,y:He.y,i:Ce},pt=ir(qe,He,Oe,Me,!0,Ee,Re,q,ye);R(pt,De,He,yt,Qe.e,Qe.node),et(ve.compact(pt,q)),Mt(yt)},[Ee,Re,q,ye,ve,R]),Ma=g.useCallback((Ce,Oe,Me,Qe)=>{if(!Tt)return;const qe=tn.current,De=xe.current,He=sr(qe,Ce);if(!He)return;const yt=ir(qe,He,Oe,Me,!0,Ee,Re,q,ye),pt=ve.compact(yt,q);T(pt,De,He,null,Qe.e,Qe.node);const Zt=Ie.current;xe.current=null,Ie.current=null,Mt(null),et(pt),Zt&&!is(Zt,pt)&&w(pt)},[Tt,Ee,Re,q,ye,ve,T,w]),We=g.useCallback((Ce,Oe,Me,Qe)=>{const qe=tn.current,De=sr(qe,Ce);De&&(Ue.current=vs(De),Ie.current=qe,It(!0),D(qe,De,De,null,Qe.e,Qe.node))},[D]),$e=g.useCallback((Ce,Oe,Me,Qe)=>{const qe=tn.current,De=Ue.current,{handle:He}=Qe;let yt=!1,pt,Zt;const[Sr,Pn]=oz(qe,Ce,ct=>(pt=ct.x,Zt=ct.y,["sw","w","nw","n","ne"].includes(He)&&(["sw","nw","w"].includes(He)&&(pt=ct.x+(ct.w-Oe),Oe=ct.x!==pt&&pt<0?ct.w:Oe,pt=pt<0?0:pt),["ne","n","nw"].includes(He)&&(Zt=ct.y+(ct.h-Me),Me=ct.y!==Zt&&Zt<0?ct.h:Me,Zt=Zt<0?0:Zt),yt=!0),Ee&&!ye&&aC(qe,{...ct,w:Oe,h:Me,x:pt??ct.x,y:Zt??ct.y}).filter(pa=>pa.i!==ct.i).length>0&&(Zt=ct.y,Me=ct.h,pt=ct.x,Oe=ct.w,yt=!1),ct.w=Oe,ct.h=Me,ct));if(!Pn)return;let ea=Sr;yt&&pt!==void 0&&Zt!==void 0&&(ea=ir(Sr,Pn,pt,Zt,!0,Ee,Re,q,ye));const so={w:Pn.w,h:Pn.h,x:Pn.x,y:Pn.y,i:Ce,static:!0};k(ea,De,Pn,so,Qe.e,Qe.node),et(ve.compact(ea,q)),Mt(so)},[Ee,Re,q,ye,ve,k]),vt=g.useCallback((Ce,Oe,Me,Qe)=>{const qe=tn.current,De=Ue.current,He=sr(qe,Ce),yt=ve.compact(qe,q);O(yt,De,He??null,null,Qe.e,Qe.node);const pt=Ie.current;Ue.current=null,Ie.current=null,Mt(null),It(!1),et(yt),pt&&!is(pt,yt)&&w(yt)},[q,ve,O,w]),Je=g.useCallback(()=>{const Ce=tn.current;if(!Ce.some(Qe=>Qe.i===nt.i)){Ln(null),Mt(null),de(void 0);return}const Me=ve.compact(Ce.filter(Qe=>Qe.i!==nt.i),q);et(Me),Ln(null),Mt(null),de(void 0)},[nt.i,q,ve]),$t=g.useCallback(Ce=>{if(Ce.preventDefault(),Ce.stopPropagation(),CC&&!Ce.nativeEvent.target?.classList.contains(n0))return!1;const Oe=ge?ge(Ce.nativeEvent):_(Ce);if(Oe===!1)return hn&&Je(),!1;const{dragOffsetX:Me=0,dragOffsetY:Qe=0,...qe}=Oe??{},De={...nt,...qe},He=Ce.currentTarget.getBoundingClientRect(),yt={cols:q,margin:L,maxRows:ae,rowHeight:F,containerWidth:o,containerPadding:Bt},pt=Ts(yt),Zt=gs(De.w,pt,L[0]),Sr=gs(De.h,F,L[1]),Pn=Zt/2,ea=Sr/2,so=Ce.clientX-He.left+Me-Pn,ct=Ce.clientY-He.top+Qe-ea,fa=Math.max(0,so),pa=Math.max(0,ct),ta={left:fa/Ot,top:pa/Ot,e:Ce.nativeEvent};if(hn)Nn&&(Nn.left!==ta.left||Nn.top!==ta.top)&&de(ta);else{const Dt=JO(yt,pa,fa,De.w,De.h);Ln(c.jsx("div",{},De.i)),de(ta),et([...tn.current,{...De,x:Dt.x,y:Dt.y,static:!1,isDraggable:!0}])}},[hn,Nn,nt,ge,_,Je,Ot,q,L,ae,F,o,Bt]),Wt=g.useCallback(Ce=>{Ce.preventDefault(),Ce.stopPropagation(),tt.current--,tt.current<0&&(tt.current=0),tt.current===0&&Je()},[Je]),Qt=g.useCallback(Ce=>{Ce.preventDefault(),Ce.stopPropagation(),tt.current++},[]),zt=g.useCallback(Ce=>{Ce.preventDefault(),Ce.stopPropagation();const Oe=tn.current,Me=Oe.find(Qe=>Qe.i===nt.i);tt.current=0,Je(),M(Oe,Me,Ce.nativeEvent)},[nt.i,Je,M]),gn=g.useCallback((Ce,Oe)=>{if(!Ce||!Ce.key)return null;const Me=sr(st,String(Ce.key));if(!Me)return null;const Qe=typeof Me.isDraggable=="boolean"?Me.isDraggable:!Me.static&&U,qe=typeof Me.isResizable=="boolean"?Me.isResizable:!Me.static&&ne,De=Me.resizeHandles||[...se],He=Qe&&V&&Me.isBounded!==!1,yt=fe;return c.jsx(t0,{containerWidth:o,cols:q,margin:L,containerPadding:Bt,maxRows:ae,rowHeight:F,cancel:z,handle:ce,onDragStart:wr,onDrag:En,onDragStop:Ma,onResizeStart:We,onResize:$e,onResizeStop:vt,isDraggable:Qe,isResizable:qe,isBounded:He,useCSSTransforms:Ct&&Kt,usePercentages:!Kt,transformScale:Ot,positionStrategy:p,dragThreshold:K,w:Me.w,h:Me.h,x:Me.x,y:Me.y,i:Me.i,minH:Me.minH,minW:Me.minW,maxH:Me.maxH,maxW:Me.maxW,static:Me.static,droppingPosition:Oe?Nn:void 0,resizeHandles:De,resizeHandle:yt,constraints:m,layoutItem:Me,layout:st,children:Ce},Me.i)},[st,o,q,L,Bt,ae,F,z,ce,wr,En,Ma,We,$e,vt,U,ne,V,Ct,Kt,Ot,p,K,Nn,se,fe,m]),dn=()=>Tt?c.jsx(t0,{w:Tt.w,h:Tt.h,x:Tt.x,y:Tt.y,i:Tt.i,className:`react-grid-placeholder ${un?"placeholder-resizing":""}`,containerWidth:o,cols:q,margin:L,containerPadding:Bt,maxRows:ae,rowHeight:F,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:Ct,transformScale:Ot,constraints:m,layout:st,children:c.jsx("div",{})}):null,Zn=vu(n0,N),Jn={height:Io,...E};return c.jsxs("div",{ref:b,className:Zn,style:Jn,onDrop:ue?zt:void 0,onDragLeave:ue?Wt:void 0,onDragEnter:ue?Qt:void 0,onDragOver:ue?$t:void 0,children:[St.Children.map(a,Ce=>St.isValidElement(Ce)?gn(Ce):null),ue&&hn&&gn(hn,!0),dn()]})}const Op=g.forwardRef(({title:t,subtitle:a,draggable:o=!1,closeable:s=!1,onClose:i,isMaximized:u=!1,onMaximize:d,headerActions:p,headerContent:h,showHeader:m=!0,className:y,children:x,...C},N)=>c.jsxs("div",{ref:N,className:me("panel-glass flex flex-col overflow-hidden",u&&"h-full",y),...C,children:[m&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:me("from-primary/5 to-secondary/5 border-primary/10 flex items-center justify-between border-b bg-gradient-to-r px-4 py-3",o&&"drag-handle cursor-move"),children:h||c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-primary flex-1 text-xs font-bold tracking-widest uppercase",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[p,d&&c.jsx("button",{onClick:E=>{E.stopPropagation(),d()},className:"hover:bg-primary/20 cursor-pointer touch-manipulation rounded p-2 transition-colors","aria-label":u?"Minimize panel":"Maximize panel",title:u?"Minimize panel":"Maximize panel",children:u?c.jsx(AR,{className:"h-4 w-4"}):c.jsx(TR,{className:"h-4 w-4"})}),s&&c.jsx("button",{onClick:E=>{E.stopPropagation(),i?.()},className:"hover:bg-destructive/20 cursor-pointer touch-manipulation rounded p-2 transition-colors","aria-label":"Close panel",children:c.jsx(ja,{className:"h-4 w-4"})})]})]})}),a&&c.jsx("div",{className:"border-border bg-muted/30 border-b px-4 py-2",children:c.jsx("span",{className:"text-muted-foreground font-mono text-xs",children:a})})]}),c.jsx("div",{className:"min-h-0 flex-1 overflow-auto",onMouseDown:E=>o&&E.stopPropagation(),onPointerDown:E=>o&&E.stopPropagation(),children:x})]}));Op.displayName="Panel";function NC({tabs:t,activeTab:a,onTabChange:o,className:s}){return c.jsx("div",{className:me("border-b-2 border-border/70 bg-gradient-to-b from-muted/30 to-muted/10 px-4 py-2.5 flex-shrink-0 shadow-sm",s),children:c.jsx("div",{className:"flex gap-2",children:t.map(i=>c.jsxs(Ke,{variant:a===i.id?"default":"ghost",size:"sm",onClick:()=>o(i.id),disabled:i.disabled,children:[i.icon,i.label]},i.id))})})}function n4({onRecordingComplete:t}={}){const[a,o]=g.useState([]),[s,i]=g.useState(""),[u,d]=g.useState(!1),[p,h]=g.useState(0),[m,y]=g.useState(0),[x,C]=g.useState(new Array(32).fill(0)),[N,E]=g.useState(!1),b=g.useRef(null),w=g.useRef(null),S=g.useRef(null),R=g.useRef(null),T=g.useRef(null),D=g.useRef(null),k=g.useRef([]),O=g.useRef(0),M=g.useRef([]),_=g.useRef(0),P=g.useCallback(H=>H.includes("BlackHole")?0:H.includes("Microphone")?1:H.includes("Speakers")?2:H.includes("Multi-Output")?3:0,[]);g.useEffect(()=>{const H=async()=>{try{const U=await navigator.mediaDevices.getUserMedia({audio:!0}),ce=(await navigator.mediaDevices.enumerateDevices()).filter(z=>z.kind==="audioinput").map(z=>({deviceId:z.deviceId,label:z.label||`Audio Input ${z.deviceId.slice(0,5)}`,kind:z.kind}));U.getTracks().forEach(z=>z.stop()),o(ce),M.current=ce,ce.length>0&&!s&&i(ce[0].deviceId),console.log("Audio input devices detected:",ce)}catch(U){console.error("Failed to enumerate audio devices:",U),oe.error("Failed to access audio devices. Grant microphone permission.")}};return H(),navigator.mediaDevices.addEventListener("devicechange",H),()=>{navigator.mediaDevices.removeEventListener("devicechange",H)}},[]);const $=g.useCallback(()=>{if(!S.current)return;const H=new Uint8Array(S.current.frequencyBinCount);S.current.getByteTimeDomainData(H);let U=0;for(let fe=0;fe<H.length;fe++){const ue=(H[fe]-128)/128;U+=ue*ue}const V=Math.sqrt(U/H.length),ce=20*Math.log10(V+1e-4);h(Math.max(-60,Math.min(0,ce)));const z=new Uint8Array(S.current.frequencyBinCount);S.current.getByteFrequencyData(z);const K=32,ne=[],se=Math.floor(z.length/K);for(let fe=0;fe<K;fe++){let ue=0;for(let Y=0;Y<se;Y++)ue+=z[fe*se+Y];ne.push(ue/se/255)}C(ne),T.current=requestAnimationFrame($)},[]),W=g.useCallback(async H=>{try{w.current&&w.current.getTracks().forEach(ne=>ne.stop()),(!b.current||b.current.state==="closed")&&(b.current=new AudioContext),b.current.state==="suspended"&&await b.current.resume();const U=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:H},echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}});w.current=U,console.log(" Media stream acquired, tracks:",U.getTracks().map(ne=>({kind:ne.kind,label:ne.label,enabled:ne.enabled,muted:ne.muted,readyState:ne.readyState,settings:ne.getSettings()})));const V=b.current.createAnalyser();V.fftSize=2048,V.smoothingTimeConstant=.8,S.current=V;const ce=b.current.createGain(),z=Math.pow(10,_.current/20);ce.gain.value=z,R.current=ce,b.current.createMediaStreamSource(U).connect(ce),ce.connect(V),$(),console.log(" Audio input started:",H),console.log("   Audio context state:",b.current.state),console.log("   Sample rate:",b.current.sampleRate)}catch(U){console.error("Failed to start audio input:",U),oe.error("Failed to start audio input")}},[$]),Q=g.useCallback(()=>{T.current&&(cancelAnimationFrame(T.current),T.current=null),w.current&&(w.current.getTracks().forEach(H=>H.stop()),w.current=null),b.current&&b.current.state!=="closed"&&(b.current.close(),b.current=null),S.current=null,R.current=null,h(0),C(new Array(32).fill(0)),console.log(" Audio input stopped")},[]),q=g.useCallback(async H=>{try{const U=M.current.find(z=>z.deviceId===H)?.label||"",V=P(U),ce=Math.pow(10,_.current/20);await pe.audio.setInputDevice({device_index:V,amp:ce}),console.log(` SuperCollider input set to device ${V} (${U})`)}catch(U){console.warn("SuperCollider input not available:",U)}},[P]),F=g.useCallback(async()=>{try{await pe.audio.stopInput(),console.log(" SuperCollider input stopped")}catch(H){console.warn("Failed to stop SuperCollider input:",H)}},[]),ae=g.useCallback(H=>{if(y(H),_.current=H,R.current){const U=Math.pow(10,H/20);R.current.gain.value=U}if(u&&s){const U=Math.pow(10,H/20);pe.audio.setInputGain({amp:U}).catch(V=>{console.warn("Failed to update SuperCollider gain:",V)})}},[u,s]),L=g.useCallback(async()=>{if(N)D.current&&D.current.state==="recording"&&D.current.stop();else try{let H=w.current;if(!H){const V=s||M.current[0]?.deviceId;if(!V){oe.error("No audio input device available");return}H=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:V}}}),w.current=H,console.log(" Created media stream for recording")}const U=new MediaRecorder(H,{mimeType:"audio/webm;codecs=opus"});k.current=[],O.current=Date.now(),U.ondataavailable=V=>{V.data.size>0&&k.current.push(V.data)},U.onstop=async()=>{const V=new Blob(k.current,{type:"audio/webm"}),ce=(Date.now()-O.current)/1e3,z=new File([V],`recording-${Date.now()}.webm`,{type:"audio/webm"});E(!1),t&&await t(z,ce)},U.start(),D.current=U,E(!0),console.log(" Recording started")}catch(H){console.error("Failed to start recording:",H),oe.error("Failed to start recording")}},[N,t,s]);return g.useEffect(()=>{if(u&&s)return console.log(" Starting monitoring for device:",s),W(s),q(s),()=>{console.log(" Cleanup: stopping monitoring"),Q(),F()};u||(console.log(" Monitoring disabled, stopping audio"),Q(),F())},[u,s]),{audioInputDevices:a,selectedInputDevice:s,isMonitoring:u,inputLevel:p,gain:m,spectrumData:x,isRecording:N,setSelectedInputDevice:i,setIsMonitoring:d,handleGainChange:ae,handleStartRecording:L}}const Ht=g.forwardRef(({title:t,headerActions:a,showHeader:o=!0,collapsible:s=!1,defaultCollapsed:i=!1,contentOverflow:u="auto",className:d,children:p,...h},m)=>{const[y,x]=g.useState(i);return c.jsxs("div",{ref:m,className:me("bg-card/20 border-primary/5 flex flex-1 flex-col overflow-hidden border min-h-0",d),...h,children:[o&&(t||a||s)&&c.jsxs("div",{className:"border-primary/5 bg-card/10 flex items-center justify-between border-b px-3 py-2",children:[t&&c.jsx("h3",{className:"text-muted-foreground text-xs font-semibold uppercase tracking-wider",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[a,s&&c.jsx(Ke,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:()=>x(!y),title:y?"Expand":"Collapse",children:y?c.jsx(bs,{className:"h-3 w-3"}):c.jsx(A0,{className:"h-3 w-3"})})]})]}),!y&&c.jsx("div",{className:me("flex min-h-0 flex-1 flex-col",u==="auto"?"overflow-auto":"overflow-hidden"),children:p})]})});Ht.displayName="SubPanel";function to({...t}){return c.jsx(l5,{"data-slot":"select",...t})}function EC({...t}){return c.jsx(h5,{"data-slot":"select-group",...t})}function hr({...t}){return c.jsx(u5,{"data-slot":"select-value",...t})}function no({className:t,size:a="default",children:o,...s}){return c.jsxs(c5,{"data-slot":"select-trigger","data-size":a,className:me("border-border data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-primary focus-visible:ring-primary/50 bg-background hover:border-primary/50 flex w-fit items-center justify-between gap-2 rounded border px-2 py-1 text-xs whitespace-nowrap transition-all outline-none focus-visible:ring-2 disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-8 data-[size=sm]:h-7 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-3",t),...s,children:[o,c.jsx(d5,{asChild:!0,children:c.jsx(bs,{className:"size-3 opacity-50"})})]})}function ao({className:t,children:a,position:o="item-aligned",align:s="center",...i}){return c.jsx(f5,{children:c.jsxs(p5,{"data-slot":"select-content",className:me("bg-card text-foreground border-border data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded border shadow-lg backdrop-blur-sm",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,align:s,...i,children:[c.jsx(a4,{}),c.jsx(m5,{className:me("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),c.jsx(o4,{})]})})}function jC({className:t,...a}){return c.jsx(g5,{"data-slot":"select-label",className:me("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function en({className:t,children:a,...o}){return c.jsxs(v5,{"data-slot":"select-item",className:me("focus:bg-muted focus:text-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded py-1 pr-6 pl-2 text-xs outline-hidden transition-colors select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-3 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...o,children:[c.jsx("span",{"data-slot":"select-item-indicator",className:"absolute right-1.5 flex size-3 items-center justify-center",children:c.jsx(y5,{children:c.jsx(Kc,{className:"text-primary size-3"})})}),c.jsx(x5,{children:a})]})}function a4({className:t,...a}){return c.jsx(b5,{"data-slot":"select-scroll-up-button",className:me("flex cursor-default items-center justify-center py-1",t),...a,children:c.jsx(A0,{className:"size-4"})})}function o4({className:t,...a}){return c.jsx(w5,{"data-slot":"select-scroll-down-button",className:me("flex cursor-default items-center justify-center py-1",t),...a,children:c.jsx(bs,{className:"size-4"})})}function lt({className:t,...a}){return c.jsx(Bk,{"data-slot":"label",className:me("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}function Ea({className:t,defaultValue:a,value:o,min:s=0,max:i=100,...u}){const d=g.useMemo(()=>Array.isArray(o)?o:Array.isArray(a)?a:[s,i],[o,a,s,i]);return c.jsxs(P5,{"data-slot":"slider",defaultValue:a,value:o,min:s,max:i,className:me("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...u,children:[c.jsx(U5,{"data-slot":"slider-track",className:me("bg-border relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1"),children:c.jsx(H5,{"data-slot":"slider-range",className:me("bg-primary absolute shadow-[0_0_8px_rgba(0,245,255,0.4)] data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(p,h)=>c.jsx(B5,{"data-slot":"slider-thumb",className:"border-primary bg-background block size-3 shrink-0 rounded-full border shadow-md transition-all hover:shadow-[0_0_12px_rgba(0,245,255,0.6)] focus-visible:shadow-[0_0_12px_rgba(0,245,255,0.6)] focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},h))]})}function zp({checked:t=!1,onCheckedChange:a,disabled:o=!1,className:s=""}){const i=()=>{!o&&a&&a(!t)};return c.jsx("button",{type:"button",role:"switch","aria-checked":t,onClick:i,disabled:o,className:me("focus-visible:ring-primary/50 relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",t?"bg-primary shadow-[0_0_10px_rgba(0,245,255,0.5)]":"bg-border",s),children:c.jsx("span",{className:me("bg-background inline-block h-4 w-4 transform rounded-full shadow-md transition-transform",t?"translate-x-6":"translate-x-1")})})}function r4({audioInputDevices:t,selectedInputDevice:a,onDeviceChange:o,isMonitoring:s,onMonitoringChange:i,inputLevel:u,spectrumData:d,gain:p,onGainChange:h,isRecording:m,onStartRecording:y}){return c.jsxs(c.Fragment,{children:[c.jsx(Ht,{title:"Input Device",collapsible:!0,children:c.jsx("div",{className:"p-2",children:c.jsxs(to,{value:a,onValueChange:o,children:[c.jsx(no,{className:"w-full",children:c.jsx(hr,{placeholder:t.length===0?"No input devices":"Select input device..."})}),c.jsx(ao,{children:t.map(x=>c.jsx(en,{value:x.deviceId,children:x.label},x.deviceId))})]})})}),c.jsx(Ht,{title:"Spectrum",collapsible:!0,children:c.jsx("div",{className:"p-2",children:c.jsx("div",{className:"flex h-16 items-end gap-0.5",children:d.map((x,C)=>c.jsx("div",{className:"flex-1 rounded-t transition-all duration-75",style:{height:`${x*100}%`,backgroundColor:x>.8?"hsl(0 85% 60%)":x>.5?"hsl(45 95% 60%)":"hsl(187 85% 55%)",boxShadow:x>.5?`0 0 8px ${x>.8?"rgba(239, 68, 68, 0.5)":"rgba(250, 204, 21, 0.5)"}`:"0 0 6px rgba(0, 245, 255, 0.3)",minHeight:"2px"}},C))})})}),c.jsx(Ht,{title:"Input Level",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-background border-border h-4 flex-1 overflow-hidden rounded border",children:c.jsx("div",{className:"h-full transition-all duration-75",style:{width:`${Math.max(0,Math.min(100,(u+60)/60*100))}%`,backgroundColor:u>-6?"hsl(0 85% 60%)":u>-12?"hsl(45 95% 60%)":"hsl(187 85% 55%)",boxShadow:u>-12?`0 0 10px ${u>-6?"rgba(239, 68, 68, 0.5)":"rgba(250, 204, 21, 0.5)"}`:"0 0 8px rgba(0, 245, 255, 0.3)"}})}),c.jsxs(lt,{className:"w-16 text-right text-xs font-mono tabular-nums",children:[u.toFixed(1)," dB"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lt,{className:"w-10 text-xs",children:"Gain:"}),c.jsx(Ea,{min:-20,max:20,step:.5,value:[p],onValueChange:x=>h(x[0]),className:"flex-1"}),c.jsxs(lt,{className:"w-16 text-right text-xs font-mono tabular-nums",children:[p>0?"+":"",p.toFixed(1)," dB"]})]})]})}),c.jsx(Ht,{title:"Controls",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(lt,{className:"text-xs",children:"MONITOR"}),c.jsx(zp,{checked:s,onCheckedChange:i})]}),c.jsxs(Ke,{onClick:y,variant:m?"destructive":"default",size:"sm",className:"w-full",children:[c.jsx("div",{className:`h-2 w-2 rounded-full ${m?"animate-pulse bg-white":"bg-red-500"}`}),m?"STOP":"REC"]})]})})]})}function s4(){const t=I(N=>N.setActiveInputsTab),a=async(N,E)=>{try{const w=`Recording ${new Date().toISOString().replace(/[:.]/g,"-")}`;await pe.samples.upload(N,w,"Recordings"),oe.success(`Recording saved: ${w}`),t("library")}catch(b){console.error("Failed to save recording:",b),oe.error("Failed to save recording")}},{audioInputDevices:o,selectedInputDevice:s,isMonitoring:i,inputLevel:u,gain:d,spectrumData:p,isRecording:h,setSelectedInputDevice:m,setIsMonitoring:y,handleGainChange:x,handleStartRecording:C}=n4({onRecordingComplete:a});return c.jsx(r4,{audioInputDevices:o,selectedInputDevice:s,onDeviceChange:m,isMonitoring:i,onMonitoringChange:y,inputLevel:u,spectrumData:p,gain:d,onGainChange:x,isRecording:h,onStartRecording:C})}function i4({onSampleSelect:t}={}){const[a,o]=g.useState([]),[s,i]=g.useState(null),[u,d]=g.useState(!1),[p,h]=g.useState(null),[m,y]=g.useState(""),[x,C]=g.useState(""),[N,E]=g.useState(null),b=g.useRef(null),w=g.useRef(null),S=g.useCallback(async()=>{try{const P=await pe.samples.getAll();o(P.samples),console.log(` Loaded ${P.samples.length} samples`)}catch(P){console.error("Failed to load samples:",P),oe.error("Failed to load samples")}},[]);g.useEffect(()=>{S()},[S]);const R=g.useCallback(async(P,$,W="Uncategorized")=>{d(!0);try{const Q=await pe.samples.upload(P,$,W);if(Q.sample){const q=`/api/samples/${Q.sample.id}/download`,F=new Audio(q);F.addEventListener("loadedmetadata",async()=>{const ae=F.duration;await pe.samples.updateDuration(Q.sample.id,ae),await S()})}oe.success(`Sample "${$}" uploaded successfully`),await S()}catch(Q){console.error("Failed to upload sample:",Q),oe.error("Failed to upload sample")}finally{d(!1)}},[S]),T=g.useCallback(P=>{i(P),t&&t(P)},[t]),D=g.useCallback(P=>{h(P.id),y(P.name),C(P.category)},[]),k=g.useCallback(async()=>{if(p)try{await pe.samples.update(p,{name:m,category:x}),oe.success("Sample updated successfully"),h(null),await S()}catch(P){console.error("Failed to update sample:",P),oe.error("Failed to update sample")}},[p,m,x,S]),O=g.useCallback(()=>{h(null),y(""),C("")},[]),M=g.useCallback(async P=>{try{await pe.samples.deleteSample(P),oe.success("Sample deleted successfully"),await S(),s?.id===P&&i(null)}catch($){console.error("Failed to delete sample:",$),oe.error($.message||"Failed to delete sample")}},[S,s]),_=g.useCallback(async P=>{try{w.current&&(w.current.stop(),w.current=null),b.current||(b.current=new AudioContext);const $=`/api/samples/${P}/download`,Q=await(await fetch($)).arrayBuffer(),q=await b.current.decodeAudioData(Q),F=b.current.createBufferSource();F.buffer=q,F.connect(b.current.destination),F.onended=()=>{E(null),w.current=null},F.start(),w.current=F,E(P)}catch($){console.error("Failed to play sample:",$),oe.error("Failed to play sample"),E(null)}},[]);return{samples:a,selectedSample:s,isUploading:u,editingSampleId:p,editName:m,editCategory:x,playingSampleId:N,loadSamples:S,handleUploadSample:R,handleSelectSample:T,handleStartEdit:D,handleSaveEdit:k,handleCancelEdit:O,handleDeleteSample:M,handlePlaySample:_,setEditName:y,setEditCategory:C}}function zi({className:t,type:a,...o}){return c.jsx("input",{type:a,"data-slot":"input",className:me("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground bg-background border-border h-8 w-full min-w-0 rounded border px-2 py-1 text-xs transition-all outline-none file:inline-flex file:h-6 file:border-0 file:bg-transparent file:text-xs file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","focus-visible:border-primary focus-visible:ring-primary/50 focus-visible:ring-2","hover:border-primary/50",t),...o})}const o0=["All","Uncategorized","Drums","Bass","Synth","Vocals","FX","Loops"];function l4({samples:t,searchQuery:a,onSearchChange:o,selectedCategory:s,onCategoryChange:i,isUploading:u,onFileUpload:d,editingSampleId:p,editName:h,editCategory:m,onEditNameChange:y,onEditCategoryChange:x,onStartEdit:C,onSaveEdit:N,onCancelEdit:E,onPlaySample:b,onDeleteSample:w,onSampleDragStart:S}){const R=t.filter(T=>{const D=s==="All"||T.category===s,k=T.name.toLowerCase().includes(a.toLowerCase());return D&&k});return c.jsxs(c.Fragment,{children:[c.jsx(Ht,{title:"Search",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(B0,{className:"text-muted-foreground absolute top-1/2 left-2 z-10 -translate-y-1/2",size:14}),c.jsx(zi,{type:"text",placeholder:"Search samples...",value:a,onChange:T=>o(T.target.value),className:"h-8 w-full pl-8 text-xs"})]}),c.jsxs(Ke,{onClick:()=>document.getElementById("file-upload-input")?.click(),variant:"default",size:"sm",className:"w-full",disabled:u,children:[c.jsx(vT,{size:12}),u?"UPLOADING...":"UPLOAD FILES"]}),c.jsx("input",{id:"file-upload-input",type:"file",multiple:!0,accept:"audio/*",onChange:d,className:"hidden"})]})}),c.jsx(Ht,{title:"Categories",collapsible:!0,children:c.jsx("div",{className:"flex flex-wrap gap-1 p-2",children:o0.map(T=>c.jsx(Ke,{onClick:()=>i(T),variant:s===T?"default":"ghost",size:"xs",children:T},T))})}),c.jsx(Ht,{title:`Samples (${R.length})`,collapsible:!0,children:c.jsxs("div",{className:"divide-border divide-y",children:[R.length===0&&c.jsx("div",{className:"text-muted-foreground p-4 text-center text-xs",children:"No samples. Upload audio files to get started."}),R.map(T=>c.jsx("div",{className:"hover:bg-muted/50 group p-2 transition-colors",children:p===T.id?c.jsxs("div",{className:"space-y-2",children:[c.jsx(zi,{type:"text",value:h,onChange:D=>y(D.target.value),className:"w-full",placeholder:"Sample name"}),c.jsxs(to,{value:m,onValueChange:x,children:[c.jsx(no,{className:"h-8 w-full text-xs",children:c.jsx(hr,{})}),c.jsx(ao,{children:o0.filter(D=>D!=="All").map(D=>c.jsx(en,{value:D,children:D},D))})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Ke,{onClick:N,variant:"default",size:"xs",className:"flex-1",children:"Save"}),c.jsx(Ke,{onClick:E,variant:"ghost",size:"xs",className:"flex-1",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rt,{size:14,className:"text-muted-foreground flex-shrink-0"}),c.jsxs("div",{className:"min-w-0 flex-1 cursor-move",draggable:!0,onDragStart:()=>S(T.id),children:[c.jsx("div",{className:"truncate text-xs",children:T.name}),c.jsxs("div",{className:"text-muted-foreground text-[10px]",children:[T.category," "," ",T.duration>0?`${T.duration.toFixed(1)}s`:"",T.duration>0?"  ":"",(T.size/1024/1024).toFixed(2)," MB"]})]}),c.jsxs("div",{className:"flex gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[c.jsx(Ke,{onClick:()=>b(T.id),variant:"ghost",size:"icon-xs",title:"Play",children:c.jsx(Bi,{size:12,className:"text-muted-foreground"})}),c.jsx(Ke,{onClick:()=>C(T),variant:"ghost",size:"icon-xs",title:"Edit",children:c.jsx(U0,{size:12,className:"text-muted-foreground"})}),c.jsx(Ke,{onClick:()=>w(T.id),variant:"ghost",size:"icon-xs",title:"Delete",children:c.jsx(vr,{size:12,className:"text-red-500"})})]})]})},T.id))]})})]})}function c4(){const[t,a]=g.useState(""),[o,s]=g.useState("All"),{samples:i,isUploading:u,editingSampleId:d,editName:p,editCategory:h,handleUploadSample:m,handleStartEdit:y,handleSaveEdit:x,handleCancelEdit:C,handleDeleteSample:N,handlePlaySample:E,setEditName:b,setEditCategory:w}=i4(),S=async D=>{const k=D.target.files;if(!(!k||k.length===0)){for(let O=0;O<k.length;O++){const M=k[O],_=M.name.replace(/\.[^/.]+$/,"");await m(M,_,"Uncategorized")}D.target.value=""}},R=D=>{const k=i.find(O=>O.id===D);k&&console.log("Dragging sample:",k.name)},T=D=>{s(D)};return c.jsx(l4,{samples:i,searchQuery:t,onSearchChange:a,selectedCategory:o,onCategoryChange:T,isUploading:u,onFileUpload:S,editingSampleId:d,editName:p,editCategory:h,onEditNameChange:b,onEditCategoryChange:w,onStartEdit:y,onSaveEdit:x,onCancelEdit:C,onPlaySample:E,onDeleteSample:N,onSampleDragStart:R})}function u4(){const[t,a]=g.useState([]),[o,s]=g.useState(""),[i,u]=g.useState(!1),d=g.useCallback(async()=>{try{if(!navigator.requestMIDIAccess){console.warn("Web MIDI API not supported");return}const h=await navigator.requestMIDIAccess(),m=[];h.inputs.forEach(y=>{m.push({id:y.id,name:y.name||"Unknown MIDI Device",manufacturer:y.manufacturer||"Unknown",state:y.state})}),a(m),m.length>0&&!o&&s(m[0].id),console.log("MIDI input devices detected:",m)}catch(h){console.error("Failed to access MIDI devices:",h),oe.error("Failed to access MIDI devices")}},[o]),p=g.useCallback(async h=>{try{if(!navigator.requestMIDIAccess)return;const m=await navigator.requestMIDIAccess(),y=Array.from(m.inputs.values()).find(x=>x.id===h);if(!y){console.warn("MIDI device not found:",h);return}y.onmidimessage=x=>{if(!x.data)return;const[C,N,E]=x.data;u(!0),setTimeout(()=>u(!1),100),console.log("MIDI:",{status:C.toString(16),note:N,velocity:E})},console.log(" MIDI listener setup for:",y.name)}catch(m){console.error("Failed to setup MIDI listener:",m)}},[]);return g.useEffect(()=>{d()},[d]),g.useEffect(()=>{o&&p(o)},[o,p]),{midiInputDevices:t,selectedMidiDevice:o,midiActivity:i,setSelectedMidiDevice:s,enumerateMidiDevices:d}}function d4({midiInputDevices:t,selectedMidiDevice:a,onDeviceChange:o,midiActivity:s,midiThruEnabled:i,onMidiThruChange:u,quantizeEnabled:d,onQuantizeChange:p}){return c.jsxs(c.Fragment,{children:[c.jsx(Ht,{title:"MIDI Device",collapsible:!0,children:c.jsx("div",{className:"space-y-2 p-2",children:c.jsxs(to,{value:a,onValueChange:o,children:[c.jsx(no,{className:"h-8 w-full text-xs",children:c.jsx(hr,{placeholder:t.length===0?"No MIDI Devices":"Select MIDI device..."})}),c.jsx(ao,{children:t.length===0?c.jsx(en,{value:"none",children:"No MIDI Devices"}):t.map(h=>c.jsxs(en,{value:h.id,children:[h.name,h.manufacturer&&` (${h.manufacturer})`]},h.id))})]})})}),c.jsx(Ht,{title:"MIDI Activity",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx(lt,{className:"text-xs",children:"Status:"}),c.jsx(lt,{className:"text-xs",children:t.length>0?"Connected":"No Device"})]}),c.jsx("div",{className:"bg-background border-border flex h-8 items-center justify-center rounded border",children:s?c.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500"}):c.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-500"})})]})}),c.jsx(Ht,{title:"Settings",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lt,{className:"text-xs",children:"Channel:"}),c.jsxs(to,{defaultValue:"all",children:[c.jsx(no,{className:"flex-1",children:c.jsx(hr,{})}),c.jsxs(ao,{children:[c.jsx(en,{value:"all",children:"All Channels"}),Array.from({length:16},(h,m)=>c.jsxs(en,{value:String(m+1),children:["Channel ",m+1]},m+1))]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(lt,{className:"text-xs",children:"Enable MIDI thru"}),c.jsx(zp,{checked:i,onCheckedChange:u})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(lt,{className:"text-xs",children:"Quantize input"}),c.jsx(zp,{checked:d,onCheckedChange:p})]})]})})]})}function f4(){const[t,a]=g.useState(!1),[o,s]=g.useState(!1),{midiInputDevices:i,selectedMidiDevice:u,midiActivity:d,setSelectedMidiDevice:p}=u4();return c.jsx(d4,{midiInputDevices:i,selectedMidiDevice:u,onDeviceChange:p,midiActivity:d,midiThruEnabled:t,onMidiThruChange:a,quantizeEnabled:o,onQuantizeChange:s})}function p4(){const t=I(s=>s.activeInputsTab),a=I(s=>s.setActiveInputsTab),o=[{id:"audio",label:"AUDIO IN",icon:c.jsx(_R,{size:14})},{id:"midi",label:"MIDI IN",icon:c.jsx(BR,{size:14})},{id:"library",label:"LIBRARY",icon:c.jsx(xR,{size:14})}];return c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[c.jsx(NC,{tabs:o,activeTab:t,onTabChange:s=>a(s)}),c.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:c.jsxs("div",{className:"h-full overflow-auto p-2",children:[t==="audio"&&c.jsx(s4,{}),t==="library"&&c.jsx(c4,{}),t==="midi"&&c.jsx(f4,{})]})})]})})}function Bm({data:t,rightData:a,width:o,height:s,color:i="rgba(6, 182, 212, 1)",rightColor:u="rgba(192, 132, 252, 1)",backgroundColor:d="hsl(220 15% 6%)",showGrid:p=!1,gridColor:h="hsl(220 15% 15%)",glowEffect:m=!1,className:y=""}){const x=g.useRef(null);g.useEffect(()=>{const N=x.current;if(!N||t.length===0)return;const E=N.getContext("2d");if(!E)return;const b=N.getBoundingClientRect(),w=o||b.width,S=s||b.height;if(N.width=w*window.devicePixelRatio,N.height=S*window.devicePixelRatio,E.scale(window.devicePixelRatio,window.devicePixelRatio),E.fillStyle=d,E.fillRect(0,0,w,S),p){E.strokeStyle=h,E.lineWidth=1;for(let k=0;k<=4;k++){const O=S/4*k;E.beginPath(),E.moveTo(0,O),E.lineTo(w,O),E.stroke()}if(a)for(let k=0;k<=8;k++){const O=w/8*k;E.beginPath(),E.moveTo(O,0),E.lineTo(O,S),E.stroke()}}const R=S/2,T=.85;if(a&&a.length>0){E.fillStyle=i,m&&(E.shadowBlur=10,E.shadowColor=i);const k=S/4;E.beginPath(),E.moveTo(0,k),t.forEach((M,_)=>{const P=_/t.length*w,$=k-M*k*T;E.lineTo(P,$)}),E.lineTo(w,k),E.closePath(),E.fill(),E.beginPath(),E.moveTo(0,k),t.forEach((M,_)=>{const P=_/t.length*w,$=k+M*k*T;E.lineTo(P,$)}),E.lineTo(w,k),E.closePath(),E.fill(),E.fillStyle=u,m&&(E.shadowColor=u);const O=S*3/4;E.beginPath(),E.moveTo(0,O),a.forEach((M,_)=>{const P=_/a.length*w,$=O-M*(S/4)*T;E.lineTo(P,$)}),E.lineTo(w,O),E.closePath(),E.fill(),E.beginPath(),E.moveTo(0,O),a.forEach((M,_)=>{const P=_/a.length*w,$=O+M*(S/4)*T;E.lineTo(P,$)}),E.lineTo(w,O),E.closePath(),E.fill()}else E.fillStyle=i,m&&(E.shadowBlur=10,E.shadowColor=i),E.beginPath(),E.moveTo(0,R),t.forEach((k,O)=>{const M=O/t.length*w,_=R-k*R*T;E.lineTo(M,_)}),E.lineTo(w,R),E.closePath(),E.fill(),E.beginPath(),E.moveTo(0,R),t.forEach((k,O)=>{const M=O/t.length*w,_=R+k*R*T;E.lineTo(M,_)}),E.lineTo(w,R),E.closePath(),E.fill()},[t,a,o,s,i,u,d,p,h,m]);const C=o&&s?{width:`${o}px`,height:`${s}px`}:{width:"100%",height:"100%"};return c.jsx("canvas",{ref:x,className:y,style:C})}const Wa={primary:"hsl(187 85% 55%)",secondary:"hsl(280 85% 65%)",accent:"hsl(45 95% 60%)",background:"hsl(220 15% 6%)",border:"hsl(220 15% 15%)"};function m4(){const t=I(u=>u.spectrum),a=I(u=>u.waveform),o=g.useRef(null),[s,i]=g.useState({peakFrequency:0,peakLeft:0,peakRight:0,rmsLeft:0,rmsRight:0,spectralCentroid:0,isClipping:!1});return g.useMemo(()=>{if(!t||t.length===0||!a||a.samples_left.length===0)return;let u=0,d=0;t.forEach((w,S)=>{w>u&&(u=w,d=S)});const p=d/t.length*24e3;let h=0,m=0;t.forEach((w,S)=>{const R=S/t.length*24e3;h+=R*w,m+=w});const y=m>0?h/m:0,x=Math.max(...a.samples_left.map(Math.abs)),C=Math.max(...a.samples_right.map(Math.abs)),N=Math.sqrt(a.samples_left.reduce((w,S)=>w+S*S,0)/a.samples_left.length),E=Math.sqrt(a.samples_right.reduce((w,S)=>w+S*S,0)/a.samples_right.length),b=x>.95||C>.95;i({peakFrequency:p,peakLeft:x,peakRight:C,rmsLeft:N,rmsRight:E,spectralCentroid:y,isClipping:b})},[t,a]),g.useEffect(()=>{const u=o.current;if(!u||t.length===0)return;const d=u.getContext("2d");if(!d)return;const p=u.getBoundingClientRect();u.width=p.width*window.devicePixelRatio,u.height=p.height*window.devicePixelRatio,d.scale(window.devicePixelRatio,window.devicePixelRatio);const h=p.width,m=p.height,y=h/t.length;d.fillStyle=Wa.background,d.fillRect(0,0,h,m),d.strokeStyle=Wa.border,d.lineWidth=1;for(let C=0;C<4;C++){const N=m/4*C;d.beginPath(),d.moveTo(0,N),d.lineTo(h,N),d.stroke()}const x=d.createLinearGradient(0,m,0,0);x.addColorStop(0,Wa.primary),x.addColorStop(.5,Wa.secondary),x.addColorStop(1,Wa.accent),t.forEach((C,N)=>{const b=Math.max(0,Math.min(1,(C+96)/96))*m,w=N*y,S=m-b;d.fillStyle=x,d.fillRect(w,S,Math.max(1,y-1),b)})},[t]),c.jsxs("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:[c.jsx(Ht,{title:"WAVEFORM",className:"flex-1",collapsible:!0,children:c.jsxs("div",{className:"relative h-full w-full",children:[c.jsx(Bm,{data:a?.samples_left||[],rightData:a?.samples_right||[],color:Wa.primary,rightColor:Wa.secondary,backgroundColor:Wa.background,gridColor:Wa.border,showGrid:!0,glowEffect:!0,className:"h-full w-full"}),c.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-2",children:[c.jsx(Qx,{className:"h-3 w-3 text-primary"}),c.jsx(lt,{className:"text-xs text-primary",children:"L"})]}),c.jsxs("div",{className:"absolute bottom-2 left-2 flex items-center gap-2",children:[c.jsx(Qx,{className:"h-3 w-3 text-secondary"}),c.jsx(lt,{className:"text-xs text-secondary",children:"R"})]}),s.isClipping&&c.jsx("div",{className:"absolute right-2 top-2",children:c.jsxs(Cn,{variant:"destructive",className:"animate-pulse",children:[c.jsx(I0,{className:"h-3 w-3"}),"CLIPPING"]})})]})}),c.jsx(Ht,{title:"SPECTRUM",className:"flex-1",collapsible:!0,children:c.jsxs("div",{className:"relative h-full w-full",children:[c.jsx("canvas",{ref:o,className:"h-full w-full"}),c.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-2",children:[c.jsx(Zj,{className:"h-3 w-3 text-accent"}),c.jsx(lt,{className:"text-xs text-muted-foreground",children:"FFT"})]})]})}),c.jsx(Ht,{title:"FEEDBACK",collapsible:!0,headerActions:c.jsx(Vp,{className:"h-3 w-3 text-primary"}),children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(lt,{className:"text-xs text-muted-foreground",children:"Peak Freq"}),c.jsxs(Cn,{variant:"default",className:"w-full justify-center",children:[s.peakFrequency.toFixed(1)," Hz"]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(lt,{className:"text-xs text-muted-foreground",children:"Brightness"}),c.jsxs(Cn,{variant:"secondary",className:"w-full justify-center",children:[s.spectralCentroid.toFixed(0)," Hz"]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(lt,{className:"text-xs text-muted-foreground",children:"Samples"}),c.jsx(Cn,{variant:"outline",className:"w-full justify-center",children:a?.samples_left.length||0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(lt,{className:"text-xs text-primary",children:"Left Channel"}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Peak:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.peakLeft+1e-10)).toFixed(1)," dB"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"RMS:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.rmsLeft+1e-10)).toFixed(1)," dB"]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(lt,{className:"text-xs text-secondary",children:"Right Channel"}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Peak:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.peakRight+1e-10)).toFixed(1)," dB"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"RMS:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.rmsRight+1e-10)).toFixed(1)," dB"]})]})]})]})]})})]})}function h4({onCreateSequence:t,onOpenSequenceManager:a}){return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px] gap-6 p-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-3xl rounded-full"}),c.jsx("div",{className:"relative bg-muted/50 p-8 rounded-full border-2 border-primary/20",children:c.jsx(Rt,{className:"w-16 h-16 text-primary/60"})})]}),c.jsxs("div",{className:"text-center space-y-2 max-w-md",children:[c.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"No Sequences Yet"}),c.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Create your first sequence to start composing. Sequences contain tracks, clips, and automation for your musical ideas."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(Ke,{onClick:t,size:"lg",className:"gap-2",children:[c.jsx(gr,{className:"w-4 h-4"}),"Create Sequence"]}),c.jsxs(Ke,{onClick:a,size:"lg",variant:"outline",className:"gap-2",children:[c.jsx(O0,{className:"w-4 h-4"}),"Manage Sequences"]})]}),c.jsx("div",{className:"text-xs text-muted-foreground/60 mt-4",children:"Tip: You can also create sequences from the toolbar above"})]})}function g4({delayDuration:t=0,...a}){return c.jsx(nO,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function v4({...t}){return c.jsx(aO,{"data-slot":"tooltip",...t})}function x4({...t}){return c.jsx(oO,{"data-slot":"tooltip-trigger",...t})}function y4({className:t,sideOffset:a=0,children:o,...s}){return c.jsx(rO,{children:c.jsxs(sO,{"data-slot":"tooltip-content",sideOffset:a,className:me("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:[o,c.jsx(iO,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const sn=g.forwardRef(({icon:t,tooltip:a,iconSize:o="h-4 w-4",tooltipSide:s="top",disableTooltip:i=!1,className:u,variant:d="ghost",size:p="icon",...h},m)=>{const y=c.jsx(Ke,{ref:m,variant:d,size:p,className:me(u),"aria-label":a,...h,children:c.jsx(t,{className:o})});return i?y:c.jsxs(v4,{children:[c.jsx(x4,{asChild:!0,children:y}),c.jsx(y4,{side:s,children:c.jsx("p",{children:a})})]})});sn.displayName="IconButton";function b4(){const t=I(s=>s.activeComposition?.tempo??120),a=I(s=>s.setTempo),o=s=>{const i=s[0];a(i)};return c.jsxs("div",{className:"flex items-center gap-3 min-w-[180px]",children:[c.jsx(lt,{htmlFor:"tempo-slider",className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"BPM"}),c.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[c.jsx(Ea,{id:"tempo-slider",value:[t],onValueChange:o,min:20,max:300,step:1,className:"flex-1"}),c.jsx("div",{className:"text-sm font-mono font-bold text-primary min-w-[3ch] text-right",children:Math.round(t)})]})]})}function w4(){const t=I(O=>O.activeComposition),a=I(O=>O.tracks),o=I(O=>O.clips),s=I(O=>O.transport),i=I(O=>O.isLooping),u=I(O=>O.play),d=I(O=>O.pause),p=I(O=>O.resume),h=I(O=>O.stop),m=I(O=>O.toggleMetronome),y=I(O=>O.setIsLooping),x=s?.is_playing??!1,C=s?.is_paused??!1,N=!1,E=s?.metronome_enabled??!1,w=a.length>0||o.length>0,S=w?x?"Pause":C?"Resume":"Play":"Add tracks and clips to play",R=g.useCallback(async()=>{t&&(x?await d():C?await p():await u())},[x,C,t,u,d,p]),T=g.useCallback(async()=>{await h()},[h]),D=g.useCallback(()=>{oe.info("Recording not yet implemented")},[]),k=g.useCallback(async()=>{try{await y(!i)}catch(O){console.error("Failed to toggle loop:",O),oe.error("Failed to toggle loop")}},[i,y]);return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(sn,{icon:sT,tooltip:"Stop and rewind to start",onClick:T,variant:"ghost",size:"icon-sm"}),c.jsx(sn,{icon:x?P0:Bi,tooltip:S,onClick:R,variant:x||C?"default":"ghost",size:"icon-sm",disabled:!w,className:me((x||C)&&"bg-primary")}),c.jsx(Ke,{onClick:D,variant:"ghost",size:"icon-sm",className:me(N),title:"Record audio input",children:c.jsx(Xp,{size:16,fill:"none"})}),c.jsx(sn,{icon:XR,tooltip:i?"Loop enabled":"Loop disabled",onClick:k,variant:i?"secondary":"ghost",size:"icon-sm"}),c.jsx(sn,{icon:Rt,tooltip:E?"Metronome enabled":"Metronome disabled",onClick:m,variant:E?"secondary":"ghost",size:"icon-sm"})]}),c.jsx(b4,{})]})}function RC({...t}){return c.jsx(jb,{"data-slot":"dialog",...t})}function S4({...t}){return c.jsx(Rb,{"data-slot":"dialog-portal",...t})}function C4({className:t,...a}){return c.jsx(Tb,{"data-slot":"dialog-overlay",className:me("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function TC({className:t,children:a,showCloseButton:o=!0,...s}){return c.jsxs(S4,{"data-slot":"dialog-portal",children:[c.jsx(C4,{}),c.jsxs(Mb,{"data-slot":"dialog-content",className:me("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...s,children:[a,o&&c.jsxs(nm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(ja,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function MC({className:t,...a}){return c.jsx("div",{"data-slot":"dialog-header",className:me("flex flex-col gap-2 text-center sm:text-left",t),...a})}function _C({className:t,...a}){return c.jsx(_b,{"data-slot":"dialog-title",className:me("text-lg leading-none font-semibold",t),...a})}function DC({className:t,...a}){return c.jsx(Db,{"data-slot":"dialog-description",className:me("text-muted-foreground text-sm",t),...a})}function N4({isOpen:t,onClose:a,onSelectMIDI:o,onSelectSample:s}){return c.jsx(RC,{open:t,onOpenChange:a,children:c.jsxs(TC,{className:"sm:max-w-lg",children:[c.jsxs(MC,{children:[c.jsx(_C,{children:"Add Track"}),c.jsx(DC,{children:"Choose the type of track you want to create"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[c.jsxs(Ke,{onClick:o,variant:"outline",className:"h-32 flex flex-col gap-2 hover:bg-primary/10 hover:border-primary p-4",children:[c.jsx(Rt,{size:40,className:"text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-center flex flex-col gap-1",children:[c.jsx("div",{className:"font-semibold text-sm",children:"MIDI Track"}),c.jsx("div",{className:"text-xs text-muted-foreground leading-tight",children:"Synths & instruments"})]})]}),c.jsxs(Ke,{onClick:s,variant:"outline",className:"h-32 flex flex-col gap-2 hover:bg-primary/10 hover:border-primary p-4",children:[c.jsx(fR,{size:40,className:"text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-center flex flex-col gap-1",children:[c.jsx("div",{className:"font-semibold text-sm",children:"Sample Track"}),c.jsx("div",{className:"text-xs text-muted-foreground leading-tight",children:"Audio samples & loops"})]})]})]})]})})}function E4({isOpen:t,onClose:a,onSelectSample:o}){const[s,i]=g.useState([]),[u,d]=g.useState(""),[p,h]=g.useState(null),[m,y]=g.useState(null),[x,C]=g.useState(null);g.useEffect(()=>{t&&N()},[t]);const N=async()=>{try{const S=await pe.samples.getAll();i(S.samples)}catch(S){console.error("Failed to load samples:",S)}},E=s.filter(S=>S.name.toLowerCase().includes(u.toLowerCase())||S.category.toLowerCase().includes(u.toLowerCase())),b=S=>{if(m===S.id)x?.pause(),y(null);else{x&&x.pause();const R=new Audio(`/api/samples/${S.id}/download`);R.play(),R.onended=()=>y(null),C(R),y(S.id)}},w=()=>{p&&(o(p),a())};return t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:c.jsxs("div",{className:"bg-background border-border w-full max-w-2xl rounded-lg border shadow-lg",children:[c.jsxs("div",{className:"border-border flex items-center justify-between border-b p-4",children:[c.jsx(lt,{className:"text-lg font-bold",children:"Select Sample"}),c.jsx(Ke,{onClick:a,variant:"ghost",size:"icon-xs",children:c.jsx(ja,{size:16})})]}),c.jsx("div",{className:"border-border border-b p-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(B0,{className:"text-muted-foreground absolute left-3 top-1/2 -translate-y-1/2",size:16}),c.jsx(zi,{value:u,onChange:S=>d(S.target.value),placeholder:"Search samples...",className:"pl-10"})]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:E.length===0?c.jsx("div",{className:"text-muted-foreground py-8 text-center",children:c.jsx(lt,{children:"No samples found"})}):c.jsx("div",{className:"space-y-2",children:E.map(S=>c.jsxs("div",{onClick:()=>h(S),className:me("border-border hover:bg-muted/50 flex cursor-pointer items-center justify-between rounded border p-3 transition-colors",p?.id===S.id&&"bg-muted border-primary"),children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(lt,{className:"font-mono text-sm",children:S.name}),c.jsxs("div",{className:"text-muted-foreground mt-1 flex gap-3 text-xs",children:[c.jsx("span",{children:S.category}),c.jsx("span",{children:""}),c.jsxs("span",{children:[S.duration.toFixed(2),"s"]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[(S.size/1024).toFixed(1)," KB"]})]})]}),c.jsx(Ke,{onClick:R=>{R.stopPropagation(),b(S)},variant:"ghost",size:"icon-xs",children:m===S.id?c.jsx(P0,{size:14}):c.jsx(Bi,{size:14})})]},S.id))})}),c.jsxs("div",{className:"border-border flex justify-end gap-2 border-t p-4",children:[c.jsx(Ke,{onClick:a,variant:"outline",children:"Cancel"}),c.jsx(Ke,{onClick:w,disabled:!p,children:"Select Sample"})]})]})}):null}function j4(){const t=I(_=>_.activeComposition),a=I(_=>_.tracks),o=I(_=>_.zoom),s=I(_=>_.snapEnabled),i=I(_=>_.gridSize),u=I(_=>_.setZoom),d=I(_=>_.setSnapEnabled),p=I(_=>_.setGridSize),h=I(_=>_.createTrack),m=I(_=>_.undo),y=I(_=>_.redo),x=I(_=>_.canUndo),C=I(_=>_.canRedo),[N,E]=g.useState(!1),[b,w]=g.useState(!1),S=!!t,R=g.useCallback(()=>{E(!0)},[]),T=g.useCallback(async()=>{if(!t)return;const _=`Track ${a.length+1}`;await h(_,"midi","sine"),E(!1)},[t,a.length,h]),D=g.useCallback(()=>{t&&(E(!1),w(!0))},[t]),k=g.useCallback(_=>{if(!t)return;const P=_.name||`Track ${a.length+1}`;h(P,"audio"),w(!1)},[t,a.length,h]),O=g.useCallback(async()=>{await m()},[m]),M=g.useCallback(async()=>{await y()},[y]);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex items-center gap-1 mr-2",children:c.jsxs(Ke,{onClick:R,size:"sm",variant:"default",disabled:!S,children:[c.jsx(gr,{size:14,className:"mr-1"}),"Track"]})}),c.jsx("div",{className:"h-6 w-px bg-border"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(sn,{icon:hT,tooltip:"Undo (Cmd/Ctrl+Z)",onClick:O,variant:"ghost",size:"icon-sm",disabled:!x}),c.jsx(sn,{icon:FR,tooltip:"Redo (Cmd/Ctrl+Shift+Z)",onClick:M,variant:"ghost",size:"icon-sm",disabled:!C})]}),c.jsx("div",{className:"h-6 w-px bg-border"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(sn,{icon:jT,tooltip:"Zoom out timeline",onClick:()=>u(Math.max(.25,o-.25)),variant:"ghost",size:"icon-sm",disabled:!S||o<=.25}),c.jsxs("span",{className:"text-xs text-muted-foreground w-12 text-center",children:[Math.round(o*100),"%"]}),c.jsx(sn,{icon:NT,tooltip:"Zoom in timeline",onClick:()=>u(Math.min(4,o+.25)),variant:"ghost",size:"icon-sm",disabled:!S||o>=4})]}),c.jsx("div",{className:"h-6 w-px bg-border"}),c.jsx("div",{className:"flex items-center gap-1 ml-2",children:c.jsx(sn,{icon:z0,tooltip:s?"Snap to grid: ON":"Snap to grid: OFF",onClick:()=>d(!s),variant:s?"default":"ghost",size:"icon-sm",className:s?"bg-primary/20 text-primary":"",disabled:!S})}),c.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[c.jsx(lt,{htmlFor:"grid-size-select",className:"text-xs text-muted-foreground",children:"Grid"}),c.jsxs(to,{value:i.toString(),onValueChange:_=>p(parseInt(_)),disabled:!S||!s,children:[c.jsx(no,{id:"grid-size-select",className:"w-20 h-7 text-sm",children:c.jsx(hr,{})}),c.jsxs(ao,{children:[c.jsx(en,{value:"1",children:"1/1"}),c.jsx(en,{value:"2",children:"1/2"}),c.jsx(en,{value:"4",children:"1/4"}),c.jsx(en,{value:"8",children:"1/8"}),c.jsx(en,{value:"16",children:"1/16"}),c.jsx(en,{value:"32",children:"1/32"})]})]})]})]}),c.jsx(N4,{isOpen:N,onClose:()=>E(!1),onSelectMIDI:T,onSelectSample:D}),c.jsx(E4,{isOpen:b,onClose:()=>w(!1),onSelectSample:k})]})}function R4({trackId:t,disabled:a=!1}){const o=I(x=>x.synthDefs),s=I(x=>x.tracks),i=I(x=>x.updateTrack),d=s.find(x=>x.id===t)?.instrument,p=o.reduce((x,C)=>(x[C.category]||(x[C.category]=[]),x[C.category].push(C),x),{}),m=o.find(x=>x.name===d)?.display_name||d||"Instrument",y=x=>{i(t,{instrument:x})};return o.length===0?c.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 text-xs text-muted-foreground",children:[c.jsx(Rt,{size:12}),c.jsx("span",{children:"Loading..."})]}):c.jsxs(to,{value:d||"",onValueChange:y,disabled:a,children:[c.jsx(no,{className:"h-7 w-32 text-xs border-border/50 hover:border-border transition-colors min-w-0",children:c.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 w-full overflow-hidden",children:[c.jsx(Rt,{size:12,className:"text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"truncate text-xs",children:m})]})}),c.jsx(ao,{className:"max-h-80 z-[9999]",align:"start",position:"popper",sideOffset:4,children:Object.entries(p).map(([x,C])=>c.jsxs(EC,{children:[c.jsx(jC,{className:"text-xs font-semibold text-muted-foreground",children:x}),C.map(N=>c.jsx(en,{value:N.name,className:"text-xs",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:N.display_name}),c.jsx("span",{className:"text-[10px] text-muted-foreground",children:N.description})]})},N.name))]},x))})]})}const T4=Tm("inline-flex items-center justify-center rounded font-bold uppercase tracking-wide transition-all disabled:pointer-events-none disabled:opacity-50 outline-none focus-visible:ring-2 focus-visible:ring-primary/50",{variants:{variant:{mute:"data-[active=true]:bg-yellow-500/20 data-[active=true]:text-yellow-500 data-[active=false]:bg-muted/50 data-[active=false]:text-muted-foreground data-[active=false]:hover:bg-muted",solo:"data-[active=true]:bg-blue-500/20 data-[active=true]:text-blue-500 data-[active=false]:bg-muted/50 data-[active=false]:text-muted-foreground data-[active=false]:hover:bg-muted",arm:"data-[active=true]:bg-red-500/20 data-[active=true]:text-red-500 data-[active=false]:bg-muted/50 data-[active=false]:text-muted-foreground data-[active=false]:hover:bg-muted"},size:{xs:"px-1.5 py-0.5 text-[9px]",sm:"px-2 py-1 text-[10px]",default:"px-3 py-1.5 text-xs"},bordered:{true:"border",false:""}},compoundVariants:[{variant:"mute",bordered:!0,className:"data-[active=true]:border-yellow-500/50 data-[active=false]:border-border data-[active=false]:hover:border-yellow-500/30"},{variant:"solo",bordered:!0,className:"data-[active=true]:border-blue-500/50 data-[active=false]:border-border data-[active=false]:hover:border-blue-500/30"},{variant:"arm",bordered:!0,className:"data-[active=true]:border-red-500/50 data-[active=false]:border-border data-[active=false]:hover:border-red-500/30"}],defaultVariants:{variant:"mute",size:"default",bordered:!1}}),ls=g.forwardRef(({active:t=!1,variant:a="mute",size:o="default",bordered:s=!1,className:i,children:u,type:d="button",...p},h)=>c.jsx("button",{ref:h,type:d,"data-slot":"track-button","data-active":t,"data-variant":a,"data-size":o,className:me(T4({variant:a,size:o,bordered:s,className:i})),title:a==="mute"?t?"Unmute":"Mute":a==="solo"?t?"Unsolo":"Solo":t?"Disarm":"Arm for recording",...p,children:u}));ls.displayName="SequencerTrackButton";function M4({trackId:t,isExpanded:a=!1,onToggleExpand:o,onDeleteClick:s}){const i=I(k=>k.tracks),u=I(k=>k.muteTrack),d=I(k=>k.soloTrack),p=I(k=>k.renameTrack),h=I(k=>k.updateTrack),m=i.find(k=>k.id===t),[y,x]=g.useState(!1),[C,N]=g.useState(m?.name||"");if(!m)return null;const E=()=>{N(m.name),x(!0)},b=async()=>{C.trim()&&await p(m.id,C.trim()),x(!1)},w=()=>{N(m.name),x(!1)},S=async k=>{k.stopPropagation(),await u(m.id,!m.is_muted)},R=async k=>{k.stopPropagation(),await d(m.id,!m.is_solo)},T=async k=>{await h(m.id,{volume:k})},D=async k=>{await h(m.id,{pan:k})};return c.jsxs("div",{className:me("relative flex flex-col border-b border-border bg-background hover:bg-muted/30 transition-all group",a?"h-32 px-3 py-2 gap-2":"h-16 px-2 py-1 gap-1"),style:{borderLeftColor:m.color,borderLeftWidth:"3px"},onContextMenu:k=>{k.preventDefault()},children:[c.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:c.jsxs(JS,{children:[c.jsx(eC,{asChild:!0,children:c.jsx("button",{className:"p-0.5 rounded hover:bg-muted transition-colors",children:c.jsx(mR,{size:12,className:"text-muted-foreground"})})}),c.jsxs(tC,{align:"end",className:"w-36 mr-2",children:[c.jsxs(cs,{onClick:E,className:"text-xs py-1",children:[c.jsx(U0,{size:10,className:"mr-1.5"}),"Rename"]}),c.jsxs(cs,{className:"text-xs py-1",children:[c.jsx(k0,{size:10,className:"mr-1.5"}),"Duplicate"]}),c.jsxs(cs,{className:"text-xs py-1",children:[c.jsx(oT,{size:10,className:"mr-1.5"}),"Settings"]}),c.jsx(Ap,{}),c.jsxs(cs,{onClick:()=>s?.(m.id),className:"text-xs py-1 text-red-500 focus:text-red-500",children:[c.jsx(vr,{size:10,className:"mr-1.5"}),"Delete"]})]})]})}),!a&&c.jsxs("div",{className:"flex items-center gap-2 h-full",children:[c.jsx(Cn,{variant:m.type,rounded:"default",className:"px-1.5 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:m.type}),c.jsx("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>o?.(m.id),title:"Click to expand track controls",children:y?c.jsx("input",{type:"text",value:C,onChange:k=>N(k.target.value),onKeyDown:k=>{k.key==="Enter"&&b(),k.key==="Escape"&&w()},onClick:k=>k.stopPropagation(),autoFocus:!0,className:"w-full px-1.5 py-0.5 text-xs font-medium bg-background border border-primary rounded"}):c.jsx("div",{className:"text-sm font-medium truncate",children:m.name})}),c.jsx(ls,{variant:"mute",active:m.is_muted,onClick:S,size:"xs",children:"M"}),c.jsx(ls,{variant:"solo",active:m.is_solo,onClick:R,size:"xs",children:"S"})]}),a&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>o?.(m.id),className:"p-0.5 rounded hover:bg-muted transition-colors flex-shrink-0",title:"Minimize track header",children:c.jsx(bs,{size:14,className:"text-muted-foreground"})}),c.jsx(Cn,{variant:m.type,rounded:"default",className:"px-1.5 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:m.type}),c.jsx("div",{className:"flex-1 min-w-0",children:y?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("input",{type:"text",value:C,onChange:k=>N(k.target.value),onKeyDown:k=>{k.key==="Enter"&&b(),k.key==="Escape"&&w()},autoFocus:!0,className:"flex-1 px-1.5 py-0.5 text-sm font-medium bg-background border border-primary rounded"}),c.jsx(sn,{icon:Kc,onClick:b,size:"icon-xs",variant:"ghost",tooltip:"Save"}),c.jsx(sn,{icon:ja,onClick:w,size:"icon-xs",variant:"ghost",tooltip:"Cancel"})]}):c.jsx("div",{className:"text-sm font-medium truncate",children:m.name})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[m.type==="midi"&&c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(R4,{trackId:m.id})}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(ls,{variant:"mute",active:m.is_muted,onClick:S,size:"sm",bordered:!0,children:"M"}),c.jsx(ls,{variant:"solo",active:m.is_solo,onClick:R,size:"sm",bordered:!0,children:"S"}),c.jsx(ls,{variant:"arm",active:m.is_armed,disabled:!0,size:"sm",bordered:!0,children:"R"})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-[10px]",children:[c.jsxs("div",{className:"flex items-center gap-1.5 flex-1",children:[c.jsx("span",{className:"text-muted-foreground w-7 flex-shrink-0",children:"Vol"}),c.jsx(Ea,{value:[m.volume*100],onValueChange:async k=>{await T(k[0]/100)},min:0,max:200,step:1,className:"flex-1"}),c.jsxs("span",{className:"text-muted-foreground w-10 text-right flex-shrink-0 font-mono",children:[Math.round(m.volume*100),"%"]})]}),c.jsxs("div",{className:"flex items-center gap-1.5 flex-1",children:[c.jsx("span",{className:"text-muted-foreground w-7 flex-shrink-0",children:"Pan"}),c.jsx(Ea,{value:[m.pan*100],onValueChange:async k=>{await D(k[0]/100)},min:-100,max:100,step:1,className:"flex-1"}),c.jsx("span",{className:"text-muted-foreground w-9 text-right flex-shrink-0 font-mono",children:m.pan===0?"C":m.pan>0?`R${Math.round(m.pan*100)}`:`L${Math.round(Math.abs(m.pan)*100)}`})]})]})]})]})}const _4=P_,D4=U_,AC=g.forwardRef(({className:t,...a},o)=>c.jsx(Fb,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:o}));AC.displayName=Fb.displayName;const kC=g.forwardRef(({className:t,...a},o)=>c.jsxs(D4,{children:[c.jsx(AC,{}),c.jsx(Gb,{ref:o,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));kC.displayName=Gb.displayName;const OC=({className:t,...a})=>c.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",t),...a});OC.displayName="AlertDialogHeader";const zC=({className:t,...a})=>c.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});zC.displayName="AlertDialogFooter";const LC=g.forwardRef(({className:t,...a},o)=>c.jsx(Xb,{ref:o,className:me("text-lg font-semibold",t),...a}));LC.displayName=Xb.displayName;const PC=g.forwardRef(({className:t,...a},o)=>c.jsx(Kb,{ref:o,className:me("text-sm text-muted-foreground",t),...a}));PC.displayName=Kb.displayName;const UC=g.forwardRef(({className:t,...a},o)=>c.jsx(Yb,{ref:o,className:me(Mm(),t),...a}));UC.displayName=Yb.displayName;const HC=g.forwardRef(({className:t,...a},o)=>c.jsx(Vb,{ref:o,className:me(Mm({variant:"outline"}),"mt-2 sm:mt-0",t),...a}));HC.displayName=Vb.displayName;function A4({expandedTracks:t,onExpandedTracksChange:a}){const o=I(b=>b.tracks),s=I(b=>b.deleteTrack),[i,u]=g.useState(!1),[d,p]=g.useState(null),[h,m]=g.useState(new Set),y=t??h,x=a??m,C=b=>{const w=o.find(S=>S.id===b);w&&(p({id:w.id,name:w.name}),u(!0))},N=async()=>{d&&await s(d.id),u(!1),p(null)},E=b=>{if(typeof x=="function"){const w=y,S=new Set(w);S.has(b)?S.delete(b):S.add(b),x(S)}};return c.jsxs("div",{className:"flex flex-col h-full",children:[o.length===0?c.jsx("div",{className:"relative flex flex-col items-center justify-center p-8 text-center h-full",children:c.jsxs("div",{className:"text-muted-foreground h-full",children:[c.jsx($0,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"No tracks yet"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Add a track to start sequencing"})]})}):o.map(b=>c.jsx(M4,{trackId:b.id,isExpanded:y.has(b.id),onToggleExpand:E,onDeleteClick:C},b.id)),c.jsx(_4,{open:i,onOpenChange:u,children:c.jsxs(kC,{children:[c.jsxs(OC,{children:[c.jsx(LC,{children:"Delete Track"}),c.jsxs(PC,{children:['Are you sure you want to delete track "',d?.name,'"? This will also delete all clips on this track. This action cannot be undone.']})]}),c.jsxs(zC,{children:[c.jsx(HC,{children:"Cancel"}),c.jsx(UC,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function k4({rulerMarkers:t}){return c.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundColor:"#0a0a0a"},children:t.map((a,o)=>c.jsx("div",{className:a.isMeasure?"absolute top-0 bottom-0 w-px bg-border":"absolute top-0 bottom-0 w-px bg-border/20",style:{left:`${a.x}px`,transform:"translateX(-0.5px)"}},`${a.beat}-${o}`))})}function Qn(){const t=I(m=>m.clips),a=I(m=>m.zoom),o=40,s=4,i=64,u=t.length>0?Math.max(...t.map(m=>m.start_time+m.duration)):0,d=Math.max(i,Math.ceil(u)+128),p=d*o*a+1e3,h=[];for(let m=0;m<=d;m++){const y=m*o*a,x=m%s===0,C=!0,N=Math.floor(m/s)+1;h.push({beat:m,x:y,isMeasure:x,isBeat:C,label:x?`${N}`:""})}return{pixelsPerBeat:o,beatsPerMeasure:s,totalBeats:d,totalWidth:p,rulerMarkers:h,zoom:a}}function Im({}){const t=I(R=>R.isLooping),a=I(R=>R.loopStart),o=I(R=>R.loopEnd),s=I(R=>R.snapEnabled),i=I(R=>R.gridSize),u=I(R=>R.setLoopStart),d=I(R=>R.setLoopEnd),{pixelsPerBeat:p,zoom:h}=Qn(),[m,y]=g.useState(!1),[x,C]=g.useState(!1),N=g.useRef(0),E=g.useRef(0),b=a*p*h,w=o*p*h,S=(R,T)=>{T.stopPropagation(),T.preventDefault(),R==="start"?(y(!0),E.current=a):(C(!0),E.current=o),N.current=T.clientX};return g.useEffect(()=>{if(!m&&!x)return;const R=D=>{const O=(D.clientX-N.current)/(p*h);let M=E.current+O;m?(M=Math.max(0,Math.min(M,o-1)),u(M)):(M=Math.max(a+1,M),d(M))},T=D=>{const O=(D.clientX-N.current)/(p*h);let M=E.current+O;s&&(M=Math.round(M*i)/i),m?(M=Math.max(0,Math.min(M,o-1)),u(M),y(!1)):(M=Math.max(a+1,M),d(M),C(!1))};return document.addEventListener("mousemove",R),document.addEventListener("mouseup",T),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",T)}},[m,x,a,o,p,h,s,i,u,d]),t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute top-0 bottom-0 bg-primary/10 border-l-2 border-r-2 border-primary/40 z-10 pointer-events-none",style:{left:`${b}px`,width:`${w-b}px`}}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-primary z-20 cursor-ew-resize",style:{left:`${b}px`},onMouseDown:R=>S("start",R),children:c.jsx("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-primary rounded-sm flex items-center justify-center hover:bg-primary/80 transition-colors cursor-ew-resize",title:"Drag to adjust loop start",children:c.jsx("span",{className:"text-[8px] text-primary-foreground font-bold",children:"L"})})}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-primary z-20 cursor-ew-resize",style:{left:`${w}px`},onMouseDown:R=>S("end",R),children:c.jsx("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-primary rounded-sm flex items-center justify-center hover:bg-primary/80 transition-colors cursor-ew-resize",title:"Drag to adjust loop end",children:c.jsx("span",{className:"text-[8px] text-primary-foreground font-bold",children:"R"})})})]}):null}function O4({pixelsPerBeat:t,onSeek:a}){const o=I(H=>H.transport),s=I(H=>H.activeComposition),i=o?.position_beats??0,u=o?.is_playing??!1,d=o?.is_paused??!1,p=s?.tempo??120,h=I(H=>H.zoom),m=I(H=>H.snapEnabled),y=I(H=>H.gridSize),x=I(H=>H.isLooping),C=I(H=>H.loopEnd),[N,E]=g.useState(!1),[b,w]=g.useState(null),S=g.useRef(0),R=g.useRef(0),T=g.useRef(null),D=g.useRef(null),k=g.useRef(Date.now()),O=g.useRef(i),M=g.useRef(i),_=g.useRef(i);g.useEffect(()=>{const H=Date.now();Math.abs(i-_.current)>1&&(M.current=i),O.current=i,_.current=i,k.current=H},[i]);const P=g.useRef(p),$=g.useRef(t),W=g.useRef(h),Q=g.useRef(x),q=g.useRef(C);g.useEffect(()=>{P.current=p,$.current=t,W.current=h,Q.current=x,q.current=C},[p,t,h,x,C]),g.useEffect(()=>{if(!u||d||N){if(M.current=b??i,T.current){const U=M.current*$.current*W.current;T.current.style.transform=`translateX(${U}px)`}return}const H=()=>{const V=(Date.now()-k.current)/1e3,ce=P.current/60;let z=O.current+V*ce;Q.current&&z>=q.current&&(z=q.current-.01);const K=.3;if(M.current+=(z-M.current)*K,T.current){const ne=M.current*$.current*W.current;T.current.style.transform=`translateX(${ne}px)`}D.current=requestAnimationFrame(H)};return D.current=requestAnimationFrame(H),()=>{D.current!==null&&cancelAnimationFrame(D.current)}},[u,d,N,b,i]);const ae=(b!==null?b:i)*t*h,L=H=>{H.stopPropagation(),H.preventDefault(),E(!0),R.current=i,S.current=H.clientX};return g.useEffect(()=>{if(!N)return;const H=V=>{const z=(V.clientX-S.current)/(t*h),K=R.current+z;w(Math.max(0,K))},U=V=>{const z=(V.clientX-S.current)/(t*h);let K=R.current+z;m&&(K=Math.round(K*y)/y),K=Math.max(0,K),a&&a(K,!0),E(!1),w(null)};return document.addEventListener("mousemove",H),document.addEventListener("mouseup",U),()=>{document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",U)}},[N,i,t,h,m,y,a]),c.jsx("div",{ref:T,className:"absolute top-0 bottom-0 w-1 bg-red-500 z-10 cursor-ew-resize pointer-events-auto",style:{transform:`translateX(${ae}px)`,boxShadow:"0 0 8px rgba(239, 68, 68, 0.8)",willChange:"transform"},onMouseDown:L,title:"Drag to scrub",children:c.jsx("div",{className:"absolute -top-2 -left-2 w-0 h-0 pointer-events-none z-30",style:{borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"12px solid #ef4444"}})})}function BC({sampleId:t,clipDuration:a,tempo:o,samplesPerLoop:s=200}){const[i,u]=g.useState([]),[d,p]=g.useState([]),[h,m]=g.useState(!1),[y,x]=g.useState(null);return g.useEffect(()=>{if(!t){u([]),p([]),m(!1),x(null);return}let C=!1;return(async()=>{m(!0),x(null);try{const b=(await pe.samples.getById(t)).sample?.duration??0,w=Wp.getURL(`/api/samples/${t}/download`),S=await fetch(w);if(!S.ok)throw new Error(`Failed to fetch audio file: ${S.statusText}`);const R=await S.arrayBuffer(),T=new AudioContext,D=await T.decodeAudioData(R);if(await T.close(),C)return;const O=a/o*60/b,M=Math.max(1,Math.min(100,Math.ceil(O))),_=D.getChannelData(0);let P=[];if(O<1){const Q=Math.floor(s*O),q=Math.floor(_.length/s);for(let F=0;F<Q;F++){const ae=F*q,L=ae+q;let H=0;for(let U=ae;U<L;U++){const V=Math.abs(_[U]);V>H&&(H=V)}P.push(H)}}else{const Q=Math.floor(_.length/s);for(let q=0;q<s;q++){const F=q*Q,ae=F+Q;let L=0;for(let H=F;H<ae;H++){const U=Math.abs(_[H]);U>L&&(L=U)}P.push(L)}}const $=[];if(O<1)$.push(...P);else for(let Q=0;Q<M;Q++)$.push(...P);let W=[];if(D.numberOfChannels>1){const Q=D.getChannelData(1);let q=[];if(O<1){const F=Math.floor(s*O),ae=Math.floor(Q.length/s);for(let L=0;L<F;L++){const H=L*ae,U=H+ae;let V=0;for(let ce=H;ce<U;ce++){const z=Math.abs(Q[ce]);z>V&&(V=z)}q.push(V)}}else{const F=Math.floor(Q.length/s);for(let ae=0;ae<s;ae++){const L=ae*F,H=L+F;let U=0;for(let V=L;V<H;V++){const ce=Math.abs(Q[V]);ce>U&&(U=ce)}q.push(U)}}if(O<1)W.push(...q);else for(let F=0;F<M;F++)W.push(...q)}C||(u($),p(W),m(!1))}catch(E){if(!C){const b=E instanceof Error?E.message:"Failed to load waveform";console.error("Failed to load waveform:",E),x(b),u([]),p([]),m(!1)}}})(),()=>{C=!0}},[t,a,o,s]),{leftData:i,rightData:d,isLoading:h,error:y}}function z4({clipId:t,clipName:a,onSave:o,className:s}){const[i,u]=g.useState(!1),[d,p]=g.useState(a),h=g.useRef(null);g.useEffect(()=>{i&&h.current&&(h.current.focus(),h.current.select())},[i]);const m=()=>{const C=d.trim();C&&C!==a&&o(t,C),u(!1),p(a)},y=()=>{u(!1),p(a)},x=C=>{C.key==="Enter"?(C.preventDefault(),C.stopPropagation(),m()):C.key==="Escape"&&(C.preventDefault(),C.stopPropagation(),y())};return i?c.jsxs("div",{className:me("flex items-center gap-1 pointer-events-auto",s),onClick:C=>C.stopPropagation(),onMouseDown:C=>C.stopPropagation(),children:[c.jsx("input",{ref:h,type:"text",value:d,onChange:C=>p(C.target.value),onKeyDown:x,onBlur:m,className:me("flex-1 bg-background/90 text-white rounded px-2 py-0.5 text-xs font-medium","border border-primary/50 focus:outline-none focus:border-primary","min-w-0"),placeholder:"Clip name"}),c.jsx("button",{onClick:C=>{C.stopPropagation(),m()},className:"flex-shrink-0 h-5 w-5 flex items-center justify-center rounded bg-primary/20 hover:bg-primary/30 transition-colors",title:"Save (Enter)",children:c.jsx(Kc,{size:12,className:"text-primary"})}),c.jsx("button",{onClick:C=>{C.stopPropagation(),y()},className:"flex-shrink-0 h-5 w-5 flex items-center justify-center rounded bg-destructive/20 hover:bg-destructive/30 transition-colors",title:"Cancel (Escape)",children:c.jsx(ja,{size:12,className:"text-destructive"})})]}):c.jsxs("div",{className:me("flex items-center gap-1 group pointer-events-auto",s),onClick:C=>C.stopPropagation(),onMouseDown:C=>C.stopPropagation(),children:[c.jsx("span",{className:"text-xs font-medium text-white truncate flex-1",children:a}),c.jsx("button",{onClick:C=>{C.stopPropagation(),u(!0)},className:me("flex-shrink-0 h-4 w-4 flex items-center justify-center rounded","opacity-0 group-hover:opacity-100 transition-opacity","bg-background/60 hover:bg-background/80"),title:"Rename clip",children:c.jsx(H0,{size:10,className:"text-white/80"})})]})}function L4({clip:t}){const a=I(Y=>Y.tracks),o=I(Y=>Y.activeComposition),s=o?.tempo??120,i=I(Y=>Y.zoom),u=I(Y=>Y.snapEnabled),d=I(Y=>Y.gridSize),p=I(Y=>Y.selectedClipId),h=I(Y=>Y.pianoRollClipId),m=p===t.id,y=h===t.id,x=!1,C=I(Y=>Y.setSelectedClipId),N=I(Y=>Y.duplicateClip),E=I(Y=>Y.deleteClip),b=I(Y=>Y.updateClip),w=I(Y=>Y.openPianoRoll),S=I(Y=>Y.setClipDragState),{pixelsPerBeat:R}=Qn(),D=a.find(Y=>Y.id===t.track_id)?.color??"#3b82f6",{leftData:k}=BC({sampleId:t.type==="audio"?t.audio_file_path??null:null,clipDuration:t.duration,tempo:s,samplesPerLoop:200}),[O,M]=g.useState(!1),[_,P]=g.useState(null),$=(Y,ge)=>{b(Y,{name:ge})},[W,Q]=g.useState(0),[q,F]=g.useState(0),[ae,L]=g.useState(0),[H,U]=g.useState(0),[V,ce]=g.useState(null);g.useEffect(()=>{S(t.id,V)},[V,t.id,S]),g.useEffect(()=>{if(V&&!O&&!_){const Y=Math.abs(t.start_time-V.startTime)<.01,ge=Math.abs(t.duration-V.duration)<.01;Y&&ge&&ce(null)}},[t.start_time,t.duration,V,O,_]);const z=V?.startTime??t.start_time,K=V?.duration??t.duration,ne=z*R*i,se=K*R*i,fe=(Y,ge)=>{Y.stopPropagation(),Q(Y.clientX),F(z),L(K),ge==="move"?M(!0):ge==="resize-left"?P("left"):ge==="resize-right"&&P("right")};g.useEffect(()=>{if(!O&&!_)return;const Y=ve=>{const ye=(ve.clientX-W)/(R*i);if(O){let Ee=Math.max(0,q+ye);u&&(Ee=Math.round(Ee*d)/d),ce({startTime:Ee,duration:K})}else if(_==="left"){let Ee=Math.max(0,q+ye);u&&(Ee=Math.round(Ee*d)/d);const nt=Math.max(.25,ae-(Ee-q));ce({startTime:Ee,duration:nt})}else if(_==="right"){let Ee=Math.max(.25,ae+ye);u&&(Ee=Math.round(Ee*d)/d),ce({startTime:z,duration:Ee})}},ge=async()=>{O&&V?await b(t.id,{start_time:V.startTime}):_==="left"&&V?(await b(t.id,{start_time:V.startTime}),await b(t.id,{duration:V.duration})):_==="right"&&V&&await b(t.id,{duration:V.duration}),M(!1),P(null)};return window.addEventListener("mousemove",Y),window.addEventListener("mouseup",ge),()=>{window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",ge)}},[O,_,W,q,ae,R,i,u,d,t.id,z,K,V,b]);const ue=()=>{const Y=Date.now();Y-H<300?(C(null),t.type==="midi"&&w(t.id),U(0)):(C(t.id),U(Y))};return c.jsxs(c.Fragment,{children:[(O||_)&&u&&V&&c.jsx("div",{className:"absolute top-0 bottom-0 border-l-2 border-dashed border-teal-400/60 pointer-events-none z-10",style:{left:`${V.startTime*R*i}px`}}),c.jsxs("div",{className:me("absolute top-1 bottom-1 rounded border-2 cursor-move overflow-hidden transition-all",y||x?"border-cyan-400 shadow-[0_0_20px_rgba(34,211,238,0.6)] ring-2 ring-cyan-400/50":m?"border-white shadow-lg":"border-white/40",O&&"opacity-70",_&&"opacity-70"),style:{left:`${ne}px`,width:`${se}px`,backgroundColor:y||x?`${D}60`:`${D}40`,borderColor:y||x?"#22d3ee":D},onClick:ue,onMouseDown:Y=>fe(Y,"move"),children:[c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 cursor-ew-resize hover:bg-white/20 z-20",onMouseDown:Y=>fe(Y,"resize-left")}),c.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize hover:bg-white/20 z-20",onMouseDown:Y=>fe(Y,"resize-right")}),t.type==="audio"&&k.length>0&&c.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none",children:c.jsx(Bm,{data:k,width:se,height:60,color:"rgba(255, 255, 255, 0.6)",backgroundColor:"transparent",showGrid:!1,glowEffect:!1,className:"w-full h-full"})}),c.jsx("div",{className:"relative z-10 px-2 py-1 pointer-events-none",children:c.jsx(z4,{clipId:t.id,clipName:t.name,onSave:$,isExpanded:!1})}),m&&c.jsxs("div",{className:"absolute top-1 right-1 flex gap-1 z-20",children:[c.jsx(Ke,{onClick:async Y=>{Y.stopPropagation(),o&&await N(o.id,t.id)},size:"sm",variant:"ghost",className:"h-5 w-5 p-0 bg-background/80 hover:bg-background",children:c.jsx(k0,{size:10,className:"text-white"})}),c.jsx(Ke,{onClick:async Y=>{Y.stopPropagation(),await E(t.id)},size:"sm",variant:"ghost",className:"h-5 w-5 p-0 bg-background/80 hover:bg-background",children:c.jsx(vr,{size:10,className:"text-white"})})]}),m&&se>100&&t.type==="audio"&&c.jsxs("div",{className:"absolute bottom-8 left-2 right-2 flex items-center gap-1 z-20 bg-background/90 rounded px-2 py-1",onClick:Y=>Y.stopPropagation(),onMouseDown:Y=>Y.stopPropagation(),children:[c.jsx(JR,{size:12,className:"text-white flex-shrink-0"}),c.jsx(Ea,{value:[(t.audio_offset||0)*10],onValueChange:async Y=>{const ge=Y[0]/10;await b(t.id,{audio_offset:ge})},min:0,max:100,step:1,className:"flex-1"}),c.jsxs("span",{className:"text-[10px] text-white/80 w-10 text-right flex-shrink-0",children:[(t.audio_offset||0).toFixed(1),"s"]})]}),m&&se>100&&c.jsxs("div",{className:"absolute bottom-1 left-2 right-2 flex items-center gap-1 z-20 bg-background/90 rounded px-2 py-1",onClick:Y=>Y.stopPropagation(),onMouseDown:Y=>Y.stopPropagation(),children:[c.jsx($0,{size:12,className:"text-white flex-shrink-0"}),c.jsx(Ea,{value:[t.gain*100],onValueChange:async Y=>{const ge=Y[0]/100;await b(t.id,{gain:ge})},min:0,max:200,step:1,className:"flex-1"}),c.jsxs("span",{className:"text-[10px] text-white/80 w-8 text-right flex-shrink-0",children:[Math.round(t.gain*100),"%"]})]})]})]})}function P4({track:t,isExpanded:a=!1}){const o=I(N=>N.clips),s=I(N=>N.activeComposition),i=I(N=>N.zoom),u=I(N=>N.snapEnabled),d=I(N=>N.gridSize),p=I(N=>N.addClip),{pixelsPerBeat:h}=Qn(),m=o.filter(N=>N.track_id===t.id),y=g.useRef(null),x=N=>{N.target===N.currentTarget&&(y.current={x:N.clientX,y:N.clientY,target:N.target})},C=async N=>{if(!s||!y.current||y.current.target!==N.currentTarget)return;const E=Math.abs(N.clientX-y.current.x),b=Math.abs(N.clientY-y.current.y);if(E>5||b>5)return;y.current=null;const w=N.currentTarget.getBoundingClientRect(),R=(N.clientX-w.left)/(h*i),T=u?Math.round(R*d)/d:R,D={sequence_id:s.id,clip_type:t.type==="midi"?"midi":"audio",track_id:t.id,start_time:T,duration:4};await p(D)};return c.jsx("div",{className:me("relative border-b border-border cursor-pointer hover:bg-muted/10 transition-all",a?"h-32":"h-16"),style:{zIndex:1},onMouseDown:x,onClick:C,title:"Click to add clip",children:m.map(N=>c.jsx(L4,{clip:N},N.id))})}function U4({expandedTracks:t,scrollContainerRef:a}){const o=I(y=>y.tracks),i=I(y=>y.transport)?.position_beats??0,u=I(y=>y.seek),{pixelsPerBeat:d,rulerMarkers:p,zoom:h}=Qn(),m=i*d*h;return g.useEffect(()=>{if(!a?.current)return;const y=a.current,x=y.clientWidth,C=y.scrollLeft,N=m-C,E=x*.8;if(N>E){const b=m-x*.5;y.scrollTo({left:Math.max(0,b),behavior:"smooth"})}else N<0&&y.scrollTo({left:Math.max(0,m-x*.2),behavior:"smooth"})},[m,a]),c.jsx(c.Fragment,{children:o.length===0?c.jsx("div",{className:"flex items-center justify-center h-40 text-sm text-muted-foreground",children:"No tracks. Add a track to start sequencing."}):c.jsxs("div",{className:"relative",children:[c.jsx(k4,{rulerMarkers:p}),c.jsx(Im,{}),o.map(y=>c.jsx(P4,{track:y,isExpanded:t?.has(y.id)},y.id)),c.jsx(O4,{pixelsPerBeat:d,onSeek:u})]})})}function H4({}){const t=I(h=>h.zoom),a=I(h=>h.snapEnabled),o=I(h=>h.gridSize),s=I(h=>h.seek),{pixelsPerBeat:i,totalWidth:u,rulerMarkers:d}=Qn(),p=h=>{const m=h.currentTarget.getBoundingClientRect(),x=(h.clientX-m.left)/(i*t),C=a?Math.round(x*o)/o:x;s(Math.max(0,C),!0)};return c.jsx("div",{className:"h-8 cursor-pointer hover:bg-muted/30 transition-colors",onClick:p,title:"Click to seek",children:c.jsx("div",{className:"relative h-full pointer-events-none",style:{width:`${u}px`},children:d.map((h,m)=>c.jsx("div",{className:"absolute top-0 bottom-0 flex flex-col",style:{left:`${h.x}px`,transform:"translateX(-0.5px)"},children:h.isMeasure?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-muted-foreground px-1",children:h.label}),c.jsx("div",{className:"flex-1 w-px bg-border"})]}):c.jsx("div",{className:"flex-1 w-px bg-border/40 mt-4"})},`${h.beat}-${m}`))})})}function $m({cornerHeader:t,ruler:a,sidebar:o,mainContent:s,sidebarWidth:i=256,headerHeight:u=32,contentWidth:d,scrollRef:p,onScroll:h}){return c.jsx("div",{ref:p,className:"flex-1 min-h-0 overflow-auto",onScroll:h,style:{position:"relative",height:"100%"},children:c.jsxs("div",{style:{display:"grid",gridTemplateColumns:`${i}px ${d}px`,gridAutoRows:"auto",minWidth:`${i+d}px`},children:[c.jsx("div",{className:"border-r border-b border-border bg-background flex items-center px-3",style:{position:"sticky",top:0,left:0,width:`${i}px`,height:`${u}px`,zIndex:40},children:t}),c.jsx("div",{className:"border-b border-border bg-background",style:{position:"sticky",top:0,width:`${d}px`,height:`${u}px`,zIndex:20,overflow:"hidden"},children:a}),c.jsx("div",{className:"border-r border-border bg-background",style:{position:"sticky",left:0,width:`${i}px`,zIndex:30},children:o}),c.jsx("div",{style:{width:`${d}px`},children:s})]})})}function B4({timelineScrollRef:t}){const a=I(d=>d.setTimelineScrollLeft),[o,s]=g.useState(new Set),{totalWidth:i}=Qn(),u=d=>{const p=d.currentTarget.scrollLeft;a(p)};return c.jsx($m,{cornerHeader:c.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Tracks"}),ruler:c.jsx(H4,{}),sidebar:c.jsx(A4,{expandedTracks:o,onExpandedTracksChange:s}),mainContent:c.jsx(U4,{expandedTracks:o,scrollContainerRef:t}),sidebarWidth:256,headerHeight:32,contentWidth:i,scrollRef:t,onScroll:u})}const I4=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function $4({}){const t=I(b=>b.pianoRollClipId),a=I(b=>b.clips),o=I(b=>b.tracks),s=t?a.find(b=>b.id===t):void 0,u=(s?o.find(b=>b.id===s.track_id):void 0)?.instrument||"sine";if(!s)return c.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No clip selected"});const d=21,p=108,h=20,[m,y]=g.useState(null),x=b=>{const w=Math.floor(b/12)-1;return`${I4[b%12]}${w}`},C=b=>{const w=b%12;return[1,3,6,8,10].includes(w)},N=async b=>{y(b),setTimeout(()=>y(null),300);try{await pe.audio.previewNote({note:b,velocity:100,duration:.5,synthdef:u})}catch(w){console.error("Failed to preview note:",w)}},E=(p-d+1)*h;return c.jsx("div",{className:"w-32 flex-shrink-0 border-r border-border bg-gray-900 relative",children:c.jsx("div",{style:{height:`${E}px`,position:"relative"},children:Array.from({length:p-d+1},(b,w)=>{const S=p-w,R=C(S),T=x(S),D=m===S,k=S%12===0;return c.jsx("div",{className:me("absolute left-0 right-0 select-none cursor-pointer transition-all border-b border-gray-700/50",R?D?"bg-gradient-to-r from-gray-600 to-gray-500 shadow-lg z-10":"bg-gradient-to-r from-gray-800 to-gray-700 hover:from-gray-700 hover:to-gray-600 z-10":D?"bg-gradient-to-r from-gray-200 to-gray-100 shadow-lg":"bg-gradient-to-r from-gray-100 to-white hover:from-gray-200 hover:to-gray-100"),style:{top:`${w*h}px`,height:`${h}px`,width:R?"70%":"100%",right:R?"0":"auto",borderRight:R?"none":"1px solid rgba(0,0,0,0.1)",boxShadow:R?"inset 0 -1px 2px rgba(0,0,0,0.5), 2px 2px 4px rgba(0,0,0,0.3)":"inset 0 -1px 1px rgba(0,0,0,0.1)"},onClick:()=>N(S),title:`Click to preview ${T}`,children:!R&&k&&c.jsx("span",{className:me("absolute left-2 top-1/2 -translate-y-1/2 text-[10px] font-bold",D?"text-gray-800":"text-gray-500"),children:T})},S)})})})}const q4=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function F4({}){const t=I(de=>de.pianoRollClipId),a=I(de=>de.clips),o=I(de=>de.tracks),s=I(de=>de.snapEnabled),i=I(de=>de.gridSize),u=I(de=>de.transport),d=I(de=>de.updateClip),{pixelsPerBeat:p,totalWidth:h,zoom:m}=Qn(),y=p*m,x=t?a.find(de=>de.id===t):void 0;if(!x||x.type!=="midi")return c.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Invalid clip"});const C=o.find(de=>de.id===x.track_id),N=x.midi_events||[],E=x.start_time,b=x.duration,w=C?.instrument||"sine",S=x.id,R=u?.active_notes||[];g.useEffect(()=>{R.length>0&&console.log(" Active notes:",R)},[R]);const T=21,D=108,k=20,O=g.useRef(null),[M,_]=g.useState(null),[P,$]=g.useState(null),[W,Q]=g.useState(0),[q,F]=g.useState(0),[ae,L]=g.useState(0),[H,U]=g.useState(0),[V,ce]=g.useState(0),[z,K]=g.useState(!1),ne=g.useRef(!1),[se,fe]=g.useState(new Set),[ue,Y]=g.useState([]),ge=de=>{const xe=Math.floor(de/12)-1;return`${q4[de%12]}${xe}`},ve=1/i,Re=(D-T+1)*k,ye=E*y,Ee=(E+b)*y,nt=de=>{const xe=Math.floor(de/k);return D-xe},Ct=de=>de/y,Ot=de=>s?Math.round(de/ve)*ve:de,Bt=async(de,xe)=>{const Ue={note:de,note_name:ge(de),start_time:Ot(xe),duration:s?ve:.25,velocity:100,channel:0};await d(S,{midi_events:[...N,Ue]});try{await pe.audio.previewNote({note:de,velocity:100,duration:.5,synthdef:w||"sine"})}catch(Ie){console.error("Failed to preview note:",Ie)}},Kt=async(de,xe,Ue)=>{const Ie=[...N],tt=Ie[de].note;if(Ie[de]={...Ie[de],note:Ue,note_name:ge(Ue),start_time:Ot(xe)},await d(S,{midi_events:Ie}),Ue!==tt)try{await pe.audio.previewNote({note:Ue,velocity:Ie[de].velocity,duration:.5,synthdef:w||"sine"})}catch(_t){console.error("Failed to preview note:",_t)}},zn=async(de,xe)=>{const Ue=[...N],Ie=Ot(xe),tt=s?ve:.0625;Ue[de]={...Ue[de],duration:Math.max(tt,Ie)},await d(S,{midi_events:Ue})},st=async de=>{await d(S,{midi_events:N.filter((xe,Ue)=>Ue!==de)})},et=async()=>{se.size!==0&&(await d(S,{midi_events:N.filter((de,xe)=>!se.has(xe))}),fe(new Set))},Tt=()=>{if(se.size===0)return;const de=Array.from(se).map(xe=>N[xe]);Y(de)},Mt=async()=>{if(ue.length===0)return;const xe=0-Math.min(...ue.map(Ie=>Ie.start_time)),Ue=ue.map(Ie=>({...Ie,start_time:Ie.start_time+xe}));await d(S,{midi_events:[...N,...Ue]})},un=de=>{if(M!==null||P!==null||ne.current)return;const xe=O.current?.getBoundingClientRect();if(!xe)return;const Ue=de.clientX-xe.left,Ie=de.clientY-xe.top;if(Ue<ye||Ue>=Ee)return;const tt=nt(Ie),ft=Ct(Ue)-E,Et=It(tt,ft);Et!==-1?st(Et):Bt(tt,ft)},It=(de,xe)=>{const Ue=s?ve*.5:.1;return N.findIndex(Ie=>{const tt=Ie.start_time,_t=tt+Ie.duration;return Ie.note===de&&xe>=tt-Ue&&xe<=_t+Ue})},hn=(de,xe)=>{de.stopPropagation(),ne.current||st(xe)},Ln=(de,xe,Ue)=>{de.stopPropagation();const Ie=N[xe];if(Q(de.clientX),F(de.clientY),L(Ie.start_time),U(Ie.note),ce(Ie.duration),K(!1),Ue==="move")if(_(xe),!de.shiftKey)fe(new Set([xe]));else{const tt=new Set(se);tt.has(xe)?tt.delete(xe):tt.add(xe),fe(tt)}else $(xe)};g.useEffect(()=>{if(M===null&&P===null)return;const de=Ue=>{if(!O.current?.getBoundingClientRect())return;const tt=Ue.clientX-W,_t=Ue.clientY-q,ft=3;if((Math.abs(tt)>ft||Math.abs(_t)>ft)&&K(!0),M!==null){const Et=tt/y,at=-Math.round(_t/k),tn=Math.max(0,ae+Et),Io=Math.max(T,Math.min(D,H+at));Kt(M,tn,Io)}else if(P!==null){const Et=tt/y,at=Math.max(.0625,V+Et);zn(P,at)}},xe=()=>{z&&(ne.current=!0,setTimeout(()=>{ne.current=!1},50)),_(null),$(null),K(!1)};return document.addEventListener("mousemove",de),document.addEventListener("mouseup",xe),()=>{document.removeEventListener("mousemove",de),document.removeEventListener("mouseup",xe)}},[M,P,W,q,ae,H,V,y,k,T,D,z,st,Kt,zn]),g.useEffect(()=>{const de=xe=>{(xe.ctrlKey||xe.metaKey)&&xe.key==="c"&&se.size>0?(xe.preventDefault(),Tt()):(xe.ctrlKey||xe.metaKey)&&xe.key==="v"&&ue.length>0?(xe.preventDefault(),Mt()):(xe.key==="Delete"||xe.key==="Backspace")&&se.size>0&&(xe.preventDefault(),et())};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[se,ue,N,et,Tt,Mt]);const Nn=y/i;return c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("div",{ref:O,className:"relative cursor-crosshair",style:{width:`${h}px`,height:`${Re}px`,backgroundImage:`
                        linear-gradient(to right, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                        linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px)
                    `,backgroundSize:`${Nn}px ${k}px`,backgroundColor:"#0a0a0a"},onClick:un,children:[c.jsx("div",{className:"absolute top-0 bottom-0 bg-cyan-500/5 border-l-2 border-r-2 border-cyan-500/30 pointer-events-none",style:{left:`${ye}px`,width:`${Ee-ye}px`}}),c.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:1},children:Array.from({length:Math.ceil(h/y)+1}).map((de,xe)=>c.jsx("line",{x1:xe*y,y1:0,x2:xe*y,y2:Re,stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:xe%4===0?1.5:1,opacity:xe%4===0?.4:.2},`beat-${xe}`))}),N.map((de,xe)=>{const Ue=(D-de.note)*k,Ie=(E+de.start_time)*y,tt=de.duration*y,_t=se.has(xe),ft=R?.some(at=>at.clip_id===S&&at.note===de.note&&at.start_time===de.start_time)??!1,Et=.3+de.velocity/127*.7;return c.jsxs("div",{className:me("absolute rounded cursor-move transition-colors group",_t?"border-2 border-cyan-300 z-10":"border border-cyan-500 hover:border-cyan-300",ft&&"animate-pulse ring-2 ring-cyan-400 shadow-lg shadow-cyan-400/50"),style:{left:`${Ie}px`,top:`${Ue}px`,width:`${tt}px`,height:`${k}px`,backgroundColor:_t?`rgba(6, 182, 212, ${Et})`:`rgba(8, 145, 178, ${Et})`,boxShadow:ft?"0 0 20px rgba(6, 182, 212, 0.8)":void 0},onClick:at=>hn(at,xe),onMouseDown:at=>Ln(at,xe,"move"),title:`Velocity: ${de.velocity}`,children:[c.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-cyan-300/40",style:{height:`${de.velocity/127*100}%`}}),c.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize hover:bg-white/20 z-10",onMouseDown:at=>Ln(at,xe,"resize")})]},xe)})]})})}function G4({}){const t=I($=>$.snapEnabled),a=I($=>$.gridSize),o=I($=>$.transport),s=I($=>$.seek),{pixelsPerBeat:i,totalWidth:u,rulerMarkers:d,zoom:p}=Qn(),h=i*p,m=o?.position_beats||0,y=o?.is_playing||!1,x=o?.is_paused??!1,C=g.useRef(null),[N,E]=g.useState(!1),[b,w]=g.useState(null),S=g.useRef(0),R=g.useRef(0),D=(b!==null?b:m)*i*p,k=g.useRef(m),O=g.useRef(i),M=g.useRef(p);g.useEffect(()=>{k.current=m,O.current=i,M.current=p},[m,i,p]),g.useEffect(()=>{if(!C.current||!y||x||N){if(C.current){const Q=(b??k.current)*O.current*M.current;C.current.style.transform=`translateX(${Q}px)`}return}const $=()=>{if(C.current){const Q=k.current*O.current*M.current;C.current.style.transform=`translateX(${Q}px)`}requestAnimationFrame($)},W=requestAnimationFrame($);return()=>{cancelAnimationFrame(W)}},[y,x,N,b]);const _=$=>{if(N)return;const W=$.currentTarget.getBoundingClientRect(),q=($.clientX-W.left)/h,F=t?Math.round(q*a)/a:q;s(Math.max(0,F),!0)},P=$=>{$.stopPropagation(),$.preventDefault(),E(!0),R.current=m,S.current=$.clientX};return g.useEffect(()=>{if(!N)return;const $=Q=>{const F=(Q.clientX-S.current)/h,ae=R.current+F;w(Math.max(0,ae))},W=Q=>{const F=(Q.clientX-S.current)/h;let ae=R.current+F;t&&(ae=Math.round(ae*a)/a),ae=Math.max(0,ae),s(ae,!0),E(!1),w(null)};return document.addEventListener("mousemove",$),document.addEventListener("mouseup",W),()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",W)}},[N,m,h,t,a,s]),c.jsxs("div",{className:"relative h-8 cursor-pointer hover:bg-muted/30 transition-colors",onClick:_,title:"Click to seek",style:{width:u},children:[c.jsx("div",{className:"relative h-full pointer-events-none",children:d.map(($,W)=>c.jsx("div",{className:"absolute top-0 bottom-0 flex flex-col",style:{left:`${$.x}px`,transform:"translateX(-0.5px)"},children:$.isMeasure?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-muted-foreground px-1",children:$.label}),c.jsx("div",{className:"flex-1 w-px bg-border"})]}):c.jsx("div",{className:"flex-1 w-px bg-border/40 mt-4"})},`${$.beat}-${W}`))}),c.jsx("div",{ref:C,className:"absolute top-0 bottom-0 w-1 bg-red-500 z-50 cursor-ew-resize pointer-events-auto",style:{transform:`translateX(${D}px)`,boxShadow:"0 0 8px rgba(239, 68, 68, 0.8)",willChange:"transform"},onMouseDown:P,title:"Drag to scrub",children:c.jsx("div",{className:"absolute -top-3 -left-2.5 w-0 h-0 pointer-events-none",style:{borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"12px solid #ef4444"}})})]})}function Y4({pianoRollScrollRef:t}){const a=I(m=>m.pianoRollClipId),o=I(m=>m.clips),s=I(m=>m.closePianoRoll),i=I(m=>m.setPianoRollScrollLeft),{totalWidth:u}=Qn(),d=a?o.find(m=>m.id===a):void 0,p=d?.type==="midi"?d.midi_events||[]:[],h=m=>{const y=m.currentTarget.scrollLeft;i(y)};return d?d.type!=="midi"?c.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 text-center overflow-hidden min-h-0 min-w-0",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(Rt,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"Audio Clip Selected"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Piano roll only works with MIDI clips. The selected clip is an audio clip."})]})}):c.jsxs("div",{className:"flex flex-col h-full bg-background",children:[c.jsxs("div",{className:"border-b border-border bg-muted/20 flex items-center flex-shrink-0 relative",children:[c.jsx("div",{className:"w-64 px-3 py-2 border-r border-border flex-shrink-0 bg-background absolute left-0 top-0 bottom-0 z-10",children:c.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Piano Roll"})}),c.jsxs("div",{className:"flex-1 px-4 py-2 pl-[17rem] flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-semibold",children:d.name}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[p.length," ",p.length===1?"note":"notes"]}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" Bar ",Math.floor(d.start_time/4)+1,"  ",d.duration," beats"]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(sn,{icon:ja,tooltip:"Close Piano Roll",onClick:s,variant:"ghost",size:"icon-sm"})})]})]}),c.jsx($m,{cornerHeader:c.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Notes"}),ruler:c.jsx(G4,{}),sidebar:c.jsx($4,{}),mainContent:c.jsxs("div",{className:"relative",children:[c.jsx(F4,{}),c.jsx(Im,{})]}),sidebarWidth:256,headerHeight:32,contentWidth:u,scrollRef:t,onScroll:h,rulerScrollDataAttr:"data-piano-ruler-scroll",sidebarScrollDataAttr:"data-piano-keyboard"})]}):c.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 text-center overflow-hidden min-h-0 min-w-0",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(Rt,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"No MIDI Clip Selected"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Double-click a MIDI clip in the timeline above to open it in the piano roll editor."})]})})}function V4({clipId:t}){const a=I(z=>z.clips),o=I(z=>z.clipDragStates),s=I(z=>z.snapEnabled),i=I(z=>z.gridSize),u=I(z=>z.transport),d=I(z=>z.seek),{pixelsPerBeat:p,totalWidth:h,rulerMarkers:m,zoom:y}=Qn(),x=p*y,C=a.find(z=>z.id===t),N=o.get(t),E=N?.startTime??C?.start_time??0,b=N?.duration??C?.duration??0,w=u?.position_beats||0,S=u?.is_playing||!1,R=u?.is_paused??!1,T=g.useRef(null),[D,k]=g.useState(!1),[O,M]=g.useState(null),_=g.useRef(0),P=g.useRef(0),W=(O!==null?O:w)-E,Q=W>=0&&W<=b,q=W*x,F=g.useRef(w),ae=g.useRef(E),L=g.useRef(b),H=g.useRef(p),U=g.useRef(y);g.useEffect(()=>{F.current=w,ae.current=E,L.current=b,H.current=p,U.current=y},[w,E,b,p,y]),g.useEffect(()=>{const z=F.current-ae.current,K=z>=0&&z<=L.current;if(!T.current||!S||R||!K||D){if(T.current&&K){const fe=(O!==null?O-ae.current:z)*H.current*U.current;T.current.style.transform=`translateX(${fe}px)`}return}const ne=()=>{if(T.current){const ue=(F.current-ae.current)*H.current*U.current;T.current.style.transform=`translateX(${ue}px)`}requestAnimationFrame(ne)},se=requestAnimationFrame(ne);return()=>{cancelAnimationFrame(se)}},[S,R,D,O]);const V=z=>{if(D)return;const K=z.currentTarget.getBoundingClientRect(),se=(z.clientX-K.left)/x,fe=E+se;d(Math.max(0,fe),!0)},ce=z=>{z.stopPropagation(),z.preventDefault(),k(!0),P.current=w,_.current=z.clientX};return g.useEffect(()=>{if(!D)return;const z=ne=>{const fe=(ne.clientX-_.current)/x,ue=P.current+fe;M(Math.max(0,ue))},K=ne=>{const fe=(ne.clientX-_.current)/x;let ue=P.current+fe;s&&(ue=Math.round(ue*i)/i),ue=Math.max(0,ue),d(ue,!0),k(!1),M(null)};return document.addEventListener("mousemove",z),document.addEventListener("mouseup",K),()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",K)}},[D,w,x,s,i,d]),c.jsxs("div",{className:"relative h-8 border-b border-border bg-muted/30 flex-shrink-0 cursor-pointer hover:bg-muted/50 transition-colors",onClick:V,title:"Click to seek",style:{width:h},children:[c.jsx("div",{className:"relative h-full pointer-events-none",children:m.map((z,K)=>c.jsx("div",{className:"absolute top-0 bottom-0 flex flex-col",style:{left:`${z.x}px`,transform:"translateX(-0.5px)"},children:z.isMeasure?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-muted-foreground px-1",children:z.label}),c.jsx("div",{className:"flex-1 w-px bg-border"})]}):c.jsx("div",{className:"flex-1 w-px bg-border/40 mt-4"})},`${z.beat}-${K}`))}),Q&&c.jsx("div",{ref:T,className:"absolute top-0 bottom-0 w-1 bg-red-500 z-50 cursor-ew-resize pointer-events-auto",style:{transform:`translateX(${q}px)`,boxShadow:"0 0 8px rgba(239, 68, 68, 0.8)",willChange:"transform"},onMouseDown:ce,title:"Drag to scrub",children:c.jsx("div",{className:"absolute -top-3 -left-2.5 w-0 h-0 pointer-events-none",style:{borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"12px solid #ef4444"}})})]})}function X4({clipId:t,waveformData:a,waveformDataRight:o}){const s=I(N=>N.clips),i=I(N=>N.clipDragStates),{pixelsPerBeat:u,totalWidth:d,zoom:p}=Qn(),h=s.find(N=>N.id===t),m=i.get(t),y=m?.startTime??h?.start_time??0,x=m?.duration??h?.duration??0,C=u*p;return c.jsxs("div",{className:"relative w-full",style:{minHeight:"400px",height:"100%"},children:[c.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",preserveAspectRatio:"none",children:[Array.from({length:Math.ceil(d/C)+1}).map((N,E)=>c.jsx("line",{x1:E*C,y1:"0%",x2:E*C,y2:"100%",stroke:"hsl(220 15% 20%)",strokeWidth:E%4===0?1.5:.5,opacity:E%4===0?.6:.3,vectorEffect:"non-scaling-stroke"},`beat-${E}`)),c.jsx("line",{x1:0,y1:"50%",x2:d,y2:"50%",stroke:"hsl(220 15% 25%)",strokeWidth:1,opacity:.4,vectorEffect:"non-scaling-stroke"})]}),c.jsx("div",{className:"absolute top-0 bottom-0 bg-cyan-500/5 border-l-2 border-r-2 border-cyan-500/30 pointer-events-none",style:{left:`${y*C}px`,width:`${x*C}px`}}),c.jsx("div",{className:"absolute top-0 bottom-0 w-full h-full",style:{left:`${y*C}px`,width:`${x*C}px`},children:c.jsx(Bm,{data:a,rightData:o,color:"hsl(220 15% 50%)",backgroundColor:"transparent",showGrid:!1,glowEffect:!1,className:"w-full h-full"})}),c.jsx(Im,{})]})}function K4({sampleEditorScrollRef:t}){const a=I(S=>S.sampleEditorClipId),o=I(S=>S.clips),i=I(S=>S.activeComposition)?.tempo??120,u=I(S=>S.updateClip),d=I(S=>S.closeSampleEditor),p=I(S=>S.setSampleEditorScrollLeft),{totalWidth:h}=Qn(),m=a?o.find(S=>S.id===a):void 0,[y,x]=g.useState(m?.gain??1);if(g.useEffect(()=>{m&&x(m.gain)},[m?.gain]),!m)return c.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 text-center overflow-hidden min-h-0 min-w-0",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(Rt,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"No Audio Clip Selected"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Double-click an audio clip in the timeline above to open it in the sample editor."})]})});if(m.type!=="audio")return c.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 text-center overflow-hidden min-h-0 min-w-0",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(Rt,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"Invalid Clip Type"}),c.jsxs("div",{className:"text-xs text-muted-foreground/70",children:["Sample editor can only edit audio clips. This is a ",m.type," clip."]})]})});if(!m.audio_file_path)return c.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 text-center overflow-hidden min-h-0 min-w-0",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(Rt,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"No Audio File"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"This audio clip has no associated audio file."})]})});const{leftData:C,rightData:N}=BC({sampleId:m.audio_file_path,clipDuration:m.duration,tempo:i,samplesPerLoop:2e3}),E=async S=>{const R=S[0];x(R),await u(m.id,{gain:R})},b=()=>{d()},w=S=>{const R=S.currentTarget.scrollLeft;p(R)};return c.jsxs("div",{className:"h-full flex flex-col bg-background border-t border-border overflow-hidden",children:[c.jsxs("div",{className:"border-b border-border bg-muted/20 flex items-center flex-shrink-0 relative",children:[c.jsx("div",{className:"w-64 px-3 py-2 border-r border-border flex-shrink-0 bg-background absolute left-0 top-0 bottom-0 z-10",children:c.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Sample Editor"})}),c.jsxs("div",{className:"flex-1 px-4 py-2 pl-[17rem] flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-semibold",children:m.name}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" Bar ",Math.floor(m.start_time/4)+1,"  ",m.duration," beats"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lt,{className:"text-xs text-muted-foreground",children:"Gain"}),c.jsx(Ea,{value:[y],onValueChange:E,min:0,max:2,step:.01,className:"w-32"}),c.jsxs("span",{className:"text-xs text-muted-foreground w-12 text-right",children:[(y*100).toFixed(0),"%"]})]})]}),c.jsx(sn,{icon:ja,tooltip:"Close sample editor",onClick:b,variant:"ghost",size:"icon-sm"})]})]}),C.length>0?c.jsx($m,{cornerHeader:c.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Waveform"}),ruler:c.jsx(V4,{clipId:m.id}),sidebar:c.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground/30 text-sm bg-background"}),mainContent:c.jsx(X4,{clipId:m.id,waveformData:C,waveformDataRight:N}),sidebarWidth:256,headerHeight:32,contentWidth:h,scrollRef:t,onScroll:w,rulerScrollDataAttr:"data-sample-ruler-scroll",sidebarScrollDataAttr:"data-sample-sidebar"}):c.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Loading waveform..."})]})}const r0="sonic-claude-sequencer-split-ratio";function W4({timelineScrollRef:t,pianoRollScrollRef:a,sampleEditorScrollRef:o}){const s=I(x=>x.showPianoRoll),i=I(x=>x.showSampleEditor),[u,d]=g.useState(()=>{const x=localStorage.getItem(r0);return x?parseFloat(x):60}),[p,h]=g.useState(!1);g.useEffect(()=>{localStorage.setItem(r0,u.toString())},[u]);const m=g.useCallback(x=>{x.preventDefault(),x.stopPropagation(),h(!0)},[]);g.useEffect(()=>{if(!p)return;const x=N=>{const E=document.querySelector(".sequencer-split-container");if(!E)return;const b=E.getBoundingClientRect(),S=(N.clientY-b.top)/b.height*100,R=Math.max(20,Math.min(80,S));d(R)},C=()=>{h(!1)};return document.addEventListener("mousemove",x),document.addEventListener("mouseup",C),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",C)}},[p]);const y=g.useCallback(()=>{d(50)},[]);return c.jsxs("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden sequencer-split-container",children:[c.jsx("div",{className:"min-h-0 flex flex-col overflow-hidden",style:{flexGrow:u,flexShrink:1,flexBasis:0},children:c.jsx(B4,{timelineScrollRef:t})}),c.jsx("div",{className:`h-1 flex-shrink-0 border-t border-border bg-background hover:bg-accent cursor-row-resize flex items-center justify-center group ${p?"bg-accent":""}`,onMouseDown:m,onDoubleClick:y,title:"Drag to resize, double-click to reset",children:c.jsx("div",{className:"w-12 h-0.5 bg-border group-hover:bg-foreground/50 rounded-full"})}),c.jsx("div",{className:"min-h-0 overflow-hidden",style:{flexGrow:100-u,flexShrink:1,flexBasis:0},children:c.jsx("div",{className:"h-full flex flex-col overflow-hidden",children:s?c.jsx(Y4,{pianoRollScrollRef:a}):i?c.jsx(K4,{sampleEditorScrollRef:o}):c.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 text-center bg-muted/20",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(Rt,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"No Editor Open"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Double-click a clip in the timeline above to open it in the editor."})]})})})})]})}function Q4(){const t=I(u=>u.activeComposition),a=g.useRef(null),o=g.useRef(null),s=g.useRef(null);return t?c.jsxs("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Ht,{title:"TRANSPORT",showHeader:!1,children:c.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-muted/20 to-muted/10 flex items-center justify-between",children:[c.jsx(w4,{}),c.jsx(j4,{})]})})}),c.jsx("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden",children:c.jsx(Ht,{title:"SEQUENCER",showHeader:!1,contentOverflow:"hidden",children:c.jsx(W4,{timelineScrollRef:a,pianoRollScrollRef:o,sampleEditorScrollRef:s})})})]}):c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx(h4,{onCreateSequence:()=>oe.info("Use File > New to create a new composition"),onOpenSequenceManager:()=>oe.info("Use File > Open to load a composition")})})}function Z4(){const t=I(p=>p.tracks),a=I(p=>p.showMeters),o=I(p=>p.meterMode),s=I(p=>p.setShowMeters),i=I(p=>p.setMeterMode),u=t.filter(p=>!p.is_muted).length,d=t.filter(p=>p.is_solo).length;return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(up,{size:16,className:"text-primary"}),c.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[t.length," ",t.length===1?"Channel":"Channels"]})]}),u<t.length&&c.jsxs(Cn,{variant:"secondary",className:"text-[10px] font-semibold",children:[u," Active"]}),d>0&&c.jsxs(Cn,{variant:"default",className:"text-[10px] font-semibold bg-yellow-500/20 text-yellow-500 border-yellow-500/30",children:[d," Solo"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Ke,{onClick:()=>s(!a),variant:a?"default":"outline",size:"sm",className:me("gap-1.5",a&&"shadow-[0_0_10px_rgba(0,245,255,0.5)]"),children:[c.jsx(Vp,{size:14}),c.jsx("span",{className:"font-semibold",children:"Meters"})]}),a&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lt,{htmlFor:"meter-mode-select",className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Mode"}),c.jsxs(to,{value:o,onValueChange:p=>i(p),children:[c.jsx(no,{id:"meter-mode-select",className:"w-20 h-7 text-xs font-semibold",children:c.jsx(hr,{})}),c.jsxs(ao,{children:[c.jsx(en,{value:"peak",children:"Peak"}),c.jsx(en,{value:"rms",children:"RMS"}),c.jsx(en,{value:"both",children:"Both"})]})]})]})]})]})}function IC({value:t,onChange:a,label:o,min:s=-96,max:i=6,disabled:u=!1,className:d}){const p=g.useRef(null),[h,m]=g.useState(!1),y=T=>(T-s)/(i-s),x=T=>s+T*(i-s),C=T=>{u||(m(!0),w(T),T.target.setPointerCapture(T.pointerId))},N=T=>{!h||u||w(T)},E=T=>{h&&(m(!1),T.target.releasePointerCapture(T.pointerId))},b=T=>{if(u)return;T.preventDefault();const O=T.shiftKey?.1:1,M=-T.deltaY*.01*O,_=Math.max(s,Math.min(i,t+M));a(Math.round(_*10)/10)},w=T=>{if(!p.current)return;const D=p.current.getBoundingClientRect(),k=T.clientY-D.top;let O;if(T.shiftKey){const _=k-D.height*(1-y(t));O=y(t)-_/D.height*.1}else O=1-Math.max(0,Math.min(1,k/D.height));O=Math.max(0,Math.min(1,O));const M=x(O);a(Math.round(M*10)/10)},S=y(t),R=t>-96?`${t>0?"+":""}${t.toFixed(1)}`:"-";return c.jsxs("div",{className:me("flex h-full flex-col items-center gap-2",d),children:[c.jsxs("div",{ref:p,className:"relative flex-1 w-9 cursor-pointer rounded-sm border border-white/20 bg-gradient-to-b from-black/60 to-black/80 select-none shadow-inner",onPointerDown:C,onPointerMove:N,onPointerUp:E,onPointerCancel:E,onWheel:b,children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s<0&&i>0&&c.jsx("div",{className:"absolute right-0 left-0 h-0.5 bg-yellow-500/60 shadow-[0_0_4px_rgba(234,179,8,0.4)]",style:{bottom:`${y(0)*100}%`}}),s<-12&&i>-12&&c.jsx("div",{className:"absolute right-0 left-0 h-px bg-white/10",style:{bottom:`${y(-12)*100}%`}})]}),c.jsx("div",{className:"absolute right-0 bottom-0 left-0 rounded-b bg-gradient-to-t from-cyan-500/70 via-cyan-400/50 to-purple-500/60 transition-all duration-100 shadow-[0_0_10px_rgba(6,182,212,0.3)]",style:{height:`${S*100}%`}}),c.jsx("div",{className:me("absolute left-1/2 h-4 w-11 -translate-x-1/2 rounded-sm border-2 transition-all shadow-lg",h?"border-cyan-300 bg-gradient-to-b from-cyan-400 to-cyan-500 shadow-[0_0_12px_rgba(6,182,212,0.6)]":"border-gray-500 bg-gradient-to-b from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 hover:border-gray-400"),style:{bottom:`calc(${S*100}% - 8px)`},children:c.jsxs("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 flex flex-col gap-0.5 px-1.5",children:[c.jsx("div",{className:"h-px bg-white/30"}),c.jsx("div",{className:"h-px bg-white/30"}),c.jsx("div",{className:"h-px bg-white/30"})]})})]}),o&&c.jsxs("div",{className:"min-w-[3rem] text-center font-mono text-xs",children:[c.jsx("div",{className:"font-semibold text-cyan-400",children:R}),c.jsx("div",{className:"text-muted-foreground mt-1",children:o})]})]})}function J4({value:t,onChange:a,label:o,min:s=-1,max:i=1,disabled:u=!1,format:d="default",className:p}){const[h,m]=g.useState(!1),y=g.useRef(0),x=g.useRef(0),C=T=>{u||(m(!0),y.current=T.clientY,x.current=t,T.target.setPointerCapture(T.pointerId))},N=T=>{if(!h||u)return;const D=y.current-T.clientY,M=T.shiftKey?5e-4:.005,_=D*M*(i-s),P=Math.max(s,Math.min(i,x.current+_));a(Math.round(P*100)/100)},E=T=>{if(u)return;T.preventDefault();const O=T.shiftKey?.001:.01,M=-T.deltaY*O*(i-s),_=Math.max(s,Math.min(i,t+M));a(Math.round(_*100)/100)},b=T=>{h&&(m(!1),T.target.releasePointerCapture(T.pointerId))},w=(t-s)/(i-s),S=-135+w*270,R=()=>d==="pan"?Math.abs(t)<.01?"C":t<0?`L${Math.abs(t*100).toFixed(0)}`:`R${(t*100).toFixed(0)}`:d==="percent"?`${(t*100).toFixed(0)}%`:t.toFixed(2);return c.jsxs("div",{className:me("flex flex-col items-center gap-2",p),children:[c.jsx("div",{className:"relative h-12 w-12",children:c.jsxs("svg",{className:"h-full w-full cursor-pointer select-none",viewBox:"0 0 48 48",onPointerDown:C,onPointerMove:N,onPointerUp:b,onPointerCancel:b,onWheel:E,children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"knobGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgb(6, 182, 212)"}),c.jsx("stop",{offset:"100%",stopColor:"rgb(168, 85, 247)"})]})}),c.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"3",strokeDasharray:"94.2 31.4",strokeDashoffset:"15.7",transform:"rotate(-135 24 24)"}),c.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"url(#knobGradient)",strokeWidth:"3",strokeDasharray:`${94.2*w} ${94.2*(1-w)+31.4}`,strokeDashoffset:"15.7",transform:"rotate(-135 24 24)",strokeLinecap:"round"}),c.jsx("circle",{cx:"24",cy:"24",r:"18",fill:"url(#knobBodyGradient)",stroke:h?"rgb(6, 182, 212)":"rgb(75, 85, 99)",strokeWidth:"2",className:"transition-all"}),c.jsx("line",{x1:"24",y1:"8",x2:"24",y2:"16",stroke:"rgb(6, 182, 212)",strokeWidth:"2",strokeLinecap:"round",transform:`rotate(${S} 24 24)`}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"knobBodyGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgb(55, 65, 81)"}),c.jsx("stop",{offset:"100%",stopColor:"rgb(17, 24, 39)"})]})})]})}),c.jsxs("div",{className:"min-w-[3rem] text-center font-mono text-xs",children:[c.jsx("div",{className:"font-semibold text-cyan-400",children:R()}),o&&c.jsx("div",{className:"text-muted-foreground mt-1",children:o})]})]})}function $C({peak:t,rms:a,stereo:o=!1,peakRight:s,rmsRight:i,className:u}){const d=m=>Math.max(0,Math.min(1,(m+96)/96)),p=m=>m>-3?"bg-red-500":m>-12?"bg-yellow-500":"bg-green-500",h=(m,y)=>{const x=d(m),C=y!==void 0?d(y):x;return c.jsxs("div",{className:"relative h-full w-3 rounded-sm border border-white/20 bg-black/60 shadow-inner",children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute left-0 right-0 h-px bg-red-500/40",style:{top:`${(1-d(-3))*100}%`}}),c.jsx("div",{className:"absolute left-0 right-0 h-px bg-yellow-500/30",style:{top:`${(1-d(-12))*100}%`}}),c.jsx("div",{className:"absolute left-0 right-0 h-px bg-white/10",style:{top:`${(1-d(-24))*100}%`}})]}),y!==void 0&&c.jsx("div",{className:me("absolute right-0 bottom-0 left-0 rounded-b opacity-50 transition-all duration-100",p(y)),style:{height:`${C*100}%`}}),c.jsx("div",{className:me("absolute right-0 bottom-0 left-0 rounded-b transition-all duration-75 shadow-[0_0_8px_currentColor]",p(m)),style:{height:`${x*100}%`}}),m>-3&&c.jsx("div",{className:"absolute top-0 right-0 left-0 h-2 rounded-t bg-red-500 animate-pulse"})]})};return c.jsxs("div",{className:me("flex h-32 gap-1.5",u),children:[h(t,a),o&&s!==void 0&&h(s,i)]})}function qc({variant:t,active:a,onClick:o,className:s,disabled:i=!1}){const u="h-7 px-2 text-xs font-bold uppercase tracking-wide rounded transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",d={mute:a?"bg-orange-500 text-white shadow-lg shadow-orange-500/50 hover:bg-orange-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border",solo:a?"bg-yellow-500 text-black shadow-lg shadow-yellow-500/50 hover:bg-yellow-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border",record:a?"bg-red-500 text-white shadow-lg shadow-red-500/50 hover:bg-red-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border",monitor:a?"bg-green-500 text-white shadow-lg shadow-green-500/50 hover:bg-green-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border"},p={mute:"M",solo:"S",record:"R",monitor:"Mon"};return c.jsx("button",{onClick:o,disabled:i,className:me(u,d[t],s),children:p[t]})}function e3(t){return t===0?-60:20*Math.log10(t)}function t3(t){return t<=-60?0:Math.pow(10,t/20)}function Lp(t,a=1){return t<=-96?"-":`${t>0?"+":""}${t.toFixed(a)}`}function n3({trackId:t}){const a=I(N=>N.tracks),o=I(N=>N.meters),s=I(N=>N.showMeters),i=I(N=>N.updateTrackVolume),u=I(N=>N.updateTrackPan),d=I(N=>N.muteTrack),p=I(N=>N.soloTrack),h=a.find(N=>N.id===t);if(!h)return null;const m=e3(h.volume),y=o[h.id],x=y?.peakLeft??-60,C=y?.peakRight??-60;return c.jsxs("div",{className:"flex w-56 flex-shrink-0 flex-col gap-3 rounded-lg border border-border/70 bg-gradient-to-b from-card to-card/60 p-3 shadow-lg hover:border-border transition-all",children:[c.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-border/30 pb-2.5",children:[c.jsx("div",{className:"truncate text-center text-xs font-bold uppercase tracking-wider drop-shadow-sm",style:{color:h.color},title:h.name,children:h.name}),c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:"rounded-full px-2.5 py-0.5 text-[9px] font-bold uppercase tracking-wider shadow-sm",style:{backgroundColor:`${h.color}20`,color:h.color,border:`1px solid ${h.color}40`},children:h.type})})]}),s&&c.jsx("div",{className:"flex justify-center rounded-md bg-black/30 p-2.5 shadow-inner border border-white/5",children:c.jsx($C,{peak:x,peakRight:C,stereo:!0,className:"h-56"})}),c.jsx("div",{className:"flex justify-center rounded-md bg-background/40 p-2 border border-border/30",children:c.jsx(J4,{value:h.pan,onChange:N=>u(h.id,N),label:"Pan",min:-1,max:1,format:"pan"})}),c.jsxs("div",{className:"flex flex-1 flex-col gap-2 rounded-md bg-background/40 p-2 border border-border/30",children:[c.jsx("div",{className:"text-center text-[11px] font-mono font-bold text-cyan-400 tracking-tight",children:Lp(m)}),c.jsx("div",{className:"flex flex-1 justify-center",children:c.jsx(IC,{value:m,onChange:N=>i(h.id,t3(N)),min:-60,max:12,className:"flex-1"})})]}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx(qc,{variant:"mute",active:h.is_muted,onClick:()=>d(h.id,!h.is_muted),className:"flex-1"}),c.jsx(qc,{variant:"solo",active:h.is_solo,onClick:()=>p(h.id,!h.is_solo),className:"flex-1"})]})]})}function a3(){const t=I(m=>m.master),a=I(m=>m.meters),o=I(m=>m.showMeters),s=I(m=>m.updateMasterFader),i=I(m=>m.toggleLimiter),u=I(m=>m.setLimiterThreshold);if(!t)return null;const d=a.master,p=d?.peakLeft??t.meter_peak_left,h=d?.peakRight??t.meter_peak_right;return c.jsxs("div",{className:"flex w-56 flex-shrink-0 flex-col gap-3 rounded-lg border-2 border-primary/60 bg-gradient-to-b from-primary/10 via-card to-card/80 p-4 shadow-2xl",children:[c.jsxs("div",{className:"flex flex-col items-center gap-1.5 border-b-2 border-primary/30 pb-3",children:[c.jsx("div",{className:"text-center text-sm font-black uppercase tracking-widest text-primary drop-shadow-[0_0_8px_rgba(0,245,255,0.4)]",children:t.name}),c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-primary/70",children:"Main Output"})]}),o&&c.jsx("div",{className:"flex justify-center rounded-md bg-black/40 p-3 shadow-inner border border-primary/20",children:c.jsx($C,{peak:p,peakRight:h,stereo:!0,className:"h-56"})}),c.jsxs("div",{className:"space-y-2.5 rounded-md border-2 border-primary/30 bg-gradient-to-b from-primary/5 to-background/60 p-3 shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(lt,{className:"text-[10px] font-black uppercase tracking-wider text-primary",children:"Limiter"}),c.jsx(Ke,{onClick:i,variant:t.limiter_enabled?"default":"outline",size:"sm",className:me("h-6 px-2.5 text-[10px] font-bold",t.limiter_enabled&&"shadow-[0_0_10px_rgba(0,245,255,0.5)]"),children:t.limiter_enabled?"ON":"OFF"})]}),c.jsxs("div",{className:me("space-y-2",!t.limiter_enabled&&"opacity-50 pointer-events-none"),children:[c.jsx(lt,{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wide",children:"Threshold"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ea,{value:[t.limiter_threshold],onValueChange:m=>u(m[0]),min:-12,max:0,step:.1,className:"flex-1",disabled:!t.limiter_enabled}),c.jsx("span",{className:"w-14 text-right text-[10px] font-mono font-bold text-primary",children:Lp(t.limiter_threshold)})]})]})]}),c.jsxs("div",{className:"flex flex-1 flex-col gap-2 rounded-md bg-gradient-to-b from-background/50 to-background/30 p-3 border-2 border-primary/20",children:[c.jsx("div",{className:"text-center text-sm font-mono font-black text-primary drop-shadow-[0_0_6px_rgba(0,245,255,0.3)] tracking-tight",children:Lp(t.fader)}),c.jsx("div",{className:"flex flex-1 justify-center",children:c.jsx(IC,{value:t.fader,onChange:s,min:-60,max:12,className:"flex-1"})})]})]})}function o3(){const t=I(a=>a.tracks);return c.jsxs("div",{className:"flex h-full gap-4 overflow-x-auto overflow-y-hidden bg-gradient-to-b from-background/50 to-background p-5",children:[t.length===0&&c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-3 max-w-sm",children:[c.jsx("div",{className:"text-6xl opacity-20",children:""}),c.jsx("p",{className:"text-base font-bold text-foreground",children:"No Mixer Channels"}),c.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Add tracks in the sequencer to see them as mixer channels with faders, pan controls, and meters"})]})}),t.map(a=>c.jsx(n3,{trackId:a.id},a.id)),t.length>0&&c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"w-0.5 h-full bg-gradient-to-b from-transparent via-primary/40 to-transparent"})}),c.jsx(a3,{})]})}function r3(){const t=I(o=>o.activeComposition),a=I(o=>o.loadMaster);return g.useEffect(()=>{t&&a()},[t,a]),c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsxs(Ht,{title:"MIXER",showHeader:!1,contentOverflow:"hidden",children:[c.jsx("div",{className:"border-b-2 border-border/70 bg-gradient-to-b from-muted/30 to-muted/10 px-4 py-2.5 flex-shrink-0 shadow-sm",children:c.jsx(Z4,{})}),c.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:c.jsx(o3,{})})]})})})}function s3({parameter:t,value:a,onChange:o,disabled:s=!1}){const i=d=>t.unit==="Hz"?d>=1e3?`${(d/1e3).toFixed(1)}kHz`:`${Math.round(d)}Hz`:t.unit==="dB"?`${d.toFixed(1)}dB`:t.unit==="ms"?d>=1e3?`${(d/1e3).toFixed(2)}s`:`${Math.round(d)}ms`:t.unit==="%"?`${Math.round(d*100)}%`:t.unit==="ratio"?`${d.toFixed(1)}:1`:d.toFixed(2),u=()=>{const d=t.min??0,h=(t.max??1)-d;return h>1e3?10:h>100?1:h>10?.1:.01};return c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-[10px] font-medium text-muted-foreground",children:t.display_name}),c.jsx("span",{className:"text-[10px] font-mono font-bold text-foreground",children:i(a)})]}),c.jsx(Ea,{value:[a],onValueChange:d=>o(d[0]),min:t.min,max:t.max,step:u(),disabled:s,className:"w-full"})]})}function i3({effectId:t,isDragging:a=!1,isDragOver:o=!1,onDragStart:s,onDragEnd:i,onDragOver:u,onDragLeave:d,onDrop:p}){const h=I(M=>M.effectChains),m=I(M=>M.effectDefinitions),y=I(M=>M.updateEffectParameter),x=I(M=>M.toggleEffectBypass),C=I(M=>M.deleteEffect),[N,E]=g.useState(!1);let b=null;for(const M of Object.values(h)){const _=M.effects.find(P=>P.id===t);if(_){b=_;break}}if(!b)return null;const w=m.find(M=>M.name===b.effect_name),S=(M,_)=>{y(b.id,M,_)},R=M=>{const _=M.target;if(_.tagName==="BUTTON"||_.closest("button")){M.preventDefault();return}M.dataTransfer.effectAllowed="move",M.dataTransfer.setData("text/plain",b.id),s?.(b.id)},T=M=>{M.preventDefault(),M.dataTransfer.dropEffect="move",u?.(b.id)},D=()=>{d?.()},k=M=>{M.preventDefault(),p?.(b.id)},O=()=>{i?.()};return c.jsxs("div",{draggable:!0,onDragStart:R,onDragOver:T,onDragLeave:D,onDrop:k,onDragEnd:O,className:me("rounded-lg border transition-all duration-200",b.is_bypassed?"border-border/30 bg-background/5 opacity-50":"border-border/50 bg-gradient-to-b from-background/80 to-background/40 hover:border-primary/50",a&&"opacity-40 scale-95",o&&"border-primary ring-2 ring-primary/50"),children:[c.jsxs("div",{className:"p-3.5 space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("div",{className:"flex-shrink-0 pt-0.5 text-muted-foreground/40 hover:text-muted-foreground cursor-grab active:cursor-grabbing",children:c.jsx(CR,{size:16})}),c.jsxs("div",{className:"flex-1 min-w-0 flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-semibold text-foreground leading-tight mb-1",title:b.display_name,children:b.display_name}),w&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:w.category==="Filter"?"#60a5fa":w.category==="EQ"?"#4ade80":w.category==="Dynamics"?"#facc15":w.category==="Time-Based"?"#c084fc":w.category==="Distortion"?"#f87171":"#9ca3af"}}),c.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-medium",children:w.category})]})]}),c.jsx("button",{onClick:()=>E(!N),className:"flex-shrink-0 text-muted-foreground hover:text-foreground transition-colors",title:N?"Collapse":"Expand",children:c.jsx(bs,{size:16,className:me("transition-transform duration-200",N?"rotate-180":"")})})]})]}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("button",{onClick:()=>x(b.id),className:me("flex-1 h-7 px-2 text-xs font-bold uppercase tracking-wide rounded transition-all duration-150",b.is_bypassed?"bg-muted text-muted-foreground hover:bg-muted/80 border border-border":"bg-orange-500 text-white shadow-lg shadow-orange-500/50 hover:bg-orange-600"),title:b.is_bypassed?"Activate":"Bypass",children:b.is_bypassed?"Off":"On"}),c.jsx("button",{onClick:()=>C(b.id),className:"h-7 px-3 rounded transition-all duration-150 bg-muted text-muted-foreground hover:bg-destructive hover:text-white border border-border hover:border-destructive flex items-center gap-1.5",title:"Delete Effect",children:c.jsx(vr,{size:14})})]})]}),N&&w&&c.jsx("div",{className:"border-t border-border/30 px-3.5 py-3.5 space-y-2.5 bg-background/20",children:w.parameters.filter(M=>M.name!=="bypass").map(M=>{const _=b.parameters[M.name]??M.default;return c.jsx(s3,{parameter:M,value:_,onChange:P=>S(M.name,P),disabled:b.is_bypassed},M.name)})})]})}function l3({effectDefinitions:t,onEffectSelected:a,disabled:o=!1}){const s=t.reduce((d,p)=>(d[p.category]||(d[p.category]=[]),d[p.category].push(p),d),{}),i=["Filter","EQ","Dynamics","Time-Based","Distortion","Utility"],u=Object.keys(s).sort((d,p)=>{const h=i.indexOf(d),m=i.indexOf(p);return h===-1&&m===-1?d.localeCompare(p):h===-1?1:m===-1?-1:h-m});return c.jsxs(to,{value:"",onValueChange:d=>{d&&a(d)},disabled:o,children:[c.jsx(no,{className:"h-7 w-full text-xs border-border/50 hover:border-primary/50 transition-colors",children:c.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 w-full overflow-hidden",children:[c.jsx(gr,{size:12,className:"text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"truncate text-xs",children:"Effects"})]})}),c.jsx(ao,{className:"max-h-80 z-[9999]",align:"start",position:"popper",sideOffset:4,children:u.map(d=>c.jsxs(EC,{children:[c.jsx(jC,{className:"text-xs font-semibold text-muted-foreground",children:d}),s[d].map(p=>c.jsx(en,{value:p.name,className:"text-xs",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:p.display_name}),c.jsx("span",{className:"text-[10px] text-muted-foreground",children:p.description})]})},p.name))]},d))})]})}function c3({trackId:t}){const a=I(b=>b.tracks),o=I(b=>b.effectChains),s=I(b=>b.effectDefinitions),i=I(b=>b.addEffect),u=I(b=>b.moveEffect),d=a.find(b=>b.id===t),p=o[t]||null;if(!d)return null;const h=p?.effects||[],m=[...h].sort((b,w)=>b.slot_index-w.slot_index),y=h.length<8,[x,C]=g.useState(null),[N,E]=g.useState(null);return c.jsxs("div",{className:"flex w-56 flex-shrink-0 flex-col gap-3 rounded-lg border border-border/70 bg-gradient-to-b from-card to-card/60 p-3 shadow-lg hover:border-border transition-all",children:[c.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-border/30 pb-2.5",children:[c.jsx("div",{className:"truncate text-center text-xs font-bold uppercase tracking-wider drop-shadow-sm",style:{color:d.color},title:d.name,children:d.name}),c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:"rounded-full px-2.5 py-0.5 text-[9px] font-bold uppercase tracking-wider shadow-sm",style:{backgroundColor:`${d.color}20`,color:d.color,border:`1px solid ${d.color}40`},children:"FX CHAIN"})})]}),c.jsx("div",{className:"flex flex-col gap-2 flex-1 overflow-y-auto",children:m.length===0?c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("div",{className:"text-2xl opacity-20",children:""}),c.jsx("p",{className:"text-[9px] text-muted-foreground",children:"No Effects"})]})}):m.map(b=>c.jsx(i3,{effectId:b.id,isDragging:x===b.id,isDragOver:N===b.id,onDragStart:()=>C(b.id),onDragEnd:()=>{C(null),E(null)},onDragOver:()=>E(b.id),onDragLeave:()=>E(null),onDrop:w=>{if(x&&x!==w){const S=m.find(R=>R.id===w);S&&u(x,S.slot_index)}C(null),E(null)}},b.id))}),y&&c.jsx(l3,{effectDefinitions:s,onEffectSelected:b=>i(d.id,b),disabled:!y})]})}function u3(){return c.jsxs("div",{className:"flex w-56 flex-shrink-0 flex-col gap-3 rounded-lg border-2 border-primary/50 bg-gradient-to-b from-primary/10 to-primary/5 p-3 shadow-lg",children:[c.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-primary/30 pb-2.5",children:[c.jsx("div",{className:"truncate text-center text-xs font-bold uppercase tracking-wider text-primary drop-shadow-sm",children:"Master"}),c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:"rounded-full bg-primary/20 px-2.5 py-0.5 text-[9px] font-bold uppercase tracking-wider text-primary shadow-sm border border-primary/40",children:"FX CHAIN"})})]}),c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("div",{className:"text-2xl opacity-20",children:""}),c.jsx("p",{className:"text-[9px] text-muted-foreground",children:"Master Effects"}),c.jsx("p",{className:"text-[8px] text-muted-foreground/60",children:"Coming Soon"})]})})]})}function d3(){const t=I(a=>a.tracks);return c.jsxs("div",{className:"flex h-full gap-4 overflow-x-auto overflow-y-hidden bg-gradient-to-b from-background/50 to-background p-5",children:[t.length===0&&c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-3 max-w-sm",children:[c.jsx("div",{className:"text-6xl opacity-20",children:""}),c.jsx("p",{className:"text-base font-bold text-foreground",children:"No Effects Channels"}),c.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Add tracks in the sequencer to see their effects chains with up to 8 insert effects per track"})]})}),t.map(a=>c.jsx(c3,{trackId:a.id},a.id)),t.length>0&&c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"w-0.5 h-full bg-gradient-to-b from-transparent via-primary/40 to-transparent"})}),c.jsx(u3,{})]})}function f3(){const t=I(o=>o.activeComposition),a=I(o=>o.loadEffectDefinitions);return g.useEffect(()=>{t&&a()},[t,a]),c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsx(Ht,{title:"EFFECTS",showHeader:!1,contentOverflow:"hidden",children:c.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:c.jsx(d3,{})})})})})}function p3(){const t=I(h=>h.chatHistory),a=I(h=>h.isSendingMessage),o=I(h=>h.sendMessage),[s,i]=g.useState(""),u=g.useRef(null);g.useEffect(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[t]);const d=async()=>{!s.trim()||a||(await o(s),i(""))},p=h=>{i(h)};return c.jsxs("div",{className:"flex h-full flex-col",children:[c.jsx("div",{className:"border-b border-border/50 bg-muted/20 p-3 flex-shrink-0",children:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs(Ke,{variant:"outline",size:"sm",onClick:()=>p("Recompose this sequence to be more ambient and atmospheric"),children:[c.jsx(Mc,{size:14,className:"mr-1"}),"Make Ambient"]}),c.jsxs(Ke,{variant:"outline",size:"sm",onClick:()=>p("Add rhythmic variation and tension to the drums"),children:[c.jsx(ST,{size:14,className:"mr-1"}),"Add Tension"]}),c.jsxs(Ke,{variant:"outline",size:"sm",onClick:()=>p("Create a melodic variation on the current theme"),children:[c.jsx(Rt,{size:14,className:"mr-1"}),"Add Variation"]}),c.jsxs(Ke,{variant:"outline",size:"sm",onClick:()=>p("Explain the current musical state and suggest improvements"),children:[c.jsx(L0,{size:14,className:"mr-1"}),"Analyze & Suggest"]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.length===0&&!a?c.jsx("div",{className:"flex h-full items-center justify-center text-center",children:c.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[c.jsx(Mc,{size:32,className:"mx-auto opacity-50"}),c.jsx("p",{className:"text-sm font-medium",children:"AI Music Composition Assistant"}),c.jsx("p",{className:"text-xs max-w-md",children:`Give me vague, creative commands like "make this more ambient" or "add tension". I'll autonomously recompose your sequence with reversible iterations.`})]})}):c.jsxs(c.Fragment,{children:[t.map((h,m)=>c.jsx("div",{className:`flex ${h.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:c.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${h.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:c.jsx("div",{className:"flex items-start gap-2",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-xs opacity-70 mb-1",children:h.role==="user"?"You":"AI Assistant"}),c.jsx("div",{className:"text-sm whitespace-pre-wrap",children:h.content}),h.actions_executed&&h.actions_executed.length>0&&c.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:h.actions_executed.map((y,x)=>c.jsx(Cn,{variant:y.success?"default":"destructive",className:"text-[10px]",children:y.action},x))})]})})})},m)),a&&c.jsx("div",{className:"flex justify-start animate-in fade-in slide-in-from-bottom-2 duration-300",children:c.jsx("div",{className:"max-w-[80%] rounded-lg p-3 bg-muted",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"AI is analyzing your sequence and composing..."})]})})})]}),c.jsx("div",{ref:u})]}),c.jsx("div",{className:"border-t border-border/50 bg-muted/20 p-3 flex-shrink-0",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(zi,{value:s,onChange:h=>i(h.target.value),onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),d())},placeholder:"Give me a vague, creative command...",disabled:a,className:"flex-1"}),c.jsx(Ke,{onClick:d,disabled:!s.trim()||a,size:"icon",children:c.jsx(nT,{size:16})})]})})]})}function m3(){const t=I(d=>d.dawStateSnapshot),a=I(d=>d.aiContext),o=I(d=>d.isLoadingAssistantState),s=I(d=>d.refreshAssistantState),i=I(d=>d.analysisEvents),u=t?t.sequence?a||"Loading AI context...":"No composition loaded. Create a new composition or load an existing one.":"Loading DAW state...";return t?t.sequence?c.jsx("div",{className:"h-full overflow-y-auto p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-border/50 pb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rt,{size:16,className:"text-primary"}),c.jsx("span",{className:"text-sm font-semibold",children:"Real-Time Musical Analysis"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>s(),disabled:o,children:c.jsx(YR,{size:14,className:o?"animate-spin":""})}),c.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(t.timestamp).toLocaleTimeString()})]})]}),i.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wide",children:"Recent Events"}),c.jsx("div",{className:"space-y-1",children:i.slice(-5).reverse().map(d=>c.jsx("div",{className:"text-[11px] p-2 bg-muted/30 rounded",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Cn,{variant:"outline",className:"text-[9px]",children:d.type}),c.jsx("span",{className:"text-muted-foreground",children:d.message||d.content})]})},d.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wide",children:" What the AI Sees (Exact LLM Context)"}),c.jsx("pre",{className:"text-[11px] font-mono whitespace-pre-wrap text-foreground/90 leading-relaxed",children:u})]})]})}):c.jsx("div",{className:"flex h-full items-center justify-center p-8",children:c.jsxs("div",{className:"text-center space-y-3 max-w-md",children:[c.jsx(Rt,{size:48,className:"mx-auto text-muted-foreground opacity-50"}),c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No Composition Loaded"}),c.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Create a new composition or load an existing one. Once you have tracks and clips, the AI will analyze the musical content here."})]})}):c.jsx("div",{className:"flex h-full items-center justify-center p-8",children:c.jsxs("div",{className:"text-center space-y-3 max-w-md",children:[c.jsx(Rt,{size:48,className:"mx-auto text-muted-foreground opacity-50"}),c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Loading DAW state..."}),c.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Connecting to backend to fetch composition data"})]})})}function h3(){const t=I(i=>i.activeAssistantTab),a=I(i=>i.setActiveAssistantTab),o=I(i=>i.refreshAssistantState);g.useEffect(()=>{o()},[o]);const s=[{id:"chat",label:"CHAT"},{id:"analysis",label:"ANALYSIS"}];return c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsxs(Ht,{title:"ASSISTANT",showHeader:!1,contentOverflow:"hidden",children:[c.jsx(NC,{tabs:s,activeTab:t,onTabChange:i=>a(i)}),c.jsxs("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:[t==="chat"&&c.jsx(p3,{}),t==="analysis"&&c.jsx(m3,{})]})]})})})}const g3=[{value:"none",label:"None"},{value:"1/4",label:"1/4"},{value:"1/2",label:"1/2"},{value:"1",label:"1 Bar"},{value:"2",label:"2 Bars"},{value:"4",label:"4 Bars"}];function v3(){const t=I(E=>E.activeComposition),a=t?.tracks??[],o=I(E=>E.clipLaunchStates),s=I(E=>E.stopAllClips),i=I(E=>E.setLaunchQuantization),u=I(E=>E.createScene),d=I(E=>E.deleteScene),p=t?.launch_quantization||"1",h=t?.scenes?.length||0,m=Object.values(o).filter(E=>E.state==="playing").length,y=()=>{s()},x=E=>{i(E)},C=()=>{const E=`Scene ${h+1}`;u(E)},N=()=>{if(h>0&&t?.scenes){const E=t.scenes[h-1];E&&d(E.id)}};return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(z0,{size:16,className:"text-primary"}),c.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[a.length," ",a.length===1?"Track":"Tracks"]})]}),h>0&&c.jsxs(Cn,{variant:"secondary",className:"text-[10px] font-semibold",children:[h," ",h===1?"Scene":"Scenes"]}),m>0&&c.jsxs(Cn,{variant:"default",className:"text-[10px] font-semibold bg-primary/20 text-primary border-primary/30",children:[m," Playing"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Ke,{onClick:y,variant:"destructive",size:"sm",className:"gap-1.5",disabled:m===0,children:[c.jsx(Kp,{size:14,fill:"currentColor"}),c.jsx("span",{className:"font-semibold",children:"Stop All"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lt,{htmlFor:"quantization-select",className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Quantize"}),c.jsxs(to,{value:p,onValueChange:x,children:[c.jsx(no,{id:"quantization-select",className:"w-24 h-7 text-xs font-semibold",children:c.jsx(hr,{})}),c.jsx(ao,{children:g3.map(E=>c.jsx(en,{value:E.value,children:E.label},E.value))})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(sn,{icon:gr,tooltip:"Add scene",onClick:C,variant:"ghost",size:"icon-sm"}),c.jsx(sn,{icon:vr,tooltip:"Delete last scene",onClick:N,variant:"ghost",size:"icon-sm",disabled:h===0})]})]})]})}const Pp=ik,Up=lk,x3=g.forwardRef(({className:t,inset:a,children:o,...s},i)=>c.jsxs(_1,{ref:i,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",a&&"pl-8",t),...s,children:[o,c.jsx(nR,{className:"ml-auto h-4 w-4"})]}));x3.displayName=_1.displayName;const y3=g.forwardRef(({className:t,...a},o)=>c.jsx(D1,{ref:o,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));y3.displayName=D1.displayName;const Fc=g.forwardRef(({className:t,...a},o)=>c.jsx(ck,{children:c.jsx(C1,{ref:o,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));Fc.displayName=C1.displayName;const lr=g.forwardRef(({className:t,inset:a,...o},s)=>c.jsx(E1,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",t),...o}));lr.displayName=E1.displayName;const b3=g.forwardRef(({className:t,children:a,checked:o,...s},i)=>c.jsxs(j1,{ref:i,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:o,...s,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(T1,{children:c.jsx(Kc,{className:"h-4 w-4"})})}),a]}));b3.displayName=j1.displayName;const w3=g.forwardRef(({className:t,children:a,...o},s)=>c.jsxs(R1,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...o,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(T1,{children:c.jsx(Xp,{className:"h-2 w-2 fill-current"})})}),a]}));w3.displayName=R1.displayName;const Hp=g.forwardRef(({className:t,inset:a,...o},s)=>c.jsx(N1,{ref:s,className:me("px-2 py-1.5 text-sm font-semibold text-foreground",a&&"pl-8",t),...o}));Hp.displayName=N1.displayName;const Gc=g.forwardRef(({className:t,...a},o)=>c.jsx(M1,{ref:o,className:me("-mx-1 my-1 h-px bg-border",t),...a}));Gc.displayName=M1.displayName;function S3({trackIndex:t,slotIndex:a}){const o=I(F=>F.activeComposition),s=I(F=>F.clipLaunchStates),i=I(F=>F.launchClip),u=I(F=>F.stopClip),d=I(F=>F.assignClipToSlot),p=I(F=>F.openPianoRoll),h=I(F=>F.openSampleEditor),[m,y]=g.useState(!1),[x,C]=g.useState(0),N=o?.clip_slots?.[t]?.[a]??null,E=o?.clips??[],b=o?.tracks??[],w=N?E.find(F=>F.id===N):null,S=b[t],R=N?s[N]:null,T=E.filter(F=>F.track_id===S?.id),D=!w,k=R?.state==="playing",O=R?.state==="triggered",M=R?.state==="stopping",_=R?.progress??0,P=()=>{if(!N||!w)return;const F=Date.now();F-x<300?(w.type==="midi"?(p(N),oe.info(`Opening Piano Roll for "${w.name}"`)):w.type==="audio"&&(h(N),oe.info(`Opening Sample Editor for "${w.name}"`)),C(0)):(k||O?u(N):i(N),C(F))},$=F=>{d(t,a,F)},W=()=>{d(t,a,null)},Q=()=>{y(!0),oe.info("Recording functionality coming soon!"),setTimeout(()=>{y(!1),oe.success("Recording complete! (simulated)")},2e3)};if(D)return c.jsxs(Pp,{children:[c.jsx(Up,{asChild:!0,children:c.jsxs("div",{className:"relative h-32 rounded-md border border-border/30 bg-black/40 hover:border-border/60 hover:bg-black/50 transition-all cursor-pointer flex items-center justify-center group",children:[c.jsx("div",{className:"text-4xl opacity-20 group-hover:opacity-40 transition-opacity",children:"+"}),c.jsx("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),Q()},className:me("absolute bottom-2 right-2 w-8 h-8 rounded-full flex items-center justify-center transition-all","opacity-0 group-hover:opacity-100",m?"bg-red-500 shadow-lg shadow-red-500/50 animate-pulse":"bg-red-500/80 hover:bg-red-500 hover:shadow-lg hover:shadow-red-500/50"),title:"Record into this slot",children:c.jsx(Xp,{size:14,fill:m?"white":"currentColor",className:"text-white"})})]})}),c.jsxs(Fc,{className:"w-56",children:[c.jsx(Hp,{children:"Assign Clip"}),c.jsx(Gc,{}),T.length===0?c.jsx(lr,{disabled:!0,children:c.jsx("span",{className:"text-muted-foreground text-xs",children:"No clips on this track"})}):T.map(F=>c.jsxs(lr,{onClick:()=>$(F.id),className:"gap-2",children:[F.type==="midi"?c.jsx(Rt,{size:14,className:"text-primary"}):c.jsx(Kx,{size:14,className:"text-accent"}),c.jsx("span",{className:"truncate",children:F.name}),c.jsxs("span",{className:"ml-auto text-[10px] text-muted-foreground font-mono",children:[F.duration.toFixed(1),"s"]})]},F.id))]})]});const q=S?.color||"hsl(187 85% 55%)";return c.jsxs(Pp,{children:[c.jsx(Up,{asChild:!0,children:c.jsxs("button",{className:me("relative h-32 w-full rounded-md cursor-pointer transition-all overflow-hidden group","shadow-lg hover:shadow-xl",k&&"animate-pulse"),onClick:F=>{F.preventDefault(),F.stopPropagation(),P()},onMouseDown:()=>{console.log("MOUSE DOWN on clip slot")},style:{backgroundColor:k?q:O?"#facc15":M?"#ef4444":`${q}dd`,boxShadow:k?`0 0 20px ${q}, 0 4px 12px rgba(0,0,0,0.4)`:O?"0 0 20px #facc15, 0 4px 12px rgba(0,0,0,0.4)":M?"0 0 20px #ef4444, 0 4px 12px rgba(0,0,0,0.4)":"0 2px 8px rgba(0,0,0,0.3)"},children:[c.jsx("div",{className:me("absolute inset-0 pointer-events-none transition-opacity",k?"bg-black/20":"bg-black/30 group-hover:bg-black/20")}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-3 gap-2 pointer-events-none",children:[c.jsx("div",{className:"text-white/90",children:w.type==="midi"?c.jsx(Rt,{size:20,className:"drop-shadow-lg"}):c.jsx(Kx,{size:20,className:"drop-shadow-lg"})}),c.jsx("span",{className:"text-sm font-black uppercase tracking-wide truncate w-full text-center text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:w.name}),c.jsxs("span",{className:"text-[10px] font-mono text-white/80 drop-shadow-lg",children:[w.duration.toFixed(1),"s"]})]}),(k||O)&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1.5 bg-black/60 pointer-events-none",children:c.jsx("div",{className:"h-full bg-white transition-all shadow-[0_0_8px_rgba(255,255,255,0.8)]",style:{width:`${_*100}%`}})}),c.jsxs("div",{className:"absolute top-2 right-2 pointer-events-none",children:[k&&c.jsx("div",{className:"w-4 h-4 rounded-full bg-white shadow-[0_0_12px_rgba(255,255,255,0.9)] animate-pulse"}),O&&c.jsx("div",{className:"w-4 h-4 rounded-full bg-white shadow-[0_0_12px_rgba(255,255,255,0.9)] animate-pulse"}),M&&c.jsx("div",{className:"w-4 h-4 rounded-full bg-white/50 shadow-[0_0_12px_rgba(255,255,255,0.5)]"})]})]})}),c.jsxs(Fc,{className:"w-48",children:[c.jsx(Hp,{children:w.name}),c.jsx(Gc,{}),c.jsxs(lr,{onClick:W,className:"gap-2 text-destructive",children:[c.jsx(ja,{size:14}),c.jsx("span",{children:"Clear Slot"})]})]})]})}const C3=["#f39c12","#e74c3c","#9b59b6","#3498db","#1abc9c","#2ecc71","#f1c40f","#e67e22"];function N3({sceneIndex:t}){const a=I(T=>T.activeComposition),o=I(T=>T.launchScene),s=I(T=>T.updateScene),i=I(T=>T.deleteScene),[u,d]=g.useState(!1),[p,h]=g.useState(""),[m,y]=g.useState(!1),x=a?.scenes?.[t];if(!x)return c.jsx("div",{className:"h-32 w-full rounded-md border border-border/30 bg-black/40"});const C=()=>{u||o(x.id)},N=()=>{h(x.name),d(!0)},E=()=>{const T=p.trim();T&&T!==x.name&&s(x.id,T,void 0,void 0),d(!1)},b=()=>{d(!1),h("")},w=T=>{s(x.id,void 0,T,void 0),y(!1)},S=()=>{confirm(`Delete scene "${x.name}"?`)&&i(x.id)},R=T=>{T.key==="Enter"?(T.preventDefault(),T.stopPropagation(),E()):T.key==="Escape"&&(T.preventDefault(),T.stopPropagation(),b())};return c.jsxs(Pp,{children:[c.jsx(Up,{asChild:!0,children:c.jsxs("button",{className:me("relative h-32 w-full rounded-md cursor-pointer transition-all overflow-hidden group","shadow-lg hover:shadow-xl hover:scale-105 active:scale-95"),onClick:T=>{T.preventDefault(),T.stopPropagation(),C()},onDoubleClick:T=>{T.preventDefault(),T.stopPropagation(),N()},style:{backgroundColor:`${x.color}dd`,boxShadow:`0 2px 8px rgba(0,0,0,0.3), 0 0 0 1px ${x.color}`},children:[c.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/20 pointer-events-none transition-opacity"}),c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-3 gap-2",children:u?c.jsx("div",{className:"w-full pointer-events-auto",onClick:T=>T.stopPropagation(),children:c.jsx("input",{type:"text",value:p,onChange:T=>h(T.target.value),onKeyDown:R,onBlur:E,autoFocus:!0,className:"w-full bg-background/90 text-white rounded px-2 py-1 text-xs font-bold text-center border border-primary/50 focus:outline-none focus:border-primary",placeholder:"Scene name"})}):c.jsxs(c.Fragment,{children:[c.jsx(Bi,{className:"w-8 h-8 text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)] pointer-events-none",fill:"white"}),c.jsx("span",{className:"text-xs font-black uppercase tracking-wide truncate w-full text-center text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)] pointer-events-none",children:x.name}),x.tempo&&c.jsxs("span",{className:"text-[10px] font-mono text-white/80 drop-shadow-lg pointer-events-none",children:[x.tempo," BPM"]})]})}),c.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity",style:{boxShadow:`inset 0 0 20px ${x.color}`}}),m&&c.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center p-2 pointer-events-auto z-20",onClick:T=>T.stopPropagation(),children:c.jsx("div",{className:"grid grid-cols-4 gap-2",children:C3.map(T=>c.jsx("button",{className:"w-8 h-8 rounded-md border-2 border-white/20 hover:border-white transition-all hover:scale-110",style:{backgroundColor:T},onClick:D=>{D.stopPropagation(),w(T)}},T))})})]})}),c.jsxs(Fc,{className:"w-48",children:[c.jsxs(lr,{onClick:N,children:[c.jsx(H0,{className:"mr-2 h-4 w-4"}),"Rename Scene"]}),c.jsxs(lr,{onClick:()=>y(!0),children:[c.jsx(zR,{className:"mr-2 h-4 w-4"}),"Change Color"]}),c.jsx(Gc,{}),c.jsxs(lr,{onClick:S,className:"text-destructive focus:text-destructive",children:[c.jsx(vr,{className:"mr-2 h-4 w-4"}),"Delete Scene"]})]})]})}function E3({trackId:t,trackColor:a}){const o=I(m=>m.activeComposition),s=I(m=>m.clipLaunchStates),i=I(m=>m.stopTrackClips),d=(o?.clips.filter(m=>m.track_id===t).map(m=>m.id)??[]).filter(m=>m in s).length,p=d>0,h=()=>{p&&i(t)};return c.jsxs("button",{onClick:h,disabled:!p,className:me("relative h-12 w-full rounded-md transition-all duration-200","flex items-center justify-center gap-2","font-black text-sm uppercase tracking-wider","shadow-lg",p?"cursor-pointer hover:scale-105 active:scale-95":"cursor-not-allowed opacity-40"),style:{backgroundColor:p?`${a}dd`:`${a}30`,boxShadow:p?`0 0 16px ${a}80, 0 4px 12px rgba(0,0,0,0.4)`:"0 2px 8px rgba(0,0,0,0.2)",color:"white"},children:[c.jsx(Kp,{size:16,fill:"currentColor",className:me("transition-transform",p&&"animate-pulse")}),c.jsx("span",{className:"drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:"Stop"}),p&&c.jsx("div",{className:"absolute -top-1.5 -right-1.5 h-5 w-5 rounded-full flex items-center justify-center text-[10px] font-black shadow-lg",style:{backgroundColor:"#ef4444",color:"white"},children:d}),p&&c.jsx("div",{className:"absolute inset-0 rounded-md pointer-events-none animate-pulse",style:{background:`radial-gradient(circle at center, ${a}40 0%, transparent 70%)`}})]})}function j3(){const a=I(d=>d.activeComposition)?.tracks??[],o=I(d=>d.muteTrack),s=I(d=>d.soloTrack),i=8;return(a.length||0)===0?c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-3",children:[c.jsx("div",{className:"text-6xl opacity-20",children:""}),c.jsx("p",{className:"text-lg font-bold text-muted-foreground",children:"No Tracks"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Create tracks in the COMPOSE tab first"})]})}):c.jsx("div",{className:"h-full overflow-x-auto overflow-y-auto bg-gradient-to-br from-background via-background to-background/95",children:c.jsxs("div",{className:"flex gap-2 p-6 min-w-min",children:[c.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[c.jsx("div",{className:"h-16 flex items-center justify-center border-b border-border/50 pb-3",children:c.jsx("span",{className:"text-sm font-black uppercase tracking-widest text-foreground/80",children:"Scenes"})}),c.jsx("div",{className:"flex flex-col gap-2 w-28",children:Array.from({length:i}).map((d,p)=>c.jsx(N3,{sceneIndex:p},p))})]}),a.map((d,p)=>c.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[c.jsxs("div",{className:"h-16 flex flex-col gap-1.5 border-b pb-3 rounded-t-md px-3 pt-2",style:{backgroundColor:`${d.color}15`,borderColor:`${d.color}40`},children:[c.jsx("div",{className:"text-base font-black uppercase tracking-wide truncate text-center drop-shadow-sm",style:{color:d.color},title:d.name,children:d.name}),c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex gap-1",children:[c.jsx(qc,{variant:"solo",active:d.is_solo??!1,onClick:()=>s(d.id,!(d.is_solo??!1))}),c.jsx(qc,{variant:"mute",active:d.is_muted??!1,onClick:()=>o(d.id,!(d.is_muted??!1))})]}),c.jsx("span",{className:"rounded-full px-2 py-0.5 text-[10px] font-black uppercase tracking-wider shadow-md",style:{backgroundColor:`${d.color}dd`,color:"white"},children:d.type})]})]}),c.jsx("div",{className:"flex flex-col gap-2 w-48",children:Array.from({length:i}).map((h,m)=>c.jsx(S3,{trackIndex:p,slotIndex:m},m))}),c.jsx("div",{className:"w-48 mt-2",children:c.jsx(E3,{trackId:d.id,trackColor:d.color})})]},d.id))]})})}function R3(){return I(a=>a.activeComposition)?c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsxs(Ht,{title:"CLIP LAUNCHER",showHeader:!1,contentOverflow:"hidden",children:[c.jsx("div",{className:"border-b-2 border-border/70 bg-gradient-to-b from-muted/30 to-muted/10 px-4 py-2.5 flex-shrink-0 shadow-sm",children:c.jsx(v3,{})}),c.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:c.jsx(j3,{})})]})})}):c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsx(Ht,{title:"CLIP LAUNCHER",showHeader:!1,contentOverflow:"hidden",children:c.jsx("div",{className:"flex h-full items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-3",children:[c.jsx("div",{className:"text-6xl opacity-20",children:""}),c.jsx("p",{className:"text-lg font-bold text-muted-foreground",children:"No Composition Loaded"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Create or load a composition to use the clip launcher"})]})})})})})}const Ri={cols:{lg:12},rowHeight:60,margin:[8,8],containerPadding:[8,8]},qC=[{id:"input",title:"INPUT",component:g.createElement(p4),closeable:!1,getSubtitle:()=>"Library  4 samples loaded",defaultLayout:{x:0,y:0,w:6,h:10}},{id:"visualizer",title:"VISUALIZER",component:g.createElement(m4),closeable:!1,getSubtitle:()=>"Active  120 BPM  4/4  Position: 8.2 beats",defaultLayout:{x:6,y:0,w:6,h:10}},{id:"sequencer",title:"SEQUENCER",component:g.createElement(Q4),closeable:!1,getSubtitle:()=>"Timeline + Transport  0 tracks  0 clips",defaultLayout:{x:0,y:6,w:12,h:12}},{id:"mixer",title:"MIXER",component:g.createElement(r3),closeable:!1,getSubtitle:()=>"0 channels  Master: 0.0 dB",defaultLayout:{x:0,y:12,w:12,h:14}},{id:"effects",title:"EFFECTS",component:g.createElement(f3),closeable:!1,getSubtitle:()=>"Track FX  0 effects",defaultLayout:{x:0,y:26,w:12,h:12},snapTargets:[{panelId:"mixer",edges:["bottom"],snapDistance:20}]},{id:"ai",title:"ASSISTANT",component:g.createElement(h3),closeable:!1,getSubtitle:()=>"Chat  State Viewer  Autonomous: Off",defaultLayout:{x:0,y:38,w:12,h:16}},{id:"clip-launcher",title:"CLIP LAUNCHER",component:g.createElement(R3),closeable:!1,getSubtitle:()=>"Performance Mode  0 scenes",defaultLayout:{x:0,y:0,w:12,h:22}}],T3=[{id:"compose",name:"COMPOSE",panelIds:["sequencer","mixer","effects"]},{id:"interact",name:"INTERACT",panelIds:["input","visualizer","ai"]},{id:"perform",name:"PERFORM",panelIds:["clip-launcher"]}],Rc={LAYOUT:"layout",POPOUT_CLOSED:"popout-closed"},wc={tabs:T3,activeTab:"compose",layouts:{}},M3="sonic-claude-layout",Cu=q0()(F0(G0((t,a)=>({tabs:wc.tabs||[],activeTab:wc.activeTab,poppedOutTabs:new Set,layouts:wc.layouts||{},maximizedPanel:null,attachments:{},xrayEnabled:!1,xraySourceTab:null,xrayTargetTab:null,xrayOpacity:.5,setActiveTab:o=>{t({activeTab:o}),a()._broadcastState()},createTab:(o,s)=>{const i={id:`tab-${Date.now()}`,name:o,panelIds:s};t(u=>({tabs:[...u.tabs,i],activeTab:i.id})),a()._broadcastState()},deleteTab:o=>{t(s=>{const i=s.tabs.filter(u=>u.id!==o);return{tabs:i,activeTab:s.activeTab===o?i[0]?.id||"":s.activeTab}}),a()._broadcastState()},renameTab:(o,s)=>{t(i=>({tabs:i.tabs.map(u=>u.id===o?{...u,name:s}:u)})),a()._broadcastState()},movePanelToTab:(o,s,i)=>{t(u=>({tabs:u.tabs.map(d=>d.id===s?{...d,panelIds:d.panelIds.filter(p=>p!==o)}:d.id===i?{...d,panelIds:[...d.panelIds,o]}:d)})),a()._broadcastState()},updatePanelLayout:(o,s,i)=>{t(u=>({layouts:{...u.layouts,[o]:{...u.layouts[o],[s]:i}}})),a()._broadcastState()},updateTabLayout:(o,s)=>{const i={};s.forEach(u=>{const{i:d,...p}=u;i[d]=p}),t(u=>({layouts:{...u.layouts,[o]:i}})),a()._broadcastState()},maximizePanel:o=>{t({maximizedPanel:o}),a()._broadcastState()},minimizePanel:()=>{t({maximizedPanel:null}),a()._broadcastState()},attachPanel:(o,s)=>{t(i=>({attachments:{...i.attachments,[o]:s}})),a()._broadcastState()},detachPanel:o=>{t(s=>{const{[o]:i,...u}=s.attachments;return{attachments:u}}),a()._broadcastState()},popoutTab:(o,s=!0)=>{const{tabs:i}=a(),u=i.find(d=>d.id===o);u&&(s&&Ae.openPopout(o,u.panelIds),t(d=>{const p=new Set(d.poppedOutTabs);return p.add(o),{poppedOutTabs:p}}),a()._broadcastState())},closePopout:o=>{t(s=>{const i=new Set(s.poppedOutTabs);return i.delete(o),{poppedOutTabs:i}}),a()._broadcastState()},enableXray:o=>{t(s=>o===s.activeTab?(console.warn("Cannot x-ray the active tab"),s):{xrayEnabled:!0,xraySourceTab:s.activeTab,xrayTargetTab:o,xrayOpacity:s.xrayEnabled?s.xrayOpacity:.5}),a()._broadcastState()},disableXray:()=>{t({xrayEnabled:!1,xraySourceTab:null,xrayTargetTab:null}),a()._broadcastState()},setXrayOpacity:o=>{t({xrayOpacity:Math.max(0,Math.min(1,o))}),a()._broadcastState()},_broadcastState:()=>{const o=a();Ae.broadcastState(Rc.LAYOUT,{tabs:o.tabs,activeTab:o.activeTab,poppedOutTabs:Array.from(o.poppedOutTabs),layouts:o.layouts,maximizedPanel:o.maximizedPanel,attachments:o.attachments,xrayEnabled:o.xrayEnabled,xraySourceTab:o.xraySourceTab,xrayTargetTab:o.xrayTargetTab,xrayOpacity:o.xrayOpacity})},_initializeWindowSync:()=>{Ae.subscribeToState(Rc.LAYOUT,o=>{t({tabs:o.tabs,activeTab:o.activeTab,poppedOutTabs:new Set(o.poppedOutTabs),layouts:o.layouts,maximizedPanel:o.maximizedPanel,attachments:o.attachments,xrayEnabled:o.xrayEnabled,xraySourceTab:o.xraySourceTab,xrayTargetTab:o.xrayTargetTab,xrayOpacity:o.xrayOpacity})}),Ae.subscribeToState(Rc.POPOUT_CLOSED,o=>{console.log(` Received popout close event for tab: ${o.tabId}`),t(s=>{const i=new Set(s.poppedOutTabs);return i.delete(o.tabId),{poppedOutTabs:i}})})}}),{name:M3,partialize:t=>({tabs:t.tabs,activeTab:t.activeTab,layouts:t.layouts,maximizedPanel:t.maximizedPanel,attachments:t.attachments,xrayEnabled:t.xrayEnabled,xraySourceTab:t.xraySourceTab,xrayTargetTab:t.xrayTargetTab,xrayOpacity:t.xrayOpacity}),merge:(t,a)=>{const o=new Set((t.tabs||[]).map(u=>u.id)),s=wc.tabs.filter(u=>!o.has(u.id)),i=[...t.tabs||[],...s];return{...a,...t,tabs:i,poppedOutTabs:new Set}},onRehydrateStorage:()=>(console.log(" Zustand persist (layout): Starting hydration..."),(t,a)=>{a?console.error(" Zustand persist (layout): Hydration failed:",a):(console.log(" Zustand persist (layout): Hydration complete",t),t?._initializeWindowSync())})})));function Bp({panels:t,onLayoutChange:a,onPanelClose:o}){const s=g.useRef(null),[i,u]=g.useState({width:0,height:0}),{maximizedPanel:d,maximizePanel:p,minimizePanel:h,attachments:m,attachPanel:y,detachPanel:x}=Cu(),[C,N]=g.useState(null),[E,b]=g.useState(null),[w,S]=g.useState([]);g.useEffect(()=>{if(!s.current)return;const _=new ResizeObserver(P=>{for(const $ of P){const{width:W,height:Q}=$.contentRect;u({width:W,height:Q})}});return _.observe(s.current),()=>_.disconnect()},[]),g.useEffect(()=>{const _=t.map((P,$)=>({i:P.id,x:P.defaultLayout?.x??$%2*6,y:P.defaultLayout?.y??Math.floor($/2)*6,w:P.defaultLayout?.w??6,h:P.defaultLayout?.h??6,minW:3,minH:3}));S(_)},[t]);const R=w;g.useEffect(()=>{if(!R.length||!Object.keys(m).length)return;let _=!1;const P=R.map($=>{const W=Object.entries(m).find(([Q,q])=>q.attachedTo===$.i)?.[0];if(W){const Q=R.find(F=>F.i===W),q=m[W];if(Q&&q){let F={...Q};switch(q.edge){case"bottom":const ae=$.y+$.h,L=$.x,H=$.w;(Q.y!==ae||Q.x!==L||Q.w!==H)&&(F={...Q,x:L,y:ae,w:H},_=!0,console.log(` Enforcing attachment: ${W} following ${$.i}`));break;case"top":const U=$.y-Q.h,V=$.x,ce=$.w;(Q.y!==U||Q.x!==V||Q.w!==ce)&&(F={...Q,x:V,y:U,w:ce},_=!0,console.log(` Enforcing attachment: ${W} following ${$.i}`));break}return $.i===W?F:$}}return $});_&&(S(P),a?.(P))},[R,m,a]);const T=g.useCallback((_,P)=>{const $=t.find(W=>W.id===_);if(!$?.snapTargets)return console.log(" No snap targets for panel:",_),null;console.log(" Checking snap targets for",_,$.snapTargets);for(const W of $.snapTargets){const Q=R.find(ae=>ae.i===W.panelId);if(!Q){console.log(" Target panel not found in layout:",W.panelId);continue}const q=W.snapDistance??20,F=q/Ri.rowHeight;console.log(" Snap distance:",q,"pixels =",F,"grid units");for(const ae of W.edges){let L=1/0,H={x:P.x,y:P.y};switch(ae){case"bottom":const U=Q.y+Q.h;L=Math.abs(P.y-U),console.log(` Bottom edge check: dragged.y=${P.y}, targetBottom=${U}, distance=${L}, SNAP_DISTANCE=${F}`),L<=F&&(H={x:Q.x,y:U});break;case"top":L=Math.abs(P.y+P.h-Q.y),L<=F&&(H={x:Q.x,y:Q.y-P.h});break;case"right":const V=Q.x+Q.w;L=Math.abs(P.x-V),L<=F&&(H={x:V,y:Q.y});break;case"left":L=Math.abs(P.x+P.w-Q.x),L<=F&&(H={x:Q.x-P.w,y:Q.y});break}if(L<=F)return{targetPanelId:W.panelId,edge:ae,snapPosition:H,distance:L}}}return null},[t,R]),D=g.useCallback((_,P,$,W,Q,q)=>{console.log(" Drag started - panel:",$.i),b($.i)},[]),k=g.useCallback(_=>{if(E){const P=_.find($=>$.i===E);if(P){const $=T(E,P);$&&console.log(" Snap zone detected:",$),N($)}}},[E,T]),O=g.useCallback(_=>{if(E&&C){const P={attachedTo:C.targetPanelId,edge:C.edge};y(E,P);const $=_.map(W=>W.i===E?{...W,x:C.snapPosition.x,y:C.snapPosition.y}:W);S([...$]),a?.([...$]),console.log(` Snapped ${E} to ${C.targetPanelId} ${C.edge} edge`)}else S([..._]),a?.([..._]);b(null),N(null)},[E,C,y,a]),M=_=>{S([..._]),a?.([..._])};if(t.length===0)return c.jsx("div",{className:"flex h-full w-full items-center justify-center",children:c.jsx("p",{className:"text-muted-foreground text-sm",children:"No panels in this tab"})});if(i.height===0)return c.jsx("div",{ref:s,className:"h-full w-full"});if(d){const _=t.find(P=>P.id===d);if(_)return c.jsx("div",{ref:s,className:"h-full w-full flex flex-col",children:c.jsx(Op,{title:_.title,subtitle:_.getSubtitle?.(),draggable:!1,closeable:_.closeable??!0,onClose:()=>o?.(_.id),isMaximized:!0,onMaximize:h,className:"flex-1",children:_.component})})}return c.jsx("div",{ref:s,className:"h-full w-full overflow-auto relative",children:c.jsx(t4,{className:"layout",layout:R,width:i.width,gridConfig:{cols:Ri.cols.lg,rowHeight:Ri.rowHeight,containerPadding:Ri.containerPadding,margin:Ri.margin},dragConfig:{handle:".drag-handle"},compactor:Pm,onLayoutChange:M,onDragStart:D,onDrag:k,onDragStop:O,children:t.map(_=>{const P=m[_.id],$=C?.targetPanelId===_.id,W=E===_.id,Q=!!P,q=Object.entries(m).filter(([z,K])=>K.attachedTo===_.id),F=q.length>0,ae=q[0]?.[0],L=ae?t.find(z=>z.id===ae):null,H=q[0]?.[1]?.edge,U=P?.edge,V=F&&L?`${_.title} + ${L.title}`:_.title,ce=F&&ae?c.jsx("button",{onClick:z=>{z.stopPropagation(),x(ae)},className:"hover:bg-primary/20 cursor-pointer touch-manipulation rounded p-2 transition-colors","aria-label":"Detach panels",title:"Detach panels",children:c.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}):null;return c.jsxs("div",{className:"grid-item-wrapper relative",style:{marginTop:U==="bottom"?"-8px":void 0,marginBottom:U==="top"?"-8px":void 0},children:[c.jsx(Op,{title:V,subtitle:_.getSubtitle?.(),draggable:!Q,closeable:_.closeable??!0,onClose:()=>o?.(_.id),isMaximized:!1,onMaximize:()=>p(_.id),showHeader:!Q,headerActions:ce,className:`h-full transition-all ${U==="bottom"?"rounded-t-none border-t-0":""} ${U==="top"?"rounded-b-none border-b-0":""} ${H==="bottom"?"rounded-b-none border-b-0":""} ${H==="top"?"rounded-t-none border-t-0":""}`,children:_.component}),$&&C&&!W&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none z-50",children:[C.edge==="bottom"&&c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary animate-pulse",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/50 to-transparent h-8 -translate-y-full"}),c.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -translate-y-1/2 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-bold shadow-lg whitespace-nowrap",children:"Drop to attach below"})]}),C.edge==="top"&&c.jsxs("div",{className:"absolute top-0 left-0 right-0 h-1 bg-primary animate-pulse",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/50 to-transparent h-8 translate-y-full"}),c.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 translate-y-1/2 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-bold shadow-lg whitespace-nowrap",children:"Drop to attach above"})]})]})]},_.id)})})})}const s0={create_track:{color:"cyan",icon:gr,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"},create_midi_clip:{color:"cyan",icon:Rt,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"},modify_clip:{color:"magenta",icon:uT,bgClass:"bg-purple-500/20",borderClass:"border-purple-500",textClass:"text-purple-400",glowClass:"glow-magenta"},delete_clip:{color:"red",icon:vr,bgClass:"bg-red-500/20",borderClass:"border-red-500",textClass:"text-red-400",glowClass:"shadow-lg shadow-red-500/20"},add_effect:{color:"yellow",icon:Mc,bgClass:"bg-yellow-500/20",borderClass:"border-yellow-500",textClass:"text-yellow-400",glowClass:"glow-yellow"},set_track_parameter:{color:"magenta",icon:up,bgClass:"bg-purple-500/20",borderClass:"border-purple-500",textClass:"text-purple-400",glowClass:"glow-magenta"},set_tempo:{color:"yellow",icon:bR,bgClass:"bg-yellow-500/20",borderClass:"border-yellow-500",textClass:"text-yellow-400",glowClass:"glow-yellow"},play_sequence:{color:"cyan",icon:Bi,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"},stop_playback:{color:"red",icon:Kp,bgClass:"bg-red-500/20",borderClass:"border-red-500",textClass:"text-red-400",glowClass:"shadow-lg shadow-red-500/20"},set_effect_parameter:{color:"magenta",icon:up,bgClass:"bg-purple-500/20",borderClass:"border-purple-500",textClass:"text-purple-400",glowClass:"glow-magenta"},default:{color:"cyan",icon:jR,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"}};function _3({activity:t,onComplete:a}){const[o,s]=g.useState(!1),[i,u]=g.useState(!1),d=s0[t.action]||s0.default,p=d.icon;return g.useEffect(()=>{const h=setTimeout(()=>s(!0),10);return()=>clearTimeout(h)},[]),g.useEffect(()=>{if(t.status==="success"||t.status==="error"){const h=setTimeout(()=>{u(!0),setTimeout(()=>{a?.()},300)},t.duration||1500);return()=>clearTimeout(h)}},[t.status,t.duration,a]),c.jsxs("div",{className:me("pointer-events-none fixed z-50 flex items-center gap-3 rounded-lg border-2 px-4 py-3 backdrop-blur-sm transition-all duration-300",d.bgClass,d.borderClass,d.glowClass,o&&!i&&"opacity-100 translate-y-0 scale-100",!o&&"opacity-0 translate-y-4 scale-95",i&&"opacity-0 translate-y--4 scale-95"),style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[c.jsx(p,{className:me("h-5 w-5 flex-shrink-0",d.textClass,t.status==="in-progress"&&"animate-spin")}),c.jsx("p",{className:me("font-mono text-sm font-medium",d.textClass),children:t.message})]})}function D3({count:t,className:a}){return t===0?null:c.jsxs("div",{className:me("flex items-center gap-1.5 rounded-full bg-cyan-500/20 px-2 py-1 border border-cyan-500/50","glow-cyan animate-pulse",a),children:[c.jsx(Mc,{className:"h-3 w-3 text-cyan-400"}),c.jsx("span",{className:"text-xs font-bold text-cyan-400",children:t})]})}function A3(){const t=I(a=>a.activities);return t.length===0?null:c.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 flex items-center justify-center",children:c.jsx("div",{className:"flex flex-col gap-3",children:t.map((a,o)=>c.jsx("div",{style:{animationDelay:`${o*100}ms`},children:c.jsx(_3,{activity:a,onComplete:()=>{}})},a.id))})})}function k3({panels:t,tabs:a=[],activeTab:o,onTabChange:s,onTabCreate:i,onTabDelete:u,onTabPopout:d}){const[p,h]=g.useState(a[0]?.id||""),{updateTabLayout:m,poppedOutTabs:y,xrayEnabled:x,xraySourceTab:C,xrayTargetTab:N,xrayOpacity:E,enableXray:b,disableXray:w,setXrayOpacity:S}=Cu(),R=I(q=>q.activities),T=()=>R,D=o??p,k=q=>{h(q),s?.(q)};g.useEffect(()=>{const q=F=>{if((F.metaKey||F.ctrlKey)&&F.key==="x")if(F.preventDefault(),x)w();else{const ae=a.find(L=>L.id!==D&&!y.has(L.id));ae&&b(ae.id)}};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[x,D,a,y,b,w]);const O=(q,F)=>{F.stopPropagation(),u?.(q)},M=(q,F)=>{F.stopPropagation(),d?.(q)};if(a.length===0)return c.jsx("div",{className:"flex h-full w-full items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"No tabs available"}),c.jsx("button",{onClick:()=>i?.(),className:"bg-primary/10 hover:bg-primary/20 text-primary rounded px-4 py-2 transition-colors",children:"Create First Tab"})]})});const _=a.find(q=>q.id===D),P=_?t.filter(q=>_.panelIds.includes(q.id)):[],$=x&&N?a.find(q=>q.id===N):null,W=$?t.filter(q=>$.panelIds.includes(q.id)):[],Q=y.has(D);return c.jsxs("div",{className:"flex h-full w-full flex-col overflow-hidden",children:[c.jsxs("div",{className:"border-primary/10 bg-card/20 flex items-center gap-1 border-b px-2",children:[a.map(q=>{const F=y.has(q.id),ae=x&&q.id===N,L=x&&q.id===C,H=T();return c.jsxs("div",{className:`group relative flex cursor-pointer items-center gap-2 px-4 py-2.5 transition-all duration-300 ${F?"border-b-2 border-purple-500 bg-purple-500/20 text-purple-400":ae?"border-b-2 border-cyan-500 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 text-cyan-400 shadow-lg shadow-cyan-500/20":L?"border-b-2 border-purple-500/50 bg-purple-500/10 text-purple-300":q.id===D?"bg-primary/10 text-primary border-primary border-b-2":"text-muted-foreground hover:bg-card/30 hover:text-foreground"}`,onClick:()=>!F&&k(q.id),title:F?"Tab is popped out to separate window":ae?"X-Ray Target - Viewing this tab":L?"X-Ray Source - Currently active":void 0,children:[F&&c.jsx(If,{className:"h-3.5 w-3.5 text-purple-400"}),ae&&c.jsx(Wx,{className:"h-3.5 w-3.5 text-cyan-400 animate-pulse"}),c.jsx("span",{className:"text-sm font-medium",children:q.name}),c.jsx(D3,{count:H.length}),!F&&c.jsxs("div",{className:"flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[c.jsx("button",{onClick:U=>M(q.id,U),className:"hover:bg-primary/20 rounded p-1 transition-colors",title:"Pop out to window",children:c.jsx(If,{className:"h-3 w-3"})}),a.length>1&&c.jsx("button",{onClick:U=>O(q.id,U),className:"hover:bg-destructive/20 rounded p-1 transition-colors",title:"Close tab",children:c.jsx(ja,{className:"h-3 w-3"})})]})]},q.id)}),c.jsx("div",{className:"flex-1"}),a.length>1&&!Q&&c.jsxs("div",{className:"flex items-center gap-2 border-l border-border/50 pl-3 ml-2",children:[c.jsx(sn,{icon:Wx,tooltip:x?"Disable X-Ray Mode (X)":"Enable X-Ray Mode (X)",onClick:()=>{if(x)w();else{const q=a.find(F=>F.id!==D&&!y.has(F.id));q&&b(q.id)}},variant:x?"default":"ghost",size:"icon-sm",className:x?"bg-purple-500/20 text-purple-400 hover:bg-purple-500/30":""}),x&&c.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-2 duration-200",children:[c.jsx(lt,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"X-RAY"}),c.jsx(Ea,{value:[E*100],onValueChange:q=>S(q[0]/100),min:0,max:100,step:5,className:"w-24"}),c.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[Math.round(E*100),"%"]})]}),x&&a.length>2&&c.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-2 duration-200",children:[c.jsx(lt,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"View"}),c.jsx("select",{value:N||"",onChange:q=>{q.target.value&&b(q.target.value)},className:"bg-card border border-border rounded px-2 py-1 text-xs text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",children:a.filter(q=>q.id!==D&&!y.has(q.id)).map(q=>c.jsx("option",{value:q.id,children:q.name},q.id))})]})]}),c.jsx("button",{onClick:i,className:"hover:bg-card/30 rounded p-2 transition-colors",title:"New tab",children:c.jsx(gr,{className:"text-muted-foreground h-4 w-4"})})]}),c.jsx("div",{className:"flex-1 overflow-hidden relative",children:Q?c.jsx("div",{className:"flex h-full w-full items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(If,{className:"text-secondary mx-auto mb-4 h-12 w-12"}),c.jsx("h2",{className:"text-secondary mb-2 text-xl font-bold",children:"Tab Popped Out"}),c.jsx("p",{className:"text-muted-foreground",children:"This tab is currently open in a separate window"})]})}):c.jsxs(c.Fragment,{children:[x&&W.length>0&&c.jsx("div",{className:"absolute inset-0 transition-all duration-300",style:{opacity:E,zIndex:E>0?1:0,pointerEvents:E>0?"auto":"none",transform:`
                                        perspective(1200px)
                                        rotateX(${(1-E)*-12}deg)
                                        rotateY(${(1-E)*5}deg)
                                        scale(${.92+E*.08})
                                        translateZ(${(E-1)*80}px)
                                    `,transformOrigin:"center center",transformStyle:"preserve-3d"},children:c.jsx(Bp,{panels:W,onLayoutChange:q=>{N&&m(N,q)},onPanelClose:q=>{console.log("Panel closed:",q)}})}),c.jsx("div",{className:"absolute inset-0 transition-all duration-300",style:{opacity:x?1-E:1,zIndex:x&&E>0?0:1,pointerEvents:x&&E>0?"none":"auto",transform:x?`
                                    perspective(1200px)
                                    rotateX(${E*8}deg)
                                    rotateY(${E*-3}deg)
                                    scale(${1-E*.05})
                                    translateZ(${E*40}px)
                                `:"none",transformOrigin:"center center",transformStyle:"preserve-3d"},children:c.jsx(Bp,{panels:P,onLayoutChange:q=>{m(D,q)},onPanelClose:q=>{console.log("Panel closed:",q)}})})]})})]})}function O3(){const t=I(b=>b.activeComposition),a=I(b=>b.compositions),o=I(b=>b.loadComposition),s=I(b=>b.createComposition),i=I(b=>b.loadSynthDefs),u=I(b=>b.initialize),[d,p]=g.useState(""),[h,m]=g.useState(!1),[y,x]=g.useState(!0);g.useEffect(()=>{(async()=>{try{await i(),await u()}catch(w){console.error("Failed to initialize compositions:",w)}finally{x(!1)}})()},[]);const C=!t&&!y,N=async()=>{if(d.trim()){m(!0);try{await s(d.trim()),p("")}catch(b){console.error("Failed to create composition:",b)}finally{m(!1)}}},E=async b=>{await o(b)};return c.jsx(RC,{open:C,onOpenChange:()=>{},children:c.jsxs(TC,{className:"sm:max-w-[600px]",showCloseButton:!1,children:[c.jsxs(MC,{children:[c.jsxs(_C,{className:"flex items-center gap-2 text-2xl",children:[c.jsx(Rt,{className:"h-6 w-6"}),"Welcome to Sonic Claude"]}),c.jsx(DC,{children:"Create a new composition or load an existing one to get started"})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs(lt,{className:"text-sm font-semibold uppercase tracking-wide",children:[c.jsx(gr,{className:"inline h-4 w-4 mr-1"}),"Create New Composition"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(zi,{placeholder:"Enter composition name...",value:d,onChange:b=>p(b.target.value),onKeyDown:b=>{b.key==="Enter"&&N()},disabled:h}),c.jsx(Ke,{onClick:N,disabled:!d.trim()||h,children:"Create"})]})]}),a.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs(lt,{className:"text-sm font-semibold uppercase tracking-wide",children:[c.jsx(O0,{className:"inline h-4 w-4 mr-1"}),"Load Existing Composition"]}),c.jsx("div",{className:"h-[300px] rounded-md border overflow-y-auto",children:c.jsx("div",{className:"p-2 space-y-2",children:a.map(b=>c.jsx(Ke,{variant:"outline",className:"w-full justify-start h-auto py-3 px-4",onClick:()=>E(b.id),children:c.jsxs("div",{className:"flex flex-col items-start gap-1 w-full",children:[c.jsx("div",{className:"font-semibold",children:b.name}),c.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[c.jsx(cp,{className:"h-3 w-3"}),Dp(b.updated_at)]})]})},b.id))})})]}),a.length===0&&c.jsx("div",{className:"text-center text-sm text-muted-foreground py-8",children:"No existing compositions found. Create your first one above!"})]})]})})}const z3=6e4;function L3(){const t=g.useRef(void 0),a=g.useRef(!1);g.useEffect(()=>(t.current=window.setInterval(async()=>{const o=I.getState(),{activeComposition:s}=o;if(!(!s||a.current))try{a.current=!0,console.log(" Creating history snapshot:",s.id),await pe.compositions.saveComposition(s.id,!0,!1),console.log(" History snapshot created")}catch(i){console.error(" Failed to create history snapshot:",i)}finally{a.current=!1}},z3),()=>{t.current&&clearInterval(t.current)}),[])}function P3(){const{tabs:t,activeTab:a,setActiveTab:o,createTab:s,deleteTab:i,popoutTab:u}=Cu();g.useEffect(()=>{I.getState().initialize()},[]),L3();const d=I(b=>b.undo),p=I(b=>b.redo),h=I(b=>b.canUndo),m=I(b=>b.canRedo);g.useEffect(()=>{const b=w=>{const S=w.target;S.tagName==="INPUT"||S.tagName==="TEXTAREA"||S.isContentEditable||((w.metaKey||w.ctrlKey)&&w.key==="z"&&!w.shiftKey?h&&(w.preventDefault(),d()):(w.metaKey||w.ctrlKey)&&w.shiftKey&&w.key==="z"&&m&&(w.preventDefault(),p()))};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[d,p,h,m]);const y=I(b=>b.analytics),x=I(b=>b.activeSynths),C=y!==null,N=y?.cpu_usage||0,E=Object.keys(x).length;return c.jsxs("div",{className:"bg-background flex h-screen w-screen flex-col overflow-hidden",children:[c.jsx(O3,{}),c.jsx(nC,{isEngineRunning:C,cpuUsage:N,activeSynths:E}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(k3,{panels:qC,tabs:t,activeTab:a,onTabChange:o,onTabCreate:()=>{s("NEW TAB",[])},onTabDelete:i,onTabPopout:u})}),c.jsx(A3,{})]})}function U3(){const[t]=Pj(),a=t.get("tab"),o=t.get("panels"),{tabs:s,updateTabLayout:i,closePopout:u,popoutTab:d}=Cu(),p=I(b=>b.analytics),h=I(b=>b.activeSynths),m=p!==null,y=p?.cpu_usage||0,x=Object.keys(h).length,C=o?o.split(","):[],N=s.find(b=>b.id===a),E=qC.filter(b=>C.includes(b.id));return g.useEffect(()=>{a&&(console.log(` Popout window registering tab: ${a}`),d(a,!1))},[a,d]),g.useEffect(()=>{const b=new BroadcastChannel("sonic-claude-sync"),w=()=>{a&&(console.log(` Popout window closing, broadcasting close event for tab: ${a}`),b.postMessage({key:Rc.POPOUT_CLOSED,value:{tabId:a},timestamp:Date.now()}),u(a))};return window.addEventListener("pagehide",w),()=>{window.removeEventListener("pagehide",w),b.close()}},[a,u]),g.useEffect(()=>{N&&(document.title=`Sonic Claude - ${N.name}`)},[N]),!a||!N?c.jsx("div",{className:"bg-background flex h-screen w-screen items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-primary mb-2 text-2xl font-bold",children:"Invalid Popout"}),c.jsx("p",{className:"text-muted-foreground",children:"Tab not found"})]})}):c.jsxs("div",{className:"bg-background flex h-screen w-screen flex-col overflow-hidden",children:[c.jsx(nC,{isEngineRunning:m,cpuUsage:y,activeSynths:x}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(Bp,{panels:E,onLayoutChange:b=>{a&&i(a,b)},onPanelClose:b=>{console.log("Panel closed in popout:",b)}})})]})}var ba=(t=>(t.CONNECTING="CONNECTING",t.CONNECTED="CONNECTED",t.DISCONNECTED="DISCONNECTED",t.RECONNECTING="RECONNECTING",t.FAILED="FAILED",t))(ba||{});class i0 extends Error{constructor(a,o,s){super(a),this.endpoint=o,this.code=s,this.name="WebSocketError"}}class H3{ws=null;endpoint;fullURL;state="DISCONNECTED";messageHandlers=new Set;stateChangeHandlers=new Set;reconnectAttempts=0;reconnectTimeout;currentReconnectDelay;isCleaningUp=!1;options;constructor(a,o={}){this.endpoint=a,this.fullURL=Wp.getWSURL(a),this.options={autoReconnect:o.autoReconnect??!0,reconnectDelay:o.reconnectDelay??1e3,maxReconnectDelay:o.maxReconnectDelay??3e4,backoffMultiplier:o.backoffMultiplier??1.5,maxReconnectAttempts:o.maxReconnectAttempts??1/0,debug:o.debug??!1},this.currentReconnectDelay=this.options.reconnectDelay}connect(){if(!this.isCleaningUp){if(this.ws?.readyState===WebSocket.OPEN||this.ws?.readyState===WebSocket.CONNECTING){this.log("Already connected or connecting");return}try{this.setState("CONNECTING"),this.ws=new WebSocket(this.fullURL),this.ws.onopen=()=>this.handleOpen(),this.ws.onmessage=a=>this.handleMessage(a),this.ws.onerror=a=>this.handleError(a),this.ws.onclose=a=>this.handleClose(a),this.log(`Connecting to ${this.endpoint}`)}catch(a){this.handleConnectionError(a)}}}disconnect(){this.isCleaningUp=!0,this.clearReconnectTimeout(),this.ws&&(this.ws.close(),this.ws=null),this.setState("DISCONNECTED"),this.log("Disconnected")}onMessage(a){return this.messageHandlers.add(a),()=>this.messageHandlers.delete(a)}onStateChange(a){return this.stateChangeHandlers.add(a),()=>this.stateChangeHandlers.delete(a)}getState(){return this.state}isConnected(){return this.state==="CONNECTED"}send(a){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)throw new i0("Cannot send message: WebSocket not connected",this.endpoint);try{const o=typeof a=="string"?a:JSON.stringify(a);this.ws.send(o),this.log("Sent message:",a)}catch(o){throw new i0(`Failed to send message: ${o instanceof Error?o.message:"Unknown error"}`,this.endpoint)}}handleOpen(){this.setState("CONNECTED"),this.reconnectAttempts=0,this.currentReconnectDelay=this.options.reconnectDelay,this.log(" Connected")}handleMessage(a){if(!this.isCleaningUp)try{const o=JSON.parse(a.data);this.messageHandlers.forEach(s=>s(o))}catch(o){console.error(`Failed to parse WebSocket message from ${this.endpoint}:`,o)}}handleError(a){this.isCleaningUp||this.ws?.readyState!==WebSocket.CLOSED&&this.log(" WebSocket error")}handleClose(a){this.isCleaningUp||(this.setState("DISCONNECTED"),this.log(`Closed (code: ${a.code}, reason: ${a.reason||"none"})`),this.options.autoReconnect&&this.reconnectAttempts<this.options.maxReconnectAttempts?this.scheduleReconnect():this.reconnectAttempts>=this.options.maxReconnectAttempts&&(this.setState("FAILED"),this.log(" Max reconnect attempts reached")))}handleConnectionError(a){this.setState("FAILED"),console.error(`Failed to create WebSocket connection to ${this.endpoint}:`,a)}scheduleReconnect(){this.clearReconnectTimeout(),this.setState("RECONNECTING"),this.reconnectAttempts++,this.log(`Reconnecting in ${this.currentReconnectDelay}ms (attempt ${this.reconnectAttempts})`),this.reconnectTimeout=window.setTimeout(()=>{this.isCleaningUp||(this.connect(),this.currentReconnectDelay=Math.min(this.currentReconnectDelay*this.options.backoffMultiplier,this.options.maxReconnectDelay))},this.currentReconnectDelay)}clearReconnectTimeout(){this.reconnectTimeout!==void 0&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0)}setState(a){this.state!==a&&(this.state=a,this.stateChangeHandlers.forEach(o=>o(a)))}log(...a){this.options.debug&&console.log(`[WebSocket:${this.endpoint}]`,...a)}}class B3{connections=new Map;getConnection(a,o){if(this.connections.has(a))return this.connections.get(a);const s=new H3(a,o);return this.connections.set(a,s),s.connect(),s}disconnect(a){const o=this.connections.get(a);o&&(o.disconnect(),this.connections.delete(a))}disconnectAll(){this.connections.forEach(a=>{a.disconnect()}),this.connections.clear()}getConnectionState(a){const o=this.connections.get(a);return o?o.getState():null}isConnected(a){const o=this.connections.get(a);return o?o.isConnected():!1}getActiveConnections(){return Array.from(this.connections.keys()).filter(a=>{const o=this.connections.get(a);return o&&o.isConnected()})}getHealthStatus(){const a={total:this.connections.size,connected:0,connecting:0,disconnected:0,reconnecting:0,failed:0};return this.connections.forEach(o=>{switch(o.getState()){case ba.CONNECTED:a.connected++;break;case ba.CONNECTING:a.connecting++;break;case ba.DISCONNECTED:a.disconnected++;break;case ba.RECONNECTING:a.reconnecting++;break;case ba.FAILED:a.failed++;break}}),a}}const Ip=new B3;function FC(t,a){const[o,s]=g.useState(null),[i,u]=g.useState(ba.DISCONNECTED),d=g.useRef(Ip.getConnection(t,a));g.useEffect(()=>{const y=d.current,x=y.onMessage(N=>{s(N)}),C=y.onStateChange(N=>{u(N)});return u(y.getState()),()=>{x(),C()}},[t]);const p=g.useCallback(y=>{d.current.send(y)},[]),h=g.useCallback(()=>{d.current.connect()},[]),m=g.useCallback(()=>{Ip.disconnect(t)},[t]);return{data:o,state:i,isConnected:i===ba.CONNECTED,send:p,reconnect:h,disconnect:m}}function GC(t,a,o){const[s,i]=g.useState(ba.DISCONNECTED),u=g.useRef(Ip.getConnection(t,o)),d=g.useRef(a);return g.useEffect(()=>{d.current=a},[a]),g.useEffect(()=>{const p=u.current,h=p.onMessage(y=>{d.current(y)}),m=p.onStateChange(y=>{i(y)});return i(p.getState()),()=>{h(),m()}},[t]),{state:s,isConnected:s===ba.CONNECTED}}function I3(){const{data:t,isConnected:a}=FC("/api/ws/transport",{debug:!1});return{transport:t||{type:"transport",is_playing:!1,position_beats:0,position_seconds:0,tempo:120,time_signature_num:4,time_signature_den:4},isConnected:a}}function $3(){const[t,a]=g.useState({}),{isConnected:o}=GC("/api/ws/meters",s=>{s.type==="meters"&&a(i=>({...i,[s.track_id]:{peakLeft:s.peak_left,peakRight:s.peak_right,rmsLeft:s.rms_left,rmsRight:s.rms_right}}))},{debug:!1});return{meters:t,isConnected:o}}function q3(){const[t,a]=g.useState([]),{isConnected:o}=GC("/api/ws/spectrum",s=>{s.type==="spectrum"&&Array.isArray(s.magnitudes)&&a(s.magnitudes)},{debug:!1});return{spectrum:t,isConnected:o}}function F3(){const{data:t,isConnected:a}=FC("/api/ws/waveform",{debug:!1});return{waveform:t||null,isConnected:a}}function G3(){const{transport:t}=I3(),{meters:a}=$3(),{spectrum:o}=q3(),{waveform:s}=F3(),i=I(m=>m.setTransport),u=I(m=>m.setMeters),d=I(m=>m.setSpectrum),p=I(m=>m.setWaveform),h=I(m=>m.setClipLaunchStatesFromWebSocket);return g.useEffect(()=>{t&&(t.active_notes&&t.active_notes.length>0&&console.log(" WebSocket transport update - active_notes:",t.active_notes),i(t),(t.playing_clips||t.triggered_clips)&&h(t.playing_clips||[],t.triggered_clips||[]))},[t,i,h]),g.useEffect(()=>{a&&Object.keys(a).length>0&&u(a)},[a,u]),g.useEffect(()=>{o&&o.length>0&&d(o)},[o,d]),g.useEffect(()=>{s&&p(s)},[s,p]),null}const Y3={success:iR,error:rR,info:L0,warning:I0},V3={success:"border-primary/50 bg-primary/10 text-primary",error:"border-destructive/50 bg-destructive/10 text-destructive",info:"border-border bg-card/50 text-foreground",warning:"border-yellow-500/50 bg-yellow-500/10 text-yellow-500"};function X3({type:t="info",message:a,onClose:o}){const s=Y3[t];return c.jsxs("div",{className:me("pointer-events-auto flex items-center gap-3 rounded-md border-2 px-4 py-3 shadow-lg backdrop-blur-sm transition-all",V3[t]),children:[c.jsx(s,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("p",{className:"flex-1 font-mono text-sm",children:a}),c.jsx("button",{onClick:o,className:"hover:bg-background/20 flex-shrink-0 rounded p-1 transition-colors",children:c.jsx(ja,{className:"h-4 w-4"})})]})}function K3({toasts:t,onRemove:a}){return c.jsx("div",{className:"pointer-events-none fixed right-4 bottom-4 z-50 flex w-96 flex-col gap-2",children:t.map(o=>c.jsx(X3,{...o,onClose:()=>a(o.id)},o.id))})}const W3=g.createContext(void 0);function Q3({children:t}){const[a,o]=g.useState([]),s=g.useCallback((d,p="info",h=3e3)=>{const m=`toast-${Date.now()}-${Math.random()}`,y={id:m,message:d,type:p,duration:h};return o(x=>[...x,y]),h>0&&setTimeout(()=>{o(x=>x.filter(C=>C.id!==m))},h),m},[]),i=g.useCallback(d=>{o(p=>p.filter(h=>h.id!==d))},[]),u=g.useMemo(()=>({success:(d,p)=>s(d,"success",p),error:(d,p)=>s(d,"error",p),info:(d,p)=>s(d,"info",p),warning:(d,p)=>s(d,"warning",p)}),[s]);return c.jsxs(W3.Provider,{value:{toasts:a,toast:u,removeToast:i},children:[t,c.jsx(K3,{toasts:a,onRemove:i})]})}uE.createRoot(document.getElementById("root")).render(c.jsx(g.StrictMode,{children:c.jsx(Aj,{children:c.jsx(g4,{delayDuration:300,children:c.jsxs(Q3,{children:[c.jsx(G3,{}),c.jsxs(ij,{children:[c.jsx(sp,{path:"/",element:c.jsx(P3,{})}),c.jsx(sp,{path:"/popout",element:c.jsx(U3,{})})]})]})})})}));
