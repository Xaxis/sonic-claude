function lE(t,a){for(var o=0;o<a.length;o++){const s=a[o];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const u=Object.getOwnPropertyDescriptor(s,i);u&&Object.defineProperty(t,i,u.get?u:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(i){if(i.ep)return;i.ep=!0;const u=o(i);fetch(i.href,u)}})();function t0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jf={exports:{}},gl={};var Ey;function iE(){if(Ey)return gl;Ey=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function o(s,i,u){var d=null;if(u!==void 0&&(d=""+u),i.key!==void 0&&(d=""+i.key),"key"in i){u={};for(var p in i)p!=="key"&&(u[p]=i[p])}else u=i;return i=u.ref,{$$typeof:t,type:s,key:d,ref:i!==void 0?i:null,props:u}}return gl.Fragment=a,gl.jsx=o,gl.jsxs=o,gl}var Ny;function cE(){return Ny||(Ny=1,jf.exports=iE()),jf.exports}var c=cE(),Tf={exports:{}},Oe={};var jy;function uE(){if(jy)return Oe;jy=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),C=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=C&&U[C]||U["@@iterator"],typeof U=="function"?U:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function w(U,Y,Q){this.props=U,this.context=Y,this.refs=S,this.updater=Q||E}w.prototype.isReactComponent={},w.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},w.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=w.prototype;function R(U,Y,Q){this.props=U,this.context=Y,this.refs=S,this.updater=Q||E}var A=R.prototype=new j;A.constructor=R,b(A,w.prototype),A.isPureReactComponent=!0;var _=Array.isArray;function k(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function z(U,Y,Q){var oe=Q.ref;return{$$typeof:t,type:U,key:Y,ref:oe!==void 0?oe:null,props:Q}}function I(U,Y){return z(U.type,Y,U.props)}function $(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function G(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Q){return Y[Q]})}var q=/\/+/g;function X(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?G(""+U.key):Y.toString(36)}function ae(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(k,k):(U.status="pending",U.then(function(Y){U.status==="pending"&&(U.status="fulfilled",U.value=Y)},function(Y){U.status==="pending"&&(U.status="rejected",U.reason=Y)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function L(U,Y,Q,oe,de){var pe=typeof U;(pe==="undefined"||pe==="boolean")&&(U=null);var W=!1;if(U===null)W=!0;else switch(pe){case"bigint":case"string":case"number":W=!0;break;case"object":switch(U.$$typeof){case t:case a:W=!0;break;case x:return W=U._init,L(W(U._payload),Y,Q,oe,de)}}if(W)return de=de(U),W=oe===""?"."+X(U,0):oe,_(de)?(Q="",W!=null&&(Q=W.replace(q,"$&/")+"/"),L(de,Y,Q,"",function(me){return me})):de!=null&&($(de)&&(de=I(de,Q+(de.key==null||U&&U.key===de.key?"":(""+de.key).replace(q,"$&/")+"/")+W)),Y.push(de)),1;W=0;var ye=oe===""?".":oe+":";if(_(U))for(var fe=0;fe<U.length;fe++)oe=U[fe],pe=ye+X(oe,fe),W+=L(oe,Y,Q,pe,de);else if(fe=T(U),typeof fe=="function")for(U=fe.call(U),fe=0;!(oe=U.next()).done;)oe=oe.value,pe=ye+X(oe,fe++),W+=L(oe,Y,Q,pe,de);else if(pe==="object"){if(typeof U.then=="function")return L(ae(U),Y,Q,oe,de);throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return W}function H(U,Y,Q){if(U==null)return U;var oe=[],de=0;return L(U,oe,"","",function(pe){return Y.call(Q,pe,de++)}),oe}function P(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(Q){(U._status===0||U._status===-1)&&(U._status=1,U._result=Q)},function(Q){(U._status===0||U._status===-1)&&(U._status=2,U._result=Q)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var V=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ce={map:H,forEach:function(U,Y,Q){H(U,function(){Y.apply(this,arguments)},Q)},count:function(U){var Y=0;return H(U,function(){Y++}),Y},toArray:function(U){return H(U,function(Y){return Y})||[]},only:function(U){if(!$(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Oe.Activity=y,Oe.Children=ce,Oe.Component=w,Oe.Fragment=o,Oe.Profiler=i,Oe.PureComponent=R,Oe.StrictMode=s,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},Oe.cache=function(U){return function(){return U.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(U,Y,Q){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var oe=b({},U.props),de=U.key;if(Y!=null)for(pe in Y.key!==void 0&&(de=""+Y.key),Y)!M.call(Y,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Y.ref===void 0||(oe[pe]=Y[pe]);var pe=arguments.length-2;if(pe===1)oe.children=Q;else if(1<pe){for(var W=Array(pe),ye=0;ye<pe;ye++)W[ye]=arguments[ye+2];oe.children=W}return z(U.type,de,oe)},Oe.createContext=function(U){return U={$$typeof:d,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Oe.createElement=function(U,Y,Q){var oe,de={},pe=null;if(Y!=null)for(oe in Y.key!==void 0&&(pe=""+Y.key),Y)M.call(Y,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(de[oe]=Y[oe]);var W=arguments.length-2;if(W===1)de.children=Q;else if(1<W){for(var ye=Array(W),fe=0;fe<W;fe++)ye[fe]=arguments[fe+2];de.children=ye}if(U&&U.defaultProps)for(oe in W=U.defaultProps,W)de[oe]===void 0&&(de[oe]=W[oe]);return z(U,pe,de)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(U){return{$$typeof:p,render:U}},Oe.isValidElement=$,Oe.lazy=function(U){return{$$typeof:x,_payload:{_status:-1,_result:U},_init:P}},Oe.memo=function(U,Y){return{$$typeof:g,type:U,compare:Y===void 0?null:Y}},Oe.startTransition=function(U){var Y=D.T,Q={};D.T=Q;try{var oe=U(),de=D.S;de!==null&&de(Q,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(k,V)}catch(pe){V(pe)}finally{Y!==null&&Q.types!==null&&(Y.types=Q.types),D.T=Y}},Oe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Oe.use=function(U){return D.H.use(U)},Oe.useActionState=function(U,Y,Q){return D.H.useActionState(U,Y,Q)},Oe.useCallback=function(U,Y){return D.H.useCallback(U,Y)},Oe.useContext=function(U){return D.H.useContext(U)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(U,Y){return D.H.useDeferredValue(U,Y)},Oe.useEffect=function(U,Y){return D.H.useEffect(U,Y)},Oe.useEffectEvent=function(U){return D.H.useEffectEvent(U)},Oe.useId=function(){return D.H.useId()},Oe.useImperativeHandle=function(U,Y,Q){return D.H.useImperativeHandle(U,Y,Q)},Oe.useInsertionEffect=function(U,Y){return D.H.useInsertionEffect(U,Y)},Oe.useLayoutEffect=function(U,Y){return D.H.useLayoutEffect(U,Y)},Oe.useMemo=function(U,Y){return D.H.useMemo(U,Y)},Oe.useOptimistic=function(U,Y){return D.H.useOptimistic(U,Y)},Oe.useReducer=function(U,Y,Q){return D.H.useReducer(U,Y,Q)},Oe.useRef=function(U){return D.H.useRef(U)},Oe.useState=function(U){return D.H.useState(U)},Oe.useSyncExternalStore=function(U,Y,Q){return D.H.useSyncExternalStore(U,Y,Q)},Oe.useTransition=function(){return D.H.useTransition()},Oe.version="19.2.4",Oe}var Ty;function Po(){return Ty||(Ty=1,Tf.exports=uE()),Tf.exports}var m=Po();const St=t0(m),n0=lE({__proto__:null,default:St},[m]);var Rf={exports:{}},vl={},Mf={exports:{}},Df={};var Ry;function dE(){return Ry||(Ry=1,(function(t){function a(L,H){var P=L.length;L.push(H);e:for(;0<P;){var V=P-1>>>1,ce=L[V];if(0<i(ce,H))L[V]=H,L[P]=ce,P=V;else break e}}function o(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var H=L[0],P=L.pop();if(P!==H){L[0]=P;e:for(var V=0,ce=L.length,U=ce>>>1;V<U;){var Y=2*(V+1)-1,Q=L[Y],oe=Y+1,de=L[oe];if(0>i(Q,P))oe<ce&&0>i(de,Q)?(L[V]=de,L[oe]=P,V=oe):(L[V]=Q,L[Y]=P,V=Y);else if(oe<ce&&0>i(de,P))L[V]=de,L[oe]=P,V=oe;else break e}}return H}function i(L,H){var P=L.sortIndex-H.sortIndex;return P!==0?P:L.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var h=[],g=[],x=1,y=null,C=3,T=!1,E=!1,b=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function A(L){for(var H=o(g);H!==null;){if(H.callback===null)s(g);else if(H.startTime<=L)s(g),H.sortIndex=H.expirationTime,a(h,H);else break;H=o(g)}}function _(L){if(b=!1,A(L),!E)if(o(h)!==null)E=!0,k||(k=!0,G());else{var H=o(g);H!==null&&ae(_,H.startTime-L)}}var k=!1,D=-1,M=5,z=-1;function I(){return S?!0:!(t.unstable_now()-z<M)}function $(){if(S=!1,k){var L=t.unstable_now();z=L;var H=!0;try{e:{E=!1,b&&(b=!1,j(D),D=-1),T=!0;var P=C;try{t:{for(A(L),y=o(h);y!==null&&!(y.expirationTime>L&&I());){var V=y.callback;if(typeof V=="function"){y.callback=null,C=y.priorityLevel;var ce=V(y.expirationTime<=L);if(L=t.unstable_now(),typeof ce=="function"){y.callback=ce,A(L),H=!0;break t}y===o(h)&&s(h),A(L)}else s(h);y=o(h)}if(y!==null)H=!0;else{var U=o(g);U!==null&&ae(_,U.startTime-L),H=!1}}break e}finally{y=null,C=P,T=!1}H=void 0}}finally{H?G():k=!1}}}var G;if(typeof R=="function")G=function(){R($)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=$,G=function(){X.postMessage(null)}}else G=function(){w($,0)};function ae(L,H){D=w(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(L){switch(C){case 1:case 2:case 3:var H=3;break;default:H=C}var P=C;C=H;try{return L()}finally{C=P}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var P=C;C=L;try{return H()}finally{C=P}},t.unstable_scheduleCallback=function(L,H,P){var V=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?V+P:V):P=V,L){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=P+ce,L={id:x++,callback:H,priorityLevel:L,startTime:P,expirationTime:ce,sortIndex:-1},P>V?(L.sortIndex=P,a(g,L),o(h)===null&&L===o(g)&&(b?(j(D),D=-1):b=!0,ae(_,P-V))):(L.sortIndex=ce,a(h,L),E||T||(E=!0,k||(k=!0,G()))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var H=C;return function(){var P=C;C=H;try{return L.apply(this,arguments)}finally{C=P}}}})(Df)),Df}var My;function fE(){return My||(My=1,Mf.exports=dE()),Mf.exports}var _f={exports:{}},nn={};var Dy;function pE(){if(Dy)return nn;Dy=1;var t=Po();function a(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},i=Symbol.for("react.portal");function u(h,g,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:h,containerInfo:g,implementation:x}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(h,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return u(h,g,null,x)},nn.flushSync=function(h){var g=d.T,x=s.p;try{if(d.T=null,s.p=2,h)return h()}finally{d.T=g,s.p=x,s.d.f()}},nn.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(h,g))},nn.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},nn.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var x=g.as,y=p(x,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:C,fetchPriority:T}):x==="script"&&s.d.X(h,{crossOrigin:y,integrity:C,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=p(g.as,g.crossOrigin);s.d.M(h,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(h)},nn.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,y=p(x,g.crossOrigin);s.d.L(h,x,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(h,g){if(typeof h=="string")if(g){var x=p(g.as,g.crossOrigin);s.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(h)},nn.requestFormReset=function(h){s.d.r(h)},nn.unstable_batchedUpdates=function(h,g){return h(g)},nn.useFormState=function(h,g,x){return d.H.useFormState(h,g,x)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var _y;function Hc(){if(_y)return _f.exports;_y=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),_f.exports=pE(),_f.exports}var Ay;function mE(){if(Ay)return vl;Ay=1;var t=fE(),a=Po(),o=Hc();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var f=r.return;if(f===null)break;var v=f.alternate;if(v===null){if(l=f.return,l!==null){r=l;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===r)return h(f),e;if(v===l)return h(f),n;v=v.sibling}throw Error(s(188))}if(r.return!==l.return)r=f,l=v;else{for(var N=!1,O=f.child;O;){if(O===r){N=!0,r=f,l=v;break}if(O===l){N=!0,l=f,r=v;break}O=O.sibling}if(!N){for(O=v.child;O;){if(O===r){N=!0,r=v,l=f;break}if(O===l){N=!0,l=v,r=f;break}O=O.sibling}if(!N)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,C=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),R=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var q=Symbol.for("react.client.reference");function X(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case R:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case A:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:X(e.type)||"Memo";case M:n=e._payload,e=e._init;try{return X(e(n))}catch{}}return null}var ae=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},V=[],ce=-1;function U(e){return{current:e}}function Y(e){0>ce||(e.current=V[ce],V[ce]=null,ce--)}function Q(e,n){ce++,V[ce]=e.current,e.current=n}var oe=U(null),de=U(null),pe=U(null),W=U(null);function ye(e,n){switch(Q(pe,n),Q(de,e),Q(oe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Gv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Gv(n),e=Xv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(oe),Q(oe,e)}function fe(){Y(oe),Y(de),Y(pe)}function me(e){e.memoizedState!==null&&Q(W,e);var n=oe.current,r=Xv(n,e.type);n!==r&&(Q(de,e),Q(oe,r))}function he(e){de.current===e&&(Y(oe),Y(de)),W.current===e&&(Y(W),fl._currentValue=P)}var be,Ae;function Je(e){if(be===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);be=n&&n[1]||"",Ae=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+e+Ae}var ft=!1;function rt(e,n){if(!e||ft)return"";ft=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(te){var ee=te}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(te){ee=te}e.call(ie.prototype)}}else{try{throw Error()}catch(te){ee=te}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=l.DetermineComponentFrameRoot(),N=v[0],O=v[1];if(N&&O){var B=N.split(`
`),J=O.split(`
`);for(f=l=0;l<B.length&&!B[l].includes("DetermineComponentFrameRoot");)l++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(l===B.length||f===J.length)for(l=B.length-1,f=J.length-1;1<=l&&0<=f&&B[l]!==J[f];)f--;for(;1<=l&&0<=f;l--,f--)if(B[l]!==J[f]){if(l!==1||f!==1)do if(l--,f--,0>f||B[l]!==J[f]){var re=`
`+B[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=f);break}}}finally{ft=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Je(r):""}function st(e,n){switch(e.tag){case 26:case 27:case 5:return Je(e.type);case 16:return Je("Lazy");case 13:return e.child!==n&&n!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);case 31:return Je("Activity");default:return""}}function bn(e){try{var n="",r=null;do n+=st(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var at=Object.prototype.hasOwnProperty,et=t.unstable_scheduleCallback,Tt=t.unstable_cancelCallback,Rt=t.unstable_shouldYield,rn=t.unstable_requestPaint,kt=t.unstable_now,dn=t.unstable_getCurrentPriorityLevel,Kn=t.unstable_ImmediatePriority,Sn=t.unstable_UserBlockingPriority,It=t.unstable_NormalPriority,Wn=t.unstable_LowPriority,Qn=t.unstable_IdlePriority,An=t.log,fn=t.unstable_setDisableYieldValue,wn=null,Mt=null;function sn(e){if(typeof An=="function"&&fn(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(wn,e)}catch{}}var zt=Math.clz32?Math.clz32:qo,Kt=Math.log,Io=Math.LN2;function qo(e){return e>>>=0,e===0?32:31-(Kt(e)/Io|0)|0}var le=256,it=262144,Pe=4194304;function He(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ct(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var f=0,v=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var O=l&134217727;return O!==0?(l=O&~v,l!==0?f=He(l):(N&=O,N!==0?f=He(N):r||(r=O&~e,r!==0&&(f=He(r))))):(O=l&~v,O!==0?f=He(O):N!==0?f=He(N):r||(r=l&~e,r!==0&&(f=He(r)))),f===0?0:n!==0&&n!==f&&(n&v)===0&&(v=f&-f,r=n&-n,v>=r||v===32&&(r&4194048)!==0)?n:f}function Ze(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Lt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yt(){var e=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),e}function Vt(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Dt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pn(e,n,r,l,f,v){var N=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var O=e.entanglements,B=e.expirationTimes,J=e.hiddenUpdates;for(r=N&~r;0<r;){var re=31-zt(r),ie=1<<re;O[re]=0,B[re]=-1;var ee=J[re];if(ee!==null)for(J[re]=null,re=0;re<ee.length;re++){var te=ee[re];te!==null&&(te.lane&=-536870913)}r&=~ie}l!==0&&ln(e,l,0),v!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=v&~(N&~n))}function ln(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-zt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Zn(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-zt(r),f=1<<l;f&n|e[l]&n&&(e[l]|=n),r&=~f}}function Jn(e,n){var r=n&-n;return r=(r&42)!==0?1:Ee(r),(r&(e.suspendedLanes|n))!==0?0:r}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ze(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Te(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:vy(e.type))}function We(e,n){var r=H.p;try{return H.p=e,n()}finally{H.p=r}}var Fe=Math.random().toString(36).slice(2),_e="__reactFiber$"+Fe,Ie="__reactProps$"+Fe,yt="__reactContainer$"+Fe,pt="__reactEvents$"+Fe,Gt="__reactListeners$"+Fe,yr="__reactHandles$"+Fe,On="__reactResources$"+Fe,ea="__reactMarker$"+Fe;function to(e){delete e[_e],delete e[Ie],delete e[pt],delete e[Gt],delete e[yr]}function lt(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[yt]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=ty(e);e!==null;){if(r=e[_e])return r;e=ty(e)}return n}e=r,r=e.parentNode}return null}function fa(e){if(e=e[_e]||e[yt]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ta(e){var n=e[On];return n||(n=e[On]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Et(e){e[ea]=!0}var zm=new Set,Lm={};function $o(e,n){xr(e,n),xr(e+"Capture",n)}function xr(e,n){for(Lm[e]=n,e=0;e<n.length;e++)zm.add(n[e])}var Z1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pm={},Um={};function J1(e){return at.call(Um,e)?!0:at.call(Pm,e)?!1:Z1.test(e)?Um[e]=!0:(Pm[e]=!0,!1)}function Gl(e,n,r){if(J1(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Xl(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ra(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function kn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function eC(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,v=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(N){r=""+N,v.call(this,N)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(N){r=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function yu(e){if(!e._valueTracker){var n=Bm(e)?"checked":"value";e._valueTracker=eC(e,n,""+e[n])}}function Hm(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=Bm(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function Kl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tC=/[\n"\\]/g;function zn(e){return e.replace(tC,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xu(e,n,r,l,f,v,N,O){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+kn(n)):e.value!==""+kn(n)&&(e.value=""+kn(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?bu(e,N,kn(n)):r!=null?bu(e,N,kn(r)):l!=null&&e.removeAttribute("value"),f==null&&v!=null&&(e.defaultChecked=!!v),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+kn(O):e.removeAttribute("name")}function Im(e,n,r,l,f,v,N,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),n!=null||r!=null){if(!(v!=="submit"&&v!=="reset"||n!=null)){yu(e);return}r=r!=null?""+kn(r):"",n=n!=null?""+kn(n):r,O||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=O?e.checked:!!l,e.defaultChecked=!!l,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),yu(e)}function bu(e,n,r){n==="number"&&Kl(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function br(e,n,r,l){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&l&&(e[r].defaultSelected=!0)}else{for(r=""+kn(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function qm(e,n,r){if(n!=null&&(n=""+kn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+kn(r):""}function $m(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=kn(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),yu(e)}function Sr(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var nC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fm(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||nC.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ym(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&r[f]!==l&&Fm(e,f,l)}else for(var v in n)n.hasOwnProperty(v)&&Fm(e,v,n[v])}function Su(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(e){return oC.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ma(){}var wu=null;function Cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wr=null,Cr=null;function Vm(e){var n=fa(e);if(n&&(e=n.stateNode)){var r=e[Ie]||null;e:switch(e=n.stateNode,n.type){case"input":if(xu(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+zn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var f=l[Ie]||null;if(!f)throw Error(s(90));xu(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&Hm(l)}break e;case"textarea":qm(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&br(e,!!r.multiple,n,!1)}}}var Eu=!1;function Gm(e,n,r){if(Eu)return e(n,r);Eu=!0;try{var l=e(n);return l}finally{if(Eu=!1,(wr!==null||Cr!==null)&&(Pi(),wr&&(n=wr,e=Cr,Cr=wr=null,Vm(n),e)))for(n=0;n<e.length;n++)Vm(e[n])}}function Ms(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Ie]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=!1;if(Da)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Nu=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Nu=!1}var no=null,ju=null,Ql=null;function Xm(){if(Ql)return Ql;var e,n=ju,r=n.length,l,f="value"in no?no.value:no.textContent,v=f.length;for(e=0;e<r&&n[e]===f[e];e++);var N=r-e;for(l=1;l<=N&&n[r-l]===f[v-l];l++);return Ql=f.slice(e,1<l?1-l:void 0)}function Zl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Jl(){return!0}function Km(){return!1}function mn(e){function n(r,l,f,v,N){this._reactName=r,this._targetInst=f,this.type=l,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(r=e[O],this[O]=r?r(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Jl:Km,this.isPropagationStopped=Km,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),n}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=mn(Fo),_s=y({},Fo,{view:0,detail:0}),rC=mn(_s),Tu,Ru,As,ti=y({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(Tu=e.screenX-As.screenX,Ru=e.screenY-As.screenY):Ru=Tu=0,As=e),Tu)},movementY:function(e){return"movementY"in e?e.movementY:Ru}}),Wm=mn(ti),sC=y({},ti,{dataTransfer:0}),lC=mn(sC),iC=y({},_s,{relatedTarget:0}),Mu=mn(iC),cC=y({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),uC=mn(cC),dC=y({},Fo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fC=mn(dC),pC=y({},Fo,{data:0}),Qm=mn(pC),mC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vC(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gC[e])?!!n[e]:!1}function Du(){return vC}var yC=y({},_s,{key:function(e){if(e.key){var n=mC[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xC=mn(yC),bC=y({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zm=mn(bC),SC=y({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),wC=mn(SC),CC=y({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),EC=mn(CC),NC=y({},ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jC=mn(NC),TC=y({},Fo,{newState:0,oldState:0}),RC=mn(TC),MC=[9,13,27,32],_u=Da&&"CompositionEvent"in window,Os=null;Da&&"documentMode"in document&&(Os=document.documentMode);var DC=Da&&"TextEvent"in window&&!Os,Jm=Da&&(!_u||Os&&8<Os&&11>=Os),eh=" ",th=!1;function nh(e,n){switch(e){case"keyup":return MC.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Er=!1;function _C(e,n){switch(e){case"compositionend":return ah(n);case"keypress":return n.which!==32?null:(th=!0,eh);case"textInput":return e=n.data,e===eh&&th?null:e;default:return null}}function AC(e,n){if(Er)return e==="compositionend"||!_u&&nh(e,n)?(e=Xm(),Ql=ju=no=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Jm&&n.locale!=="ko"?null:n.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!OC[e.type]:n==="textarea"}function rh(e,n,r,l){wr?Cr?Cr.push(l):Cr=[l]:wr=l,n=Fi(n,"onChange"),0<n.length&&(r=new ei("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var ks=null,zs=null;function kC(e){Iv(e,0)}function ni(e){var n=pa(e);if(Hm(n))return e}function sh(e,n){if(e==="change")return n}var lh=!1;if(Da){var Au;if(Da){var Ou="oninput"in document;if(!Ou){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),Ou=typeof ih.oninput=="function"}Au=Ou}else Au=!1;lh=Au&&(!document.documentMode||9<document.documentMode)}function ch(){ks&&(ks.detachEvent("onpropertychange",uh),zs=ks=null)}function uh(e){if(e.propertyName==="value"&&ni(zs)){var n=[];rh(n,zs,e,Cu(e)),Gm(kC,n)}}function zC(e,n,r){e==="focusin"?(ch(),ks=n,zs=r,ks.attachEvent("onpropertychange",uh)):e==="focusout"&&ch()}function LC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ni(zs)}function PC(e,n){if(e==="click")return ni(n)}function UC(e,n){if(e==="input"||e==="change")return ni(n)}function BC(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Cn=typeof Object.is=="function"?Object.is:BC;function Ls(e,n){if(Cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var f=r[l];if(!at.call(n,f)||!Cn(e[f],n[f]))return!1}return!0}function dh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fh(e,n){var r=dh(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dh(r)}}function ph(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ph(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Kl(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Kl(e.document)}return n}function ku(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var HC=Da&&"documentMode"in document&&11>=document.documentMode,Nr=null,zu=null,Ps=null,Lu=!1;function hh(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lu||Nr==null||Nr!==Kl(l)||(l=Nr,"selectionStart"in l&&ku(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ps&&Ls(Ps,l)||(Ps=l,l=Fi(zu,"onSelect"),0<l.length&&(n=new ei("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=Nr)))}function Yo(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var jr={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionrun:Yo("Transition","TransitionRun"),transitionstart:Yo("Transition","TransitionStart"),transitioncancel:Yo("Transition","TransitionCancel"),transitionend:Yo("Transition","TransitionEnd")},Pu={},gh={};Da&&(gh=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function Vo(e){if(Pu[e])return Pu[e];if(!jr[e])return e;var n=jr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in gh)return Pu[e]=n[r];return e}var vh=Vo("animationend"),yh=Vo("animationiteration"),xh=Vo("animationstart"),IC=Vo("transitionrun"),qC=Vo("transitionstart"),$C=Vo("transitioncancel"),bh=Vo("transitionend"),Sh=new Map,Uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uu.push("scrollEnd");function na(e,n){Sh.set(e,n),$o(n,[e])}var ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],Tr=0,Bu=0;function oi(){for(var e=Tr,n=Bu=Tr=0;n<e;){var r=Ln[n];Ln[n++]=null;var l=Ln[n];Ln[n++]=null;var f=Ln[n];Ln[n++]=null;var v=Ln[n];if(Ln[n++]=null,l!==null&&f!==null){var N=l.pending;N===null?f.next=f:(f.next=N.next,N.next=f),l.pending=f}v!==0&&wh(r,f,v)}}function ri(e,n,r,l){Ln[Tr++]=e,Ln[Tr++]=n,Ln[Tr++]=r,Ln[Tr++]=l,Bu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Hu(e,n,r,l){return ri(e,n,r,l),si(e)}function Go(e,n){return ri(e,null,null,n),si(e)}function wh(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var f=!1,v=e.return;v!==null;)v.childLanes|=r,l=v.alternate,l!==null&&(l.childLanes|=r),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(f=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,f&&n!==null&&(f=31-zt(r),e=v.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=r|536870912),v):null}function si(e){if(50<rl)throw rl=0,Kd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Rr={};function FC(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,r,l){return new FC(e,n,r,l)}function Iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _a(e,n){var r=e.alternate;return r===null?(r=En(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ch(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function li(e,n,r,l,f,v){var N=0;if(l=e,typeof e=="function")Iu(e)&&(N=1);else if(typeof e=="string")N=K2(e,r,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case z:return e=En(31,r,n,f),e.elementType=z,e.lanes=v,e;case b:return Xo(r.children,f,v,n);case S:N=8,f|=24;break;case w:return e=En(12,r,n,f|2),e.elementType=w,e.lanes=v,e;case _:return e=En(13,r,n,f),e.elementType=_,e.lanes=v,e;case k:return e=En(19,r,n,f),e.elementType=k,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:N=10;break e;case j:N=9;break e;case A:N=11;break e;case D:N=14;break e;case M:N=16,l=null;break e}N=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=En(N,r,n,f),n.elementType=e,n.type=l,n.lanes=v,n}function Xo(e,n,r,l){return e=En(7,e,l,n),e.lanes=r,e}function qu(e,n,r){return e=En(6,e,null,n),e.lanes=r,e}function Eh(e){var n=En(18,null,null,0);return n.stateNode=e,n}function $u(e,n,r){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Nh=new WeakMap;function Pn(e,n){if(typeof e=="object"&&e!==null){var r=Nh.get(e);return r!==void 0?r:(n={value:e,source:n,stack:bn(n)},Nh.set(e,n),n)}return{value:e,source:n,stack:bn(n)}}var Mr=[],Dr=0,ii=null,Us=0,Un=[],Bn=0,ao=null,ma=1,ha="";function Aa(e,n){Mr[Dr++]=Us,Mr[Dr++]=ii,ii=e,Us=n}function jh(e,n,r){Un[Bn++]=ma,Un[Bn++]=ha,Un[Bn++]=ao,ao=e;var l=ma;e=ha;var f=32-zt(l)-1;l&=~(1<<f),r+=1;var v=32-zt(n)+f;if(30<v){var N=f-f%5;v=(l&(1<<N)-1).toString(32),l>>=N,f-=N,ma=1<<32-zt(n)+f|r<<f|l,ha=v+e}else ma=1<<v|r<<f|l,ha=e}function Fu(e){e.return!==null&&(Aa(e,1),jh(e,1,0))}function Yu(e){for(;e===ii;)ii=Mr[--Dr],Mr[Dr]=null,Us=Mr[--Dr],Mr[Dr]=null;for(;e===ao;)ao=Un[--Bn],Un[Bn]=null,ha=Un[--Bn],Un[Bn]=null,ma=Un[--Bn],Un[Bn]=null}function Th(e,n){Un[Bn++]=ma,Un[Bn++]=ha,Un[Bn++]=ao,ma=n.id,ha=n.overflow,ao=e}var Wt=null,xt=null,Qe=!1,oo=null,Hn=!1,Vu=Error(s(519));function ro(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bs(Pn(n,e)),Vu}function Rh(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[_e]=e,n[Ie]=l,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(r=0;r<ll.length;r++)Ve(ll[r],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),Im(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),$m(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Yv(n.textContent,r)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=Ma),n=!0):n=!1,n||ro(e,!0)}function Mh(e){for(Wt=e.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Wt=Wt.return}}function _r(e){if(e!==Wt)return!1;if(!Qe)return Mh(e),Qe=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||df(e.type,e.memoizedProps)),r=!r),r&&xt&&ro(e),Mh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));xt=ey(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));xt=ey(e)}else n===27?(n=xt,bo(e.type)?(e=gf,gf=null,xt=e):xt=n):xt=Wt?qn(e.stateNode.nextSibling):null;return!0}function Ko(){xt=Wt=null,Qe=!1}function Gu(){var e=oo;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),oo=null),e}function Bs(e){oo===null?oo=[e]:oo.push(e)}var Xu=U(null),Wo=null,Oa=null;function so(e,n,r){Q(Xu,n._currentValue),n._currentValue=r}function ka(e){e._currentValue=Xu.current,Y(Xu)}function Ku(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Wu(e,n,r,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var v=f.dependencies;if(v!==null){var N=f.child;v=v.firstContext;e:for(;v!==null;){var O=v;v=f;for(var B=0;B<n.length;B++)if(O.context===n[B]){v.lanes|=r,O=v.alternate,O!==null&&(O.lanes|=r),Ku(v.return,r,e),l||(N=null);break e}v=O.next}}else if(f.tag===18){if(N=f.return,N===null)throw Error(s(341));N.lanes|=r,v=N.alternate,v!==null&&(v.lanes|=r),Ku(N,r,e),N=null}else N=f.child;if(N!==null)N.return=f;else for(N=f;N!==null;){if(N===e){N=null;break}if(f=N.sibling,f!==null){f.return=N.return,N=f;break}N=N.return}f=N}}function Ar(e,n,r,l){e=null;for(var f=n,v=!1;f!==null;){if(!v){if((f.flags&524288)!==0)v=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var N=f.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var O=f.type;Cn(f.pendingProps.value,N.value)||(e!==null?e.push(O):e=[O])}}else if(f===W.current){if(N=f.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}f=f.return}e!==null&&Wu(n,e,r,l),n.flags|=262144}function ci(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qo(e){Wo=e,Oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return Dh(Wo,e)}function ui(e,n){return Wo===null&&Qo(e),Dh(e,n)}function Dh(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Oa===null){if(e===null)throw Error(s(308));Oa=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Oa=Oa.next=n;return r}var YC=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},VC=t.unstable_scheduleCallback,GC=t.unstable_NormalPriority,Pt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new YC,data:new Map,refCount:0}}function Hs(e){e.refCount--,e.refCount===0&&VC(GC,function(){e.controller.abort()})}var Is=null,Zu=0,Or=0,kr=null;function XC(e,n){if(Is===null){var r=Is=[];Zu=0,Or=tf(),kr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Zu++,n.then(_h,_h),n}function _h(){if(--Zu===0&&Is!==null){kr!==null&&(kr.status="fulfilled");var e=Is;Is=null,Or=0,kr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function KC(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),l}var Ah=L.S;L.S=function(e,n){hv=kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&XC(e,n),Ah!==null&&Ah(e,n)};var Zo=U(null);function Ju(){var e=Zo.current;return e!==null?e:vt.pooledCache}function di(e,n){n===null?Q(Zo,Zo.current):Q(Zo,n.pool)}function Oh(){var e=Ju();return e===null?null:{parent:Pt._currentValue,pool:e}}var zr=Error(s(460)),ed=Error(s(474)),fi=Error(s(542)),pi={then:function(){}};function kh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zh(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Ma,Ma),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ph(e),e;default:if(typeof n.status=="string")n.then(Ma,Ma);else{if(e=vt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ph(e),e}throw er=n,zr}}function Jo(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(er=r,zr):r}}var er=null;function Lh(){if(er===null)throw Error(s(459));var e=er;return er=null,e}function Ph(e){if(e===zr||e===fi)throw Error(s(483))}var Lr=null,qs=0;function mi(e){var n=qs;return qs+=1,Lr===null&&(Lr=[]),zh(Lr,e,n)}function $s(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function hi(e,n){throw n.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Uh(e){function n(K,F){if(e){var Z=K.deletions;Z===null?(K.deletions=[F],K.flags|=16):Z.push(F)}}function r(K,F){if(!e)return null;for(;F!==null;)n(K,F),F=F.sibling;return null}function l(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function f(K,F){return K=_a(K,F),K.index=0,K.sibling=null,K}function v(K,F,Z){return K.index=Z,e?(Z=K.alternate,Z!==null?(Z=Z.index,Z<F?(K.flags|=67108866,F):Z):(K.flags|=67108866,F)):(K.flags|=1048576,F)}function N(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function O(K,F,Z,se){return F===null||F.tag!==6?(F=qu(Z,K.mode,se),F.return=K,F):(F=f(F,Z),F.return=K,F)}function B(K,F,Z,se){var je=Z.type;return je===b?re(K,F,Z.props.children,se,Z.key):F!==null&&(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===M&&Jo(je)===F.type)?(F=f(F,Z.props),$s(F,Z),F.return=K,F):(F=li(Z.type,Z.key,Z.props,null,K.mode,se),$s(F,Z),F.return=K,F)}function J(K,F,Z,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==Z.containerInfo||F.stateNode.implementation!==Z.implementation?(F=$u(Z,K.mode,se),F.return=K,F):(F=f(F,Z.children||[]),F.return=K,F)}function re(K,F,Z,se,je){return F===null||F.tag!==7?(F=Xo(Z,K.mode,se,je),F.return=K,F):(F=f(F,Z),F.return=K,F)}function ie(K,F,Z){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=qu(""+F,K.mode,Z),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return Z=li(F.type,F.key,F.props,null,K.mode,Z),$s(Z,F),Z.return=K,Z;case E:return F=$u(F,K.mode,Z),F.return=K,F;case M:return F=Jo(F),ie(K,F,Z)}if(ae(F)||G(F))return F=Xo(F,K.mode,Z,null),F.return=K,F;if(typeof F.then=="function")return ie(K,mi(F),Z);if(F.$$typeof===R)return ie(K,ui(K,F),Z);hi(K,F)}return null}function ee(K,F,Z,se){var je=F!==null?F.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return je!==null?null:O(K,F,""+Z,se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return Z.key===je?B(K,F,Z,se):null;case E:return Z.key===je?J(K,F,Z,se):null;case M:return Z=Jo(Z),ee(K,F,Z,se)}if(ae(Z)||G(Z))return je!==null?null:re(K,F,Z,se,null);if(typeof Z.then=="function")return ee(K,F,mi(Z),se);if(Z.$$typeof===R)return ee(K,F,ui(K,Z),se);hi(K,Z)}return null}function te(K,F,Z,se,je){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return K=K.get(Z)||null,O(F,K,""+se,je);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return K=K.get(se.key===null?Z:se.key)||null,B(F,K,se,je);case E:return K=K.get(se.key===null?Z:se.key)||null,J(F,K,se,je);case M:return se=Jo(se),te(K,F,Z,se,je)}if(ae(se)||G(se))return K=K.get(Z)||null,re(F,K,se,je,null);if(typeof se.then=="function")return te(K,F,Z,mi(se),je);if(se.$$typeof===R)return te(K,F,Z,ui(F,se),je);hi(F,se)}return null}function Se(K,F,Z,se){for(var je=null,tt=null,Ne=F,Be=F=0,Ke=null;Ne!==null&&Be<Z.length;Be++){Ne.index>Be?(Ke=Ne,Ne=null):Ke=Ne.sibling;var nt=ee(K,Ne,Z[Be],se);if(nt===null){Ne===null&&(Ne=Ke);break}e&&Ne&&nt.alternate===null&&n(K,Ne),F=v(nt,F,Be),tt===null?je=nt:tt.sibling=nt,tt=nt,Ne=Ke}if(Be===Z.length)return r(K,Ne),Qe&&Aa(K,Be),je;if(Ne===null){for(;Be<Z.length;Be++)Ne=ie(K,Z[Be],se),Ne!==null&&(F=v(Ne,F,Be),tt===null?je=Ne:tt.sibling=Ne,tt=Ne);return Qe&&Aa(K,Be),je}for(Ne=l(Ne);Be<Z.length;Be++)Ke=te(Ne,K,Be,Z[Be],se),Ke!==null&&(e&&Ke.alternate!==null&&Ne.delete(Ke.key===null?Be:Ke.key),F=v(Ke,F,Be),tt===null?je=Ke:tt.sibling=Ke,tt=Ke);return e&&Ne.forEach(function(No){return n(K,No)}),Qe&&Aa(K,Be),je}function Re(K,F,Z,se){if(Z==null)throw Error(s(151));for(var je=null,tt=null,Ne=F,Be=F=0,Ke=null,nt=Z.next();Ne!==null&&!nt.done;Be++,nt=Z.next()){Ne.index>Be?(Ke=Ne,Ne=null):Ke=Ne.sibling;var No=ee(K,Ne,nt.value,se);if(No===null){Ne===null&&(Ne=Ke);break}e&&Ne&&No.alternate===null&&n(K,Ne),F=v(No,F,Be),tt===null?je=No:tt.sibling=No,tt=No,Ne=Ke}if(nt.done)return r(K,Ne),Qe&&Aa(K,Be),je;if(Ne===null){for(;!nt.done;Be++,nt=Z.next())nt=ie(K,nt.value,se),nt!==null&&(F=v(nt,F,Be),tt===null?je=nt:tt.sibling=nt,tt=nt);return Qe&&Aa(K,Be),je}for(Ne=l(Ne);!nt.done;Be++,nt=Z.next())nt=te(Ne,K,Be,nt.value,se),nt!==null&&(e&&nt.alternate!==null&&Ne.delete(nt.key===null?Be:nt.key),F=v(nt,F,Be),tt===null?je=nt:tt.sibling=nt,tt=nt);return e&&Ne.forEach(function(sE){return n(K,sE)}),Qe&&Aa(K,Be),je}function gt(K,F,Z,se){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:e:{for(var je=Z.key;F!==null;){if(F.key===je){if(je=Z.type,je===b){if(F.tag===7){r(K,F.sibling),se=f(F,Z.props.children),se.return=K,K=se;break e}}else if(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===M&&Jo(je)===F.type){r(K,F.sibling),se=f(F,Z.props),$s(se,Z),se.return=K,K=se;break e}r(K,F);break}else n(K,F);F=F.sibling}Z.type===b?(se=Xo(Z.props.children,K.mode,se,Z.key),se.return=K,K=se):(se=li(Z.type,Z.key,Z.props,null,K.mode,se),$s(se,Z),se.return=K,K=se)}return N(K);case E:e:{for(je=Z.key;F!==null;){if(F.key===je)if(F.tag===4&&F.stateNode.containerInfo===Z.containerInfo&&F.stateNode.implementation===Z.implementation){r(K,F.sibling),se=f(F,Z.children||[]),se.return=K,K=se;break e}else{r(K,F);break}else n(K,F);F=F.sibling}se=$u(Z,K.mode,se),se.return=K,K=se}return N(K);case M:return Z=Jo(Z),gt(K,F,Z,se)}if(ae(Z))return Se(K,F,Z,se);if(G(Z)){if(je=G(Z),typeof je!="function")throw Error(s(150));return Z=je.call(Z),Re(K,F,Z,se)}if(typeof Z.then=="function")return gt(K,F,mi(Z),se);if(Z.$$typeof===R)return gt(K,F,ui(K,Z),se);hi(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,F!==null&&F.tag===6?(r(K,F.sibling),se=f(F,Z),se.return=K,K=se):(r(K,F),se=qu(Z,K.mode,se),se.return=K,K=se),N(K)):r(K,F)}return function(K,F,Z,se){try{qs=0;var je=gt(K,F,Z,se);return Lr=null,je}catch(Ne){if(Ne===zr||Ne===fi)throw Ne;var tt=En(29,Ne,null,K.mode);return tt.lanes=se,tt.return=K,tt}}}var tr=Uh(!0),Bh=Uh(!1),lo=!1;function td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function co(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ot&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=si(e),wh(e,null,r),n}return ri(e,l,n,r),si(e)}function Fs(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Zn(e,r)}}function ad(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var f=null,v=null;if(r=r.firstBaseUpdate,r!==null){do{var N={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};v===null?f=v=N:v=v.next=N,r=r.next}while(r!==null);v===null?f=v=n:v=v.next=n}else f=v=n;r={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var od=!1;function Ys(){if(od){var e=kr;if(e!==null)throw e}}function Vs(e,n,r,l){od=!1;var f=e.updateQueue;lo=!1;var v=f.firstBaseUpdate,N=f.lastBaseUpdate,O=f.shared.pending;if(O!==null){f.shared.pending=null;var B=O,J=B.next;B.next=null,N===null?v=J:N.next=J,N=B;var re=e.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==N&&(O===null?re.firstBaseUpdate=J:O.next=J,re.lastBaseUpdate=B))}if(v!==null){var ie=f.baseState;N=0,re=J=B=null,O=v;do{var ee=O.lane&-536870913,te=ee!==O.lane;if(te?(Xe&ee)===ee:(l&ee)===ee){ee!==0&&ee===Or&&(od=!0),re!==null&&(re=re.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Se=e,Re=O;ee=n;var gt=r;switch(Re.tag){case 1:if(Se=Re.payload,typeof Se=="function"){ie=Se.call(gt,ie,ee);break e}ie=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Re.payload,ee=typeof Se=="function"?Se.call(gt,ie,ee):Se,ee==null)break e;ie=y({},ie,ee);break e;case 2:lo=!0}}ee=O.callback,ee!==null&&(e.flags|=64,te&&(e.flags|=8192),te=f.callbacks,te===null?f.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(J=re=te,B=ie):re=re.next=te,N|=ee;if(O=O.next,O===null){if(O=f.shared.pending,O===null)break;te=O,O=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);re===null&&(B=ie),f.baseState=B,f.firstBaseUpdate=J,f.lastBaseUpdate=re,v===null&&(f.shared.lanes=0),ho|=N,e.lanes=N,e.memoizedState=ie}}function Hh(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ih(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Hh(r[e],n)}var Pr=U(null),gi=U(0);function qh(e,n){e=$a,Q(gi,e),Q(Pr,n),$a=e|n.baseLanes}function rd(){Q(gi,$a),Q(Pr,Pr.current)}function sd(){$a=gi.current,Y(Pr),Y(gi)}var Nn=U(null),In=null;function uo(e){var n=e.alternate;Q(_t,_t.current&1),Q(Nn,e),In===null&&(n===null||Pr.current!==null||n.memoizedState!==null)&&(In=e)}function ld(e){Q(_t,_t.current),Q(Nn,e),In===null&&(In=e)}function $h(e){e.tag===22?(Q(_t,_t.current),Q(Nn,e),In===null&&(In=e)):fo()}function fo(){Q(_t,_t.current),Q(Nn,Nn.current)}function jn(e){Y(Nn),In===e&&(In=null),Y(_t)}var _t=U(0);function vi(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||mf(r)||hf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var za=0,Ue=null,mt=null,Ut=null,yi=!1,Ur=!1,nr=!1,xi=0,Gs=0,Br=null,WC=0;function Nt(){throw Error(s(321))}function id(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Cn(e[r],n[r]))return!1;return!0}function cd(e,n,r,l,f,v){return za=v,Ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?jg:Ed,nr=!1,v=r(l,f),nr=!1,Ur&&(v=Yh(n,r,l,f)),Fh(e),v}function Fh(e){L.H=Ws;var n=mt!==null&&mt.next!==null;if(za=0,Ut=mt=Ue=null,yi=!1,Gs=0,Br=null,n)throw Error(s(300));e===null||Bt||(e=e.dependencies,e!==null&&ci(e)&&(Bt=!0))}function Yh(e,n,r,l){Ue=e;var f=0;do{if(Ur&&(Br=null),Gs=0,Ur=!1,25<=f)throw Error(s(301));if(f+=1,Ut=mt=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}L.H=Tg,v=n(r,l)}while(Ur);return v}function QC(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?Xs(n):n,e=e.useState()[0],(mt!==null?mt.memoizedState:null)!==e&&(Ue.flags|=1024),n}function ud(){var e=xi!==0;return xi=0,e}function dd(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function fd(e){if(yi){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}yi=!1}za=0,Ut=mt=Ue=null,Ur=!1,Gs=xi=0,Br=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ue.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function At(){if(mt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var n=Ut===null?Ue.memoizedState:Ut.next;if(n!==null)Ut=n,mt=e;else{if(e===null)throw Ue.alternate===null?Error(s(467)):Error(s(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ut===null?Ue.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function bi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(e){var n=Gs;return Gs+=1,Br===null&&(Br=[]),e=zh(Br,e,n),n=Ue,(Ut===null?n.memoizedState:Ut.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?jg:Ed),e}function Si(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xs(e);if(e.$$typeof===R)return Qt(e)}throw Error(s(438,String(e)))}function pd(e){var n=null,r=Ue.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=bi(),Ue.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=I;return n.index++,r}function La(e,n){return typeof n=="function"?n(e):n}function wi(e){var n=At();return md(n,mt,e)}function md(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var f=e.baseQueue,v=l.pending;if(v!==null){if(f!==null){var N=f.next;f.next=v.next,v.next=N}n.baseQueue=f=v,l.pending=null}if(v=e.baseState,f===null)e.memoizedState=v;else{n=f.next;var O=N=null,B=null,J=n,re=!1;do{var ie=J.lane&-536870913;if(ie!==J.lane?(Xe&ie)===ie:(za&ie)===ie){var ee=J.revertLane;if(ee===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ie===Or&&(re=!0);else if((za&ee)===ee){J=J.next,ee===Or&&(re=!0);continue}else ie={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(O=B=ie,N=v):B=B.next=ie,Ue.lanes|=ee,ho|=ee;ie=J.action,nr&&r(v,ie),v=J.hasEagerState?J.eagerState:r(v,ie)}else ee={lane:ie,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(O=B=ee,N=v):B=B.next=ee,Ue.lanes|=ie,ho|=ie;J=J.next}while(J!==null&&J!==n);if(B===null?N=v:B.next=O,!Cn(v,e.memoizedState)&&(Bt=!0,re&&(r=kr,r!==null)))throw r;e.memoizedState=v,e.baseState=N,e.baseQueue=B,l.lastRenderedState=v}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function hd(e){var n=At(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,f=r.pending,v=n.memoizedState;if(f!==null){r.pending=null;var N=f=f.next;do v=e(v,N.action),N=N.next;while(N!==f);Cn(v,n.memoizedState)||(Bt=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),r.lastRenderedState=v}return[v,l]}function Vh(e,n,r){var l=Ue,f=At(),v=Qe;if(v){if(r===void 0)throw Error(s(407));r=r()}else r=n();var N=!Cn((mt||f).memoizedState,r);if(N&&(f.memoizedState=r,Bt=!0),f=f.queue,yd(Kh.bind(null,l,f,e),[e]),f.getSnapshot!==n||N||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,Hr(9,{destroy:void 0},Xh.bind(null,l,f,r,n),null),vt===null)throw Error(s(349));v||(za&127)!==0||Gh(l,n,r)}return r}function Gh(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ue.updateQueue,n===null?(n=bi(),Ue.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Xh(e,n,r,l){n.value=r,n.getSnapshot=l,Wh(n)&&Qh(e)}function Kh(e,n,r){return r(function(){Wh(n)&&Qh(e)})}function Wh(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Cn(e,r)}catch{return!0}}function Qh(e){var n=Go(e,2);n!==null&&xn(n,e,2)}function gd(e){var n=cn();if(typeof e=="function"){var r=e;if(e=r(),nr){sn(!0);try{r()}finally{sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},n}function Zh(e,n,r,l){return e.baseState=r,md(e,mt,typeof l=="function"?l:La)}function ZC(e,n,r,l,f){if(Ni(e))throw Error(s(485));if(e=n.action,e!==null){var v={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};L.T!==null?r(!0):v.isTransition=!1,l(v),r=n.pending,r===null?(v.next=n.pending=v,Jh(n,v)):(v.next=r.next,n.pending=r.next=v)}}function Jh(e,n){var r=n.action,l=n.payload,f=e.state;if(n.isTransition){var v=L.T,N={};L.T=N;try{var O=r(f,l),B=L.S;B!==null&&B(N,O),eg(e,n,O)}catch(J){vd(e,n,J)}finally{v!==null&&N.types!==null&&(v.types=N.types),L.T=v}}else try{v=r(f,l),eg(e,n,v)}catch(J){vd(e,n,J)}}function eg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){tg(e,n,l)},function(l){return vd(e,n,l)}):tg(e,n,r)}function tg(e,n,r){n.status="fulfilled",n.value=r,ng(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Jh(e,r)))}function vd(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ng(n),n=n.next;while(n!==l)}e.action=null}function ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ag(e,n){return n}function og(e,n){if(Qe){var r=vt.formState;if(r!==null){e:{var l=Ue;if(Qe){if(xt){t:{for(var f=xt,v=Hn;f.nodeType!==8;){if(!v){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}v=f.data,f=v==="F!"||v==="F"?f:null}if(f){xt=qn(f.nextSibling),l=f.data==="F!";break e}}ro(l)}l=!1}l&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},r.queue=l,r=Cg.bind(null,Ue,l),l.dispatch=r,l=gd(!1),v=Cd.bind(null,Ue,!1,l.queue),l=cn(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,r=ZC.bind(null,Ue,f,v,r),f.dispatch=r,l.memoizedState=e,[n,r,!1]}function rg(e){var n=At();return sg(n,mt,e)}function sg(e,n,r){if(n=md(e,n,ag)[0],e=wi(La)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xs(n)}catch(N){throw N===zr?fi:N}else l=n;n=At();var f=n.queue,v=f.dispatch;return r!==n.memoizedState&&(Ue.flags|=2048,Hr(9,{destroy:void 0},JC.bind(null,f,r),null)),[l,v,e]}function JC(e,n){e.action=n}function lg(e){var n=At(),r=mt;if(r!==null)return sg(n,r,e);At(),n=n.memoizedState,r=At();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Hr(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=Ue.updateQueue,n===null&&(n=bi(),Ue.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function ig(){return At().memoizedState}function Ci(e,n,r,l){var f=cn();Ue.flags|=e,f.memoizedState=Hr(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ei(e,n,r,l){var f=At();l=l===void 0?null:l;var v=f.memoizedState.inst;mt!==null&&l!==null&&id(l,mt.memoizedState.deps)?f.memoizedState=Hr(n,v,r,l):(Ue.flags|=e,f.memoizedState=Hr(1|n,v,r,l))}function cg(e,n){Ci(8390656,8,e,n)}function yd(e,n){Ei(2048,8,e,n)}function e2(e){Ue.flags|=4;var n=Ue.updateQueue;if(n===null)n=bi(),Ue.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function ug(e){var n=At().memoizedState;return e2({ref:n,nextImpl:e}),function(){if((ot&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function dg(e,n){return Ei(4,2,e,n)}function fg(e,n){return Ei(4,4,e,n)}function pg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mg(e,n,r){r=r!=null?r.concat([e]):null,Ei(4,4,pg.bind(null,n,e),r)}function xd(){}function hg(e,n){var r=At();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&id(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function gg(e,n){var r=At();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&id(n,l[1]))return l[0];if(l=e(),nr){sn(!0);try{e()}finally{sn(!1)}}return r.memoizedState=[l,n],l}function bd(e,n,r){return r===void 0||(za&1073741824)!==0&&(Xe&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=vv(),Ue.lanes|=e,ho|=e,r)}function vg(e,n,r,l){return Cn(r,n)?r:Pr.current!==null?(e=bd(e,r,l),Cn(e,n)||(Bt=!0),e):(za&42)===0||(za&1073741824)!==0&&(Xe&261930)===0?(Bt=!0,e.memoizedState=r):(e=vv(),Ue.lanes|=e,ho|=e,n)}function yg(e,n,r,l,f){var v=H.p;H.p=v!==0&&8>v?v:8;var N=L.T,O={};L.T=O,Cd(e,!1,n,r);try{var B=f(),J=L.S;if(J!==null&&J(O,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var re=KC(B,l);Ks(e,n,re,Mn(e))}else Ks(e,n,l,Mn(e))}catch(ie){Ks(e,n,{then:function(){},status:"rejected",reason:ie},Mn())}finally{H.p=v,N!==null&&O.types!==null&&(N.types=O.types),L.T=N}}function t2(){}function Sd(e,n,r,l){if(e.tag!==5)throw Error(s(476));var f=xg(e).queue;yg(e,f,n,P,r===null?t2:function(){return bg(e),r(l)})}function xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:P},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bg(e){var n=xg(e);n.next===null&&(n=e.alternate.memoizedState),Ks(e,n.next.queue,{},Mn())}function wd(){return Qt(fl)}function Sg(){return At().memoizedState}function wg(){return At().memoizedState}function n2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Mn();e=io(r);var l=co(n,e,r);l!==null&&(xn(l,n,r),Fs(l,n,r)),n={cache:Qu()},e.payload=n;return}n=n.return}}function a2(e,n,r){var l=Mn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ni(e)?Eg(n,r):(r=Hu(e,n,r,l),r!==null&&(xn(r,e,l),Ng(r,n,l)))}function Cg(e,n,r){var l=Mn();Ks(e,n,r,l)}function Ks(e,n,r,l){var f={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ni(e))Eg(n,f);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var N=n.lastRenderedState,O=v(N,r);if(f.hasEagerState=!0,f.eagerState=O,Cn(O,N))return ri(e,n,f,0),vt===null&&oi(),!1}catch{}if(r=Hu(e,n,f,l),r!==null)return xn(r,e,l),Ng(r,n,l),!0}return!1}function Cd(e,n,r,l){if(l={lane:2,revertLane:tf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ni(e)){if(n)throw Error(s(479))}else n=Hu(e,r,l,2),n!==null&&xn(n,e,2)}function Ni(e){var n=e.alternate;return e===Ue||n!==null&&n===Ue}function Eg(e,n){Ur=yi=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ng(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Zn(e,r)}}var Ws={readContext:Qt,use:Si,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Ws.useEffectEvent=Nt;var jg={readContext:Qt,use:Si,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Qt,useEffect:cg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Ci(4194308,4,pg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ci(4194308,4,e,n)},useInsertionEffect:function(e,n){Ci(4,2,e,n)},useMemo:function(e,n){var r=cn();n=n===void 0?null:n;var l=e();if(nr){sn(!0);try{e()}finally{sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=cn();if(r!==void 0){var f=r(n);if(nr){sn(!0);try{r(n)}finally{sn(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=a2.bind(null,Ue,e),[l.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=gd(e);var n=e.queue,r=Cg.bind(null,Ue,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:xd,useDeferredValue:function(e,n){var r=cn();return bd(r,e,n)},useTransition:function(){var e=gd(!1);return e=yg.bind(null,Ue,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=Ue,f=cn();if(Qe){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),vt===null)throw Error(s(349));(Xe&127)!==0||Gh(l,n,r)}f.memoizedState=r;var v={value:r,getSnapshot:n};return f.queue=v,cg(Kh.bind(null,l,v,e),[e]),l.flags|=2048,Hr(9,{destroy:void 0},Xh.bind(null,l,v,r,n),null),r},useId:function(){var e=cn(),n=vt.identifierPrefix;if(Qe){var r=ha,l=ma;r=(l&~(1<<32-zt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=xi++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=WC++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wd,useFormState:og,useActionState:og,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Cd.bind(null,Ue,!0,r),r.dispatch=n,[e,n]},useMemoCache:pd,useCacheRefresh:function(){return cn().memoizedState=n2.bind(null,Ue)},useEffectEvent:function(e){var n=cn(),r={impl:e};return n.memoizedState=r,function(){if((ot&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Ed={readContext:Qt,use:Si,useCallback:hg,useContext:Qt,useEffect:yd,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:fg,useMemo:gg,useReducer:wi,useRef:ig,useState:function(){return wi(La)},useDebugValue:xd,useDeferredValue:function(e,n){var r=At();return vg(r,mt.memoizedState,e,n)},useTransition:function(){var e=wi(La)[0],n=At().memoizedState;return[typeof e=="boolean"?e:Xs(e),n]},useSyncExternalStore:Vh,useId:Sg,useHostTransitionStatus:wd,useFormState:rg,useActionState:rg,useOptimistic:function(e,n){var r=At();return Zh(r,mt,e,n)},useMemoCache:pd,useCacheRefresh:wg};Ed.useEffectEvent=ug;var Tg={readContext:Qt,use:Si,useCallback:hg,useContext:Qt,useEffect:yd,useImperativeHandle:mg,useInsertionEffect:dg,useLayoutEffect:fg,useMemo:gg,useReducer:hd,useRef:ig,useState:function(){return hd(La)},useDebugValue:xd,useDeferredValue:function(e,n){var r=At();return mt===null?bd(r,e,n):vg(r,mt.memoizedState,e,n)},useTransition:function(){var e=hd(La)[0],n=At().memoizedState;return[typeof e=="boolean"?e:Xs(e),n]},useSyncExternalStore:Vh,useId:Sg,useHostTransitionStatus:wd,useFormState:lg,useActionState:lg,useOptimistic:function(e,n){var r=At();return mt!==null?Zh(r,mt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:pd,useCacheRefresh:wg};Tg.useEffectEvent=ug;function Nd(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:y({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jd={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Mn(),f=io(l);f.payload=n,r!=null&&(f.callback=r),n=co(e,f,l),n!==null&&(xn(n,e,l),Fs(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Mn(),f=io(l);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=co(e,f,l),n!==null&&(xn(n,e,l),Fs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Mn(),l=io(r);l.tag=2,n!=null&&(l.callback=n),n=co(e,l,r),n!==null&&(xn(n,e,r),Fs(n,e,r))}};function Rg(e,n,r,l,f,v,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,v,N):n.prototype&&n.prototype.isPureReactComponent?!Ls(r,l)||!Ls(f,v):!0}function Mg(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&jd.enqueueReplaceState(n,n.state,null)}function ar(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=y({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function Dg(e){ai(e)}function _g(e){console.error(e)}function Ag(e){ai(e)}function ji(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Td(e,n,r){return r=io(r),r.tag=3,r.payload={element:null},r.callback=function(){ji(e,n)},r}function kg(e){return e=io(e),e.tag=3,e}function zg(e,n,r,l){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var v=l.value;e.payload=function(){return f(v)},e.callback=function(){Og(n,r,l)}}var N=r.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Og(n,r,l),typeof f!="function"&&(go===null?go=new Set([this]):go.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function o2(e,n,r,l,f){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ar(n,r,f,!0),r=Nn.current,r!==null){switch(r.tag){case 31:case 13:return In===null?Ui():r.alternate===null&&jt===0&&(jt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,l===pi?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Zd(e,l,f)),!1;case 22:return r.flags|=65536,l===pi?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Zd(e,l,f)),!1}throw Error(s(435,r.tag))}return Zd(e,l,f),Ui(),!1}if(Qe)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==Vu&&(e=Error(s(422),{cause:l}),Bs(Pn(e,r)))):(l!==Vu&&(n=Error(s(423),{cause:l}),Bs(Pn(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Pn(l,r),f=Td(e.stateNode,l,f),ad(e,f),jt!==4&&(jt=2)),!1;var v=Error(s(520),{cause:l});if(v=Pn(v,r),ol===null?ol=[v]:ol.push(v),jt!==4&&(jt=2),n===null)return!0;l=Pn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=Td(r.stateNode,l,e),ad(r,e),!1;case 1:if(n=r.type,v=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(go===null||!go.has(v))))return r.flags|=65536,f&=-f,r.lanes|=f,f=kg(f),zg(f,e,r,l),ad(r,f),!1}r=r.return}while(r!==null);return!1}var Rd=Error(s(461)),Bt=!1;function Zt(e,n,r,l){n.child=e===null?Bh(n,null,r,l):tr(n,e.child,r,l)}function Lg(e,n,r,l,f){r=r.render;var v=n.ref;if("ref"in l){var N={};for(var O in l)O!=="ref"&&(N[O]=l[O])}else N=l;return Qo(n),l=cd(e,n,r,N,v,f),O=ud(),e!==null&&!Bt?(dd(e,n,f),Pa(e,n,f)):(Qe&&O&&Fu(n),n.flags|=1,Zt(e,n,l,f),n.child)}function Pg(e,n,r,l,f){if(e===null){var v=r.type;return typeof v=="function"&&!Iu(v)&&v.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=v,Ug(e,n,v,l,f)):(e=li(r.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!Ld(e,f)){var N=v.memoizedProps;if(r=r.compare,r=r!==null?r:Ls,r(N,l)&&e.ref===n.ref)return Pa(e,n,f)}return n.flags|=1,e=_a(v,l),e.ref=n.ref,e.return=n,n.child=e}function Ug(e,n,r,l,f){if(e!==null){var v=e.memoizedProps;if(Ls(v,l)&&e.ref===n.ref)if(Bt=!1,n.pendingProps=l=v,Ld(e,f))(e.flags&131072)!==0&&(Bt=!0);else return n.lanes=e.lanes,Pa(e,n,f)}return Md(e,n,r,l,f)}function Bg(e,n,r,l){var f=l.children,v=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(v=v!==null?v.baseLanes|r:r,e!==null){for(l=n.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~v}else l=0,n.child=null;return Hg(e,n,v,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&di(n,v!==null?v.cachePool:null),v!==null?qh(n,v):rd(),$h(n);else return l=n.lanes=536870912,Hg(e,n,v!==null?v.baseLanes|r:r,r,l)}else v!==null?(di(n,v.cachePool),qh(n,v),fo(),n.memoizedState=null):(e!==null&&di(n,null),rd(),fo());return Zt(e,n,f,r),n.child}function Qs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hg(e,n,r,l,f){var v=Ju();return v=v===null?null:{parent:Pt._currentValue,pool:v},n.memoizedState={baseLanes:r,cachePool:v},e!==null&&di(n,null),rd(),$h(n),e!==null&&Ar(e,n,l,!0),n.childLanes=f,null}function Ti(e,n){return n=Mi({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ig(e,n,r){return tr(n,e.child,null,r),e=Ti(n,n.pendingProps),e.flags|=2,jn(n),n.memoizedState=null,e}function r2(e,n,r){var l=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Qe){if(l.mode==="hidden")return e=Ti(n,l),n.lanes=536870912,Qs(null,e);if(ld(n),(e=xt)?(e=Jv(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ao!==null?{id:ma,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},r=Eh(e),r.return=n,n.child=r,Wt=n,xt=null)):e=null,e===null)throw ro(n);return n.lanes=536870912,null}return Ti(n,l)}var v=e.memoizedState;if(v!==null){var N=v.dehydrated;if(ld(n),f)if(n.flags&256)n.flags&=-257,n=Ig(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Bt||Ar(e,n,r,!1),f=(r&e.childLanes)!==0,Bt||f){if(l=vt,l!==null&&(N=Jn(l,r),N!==0&&N!==v.retryLane))throw v.retryLane=N,Go(e,N),xn(l,e,N),Rd;Ui(),n=Ig(e,n,r)}else e=v.treeContext,xt=qn(N.nextSibling),Wt=n,Qe=!0,oo=null,Hn=!1,e!==null&&Th(n,e),n=Ti(n,l),n.flags|=4096;return n}return e=_a(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ri(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Md(e,n,r,l,f){return Qo(n),r=cd(e,n,r,l,void 0,f),l=ud(),e!==null&&!Bt?(dd(e,n,f),Pa(e,n,f)):(Qe&&l&&Fu(n),n.flags|=1,Zt(e,n,r,f),n.child)}function qg(e,n,r,l,f,v){return Qo(n),n.updateQueue=null,r=Yh(n,l,r,f),Fh(e),l=ud(),e!==null&&!Bt?(dd(e,n,v),Pa(e,n,v)):(Qe&&l&&Fu(n),n.flags|=1,Zt(e,n,r,v),n.child)}function $g(e,n,r,l,f){if(Qo(n),n.stateNode===null){var v=Rr,N=r.contextType;typeof N=="object"&&N!==null&&(v=Qt(N)),v=new r(l,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=jd,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=l,v.state=n.memoizedState,v.refs={},td(n),N=r.contextType,v.context=typeof N=="object"&&N!==null?Qt(N):Rr,v.state=n.memoizedState,N=r.getDerivedStateFromProps,typeof N=="function"&&(Nd(n,r,N,l),v.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&jd.enqueueReplaceState(v,v.state,null),Vs(n,l,v,f),Ys(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){v=n.stateNode;var O=n.memoizedProps,B=ar(r,O);v.props=B;var J=v.context,re=r.contextType;N=Rr,typeof re=="object"&&re!==null&&(N=Qt(re));var ie=r.getDerivedStateFromProps;re=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,re||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||J!==N)&&Mg(n,v,l,N),lo=!1;var ee=n.memoizedState;v.state=ee,Vs(n,l,v,f),Ys(),J=n.memoizedState,O||ee!==J||lo?(typeof ie=="function"&&(Nd(n,r,ie,l),J=n.memoizedState),(B=lo||Rg(n,r,B,l,ee,J,N))?(re||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=J),v.props=l,v.state=J,v.context=N,l=B):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{v=n.stateNode,nd(e,n),N=n.memoizedProps,re=ar(r,N),v.props=re,ie=n.pendingProps,ee=v.context,J=r.contextType,B=Rr,typeof J=="object"&&J!==null&&(B=Qt(J)),O=r.getDerivedStateFromProps,(J=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==ie||ee!==B)&&Mg(n,v,l,B),lo=!1,ee=n.memoizedState,v.state=ee,Vs(n,l,v,f),Ys();var te=n.memoizedState;N!==ie||ee!==te||lo||e!==null&&e.dependencies!==null&&ci(e.dependencies)?(typeof O=="function"&&(Nd(n,r,O,l),te=n.memoizedState),(re=lo||Rg(n,r,re,l,ee,te,B)||e!==null&&e.dependencies!==null&&ci(e.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,te,B),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,te,B)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=te),v.props=l,v.state=te,v.context=B,l=re):(typeof v.componentDidUpdate!="function"||N===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),l=!1)}return v=l,Ri(e,n),l=(n.flags&128)!==0,v||l?(v=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&l?(n.child=tr(n,e.child,null,f),n.child=tr(n,null,r,f)):Zt(e,n,r,f),n.memoizedState=v.state,e=n.child):e=Pa(e,n,f),e}function Fg(e,n,r,l){return Ko(),n.flags|=256,Zt(e,n,r,l),n.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(e){return{baseLanes:e,cachePool:Oh()}}function Ad(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Rn),e}function Yg(e,n,r){var l=n.pendingProps,f=!1,v=(n.flags&128)!==0,N;if((N=v)||(N=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),N&&(f=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qe){if(f?uo(n):fo(),(e=xt)?(e=Jv(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ao!==null?{id:ma,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},r=Eh(e),r.return=n,n.child=r,Wt=n,xt=null)):e=null,e===null)throw ro(n);return hf(e)?n.lanes=32:n.lanes=536870912,null}var O=l.children;return l=l.fallback,f?(fo(),f=n.mode,O=Mi({mode:"hidden",children:O},f),l=Xo(l,f,r,null),O.return=n,l.return=n,O.sibling=l,n.child=O,l=n.child,l.memoizedState=_d(r),l.childLanes=Ad(e,N,r),n.memoizedState=Dd,Qs(null,l)):(uo(n),Od(n,O))}var B=e.memoizedState;if(B!==null&&(O=B.dehydrated,O!==null)){if(v)n.flags&256?(uo(n),n.flags&=-257,n=kd(e,n,r)):n.memoizedState!==null?(fo(),n.child=e.child,n.flags|=128,n=null):(fo(),O=l.fallback,f=n.mode,l=Mi({mode:"visible",children:l.children},f),O=Xo(O,f,r,null),O.flags|=2,l.return=n,O.return=n,l.sibling=O,n.child=l,tr(n,e.child,null,r),l=n.child,l.memoizedState=_d(r),l.childLanes=Ad(e,N,r),n.memoizedState=Dd,n=Qs(null,l));else if(uo(n),hf(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var J=N.dgst;N=J,l=Error(s(419)),l.stack="",l.digest=N,Bs({value:l,source:null,stack:null}),n=kd(e,n,r)}else if(Bt||Ar(e,n,r,!1),N=(r&e.childLanes)!==0,Bt||N){if(N=vt,N!==null&&(l=Jn(N,r),l!==0&&l!==B.retryLane))throw B.retryLane=l,Go(e,l),xn(N,e,l),Rd;mf(O)||Ui(),n=kd(e,n,r)}else mf(O)?(n.flags|=192,n.child=e.child,n=null):(e=B.treeContext,xt=qn(O.nextSibling),Wt=n,Qe=!0,oo=null,Hn=!1,e!==null&&Th(n,e),n=Od(n,l.children),n.flags|=4096);return n}return f?(fo(),O=l.fallback,f=n.mode,B=e.child,J=B.sibling,l=_a(B,{mode:"hidden",children:l.children}),l.subtreeFlags=B.subtreeFlags&65011712,J!==null?O=_a(J,O):(O=Xo(O,f,r,null),O.flags|=2),O.return=n,l.return=n,l.sibling=O,n.child=l,Qs(null,l),l=n.child,O=e.child.memoizedState,O===null?O=_d(r):(f=O.cachePool,f!==null?(B=Pt._currentValue,f=f.parent!==B?{parent:B,pool:B}:f):f=Oh(),O={baseLanes:O.baseLanes|r,cachePool:f}),l.memoizedState=O,l.childLanes=Ad(e,N,r),n.memoizedState=Dd,Qs(e.child,l)):(uo(n),r=e.child,e=r.sibling,r=_a(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=r,n.memoizedState=null,r)}function Od(e,n){return n=Mi({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Mi(e,n){return e=En(22,e,null,n),e.lanes=0,e}function kd(e,n,r){return tr(n,e.child,null,r),e=Od(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Vg(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ku(e.return,n,r)}function zd(e,n,r,l,f,v){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:f,treeForkCount:v}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=l,N.tail=r,N.tailMode=f,N.treeForkCount=v)}function Gg(e,n,r){var l=n.pendingProps,f=l.revealOrder,v=l.tail;l=l.children;var N=_t.current,O=(N&2)!==0;if(O?(N=N&1|2,n.flags|=128):N&=1,Q(_t,N),Zt(e,n,l,r),l=Qe?Us:0,!O&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vg(e,r,n);else if(e.tag===19)Vg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&vi(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),zd(n,!1,f,r,v,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&vi(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}zd(n,!0,r,null,v,l);break;case"together":zd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Pa(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ho|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ar(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=_a(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=_a(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Ld(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ci(e)))}function s2(e,n,r){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),so(n,Pt,e.memoizedState.cache),Ko();break;case 27:case 5:me(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:so(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ld(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(uo(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Yg(e,n,r):(uo(n),e=Pa(e,n,r),e!==null?e.sibling:null);uo(n);break;case 19:var f=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ar(e,n,r,!1),l=(r&n.childLanes)!==0),f){if(l)return Gg(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(_t,_t.current),l)break;return null;case 22:return n.lanes=0,Bg(e,n,r,n.pendingProps);case 24:so(n,Pt,e.memoizedState.cache)}return Pa(e,n,r)}function Xg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Bt=!0;else{if(!Ld(e,r)&&(n.flags&128)===0)return Bt=!1,s2(e,n,r);Bt=(e.flags&131072)!==0}else Bt=!1,Qe&&(n.flags&1048576)!==0&&jh(n,Us,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Jo(n.elementType),n.type=e,typeof e=="function")Iu(e)?(l=ar(e,l),n.tag=1,n=$g(null,n,e,l,r)):(n.tag=0,n=Md(null,n,e,l,r));else{if(e!=null){var f=e.$$typeof;if(f===A){n.tag=11,n=Lg(null,n,e,l,r);break e}else if(f===D){n.tag=14,n=Pg(null,n,e,l,r);break e}}throw n=X(e)||e,Error(s(306,n,""))}}return n;case 0:return Md(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,f=ar(l,n.pendingProps),$g(e,n,l,f,r);case 3:e:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var v=n.memoizedState;f=v.element,nd(e,n),Vs(n,l,null,r);var N=n.memoizedState;if(l=N.cache,so(n,Pt,l),l!==v.cache&&Wu(n,[Pt],r,!0),Ys(),l=N.element,v.isDehydrated)if(v={element:l,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){n=Fg(e,n,l,r);break e}else if(l!==f){f=Pn(Error(s(424)),n),Bs(f),n=Fg(e,n,l,r);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xt=qn(e.firstChild),Wt=n,Qe=!0,oo=null,Hn=!0,r=Bh(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ko(),l===f){n=Pa(e,n,r);break e}Zt(e,n,l,r)}n=n.child}return n;case 26:return Ri(e,n),e===null?(r=ry(n.type,null,n.pendingProps,null))?n.memoizedState=r:Qe||(r=n.type,e=n.pendingProps,l=Yi(pe.current).createElement(r),l[_e]=n,l[Ie]=e,Jt(l,r,e),Et(l),n.stateNode=l):n.memoizedState=ry(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return me(n),e===null&&Qe&&(l=n.stateNode=ny(n.type,n.pendingProps,pe.current),Wt=n,Hn=!0,f=xt,bo(n.type)?(gf=f,xt=qn(l.firstChild)):xt=f),Zt(e,n,n.pendingProps.children,r),Ri(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qe&&((f=l=xt)&&(l=L2(l,n.type,n.pendingProps,Hn),l!==null?(n.stateNode=l,Wt=n,xt=qn(l.firstChild),Hn=!1,f=!0):f=!1),f||ro(n)),me(n),f=n.type,v=n.pendingProps,N=e!==null?e.memoizedProps:null,l=v.children,df(f,v)?l=null:N!==null&&df(f,N)&&(n.flags|=32),n.memoizedState!==null&&(f=cd(e,n,QC,null,null,r),fl._currentValue=f),Ri(e,n),Zt(e,n,l,r),n.child;case 6:return e===null&&Qe&&((e=r=xt)&&(r=P2(r,n.pendingProps,Hn),r!==null?(n.stateNode=r,Wt=n,xt=null,e=!0):e=!1),e||ro(n)),null;case 13:return Yg(e,n,r);case 4:return ye(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=tr(n,null,l,r):Zt(e,n,l,r),n.child;case 11:return Lg(e,n,n.type,n.pendingProps,r);case 7:return Zt(e,n,n.pendingProps,r),n.child;case 8:return Zt(e,n,n.pendingProps.children,r),n.child;case 12:return Zt(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,so(n,n.type,l.value),Zt(e,n,l.children,r),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Qo(n),f=Qt(f),l=l(f),n.flags|=1,Zt(e,n,l,r),n.child;case 14:return Pg(e,n,n.type,n.pendingProps,r);case 15:return Ug(e,n,n.type,n.pendingProps,r);case 19:return Gg(e,n,r);case 31:return r2(e,n,r);case 22:return Bg(e,n,r,n.pendingProps);case 24:return Qo(n),l=Qt(Pt),e===null?(f=Ju(),f===null&&(f=vt,v=Qu(),f.pooledCache=v,v.refCount++,v!==null&&(f.pooledCacheLanes|=r),f=v),n.memoizedState={parent:l,cache:f},td(n),so(n,Pt,f)):((e.lanes&r)!==0&&(nd(e,n),Vs(n,null,null,r),Ys()),f=e.memoizedState,v=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),so(n,Pt,l)):(l=v.cache,so(n,Pt,l),l!==f.cache&&Wu(n,[Pt],r,!0))),Zt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ua(e){e.flags|=4}function Pd(e,n,r,l,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Sv())e.flags|=8192;else throw er=pi,ed}else e.flags&=-16777217}function Kg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!uy(n))if(Sv())e.flags|=8192;else throw er=pi,ed}function Di(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yt():536870912,e.lanes|=n,Fr|=n)}function Zs(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function bt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function l2(e,n,r){var l=n.pendingProps;switch(Yu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ka(Pt),fe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_r(n)?Ua(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gu())),bt(n),null;case 26:var f=n.type,v=n.memoizedState;return e===null?(Ua(n),v!==null?(bt(n),Kg(n,v)):(bt(n),Pd(n,f,null,l,r))):v?v!==e.memoizedState?(Ua(n),bt(n),Kg(n,v)):(bt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ua(n),bt(n),Pd(n,f,e,l,r)),null;case 27:if(he(n),r=pe.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ua(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return bt(n),null}e=oe.current,_r(n)?Rh(n):(e=ny(f,l,r),n.stateNode=e,Ua(n))}return bt(n),null;case 5:if(he(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ua(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return bt(n),null}if(v=oe.current,_r(n))Rh(n);else{var N=Yi(pe.current);switch(v){case 1:v=N.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:v=N.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":v=N.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":v=N.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":v=N.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof l.is=="string"?N.createElement("select",{is:l.is}):N.createElement("select"),l.multiple?v.multiple=!0:l.size&&(v.size=l.size);break;default:v=typeof l.is=="string"?N.createElement(f,{is:l.is}):N.createElement(f)}}v[_e]=n,v[Ie]=l;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)v.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=v;e:switch(Jt(v,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ua(n)}}return bt(n),Pd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ua(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=pe.current,_r(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,f=Wt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Yv(e.nodeValue,r)),e||ro(n,!0)}else e=Yi(e).createTextNode(l),e[_e]=n,n.stateNode=e}return bt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=_r(n),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[_e]=n}else Ko(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),e=!1}else r=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return bt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=_r(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[_e]=n}else Ko(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),f=!1}else f=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==f&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Di(n,n.updateQueue),bt(n),null);case 4:return fe(),e===null&&rf(n.stateNode.containerInfo),bt(n),null;case 10:return ka(n.type),bt(n),null;case 19:if(Y(_t),l=n.memoizedState,l===null)return bt(n),null;if(f=(n.flags&128)!==0,v=l.rendering,v===null)if(f)Zs(l,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=vi(e),v!==null){for(n.flags|=128,Zs(l,!1),e=v.updateQueue,n.updateQueue=e,Di(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ch(r,e),r=r.sibling;return Q(_t,_t.current&1|2),Qe&&Aa(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&kt()>zi&&(n.flags|=128,f=!0,Zs(l,!1),n.lanes=4194304)}else{if(!f)if(e=vi(v),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Di(n,e),Zs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!v.alternate&&!Qe)return bt(n),null}else 2*kt()-l.renderingStartTime>zi&&r!==536870912&&(n.flags|=128,f=!0,Zs(l,!1),n.lanes=4194304);l.isBackwards?(v.sibling=n.child,n.child=v):(e=l.last,e!==null?e.sibling=v:n.child=v,l.last=v)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=kt(),e.sibling=null,r=_t.current,Q(_t,f?r&1|2:r&1),Qe&&Aa(n,l.treeForkCount),e):(bt(n),null);case 22:case 23:return jn(n),sd(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),r=n.updateQueue,r!==null&&Di(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&Y(Zo),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ka(Pt),bt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function i2(e,n){switch(Yu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ka(Pt),fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return he(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(s(340));Ko()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(jn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ko()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(_t),null;case 4:return fe(),null;case 10:return ka(n.type),null;case 22:case 23:return jn(n),sd(),e!==null&&Y(Zo),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ka(Pt),null;case 25:return null;default:return null}}function Wg(e,n){switch(Yu(n),n.tag){case 3:ka(Pt),fe();break;case 26:case 27:case 5:he(n);break;case 4:fe();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:Y(_t);break;case 10:ka(n.type);break;case 22:case 23:jn(n),sd(),e!==null&&Y(Zo);break;case 24:ka(Pt)}}function Js(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var f=l.next;r=f;do{if((r.tag&e)===e){l=void 0;var v=r.create,N=r.inst;l=v(),N.destroy=l}r=r.next}while(r!==f)}}catch(O){dt(n,n.return,O)}}function po(e,n,r){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&e)===e){var N=l.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,f=n;var B=r,J=O;try{J()}catch(re){dt(f,B,re)}}}l=l.next}while(l!==v)}}catch(re){dt(n,n.return,re)}}function Qg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Ih(n,r)}catch(l){dt(e,e.return,l)}}}function Zg(e,n,r){r.props=ar(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){dt(e,n,l)}}function el(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(f){dt(e,n,f)}}function ga(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(f){dt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){dt(e,n,f)}else r.current=null}function Jg(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(f){dt(e,e.return,f)}}function Ud(e,n,r){try{var l=e.stateNode;D2(l,e.type,r,n),l[Ie]=n}catch(f){dt(e,e.return,f)}}function ev(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bo(e.type)||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ev(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hd(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ma));else if(l!==4&&(l===27&&bo(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Hd(e,n,r),e=e.sibling;e!==null;)Hd(e,n,r),e=e.sibling}function _i(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&bo(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(_i(e,n,r),e=e.sibling;e!==null;)_i(e,n,r),e=e.sibling}function tv(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Jt(n,l,r),n[_e]=e,n[Ie]=r}catch(v){dt(e,e.return,v)}}var Ba=!1,Ht=!1,Id=!1,nv=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function c2(e,n){if(e=e.containerInfo,cf=Zi,e=mh(e),ku(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var f=l.anchorOffset,v=l.focusNode;l=l.focusOffset;try{r.nodeType,v.nodeType}catch{r=null;break e}var N=0,O=-1,B=-1,J=0,re=0,ie=e,ee=null;t:for(;;){for(var te;ie!==r||f!==0&&ie.nodeType!==3||(O=N+f),ie!==v||l!==0&&ie.nodeType!==3||(B=N+l),ie.nodeType===3&&(N+=ie.nodeValue.length),(te=ie.firstChild)!==null;)ee=ie,ie=te;for(;;){if(ie===e)break t;if(ee===r&&++J===f&&(O=N),ee===v&&++re===l&&(B=N),(te=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=te}r=O===-1||B===-1?null:{start:O,end:B}}else r=null}r=r||{start:0,end:0}}else r=null;for(uf={focusedElem:e,selectionRange:r},Zi=!1,Xt=n;Xt!==null;)if(n=Xt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Xt=e;else for(;Xt!==null;){switch(n=Xt,v=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,r=n,f=v.memoizedProps,v=v.memoizedState,l=r.stateNode;try{var Se=ar(r.type,f);e=l.getSnapshotBeforeUpdate(Se,v),l.__reactInternalSnapshotBeforeUpdate=e}catch(Re){dt(r,r.return,Re)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)pf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Xt=e;break}Xt=n.return}}function av(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ia(e,r),l&4&&Js(5,r);break;case 1:if(Ia(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(N){dt(r,r.return,N)}else{var f=ar(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){dt(r,r.return,N)}}l&64&&Qg(r),l&512&&el(r,r.return);break;case 3:if(Ia(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ih(e,n)}catch(N){dt(r,r.return,N)}}break;case 27:n===null&&l&4&&tv(r);case 26:case 5:Ia(e,r),n===null&&l&4&&Jg(r),l&512&&el(r,r.return);break;case 12:Ia(e,r);break;case 31:Ia(e,r),l&4&&sv(e,r);break;case 13:Ia(e,r),l&4&&lv(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=y2.bind(null,r),U2(e,r))));break;case 22:if(l=r.memoizedState!==null||Ba,!l){n=n!==null&&n.memoizedState!==null||Ht,f=Ba;var v=Ht;Ba=l,(Ht=n)&&!v?qa(e,r,(r.subtreeFlags&8772)!==0):Ia(e,r),Ba=f,Ht=v}break;case 30:break;default:Ia(e,r)}}function ov(e){var n=e.alternate;n!==null&&(e.alternate=null,ov(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&to(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var wt=null,hn=!1;function Ha(e,n,r){for(r=r.child;r!==null;)rv(e,n,r),r=r.sibling}function rv(e,n,r){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(wn,r)}catch{}switch(r.tag){case 26:Ht||ga(r,n),Ha(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ht||ga(r,n);var l=wt,f=hn;bo(r.type)&&(wt=r.stateNode,hn=!1),Ha(e,n,r),cl(r.stateNode),wt=l,hn=f;break;case 5:Ht||ga(r,n);case 6:if(l=wt,f=hn,wt=null,Ha(e,n,r),wt=l,hn=f,wt!==null)if(hn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(r.stateNode)}catch(v){dt(r,n,v)}else try{wt.removeChild(r.stateNode)}catch(v){dt(r,n,v)}break;case 18:wt!==null&&(hn?(e=wt,Qv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Zr(e)):Qv(wt,r.stateNode));break;case 4:l=wt,f=hn,wt=r.stateNode.containerInfo,hn=!0,Ha(e,n,r),wt=l,hn=f;break;case 0:case 11:case 14:case 15:po(2,r,n),Ht||po(4,r,n),Ha(e,n,r);break;case 1:Ht||(ga(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Zg(r,n,l)),Ha(e,n,r);break;case 21:Ha(e,n,r);break;case 22:Ht=(l=Ht)||r.memoizedState!==null,Ha(e,n,r),Ht=l;break;default:Ha(e,n,r)}}function sv(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zr(e)}catch(r){dt(n,n.return,r)}}}function lv(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zr(e)}catch(r){dt(n,n.return,r)}}function u2(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new nv),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new nv),n;default:throw Error(s(435,e.tag))}}function Ai(e,n){var r=u2(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var f=x2.bind(null,e,l);l.then(f,f)}})}function gn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var f=r[l],v=e,N=n,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(bo(O.type)){wt=O.stateNode,hn=!1;break e}break;case 5:wt=O.stateNode,hn=!1;break e;case 3:case 4:wt=O.stateNode.containerInfo,hn=!0;break e}O=O.return}if(wt===null)throw Error(s(160));rv(v,N,f),wt=null,hn=!1,v=f.alternate,v!==null&&(v.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)iv(n,e),n=n.sibling}var aa=null;function iv(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),vn(e),l&4&&(po(3,e,e.return),Js(3,e),po(5,e,e.return));break;case 1:gn(n,e),vn(e),l&512&&(Ht||r===null||ga(r,r.return)),l&64&&Ba&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var f=aa;if(gn(n,e),vn(e),l&512&&(Ht||r===null||ga(r,r.return)),l&4){var v=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":v=f.getElementsByTagName("title")[0],(!v||v[ea]||v[_e]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=f.createElement(l),f.head.insertBefore(v,f.querySelector("head > title"))),Jt(v,l,r),v[_e]=e,Et(v),l=v;break e;case"link":var N=iy("link","href",f).get(l+(r.href||""));if(N){for(var O=0;O<N.length;O++)if(v=N[O],v.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&v.getAttribute("rel")===(r.rel==null?null:r.rel)&&v.getAttribute("title")===(r.title==null?null:r.title)&&v.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){N.splice(O,1);break t}}v=f.createElement(l),Jt(v,l,r),f.head.appendChild(v);break;case"meta":if(N=iy("meta","content",f).get(l+(r.content||""))){for(O=0;O<N.length;O++)if(v=N[O],v.getAttribute("content")===(r.content==null?null:""+r.content)&&v.getAttribute("name")===(r.name==null?null:r.name)&&v.getAttribute("property")===(r.property==null?null:r.property)&&v.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&v.getAttribute("charset")===(r.charSet==null?null:r.charSet)){N.splice(O,1);break t}}v=f.createElement(l),Jt(v,l,r),f.head.appendChild(v);break;default:throw Error(s(468,l))}v[_e]=e,Et(v),l=v}e.stateNode=l}else cy(f,e.type,e.stateNode);else e.stateNode=ly(f,l,e.memoizedProps);else v!==l?(v===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):v.count--,l===null?cy(f,e.type,e.stateNode):ly(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ud(e,e.memoizedProps,r.memoizedProps)}break;case 27:gn(n,e),vn(e),l&512&&(Ht||r===null||ga(r,r.return)),r!==null&&l&4&&Ud(e,e.memoizedProps,r.memoizedProps);break;case 5:if(gn(n,e),vn(e),l&512&&(Ht||r===null||ga(r,r.return)),e.flags&32){f=e.stateNode;try{Sr(f,"")}catch(Se){dt(e,e.return,Se)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Ud(e,f,r!==null?r.memoizedProps:f)),l&1024&&(Id=!0);break;case 6:if(gn(n,e),vn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(Se){dt(e,e.return,Se)}}break;case 3:if(Xi=null,f=aa,aa=Vi(n.containerInfo),gn(n,e),aa=f,vn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Zr(n.containerInfo)}catch(Se){dt(e,e.return,Se)}Id&&(Id=!1,cv(e));break;case 4:l=aa,aa=Vi(e.stateNode.containerInfo),gn(n,e),vn(e),aa=l;break;case 12:gn(n,e),vn(e);break;case 31:gn(n,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ai(e,l)));break;case 13:gn(n,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ki=kt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ai(e,l)));break;case 22:f=e.memoizedState!==null;var B=r!==null&&r.memoizedState!==null,J=Ba,re=Ht;if(Ba=J||f,Ht=re||B,gn(n,e),Ht=re,Ba=J,vn(e),l&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||B||Ba||Ht||or(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){B=r=n;try{if(v=B.stateNode,f)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=B.stateNode;var ie=B.memoizedProps.style,ee=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;O.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){dt(B,B.return,Se)}}}else if(n.tag===6){if(r===null){B=n;try{B.stateNode.nodeValue=f?"":B.memoizedProps}catch(Se){dt(B,B.return,Se)}}}else if(n.tag===18){if(r===null){B=n;try{var te=B.stateNode;f?Zv(te,!0):Zv(B.stateNode,!1)}catch(Se){dt(B,B.return,Se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ai(e,r))));break;case 19:gn(n,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ai(e,l)));break;case 30:break;case 21:break;default:gn(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(ev(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,v=Bd(e);_i(e,v,f);break;case 5:var N=r.stateNode;r.flags&32&&(Sr(N,""),r.flags&=-33);var O=Bd(e);_i(e,O,N);break;case 3:case 4:var B=r.stateNode.containerInfo,J=Bd(e);Hd(e,J,B);break;default:throw Error(s(161))}}catch(re){dt(e,e.return,re)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ia(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)av(e,n.alternate,n),n=n.sibling}function or(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:po(4,n,n.return),or(n);break;case 1:ga(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Zg(n,n.return,r),or(n);break;case 27:cl(n.stateNode);case 26:case 5:ga(n,n.return),or(n);break;case 22:n.memoizedState===null&&or(n);break;case 30:or(n);break;default:or(n)}e=e.sibling}}function qa(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,v=n,N=v.flags;switch(v.tag){case 0:case 11:case 15:qa(f,v,r),Js(4,v);break;case 1:if(qa(f,v,r),l=v,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){dt(l,l.return,J)}if(l=v,f=l.updateQueue,f!==null){var O=l.stateNode;try{var B=f.shared.hiddenCallbacks;if(B!==null)for(f.shared.hiddenCallbacks=null,f=0;f<B.length;f++)Hh(B[f],O)}catch(J){dt(l,l.return,J)}}r&&N&64&&Qg(v),el(v,v.return);break;case 27:tv(v);case 26:case 5:qa(f,v,r),r&&l===null&&N&4&&Jg(v),el(v,v.return);break;case 12:qa(f,v,r);break;case 31:qa(f,v,r),r&&N&4&&sv(f,v);break;case 13:qa(f,v,r),r&&N&4&&lv(f,v);break;case 22:v.memoizedState===null&&qa(f,v,r),el(v,v.return);break;case 30:break;default:qa(f,v,r)}n=n.sibling}}function qd(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Hs(r))}function $d(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hs(e))}function oa(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uv(e,n,r,l),n=n.sibling}function uv(e,n,r,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:oa(e,n,r,l),f&2048&&Js(9,n);break;case 1:oa(e,n,r,l);break;case 3:oa(e,n,r,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hs(e)));break;case 12:if(f&2048){oa(e,n,r,l),e=n.stateNode;try{var v=n.memoizedProps,N=v.id,O=v.onPostCommit;typeof O=="function"&&O(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(B){dt(n,n.return,B)}}else oa(e,n,r,l);break;case 31:oa(e,n,r,l);break;case 13:oa(e,n,r,l);break;case 23:break;case 22:v=n.stateNode,N=n.alternate,n.memoizedState!==null?v._visibility&2?oa(e,n,r,l):tl(e,n):v._visibility&2?oa(e,n,r,l):(v._visibility|=2,Ir(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),f&2048&&qd(N,n);break;case 24:oa(e,n,r,l),f&2048&&$d(n.alternate,n);break;default:oa(e,n,r,l)}}function Ir(e,n,r,l,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var v=e,N=n,O=r,B=l,J=N.flags;switch(N.tag){case 0:case 11:case 15:Ir(v,N,O,B,f),Js(8,N);break;case 23:break;case 22:var re=N.stateNode;N.memoizedState!==null?re._visibility&2?Ir(v,N,O,B,f):tl(v,N):(re._visibility|=2,Ir(v,N,O,B,f)),f&&J&2048&&qd(N.alternate,N);break;case 24:Ir(v,N,O,B,f),f&&J&2048&&$d(N.alternate,N);break;default:Ir(v,N,O,B,f)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,f=l.flags;switch(l.tag){case 22:tl(r,l),f&2048&&qd(l.alternate,l);break;case 24:tl(r,l),f&2048&&$d(l.alternate,l);break;default:tl(r,l)}n=n.sibling}}var nl=8192;function qr(e,n,r){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)dv(e,n,r),e=e.sibling}function dv(e,n,r){switch(e.tag){case 26:qr(e,n,r),e.flags&nl&&e.memoizedState!==null&&W2(r,aa,e.memoizedState,e.memoizedProps);break;case 5:qr(e,n,r);break;case 3:case 4:var l=aa;aa=Vi(e.stateNode.containerInfo),qr(e,n,r),aa=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=nl,nl=16777216,qr(e,n,r),nl=l):qr(e,n,r));break;default:qr(e,n,r)}}function fv(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Xt=l,mv(l,e)}fv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pv(e),e=e.sibling}function pv(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&po(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Oi(e)):al(e);break;default:al(e)}}function Oi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Xt=l,mv(l,e)}fv(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:po(8,n,n.return),Oi(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Oi(n));break;default:Oi(n)}e=e.sibling}}function mv(e,n){for(;Xt!==null;){var r=Xt;switch(r.tag){case 0:case 11:case 15:po(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hs(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Xt=l;else e:for(r=e;Xt!==null;){l=Xt;var f=l.sibling,v=l.return;if(ov(l),l===r){Xt=null;break e}if(f!==null){f.return=v,Xt=f;break e}Xt=v}}}var d2={getCacheForType:function(e){var n=Qt(Pt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Qt(Pt).controller.signal}},f2=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Ye=null,Xe=0,ut=0,Tn=null,mo=!1,$r=!1,Fd=!1,$a=0,jt=0,ho=0,rr=0,Yd=0,Rn=0,Fr=0,ol=null,yn=null,Vd=!1,ki=0,hv=0,zi=1/0,Li=null,go=null,qt=0,vo=null,Yr=null,Fa=0,Gd=0,Xd=null,gv=null,rl=0,Kd=null;function Mn(){return(ot&2)!==0&&Xe!==0?Xe&-Xe:L.T!==null?tf():Te()}function vv(){if(Rn===0)if((Xe&536870912)===0||Qe){var e=it;it<<=1,(it&3932160)===0&&(it=262144),Rn=e}else Rn=536870912;return e=Nn.current,e!==null&&(e.flags|=32),Rn}function xn(e,n,r){(e===vt&&(ut===2||ut===9)||e.cancelPendingCommit!==null)&&(Vr(e,0),yo(e,Xe,Rn,!1)),Dt(e,r),((ot&2)===0||e!==vt)&&(e===vt&&((ot&2)===0&&(rr|=r),jt===4&&yo(e,Xe,Rn,!1)),va(e))}function yv(e,n,r){if((ot&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Ze(e,n),f=l?h2(e,n):Qd(e,n,!0),v=l;do{if(f===0){$r&&!l&&yo(e,n,0,!1);break}else{if(r=e.current.alternate,v&&!p2(r)){f=Qd(e,n,!1),v=!1;continue}if(f===2){if(v=n,e.errorRecoveryDisabledLanes&v)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var O=e;f=ol;var B=O.current.memoizedState.isDehydrated;if(B&&(Vr(O,N).flags|=256),N=Qd(O,N,!1),N!==2){if(Fd&&!B){O.errorRecoveryDisabledLanes|=v,rr|=v,f=4;break e}v=yn,yn=f,v!==null&&(yn===null?yn=v:yn.push.apply(yn,v))}f=N}if(v=!1,f!==2)continue}}if(f===1){Vr(e,0),yo(e,n,0,!0);break}e:{switch(l=e,v=f,v){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:yo(l,n,Rn,!mo);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=ki+300-kt(),10<f)){if(yo(l,n,Rn,!mo),ct(l,0,!0)!==0)break e;Fa=n,l.timeoutHandle=Kv(xv.bind(null,l,r,yn,Li,Vd,n,Rn,rr,Fr,mo,v,"Throttled",-0,0),f);break e}xv(l,r,yn,Li,Vd,n,Rn,rr,Fr,mo,v,null,-0,0)}}break}while(!0);va(e)}function xv(e,n,r,l,f,v,N,O,B,J,re,ie,ee,te){if(e.timeoutHandle=-1,ie=n.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ma},dv(n,v,ie);var Se=(v&62914560)===v?ki-kt():(v&4194048)===v?hv-kt():0;if(Se=Q2(ie,Se),Se!==null){Fa=v,e.cancelPendingCommit=Se(Tv.bind(null,e,n,v,r,l,f,N,O,B,re,ie,null,ee,te)),yo(e,v,N,!J);return}}Tv(e,n,v,r,l,f,N,O,B)}function p2(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var f=r[l],v=f.getSnapshot;f=f.value;try{if(!Cn(v(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yo(e,n,r,l){n&=~Yd,n&=~rr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var v=31-zt(f),N=1<<v;l[v]=-1,f&=~N}r!==0&&ln(e,r,n)}function Pi(){return(ot&6)===0?(sl(0),!1):!0}function Wd(){if(Ye!==null){if(ut===0)var e=Ye.return;else e=Ye,Oa=Wo=null,fd(e),Lr=null,qs=0,e=Ye;for(;e!==null;)Wg(e.alternate,e),e=e.return;Ye=null}}function Vr(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,O2(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Fa=0,Wd(),vt=e,Ye=r=_a(e.current,null),Xe=n,ut=0,Tn=null,mo=!1,$r=Ze(e,n),Fd=!1,Fr=Rn=Yd=rr=ho=jt=0,yn=ol=null,Vd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-zt(l),v=1<<f;n|=e[f],l&=~v}return $a=n,oi(),r}function bv(e,n){Ue=null,L.H=Ws,n===zr||n===fi?(n=Lh(),ut=3):n===ed?(n=Lh(),ut=4):ut=n===Rd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Ye===null&&(jt=1,ji(e,Pn(n,e.current)))}function Sv(){var e=Nn.current;return e===null?!0:(Xe&4194048)===Xe?In===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?e===In:!1}function wv(){var e=L.H;return L.H=Ws,e===null?Ws:e}function Cv(){var e=L.A;return L.A=d2,e}function Ui(){jt=4,mo||(Xe&4194048)!==Xe&&Nn.current!==null||($r=!0),(ho&134217727)===0&&(rr&134217727)===0||vt===null||yo(vt,Xe,Rn,!1)}function Qd(e,n,r){var l=ot;ot|=2;var f=wv(),v=Cv();(vt!==e||Xe!==n)&&(Li=null,Vr(e,n)),n=!1;var N=jt;e:do try{if(ut!==0&&Ye!==null){var O=Ye,B=Tn;switch(ut){case 8:Wd(),N=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var J=ut;if(ut=0,Tn=null,Gr(e,O,B,J),r&&$r){N=0;break e}break;default:J=ut,ut=0,Tn=null,Gr(e,O,B,J)}}m2(),N=jt;break}catch(re){bv(e,re)}while(!0);return n&&e.shellSuspendCounter++,Oa=Wo=null,ot=l,L.H=f,L.A=v,Ye===null&&(vt=null,Xe=0,oi()),N}function m2(){for(;Ye!==null;)Ev(Ye)}function h2(e,n){var r=ot;ot|=2;var l=wv(),f=Cv();vt!==e||Xe!==n?(Li=null,zi=kt()+500,Vr(e,n)):$r=Ze(e,n);e:do try{if(ut!==0&&Ye!==null){n=Ye;var v=Tn;t:switch(ut){case 1:ut=0,Tn=null,Gr(e,n,v,1);break;case 2:case 9:if(kh(v)){ut=0,Tn=null,Nv(n);break}n=function(){ut!==2&&ut!==9||vt!==e||(ut=7),va(e)},v.then(n,n);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:kh(v)?(ut=0,Tn=null,Nv(n)):(ut=0,Tn=null,Gr(e,n,v,7));break;case 5:var N=null;switch(Ye.tag){case 26:N=Ye.memoizedState;case 5:case 27:var O=Ye;if(N?uy(N):O.stateNode.complete){ut=0,Tn=null;var B=O.sibling;if(B!==null)Ye=B;else{var J=O.return;J!==null?(Ye=J,Bi(J)):Ye=null}break t}}ut=0,Tn=null,Gr(e,n,v,5);break;case 6:ut=0,Tn=null,Gr(e,n,v,6);break;case 8:Wd(),jt=6;break e;default:throw Error(s(462))}}g2();break}catch(re){bv(e,re)}while(!0);return Oa=Wo=null,L.H=l,L.A=f,ot=r,Ye!==null?0:(vt=null,Xe=0,oi(),jt)}function g2(){for(;Ye!==null&&!Rt();)Ev(Ye)}function Ev(e){var n=Xg(e.alternate,e,$a);e.memoizedProps=e.pendingProps,n===null?Bi(e):Ye=n}function Nv(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=qg(r,n,n.pendingProps,n.type,void 0,Xe);break;case 11:n=qg(r,n,n.pendingProps,n.type.render,n.ref,Xe);break;case 5:fd(n);default:Wg(r,n),n=Ye=Ch(n,$a),n=Xg(r,n,$a)}e.memoizedProps=e.pendingProps,n===null?Bi(e):Ye=n}function Gr(e,n,r,l){Oa=Wo=null,fd(n),Lr=null,qs=0;var f=n.return;try{if(o2(e,f,n,r,Xe)){jt=1,ji(e,Pn(r,e.current)),Ye=null;return}}catch(v){if(f!==null)throw Ye=f,v;jt=1,ji(e,Pn(r,e.current)),Ye=null;return}n.flags&32768?(Qe||l===1?e=!0:$r||(Xe&536870912)!==0?e=!1:(mo=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jv(n,e)):Bi(n)}function Bi(e){var n=e;do{if((n.flags&32768)!==0){jv(n,mo);return}e=n.return;var r=l2(n.alternate,n,$a);if(r!==null){Ye=r;return}if(n=n.sibling,n!==null){Ye=n;return}Ye=n=e}while(n!==null);jt===0&&(jt=5)}function jv(e,n){do{var r=i2(e.alternate,e);if(r!==null){r.flags&=32767,Ye=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ye=e;return}Ye=e=r}while(e!==null);jt=6,Ye=null}function Tv(e,n,r,l,f,v,N,O,B){e.cancelPendingCommit=null;do Hi();while(qt!==0);if((ot&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(v=n.lanes|n.childLanes,v|=Bu,pn(e,r,v,N,O,B),e===vt&&(Ye=vt=null,Xe=0),Yr=n,vo=e,Fa=r,Gd=v,Xd=f,gv=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,b2(It,function(){return Av(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,f=H.p,H.p=2,N=ot,ot|=4;try{c2(e,n,r)}finally{ot=N,H.p=f,L.T=l}}qt=1,Rv(),Mv(),Dv()}}function Rv(){if(qt===1){qt=0;var e=vo,n=Yr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=L.T,L.T=null;var l=H.p;H.p=2;var f=ot;ot|=4;try{iv(n,e);var v=uf,N=mh(e.containerInfo),O=v.focusedElem,B=v.selectionRange;if(N!==O&&O&&O.ownerDocument&&ph(O.ownerDocument.documentElement,O)){if(B!==null&&ku(O)){var J=B.start,re=B.end;if(re===void 0&&(re=J),"selectionStart"in O)O.selectionStart=J,O.selectionEnd=Math.min(re,O.value.length);else{var ie=O.ownerDocument||document,ee=ie&&ie.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Se=O.textContent.length,Re=Math.min(B.start,Se),gt=B.end===void 0?Re:Math.min(B.end,Se);!te.extend&&Re>gt&&(N=gt,gt=Re,Re=N);var K=fh(O,Re),F=fh(O,gt);if(K&&F&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var Z=ie.createRange();Z.setStart(K.node,K.offset),te.removeAllRanges(),Re>gt?(te.addRange(Z),te.extend(F.node,F.offset)):(Z.setEnd(F.node,F.offset),te.addRange(Z))}}}}for(ie=[],te=O;te=te.parentNode;)te.nodeType===1&&ie.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ie.length;O++){var se=ie[O];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Zi=!!cf,uf=cf=null}finally{ot=f,H.p=l,L.T=r}}e.current=n,qt=2}}function Mv(){if(qt===2){qt=0;var e=vo,n=Yr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=L.T,L.T=null;var l=H.p;H.p=2;var f=ot;ot|=4;try{av(e,n.alternate,n)}finally{ot=f,H.p=l,L.T=r}}qt=3}}function Dv(){if(qt===4||qt===3){qt=0,rn();var e=vo,n=Yr,r=Fa,l=gv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qt=5:(qt=0,Yr=vo=null,_v(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(go=null),ze(r),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(wn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,f=H.p,H.p=2,L.T=null;try{for(var v=e.onRecoverableError,N=0;N<l.length;N++){var O=l[N];v(O.value,{componentStack:O.stack})}}finally{L.T=n,H.p=f}}(Fa&3)!==0&&Hi(),va(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===Kd?rl++:(rl=0,Kd=e):rl=0,sl(0)}}function _v(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Hs(n)))}function Hi(){return Rv(),Mv(),Dv(),Av()}function Av(){if(qt!==5)return!1;var e=vo,n=Gd;Gd=0;var r=ze(Fa),l=L.T,f=H.p;try{H.p=32>r?32:r,L.T=null,r=Xd,Xd=null;var v=vo,N=Fa;if(qt=0,Yr=vo=null,Fa=0,(ot&6)!==0)throw Error(s(331));var O=ot;if(ot|=4,pv(v.current),uv(v,v.current,N,r),ot=O,sl(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(wn,v)}catch{}return!0}finally{H.p=f,L.T=l,_v(e,n)}}function Ov(e,n,r){n=Pn(r,n),n=Td(e.stateNode,n,2),e=co(e,n,2),e!==null&&(Dt(e,2),va(e))}function dt(e,n,r){if(e.tag===3)Ov(e,e,r);else for(;n!==null;){if(n.tag===3){Ov(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(go===null||!go.has(l))){e=Pn(r,e),r=kg(2),l=co(n,r,2),l!==null&&(zg(r,l,n,e),Dt(l,2),va(l));break}}n=n.return}}function Zd(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new f2;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(r)||(Fd=!0,f.add(r),e=v2.bind(null,e,n,r),n.then(e,e))}function v2(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,vt===e&&(Xe&r)===r&&(jt===4||jt===3&&(Xe&62914560)===Xe&&300>kt()-ki?(ot&2)===0&&Vr(e,0):Yd|=r,Fr===Xe&&(Fr=0)),va(e)}function kv(e,n){n===0&&(n=Yt()),e=Go(e,n),e!==null&&(Dt(e,n),va(e))}function y2(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),kv(e,r)}function x2(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),kv(e,r)}function b2(e,n){return et(e,n)}var Ii=null,Xr=null,Jd=!1,qi=!1,ef=!1,xo=0;function va(e){e!==Xr&&e.next===null&&(Xr===null?Ii=Xr=e:Xr=Xr.next=e),qi=!0,Jd||(Jd=!0,w2())}function sl(e,n){if(!ef&&qi){ef=!0;do for(var r=!1,l=Ii;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var v=0;else{var N=l.suspendedLanes,O=l.pingedLanes;v=(1<<31-zt(42|e)+1)-1,v&=f&~(N&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(r=!0,Uv(l,v))}else v=Xe,v=ct(l,l===vt?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(v&3)===0||Ze(l,v)||(r=!0,Uv(l,v));l=l.next}while(r);ef=!1}}function S2(){zv()}function zv(){qi=Jd=!1;var e=0;xo!==0&&A2()&&(e=xo);for(var n=kt(),r=null,l=Ii;l!==null;){var f=l.next,v=Lv(l,n);v===0?(l.next=null,r===null?Ii=f:r.next=f,f===null&&(Xr=r)):(r=l,(e!==0||(v&3)!==0)&&(qi=!0)),l=f}qt!==0&&qt!==5||sl(e),xo!==0&&(xo=0)}function Lv(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var N=31-zt(v),O=1<<N,B=f[N];B===-1?((O&r)===0||(O&l)!==0)&&(f[N]=Lt(O,n)):B<=n&&(e.expiredLanes|=O),v&=~O}if(n=vt,r=Xe,r=ct(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(ut===2||ut===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Tt(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ze(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&Tt(l),ze(r)){case 2:case 8:r=Sn;break;case 32:r=It;break;case 268435456:r=Qn;break;default:r=It}return l=Pv.bind(null,e),r=et(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&Tt(l),e.callbackPriority=2,e.callbackNode=null,2}function Pv(e,n){if(qt!==0&&qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Hi()&&e.callbackNode!==r)return null;var l=Xe;return l=ct(e,e===vt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yv(e,l,n),Lv(e,kt()),e.callbackNode!=null&&e.callbackNode===r?Pv.bind(null,e):null)}function Uv(e,n){if(Hi())return null;yv(e,n,!0)}function w2(){k2(function(){(ot&6)!==0?et(Kn,S2):zv()})}function tf(){if(xo===0){var e=Or;e===0&&(e=le,le<<=1,(le&261888)===0&&(le=256)),xo=e}return xo}function Bv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wl(""+e)}function Hv(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function C2(e,n,r,l,f){if(n==="submit"&&r&&r.stateNode===f){var v=Bv((f[Ie]||null).action),N=l.submitter;N&&(n=(n=N[Ie]||null)?Bv(n.formAction):N.getAttribute("formAction"),n!==null&&(v=n,N=null));var O=new ei("action","action",null,l,f);e.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xo!==0){var B=N?Hv(f,N):new FormData(f);Sd(r,{pending:!0,data:B,method:f.method,action:v},null,B)}}else typeof v=="function"&&(O.preventDefault(),B=N?Hv(f,N):new FormData(f),Sd(r,{pending:!0,data:B,method:f.method,action:v},v,B))},currentTarget:f}]})}}for(var nf=0;nf<Uu.length;nf++){var af=Uu[nf],E2=af.toLowerCase(),N2=af[0].toUpperCase()+af.slice(1);na(E2,"on"+N2)}na(vh,"onAnimationEnd"),na(yh,"onAnimationIteration"),na(xh,"onAnimationStart"),na("dblclick","onDoubleClick"),na("focusin","onFocus"),na("focusout","onBlur"),na(IC,"onTransitionRun"),na(qC,"onTransitionStart"),na($C,"onTransitionCancel"),na(bh,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),$o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$o("onBeforeInput",["compositionend","keypress","textInput","paste"]),$o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function Iv(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],f=l.event;l=l.listeners;e:{var v=void 0;if(n)for(var N=l.length-1;0<=N;N--){var O=l[N],B=O.instance,J=O.currentTarget;if(O=O.listener,B!==v&&f.isPropagationStopped())break e;v=O,f.currentTarget=J;try{v(f)}catch(re){ai(re)}f.currentTarget=null,v=B}else for(N=0;N<l.length;N++){if(O=l[N],B=O.instance,J=O.currentTarget,O=O.listener,B!==v&&f.isPropagationStopped())break e;v=O,f.currentTarget=J;try{v(f)}catch(re){ai(re)}f.currentTarget=null,v=B}}}}function Ve(e,n){var r=n[pt];r===void 0&&(r=n[pt]=new Set);var l=e+"__bubble";r.has(l)||(qv(n,e,2,!1),r.add(l))}function of(e,n,r){var l=0;n&&(l|=4),qv(r,e,l,n)}var $i="_reactListening"+Math.random().toString(36).slice(2);function rf(e){if(!e[$i]){e[$i]=!0,zm.forEach(function(r){r!=="selectionchange"&&(j2.has(r)||of(r,!1,e),of(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[$i]||(n[$i]=!0,of("selectionchange",!1,n))}}function qv(e,n,r,l){switch(vy(n)){case 2:var f=eE;break;case 8:f=tE;break;default:f=Sf}r=f.bind(null,n,r,e),f=void 0,!Nu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function sf(e,n,r,l,f){var v=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var N=l.tag;if(N===3||N===4){var O=l.stateNode.containerInfo;if(O===f)break;if(N===4)for(N=l.return;N!==null;){var B=N.tag;if((B===3||B===4)&&N.stateNode.containerInfo===f)return;N=N.return}for(;O!==null;){if(N=lt(O),N===null)return;if(B=N.tag,B===5||B===6||B===26||B===27){l=v=N;continue e}O=O.parentNode}}l=l.return}Gm(function(){var J=v,re=Cu(r),ie=[];e:{var ee=Sh.get(e);if(ee!==void 0){var te=ei,Se=e;switch(e){case"keypress":if(Zl(r)===0)break e;case"keydown":case"keyup":te=xC;break;case"focusin":Se="focus",te=Mu;break;case"focusout":Se="blur",te=Mu;break;case"beforeblur":case"afterblur":te=Mu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=lC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=wC;break;case vh:case yh:case xh:te=uC;break;case bh:te=EC;break;case"scroll":case"scrollend":te=rC;break;case"wheel":te=jC;break;case"copy":case"cut":case"paste":te=fC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Zm;break;case"toggle":case"beforetoggle":te=RC}var Re=(n&4)!==0,gt=!Re&&(e==="scroll"||e==="scrollend"),K=Re?ee!==null?ee+"Capture":null:ee;Re=[];for(var F=J,Z;F!==null;){var se=F;if(Z=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Z===null||K===null||(se=Ms(F,K),se!=null&&Re.push(il(F,se,Z))),gt)break;F=F.return}0<Re.length&&(ee=new te(ee,Se,null,r,re),ie.push({event:ee,listeners:Re}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",ee&&r!==wu&&(Se=r.relatedTarget||r.fromElement)&&(lt(Se)||Se[yt]))break e;if((te||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Se=r.relatedTarget||r.toElement,te=J,Se=Se?lt(Se):null,Se!==null&&(gt=u(Se),Re=Se.tag,Se!==gt||Re!==5&&Re!==27&&Re!==6)&&(Se=null)):(te=null,Se=J),te!==Se)){if(Re=Wm,se="onMouseLeave",K="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(Re=Zm,se="onPointerLeave",K="onPointerEnter",F="pointer"),gt=te==null?ee:pa(te),Z=Se==null?ee:pa(Se),ee=new Re(se,F+"leave",te,r,re),ee.target=gt,ee.relatedTarget=Z,se=null,lt(re)===J&&(Re=new Re(K,F+"enter",Se,r,re),Re.target=Z,Re.relatedTarget=gt,se=Re),gt=se,te&&Se)t:{for(Re=T2,K=te,F=Se,Z=0,se=K;se;se=Re(se))Z++;se=0;for(var je=F;je;je=Re(je))se++;for(;0<Z-se;)K=Re(K),Z--;for(;0<se-Z;)F=Re(F),se--;for(;Z--;){if(K===F||F!==null&&K===F.alternate){Re=K;break t}K=Re(K),F=Re(F)}Re=null}else Re=null;te!==null&&$v(ie,ee,te,Re,!1),Se!==null&&gt!==null&&$v(ie,gt,Se,Re,!0)}}e:{if(ee=J?pa(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var tt=sh;else if(oh(ee))if(lh)tt=UC;else{tt=LC;var Ne=zC}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Su(J.elementType)&&(tt=sh):tt=PC;if(tt&&(tt=tt(e,J))){rh(ie,tt,r,re);break e}Ne&&Ne(e,ee,J),e==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&bu(ee,"number",ee.value)}switch(Ne=J?pa(J):window,e){case"focusin":(oh(Ne)||Ne.contentEditable==="true")&&(Nr=Ne,zu=J,Ps=null);break;case"focusout":Ps=zu=Nr=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,hh(ie,r,re);break;case"selectionchange":if(HC)break;case"keydown":case"keyup":hh(ie,r,re)}var Be;if(_u)e:{switch(e){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Er?nh(e,r)&&(Ke="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ke="onCompositionStart");Ke&&(Jm&&r.locale!=="ko"&&(Er||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Er&&(Be=Xm()):(no=re,ju="value"in no?no.value:no.textContent,Er=!0)),Ne=Fi(J,Ke),0<Ne.length&&(Ke=new Qm(Ke,e,null,r,re),ie.push({event:Ke,listeners:Ne}),Be?Ke.data=Be:(Be=ah(r),Be!==null&&(Ke.data=Be)))),(Be=DC?_C(e,r):AC(e,r))&&(Ke=Fi(J,"onBeforeInput"),0<Ke.length&&(Ne=new Qm("onBeforeInput","beforeinput",null,r,re),ie.push({event:Ne,listeners:Ke}),Ne.data=Be)),C2(ie,e,J,r,re)}Iv(ie,n)})}function il(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Fi(e,n){for(var r=n+"Capture",l=[];e!==null;){var f=e,v=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||v===null||(f=Ms(e,r),f!=null&&l.unshift(il(e,f,v)),f=Ms(e,n),f!=null&&l.push(il(e,f,v))),e.tag===3)return l;e=e.return}return[]}function T2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $v(e,n,r,l,f){for(var v=n._reactName,N=[];r!==null&&r!==l;){var O=r,B=O.alternate,J=O.stateNode;if(O=O.tag,B!==null&&B===l)break;O!==5&&O!==26&&O!==27||J===null||(B=J,f?(J=Ms(r,v),J!=null&&N.unshift(il(r,J,B))):f||(J=Ms(r,v),J!=null&&N.push(il(r,J,B)))),r=r.return}N.length!==0&&e.push({event:n,listeners:N})}var R2=/\r\n?/g,M2=/\u0000|\uFFFD/g;function Fv(e){return(typeof e=="string"?e:""+e).replace(R2,`
`).replace(M2,"")}function Yv(e,n){return n=Fv(n),Fv(e)===n}function ht(e,n,r,l,f,v){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sr(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sr(e,""+l);break;case"className":Xl(e,"class",l);break;case"tabIndex":Xl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(e,r,l);break;case"style":Ym(e,l,v);break;case"data":if(n!=="object"){Xl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Wl(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(r==="formAction"?(n!=="input"&&ht(e,n,"name",f.name,f,null),ht(e,n,"formEncType",f.formEncType,f,null),ht(e,n,"formMethod",f.formMethod,f,null),ht(e,n,"formTarget",f.formTarget,f,null)):(ht(e,n,"encType",f.encType,f,null),ht(e,n,"method",f.method,f,null),ht(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Wl(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Ma);break;case"onScroll":l!=null&&Ve("scroll",e);break;case"onScrollEnd":l!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Wl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),Gl(e,"popover",l);break;case"xlinkActuate":Ra(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ra(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ra(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ra(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ra(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ra(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=aC.get(r)||r,Gl(e,r,l))}}function lf(e,n,r,l,f,v){switch(r){case"style":Ym(e,l,v);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Sr(e,l):(typeof l=="number"||typeof l=="bigint")&&Sr(e,""+l);break;case"onScroll":l!=null&&Ve("scroll",e);break;case"onScrollEnd":l!=null&&Ve("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lm.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),v=e[Ie]||null,v=v!=null?v[r]:null,typeof v=="function"&&e.removeEventListener(n,v,f),typeof l=="function")){typeof v!="function"&&v!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,f);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Gl(e,r,l)}}}function Jt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var l=!1,f=!1,v;for(v in r)if(r.hasOwnProperty(v)){var N=r[v];if(N!=null)switch(v){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ht(e,n,v,N,r,null)}}f&&ht(e,n,"srcSet",r.srcSet,r,null),l&&ht(e,n,"src",r.src,r,null);return;case"input":Ve("invalid",e);var O=v=N=f=null,B=null,J=null;for(l in r)if(r.hasOwnProperty(l)){var re=r[l];if(re!=null)switch(l){case"name":f=re;break;case"type":N=re;break;case"checked":B=re;break;case"defaultChecked":J=re;break;case"value":v=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,n));break;default:ht(e,n,l,re,r,null)}}Im(e,v,O,B,J,N,f,!1);return;case"select":Ve("invalid",e),l=N=v=null;for(f in r)if(r.hasOwnProperty(f)&&(O=r[f],O!=null))switch(f){case"value":v=O;break;case"defaultValue":N=O;break;case"multiple":l=O;default:ht(e,n,f,O,r,null)}n=v,r=N,e.multiple=!!l,n!=null?br(e,!!l,n,!1):r!=null&&br(e,!!l,r,!0);return;case"textarea":Ve("invalid",e),v=f=l=null;for(N in r)if(r.hasOwnProperty(N)&&(O=r[N],O!=null))switch(N){case"value":l=O;break;case"defaultValue":f=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:ht(e,n,N,O,r,null)}$m(e,l,f,v);return;case"option":for(B in r)r.hasOwnProperty(B)&&(l=r[B],l!=null)&&(B==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ht(e,n,B,l,r,null));return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(l=0;l<ll.length;l++)Ve(ll[l],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in r)if(r.hasOwnProperty(J)&&(l=r[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ht(e,n,J,l,r,null)}return;default:if(Su(n)){for(re in r)r.hasOwnProperty(re)&&(l=r[re],l!==void 0&&lf(e,n,re,l,r,void 0));return}}for(O in r)r.hasOwnProperty(O)&&(l=r[O],l!=null&&ht(e,n,O,l,r,null))}function D2(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,v=null,N=null,O=null,B=null,J=null,re=null;for(te in r){var ie=r[te];if(r.hasOwnProperty(te)&&ie!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=ie;default:l.hasOwnProperty(te)||ht(e,n,te,null,l,ie)}}for(var ee in l){var te=l[ee];if(ie=r[ee],l.hasOwnProperty(ee)&&(te!=null||ie!=null))switch(ee){case"type":v=te;break;case"name":f=te;break;case"checked":J=te;break;case"defaultChecked":re=te;break;case"value":N=te;break;case"defaultValue":O=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,n));break;default:te!==ie&&ht(e,n,ee,te,l,ie)}}xu(e,N,O,B,J,re,v,f);return;case"select":te=N=O=ee=null;for(v in r)if(B=r[v],r.hasOwnProperty(v)&&B!=null)switch(v){case"value":break;case"multiple":te=B;default:l.hasOwnProperty(v)||ht(e,n,v,null,l,B)}for(f in l)if(v=l[f],B=r[f],l.hasOwnProperty(f)&&(v!=null||B!=null))switch(f){case"value":ee=v;break;case"defaultValue":O=v;break;case"multiple":N=v;default:v!==B&&ht(e,n,f,v,l,B)}n=O,r=N,l=te,ee!=null?br(e,!!r,ee,!1):!!l!=!!r&&(n!=null?br(e,!!r,n,!0):br(e,!!r,r?[]:"",!1));return;case"textarea":te=ee=null;for(O in r)if(f=r[O],r.hasOwnProperty(O)&&f!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ht(e,n,O,null,l,f)}for(N in l)if(f=l[N],v=r[N],l.hasOwnProperty(N)&&(f!=null||v!=null))switch(N){case"value":ee=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==v&&ht(e,n,N,f,l,v)}qm(e,ee,te);return;case"option":for(var Se in r)ee=r[Se],r.hasOwnProperty(Se)&&ee!=null&&!l.hasOwnProperty(Se)&&(Se==="selected"?e.selected=!1:ht(e,n,Se,null,l,ee));for(B in l)ee=l[B],te=r[B],l.hasOwnProperty(B)&&ee!==te&&(ee!=null||te!=null)&&(B==="selected"?e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":ht(e,n,B,ee,l,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in r)ee=r[Re],r.hasOwnProperty(Re)&&ee!=null&&!l.hasOwnProperty(Re)&&ht(e,n,Re,null,l,ee);for(J in l)if(ee=l[J],te=r[J],l.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,n));break;default:ht(e,n,J,ee,l,te)}return;default:if(Su(n)){for(var gt in r)ee=r[gt],r.hasOwnProperty(gt)&&ee!==void 0&&!l.hasOwnProperty(gt)&&lf(e,n,gt,void 0,l,ee);for(re in l)ee=l[re],te=r[re],!l.hasOwnProperty(re)||ee===te||ee===void 0&&te===void 0||lf(e,n,re,ee,l,te);return}}for(var K in r)ee=r[K],r.hasOwnProperty(K)&&ee!=null&&!l.hasOwnProperty(K)&&ht(e,n,K,null,l,ee);for(ie in l)ee=l[ie],te=r[ie],!l.hasOwnProperty(ie)||ee===te||ee==null&&te==null||ht(e,n,ie,ee,l,te)}function Vv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var f=r[l],v=f.transferSize,N=f.initiatorType,O=f.duration;if(v&&O&&Vv(N)){for(N=0,O=f.responseEnd,l+=1;l<r.length;l++){var B=r[l],J=B.startTime;if(J>O)break;var re=B.transferSize,ie=B.initiatorType;re&&Vv(ie)&&(B=B.responseEnd,N+=re*(B<O?1:(O-J)/(B-J)))}if(--l,n+=8*(v+N)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cf=null,uf=null;function Yi(e){return e.nodeType===9?e:e.ownerDocument}function Gv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function df(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ff=null;function A2(){var e=window.event;return e&&e.type==="popstate"?e===ff?!1:(ff=e,!0):(ff=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,O2=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,k2=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(e){return Wv.resolve(null).then(e).catch(z2)}:Kv;function z2(e){setTimeout(function(){throw e})}function bo(e){return e==="head"}function Qv(e,n){var r=n,l=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(f),Zr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")cl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,cl(r);for(var v=r.firstChild;v;){var N=v.nextSibling,O=v.nodeName;v[ea]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=N}}else r==="body"&&cl(e.ownerDocument.body);r=f}while(r);Zr(n)}function Zv(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function pf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pf(r),to(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function L2(e,n,r,l){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ea])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var v=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function P2(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=qn(e.nextSibling),e===null))return null;return e}function Jv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function mf(e){return e.data==="$?"||e.data==="$~"}function hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function U2(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gf=null;function ey(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return qn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function ty(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function ny(e,n,r){switch(n=Yi(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);to(e)}var $n=new Map,ay=new Set;function Vi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ya=H.d;H.d={f:B2,r:H2,D:I2,C:q2,L:$2,m:F2,X:V2,S:Y2,M:G2};function B2(){var e=Ya.f(),n=Pi();return e||n}function H2(e){var n=fa(e);n!==null&&n.tag===5&&n.type==="form"?bg(n):Ya.r(e)}var Kr=typeof document>"u"?null:document;function oy(e,n,r){var l=Kr;if(l&&typeof n=="string"&&n){var f=zn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),ay.has(f)||(ay.add(f),e={rel:e,crossOrigin:r,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),Jt(n,"link",e),Et(n),l.head.appendChild(n)))}}function I2(e){Ya.D(e),oy("dns-prefetch",e,null)}function q2(e,n){Ya.C(e,n),oy("preconnect",e,n)}function $2(e,n,r){Ya.L(e,n,r);var l=Kr;if(l&&e&&n){var f='link[rel="preload"][as="'+zn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+zn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+zn(r.imageSizes)+'"]')):f+='[href="'+zn(e)+'"]';var v=f;switch(n){case"style":v=Wr(e);break;case"script":v=Qr(e)}$n.has(v)||(e=y({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),$n.set(v,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(ul(v))||n==="script"&&l.querySelector(dl(v))||(n=l.createElement("link"),Jt(n,"link",e),Et(n),l.head.appendChild(n)))}}function F2(e,n){Ya.m(e,n);var r=Kr;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+zn(l)+'"][href="'+zn(e)+'"]',v=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Qr(e)}if(!$n.has(v)&&(e=y({rel:"modulepreload",href:e},n),$n.set(v,e),r.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(dl(v)))return}l=r.createElement("link"),Jt(l,"link",e),Et(l),r.head.appendChild(l)}}}function Y2(e,n,r){Ya.S(e,n,r);var l=Kr;if(l&&e){var f=ta(l).hoistableStyles,v=Wr(e);n=n||"default";var N=f.get(v);if(!N){var O={loading:0,preload:null};if(N=l.querySelector(ul(v)))O.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},r),(r=$n.get(v))&&vf(e,r);var B=N=l.createElement("link");Et(B),Jt(B,"link",e),B._p=new Promise(function(J,re){B.onload=J,B.onerror=re}),B.addEventListener("load",function(){O.loading|=1}),B.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Gi(N,n,l)}N={type:"stylesheet",instance:N,count:1,state:O},f.set(v,N)}}}function V2(e,n){Ya.X(e,n);var r=Kr;if(r&&e){var l=ta(r).hoistableScripts,f=Qr(e),v=l.get(f);v||(v=r.querySelector(dl(f)),v||(e=y({src:e,async:!0},n),(n=$n.get(f))&&yf(e,n),v=r.createElement("script"),Et(v),Jt(v,"link",e),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(f,v))}}function G2(e,n){Ya.M(e,n);var r=Kr;if(r&&e){var l=ta(r).hoistableScripts,f=Qr(e),v=l.get(f);v||(v=r.querySelector(dl(f)),v||(e=y({src:e,async:!0,type:"module"},n),(n=$n.get(f))&&yf(e,n),v=r.createElement("script"),Et(v),Jt(v,"link",e),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(f,v))}}function ry(e,n,r,l){var f=(f=pe.current)?Vi(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Wr(r.href),r=ta(f).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Wr(r.href);var v=ta(f).hoistableStyles,N=v.get(e);if(N||(f=f.ownerDocument||f,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,N),(v=f.querySelector(ul(e)))&&!v._p&&(N.instance=v,N.state.loading=5),$n.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},$n.set(e,r),v||X2(f,e,r,N.state))),n&&l===null)throw Error(s(528,""));return N}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qr(r),r=ta(f).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Wr(e){return'href="'+zn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function sy(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function X2(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Jt(n,"link",r),Et(n),e.head.appendChild(n))}function Qr(e){return'[src="'+zn(e)+'"]'}function dl(e){return"script[async]"+e}function ly(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+zn(r.href)+'"]');if(l)return n.instance=l,Et(l),l;var f=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Et(l),Jt(l,"style",f),Gi(l,r.precedence,e),n.instance=l;case"stylesheet":f=Wr(r.href);var v=e.querySelector(ul(f));if(v)return n.state.loading|=4,n.instance=v,Et(v),v;l=sy(r),(f=$n.get(f))&&vf(l,f),v=(e.ownerDocument||e).createElement("link"),Et(v);var N=v;return N._p=new Promise(function(O,B){N.onload=O,N.onerror=B}),Jt(v,"link",l),n.state.loading|=4,Gi(v,r.precedence,e),n.instance=v;case"script":return v=Qr(r.src),(f=e.querySelector(dl(v)))?(n.instance=f,Et(f),f):(l=r,(f=$n.get(v))&&(l=y({},r),yf(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Et(f),Jt(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Gi(l,r.precedence,e));return n.instance}function Gi(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,v=f,N=0;N<l.length;N++){var O=l[N];if(O.dataset.precedence===n)v=O;else if(v!==f)break}v?v.parentNode.insertBefore(e,v.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function vf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Xi=null;function iy(e,n,r){if(Xi===null){var l=new Map,f=Xi=new Map;f.set(r,l)}else f=Xi,l=f.get(r),l||(l=new Map,f.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var v=r[f];if(!(v[ea]||v[_e]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(n)||"";N=e+N;var O=l.get(N);O?O.push(v):l.set(N,[v])}}return l}function cy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function K2(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function W2(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Wr(l.href),v=n.querySelector(ul(f));if(v){n=v._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ki.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=v,Et(v);return}v=n.ownerDocument||n,l=sy(l),(f=$n.get(f))&&vf(l,f),v=v.createElement("link"),Et(v);var N=v;N._p=new Promise(function(O,B){N.onload=O,N.onerror=B}),Jt(v,"link",l),r.instance=v}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Ki.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var xf=0;function Q2(e,n){return e.stylesheets&&e.count===0&&Qi(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Qi(e,e.stylesheets),e.unsuspend){var v=e.unsuspend;e.unsuspend=null,v()}},6e4+n);0<e.imgBytes&&xf===0&&(xf=62500*_2());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qi(e,e.stylesheets),e.unsuspend)){var v=e.unsuspend;e.unsuspend=null,v()}},(e.imgBytes>xf?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Ki(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wi=null;function Qi(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wi=new Map,n.forEach(Z2,e),Wi=null,Ki.call(e))}function Z2(e,n){if(!(n.state.loading&4)){var r=Wi.get(e);if(r)var l=r.get(null);else{r=new Map,Wi.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<f.length;v++){var N=f[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(r.set(N.dataset.precedence,N),l=N)}l&&r.set(null,l)}f=n.instance,N=f.getAttribute("data-precedence"),v=r.get(N)||l,v===l&&r.set(null,f),r.set(N,f),this.count++,l=Ki.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),v?v.parentNode.insertBefore(f,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:R,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function J2(e,n,r,l,f,v,N,O,B){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function dy(e,n,r,l,f,v,N,O,B,J,re,ie){return e=new J2(e,n,r,N,B,J,re,ie,O),n=1,v===!0&&(n|=24),v=En(3,null,null,n),e.current=v,v.stateNode=e,n=Qu(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:l,isDehydrated:r,cache:n},td(v),e}function fy(e){return e?(e=Rr,e):Rr}function py(e,n,r,l,f,v){f=fy(f),l.context===null?l.context=f:l.pendingContext=f,l=io(n),l.payload={element:r},v=v===void 0?null:v,v!==null&&(l.callback=v),r=co(e,l,n),r!==null&&(xn(r,e,n),Fs(r,e,n))}function my(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function bf(e,n){my(e,n),(e=e.alternate)&&my(e,n)}function hy(e){if(e.tag===13||e.tag===31){var n=Go(e,67108864);n!==null&&xn(n,e,67108864),bf(e,67108864)}}function gy(e){if(e.tag===13||e.tag===31){var n=Mn();n=Ee(n);var r=Go(e,n);r!==null&&xn(r,e,n),bf(e,n)}}var Zi=!0;function eE(e,n,r,l){var f=L.T;L.T=null;var v=H.p;try{H.p=2,Sf(e,n,r,l)}finally{H.p=v,L.T=f}}function tE(e,n,r,l){var f=L.T;L.T=null;var v=H.p;try{H.p=8,Sf(e,n,r,l)}finally{H.p=v,L.T=f}}function Sf(e,n,r,l){if(Zi){var f=wf(l);if(f===null)sf(e,n,l,Ji,r),yy(e,l);else if(aE(f,e,n,r,l))l.stopPropagation();else if(yy(e,l),n&4&&-1<nE.indexOf(e)){for(;f!==null;){var v=fa(f);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=He(v.pendingLanes);if(N!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var B=1<<31-zt(N);O.entanglements[1]|=B,N&=~B}va(v),(ot&6)===0&&(zi=kt()+500,sl(0))}}break;case 31:case 13:O=Go(v,2),O!==null&&xn(O,v,2),Pi(),bf(v,2)}if(v=wf(l),v===null&&sf(e,n,l,Ji,r),v===f)break;f=v}f!==null&&l.stopPropagation()}else sf(e,n,l,null,r)}}function wf(e){return e=Cu(e),Cf(e)}var Ji=null;function Cf(e){if(Ji=null,e=lt(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ji=e,null}function vy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dn()){case Kn:return 2;case Sn:return 8;case It:case Wn:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var Ef=!1,So=null,wo=null,Co=null,pl=new Map,ml=new Map,Eo=[],nE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(e,n){switch(e){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function hl(e,n,r,l,f,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:v,targetContainers:[f]},n!==null&&(n=fa(n),n!==null&&hy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function aE(e,n,r,l,f){switch(n){case"focusin":return So=hl(So,e,n,r,l,f),!0;case"dragenter":return wo=hl(wo,e,n,r,l,f),!0;case"mouseover":return Co=hl(Co,e,n,r,l,f),!0;case"pointerover":var v=f.pointerId;return pl.set(v,hl(pl.get(v)||null,e,n,r,l,f)),!0;case"gotpointercapture":return v=f.pointerId,ml.set(v,hl(ml.get(v)||null,e,n,r,l,f)),!0}return!1}function xy(e){var n=lt(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,We(e.priority,function(){gy(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,We(e.priority,function(){gy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=wf(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);wu=l,r.target.dispatchEvent(l),wu=null}else return n=fa(r),n!==null&&hy(n),e.blockedOn=r,!1;n.shift()}return!0}function by(e,n,r){ec(e)&&r.delete(n)}function oE(){Ef=!1,So!==null&&ec(So)&&(So=null),wo!==null&&ec(wo)&&(wo=null),Co!==null&&ec(Co)&&(Co=null),pl.forEach(by),ml.forEach(by)}function tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ef||(Ef=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oE)))}var nc=null;function Sy(e){nc!==e&&(nc=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(Cf(l||r)===null)continue;break}var v=fa(r);v!==null&&(e.splice(n,3),n-=3,Sd(v,{pending:!0,data:f,method:r.method,action:l},l,f))}}))}function Zr(e){function n(B){return tc(B,e)}So!==null&&tc(So,e),wo!==null&&tc(wo,e),Co!==null&&tc(Co,e),pl.forEach(n),ml.forEach(n);for(var r=0;r<Eo.length;r++){var l=Eo[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Eo.length&&(r=Eo[0],r.blockedOn===null);)xy(r),r.blockedOn===null&&Eo.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var f=r[l],v=r[l+1],N=f[Ie]||null;if(typeof v=="function")N||Sy(r);else if(N){var O=null;if(v&&v.hasAttribute("formAction")){if(f=v,N=v[Ie]||null)O=N.formAction;else if(Cf(f)!==null)continue}else O=N.action;typeof O=="function"?r[l+1]=O:(r.splice(l,3),l-=3),Sy(r)}}}function wy(){function e(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(N){return f=N})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Nf(e){this._internalRoot=e}ac.prototype.render=Nf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Mn();py(r,l,e,n,null,null)},ac.prototype.unmount=Nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;py(e.current,2,null,e,null,null),Pi(),n[yt]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=Te();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Eo.length&&n!==0&&n<Eo[r].priority;r++);Eo.splice(r,0,e),r===0&&xy(e)}};var Cy=a.version;if(Cy!=="19.2.4")throw Error(s(527,Cy,"19.2.4"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var rE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{wn=oc.inject(rE),Mt=oc}catch{}}return vl.createRoot=function(e,n){if(!i(e))throw Error(s(299));var r=!1,l="",f=Dg,v=_g,N=Ag;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=dy(e,1,!1,null,null,r,l,null,f,v,N,wy),e[yt]=n.current,rf(e),new Nf(n)},vl.hydrateRoot=function(e,n,r){if(!i(e))throw Error(s(299));var l=!1,f="",v=Dg,N=_g,O=Ag,B=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(N=r.onCaughtError),r.onRecoverableError!==void 0&&(O=r.onRecoverableError),r.formState!==void 0&&(B=r.formState)),n=dy(e,1,!0,n,r??null,l,f,B,v,N,O,wy),n.context=fy(null),r=n.current,l=Mn(),l=Ee(l),f=io(l),f.callback=null,co(r,f,l),r=l,n.current.lanes=r,Dt(n,r),va(n),e[yt]=n.current,rf(e),new ac(n)},vl.version="19.2.4",vl}var Oy;function hE(){if(Oy)return Rf.exports;Oy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Rf.exports=mE(),Rf.exports}var gE=hE();var ky="popstate";function vE(t={}){function a(s,i){let{pathname:u,search:d,hash:p}=s.location;return ep("",{pathname:u,search:d,hash:p},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function o(s,i){return typeof i=="string"?i:Dl(i)}return xE(a,o,null,t)}function Ct(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function la(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function yE(){return Math.random().toString(36).substring(2,10)}function zy(t,a){return{usr:t.state,key:t.key,idx:a}}function ep(t,a,o=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?gs(a):a,state:o,key:a&&a.key||s||yE()}}function Dl({pathname:t="/",search:a="",hash:o=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function gs(t){let a={};if(t){let o=t.indexOf("#");o>=0&&(a.hash=t.substring(o),t=t.substring(0,o));let s=t.indexOf("?");s>=0&&(a.search=t.substring(s),t=t.substring(0,s)),t&&(a.pathname=t)}return a}function xE(t,a,o,s={}){let{window:i=document.defaultView,v5Compat:u=!1}=s,d=i.history,p="POP",h=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function y(){p="POP";let S=x(),w=S==null?null:S-g;g=S,h&&h({action:p,location:b.location,delta:w})}function C(S,w){p="PUSH";let j=ep(b.location,S,w);g=x()+1;let R=zy(j,g),A=b.createHref(j);try{d.pushState(R,"",A)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(A)}u&&h&&h({action:p,location:b.location,delta:1})}function T(S,w){p="REPLACE";let j=ep(b.location,S,w);g=x();let R=zy(j,g),A=b.createHref(j);d.replaceState(R,"",A),u&&h&&h({action:p,location:b.location,delta:0})}function E(S){return bE(S)}let b={get action(){return p},get location(){return t(i,d)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(ky,y),h=S,()=>{i.removeEventListener(ky,y),h=null}},createHref(S){return a(i,S)},createURL:E,encodeLocation(S){let w=E(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:C,replace:T,go(S){return d.go(S)}};return b}function bE(t,a=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(o,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Dl(t);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=o+s),new URL(s,o)}function a0(t,a,o="/"){return SE(t,a,o,!1)}function SE(t,a,o,s){let i=typeof a=="string"?gs(a):a,u=Wa(i.pathname||"/",o);if(u==null)return null;let d=o0(t);wE(d);let p=null;for(let h=0;p==null&&h<d.length;++h){let g=OE(u);p=_E(d[h],g,s)}return p}function o0(t,a=[],o=[],s="",i=!1){let u=(d,p,h=i,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&h)return;Ct(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let y=Ka([s,x.relativePath]),C=o.concat(x);d.children&&d.children.length>0&&(Ct(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),o0(d.children,a,C,y,h)),!(d.path==null&&!d.index)&&a.push({path:y,score:ME(y,d.index),routesMeta:C})};return t.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))u(d,p);else for(let h of r0(d.path))u(d,p,!0,h)}),a}function r0(t){let a=t.split("/");if(a.length===0)return[];let[o,...s]=a,i=o.endsWith("?"),u=o.replace(/\?$/,"");if(s.length===0)return i?[u,""]:[u];let d=r0(s.join("/")),p=[];return p.push(...d.map(h=>h===""?u:[u,h].join("/"))),i&&p.push(...d),p.map(h=>t.startsWith("/")&&h===""?"/":h)}function wE(t){t.sort((a,o)=>a.score!==o.score?o.score-a.score:DE(a.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}var CE=/^:[\w-]+$/,EE=3,NE=2,jE=1,TE=10,RE=-2,Ly=t=>t==="*";function ME(t,a){let o=t.split("/"),s=o.length;return o.some(Ly)&&(s+=RE),a&&(s+=NE),o.filter(i=>!Ly(i)).reduce((i,u)=>i+(CE.test(u)?EE:u===""?jE:TE),s)}function DE(t,a){return t.length===a.length&&t.slice(0,-1).every((s,i)=>s===a[i])?t[t.length-1]-a[a.length-1]:0}function _E(t,a,o=!1){let{routesMeta:s}=t,i={},u="/",d=[];for(let p=0;p<s.length;++p){let h=s[p],g=p===s.length-1,x=u==="/"?a:a.slice(u.length)||"/",y=Nc({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},x),C=h.route;if(!y&&g&&o&&!s[s.length-1].route.index&&(y=Nc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},x)),!y)return null;Object.assign(i,y.params),d.push({params:i,pathname:Ka([u,y.pathname]),pathnameBase:PE(Ka([u,y.pathnameBase])),route:C}),y.pathnameBase!=="/"&&(u=Ka([u,y.pathnameBase]))}return d}function Nc(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[o,s]=AE(t.path,t.caseSensitive,t.end),i=a.match(o);if(!i)return null;let u=i[0],d=u.replace(/(.)\/+$/,"$1"),p=i.slice(1);return{params:s.reduce((g,{paramName:x,isOptional:y},C)=>{if(x==="*"){let E=p[C]||"";d=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const T=p[C];return y&&!T?g[x]=void 0:g[x]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:t}}function AE(t,a=!1,o=!0){la(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,h)=>(s.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,a?void 0:"i"),s]}function OE(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return la(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Wa(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let o=a.endsWith("/")?a.length-1:a.length,s=t.charAt(o);return s&&s!=="/"?null:t.slice(o)||"/"}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function zE(t,a="/"){let{pathname:o,search:s="",hash:i=""}=typeof t=="string"?gs(t):t,u;return o?(o=o.replace(/\/\/+/g,"/"),o.startsWith("/")?u=Py(o.substring(1),"/"):u=Py(o,a)):u=a,{pathname:u,search:UE(s),hash:BE(i)}}function Py(t,a){let o=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?o.length>1&&o.pop():i!=="."&&o.push(i)}),o.length>1?o.join("/"):"/"}function Af(t,a,o,s){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LE(t){return t.filter((a,o)=>o===0||a.route.path&&a.route.path.length>0)}function s0(t){let a=LE(t);return a.map((o,s)=>s===a.length-1?o.pathname:o.pathnameBase)}function l0(t,a,o,s=!1){let i;typeof t=="string"?i=gs(t):(i={...t},Ct(!i.pathname||!i.pathname.includes("?"),Af("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Af("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Af("#","search","hash",i)));let u=t===""||i.pathname==="",d=u?"/":i.pathname,p;if(d==null)p=o;else{let y=a.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),y-=1;i.pathname=C.join("/")}p=y>=0?a[y]:"/"}let h=zE(i,p),g=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&o.endsWith("/");return!h.pathname.endsWith("/")&&(g||x)&&(h.pathname+="/"),h}var Ka=t=>t.join("/").replace(/\/\/+/g,"/"),PE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,HE=class{constructor(t,a,o,s=!1){this.status=t,this.statusText=a||"",this.internal=s,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function IE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function qE(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var i0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function c0(t,a){let o=t;if(typeof o!="string"||!kE.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let s=o,i=!1;if(i0)try{let u=new URL(window.location.href),d=o.startsWith("//")?new URL(u.protocol+o):new URL(o),p=Wa(d.pathname,a);d.origin===u.origin&&p!=null?o=p+d.search+d.hash:i=!0}catch{la(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u0=["POST","PUT","PATCH","DELETE"];new Set(u0);var $E=["GET",...u0];new Set($E);var vs=m.createContext(null);vs.displayName="DataRouter";var Ic=m.createContext(null);Ic.displayName="DataRouterState";var FE=m.createContext(!1),d0=m.createContext({isTransitioning:!1});d0.displayName="ViewTransition";var YE=m.createContext(new Map);YE.displayName="Fetchers";var VE=m.createContext(null);VE.displayName="Await";var Xn=m.createContext(null);Xn.displayName="Navigation";var zl=m.createContext(null);zl.displayName="Location";var Ja=m.createContext({outlet:null,matches:[],isDataRoute:!1});Ja.displayName="Route";var Op=m.createContext(null);Op.displayName="RouteError";var f0="REACT_ROUTER_ERROR",GE="REDIRECT",XE="ROUTE_ERROR_RESPONSE";function KE(t){if(t.startsWith(`${f0}:${GE}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function WE(t){if(t.startsWith(`${f0}:${XE}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new HE(a.status,a.statusText,a.data)}catch{}}function QE(t,{relative:a}={}){Ct(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:s}=m.useContext(Xn),{hash:i,pathname:u,search:d}=Pl(t,{relative:a}),p=u;return o!=="/"&&(p=u==="/"?o:Ka([o,u])),s.createHref({pathname:p,search:d,hash:i})}function Ll(){return m.useContext(zl)!=null}function Uo(){return Ct(Ll(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(zl).location}var p0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m0(t){m.useContext(Xn).static||m.useLayoutEffect(t)}function h0(){let{isDataRoute:t}=m.useContext(Ja);return t?uN():ZE()}function ZE(){Ct(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=m.useContext(vs),{basename:a,navigator:o}=m.useContext(Xn),{matches:s}=m.useContext(Ja),{pathname:i}=Uo(),u=JSON.stringify(s0(s)),d=m.useRef(!1);return m0(()=>{d.current=!0}),m.useCallback((h,g={})=>{if(la(d.current,p0),!d.current)return;if(typeof h=="number"){o.go(h);return}let x=l0(h,JSON.parse(u),i,g.relative==="path");t==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:Ka([a,x.pathname])),(g.replace?o.replace:o.push)(x,g.state,g)},[a,o,u,i,t])}m.createContext(null);function Pl(t,{relative:a}={}){let{matches:o}=m.useContext(Ja),{pathname:s}=Uo(),i=JSON.stringify(s0(o));return m.useMemo(()=>l0(t,JSON.parse(i),s,a==="path"),[t,i,s,a])}function JE(t,a){return g0(t,a)}function g0(t,a,o,s,i){Ct(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=m.useContext(Xn),{matches:d}=m.useContext(Ja),p=d[d.length-1],h=p?p.params:{},g=p?p.pathname:"/",x=p?p.pathnameBase:"/",y=p&&p.route;{let j=y&&y.path||"";y0(g,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let C=Uo(),T;if(a){let j=typeof a=="string"?gs(a):a;Ct(x==="/"||j.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=C;let E=T.pathname||"/",b=E;if(x!=="/"){let j=x.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=a0(t,{pathname:b});la(y||S!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),la(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=oN(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:Ka([x,u.encodeLocation?u.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?x:Ka([x,u.encodeLocation?u.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),d,o,s,i);return a&&w?m.createElement(zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},w):w}function eN(){let t=cN(),a=IE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:u},"ErrorBoundary")," or"," ",m.createElement("code",{style:u},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},a),o?m.createElement("pre",{style:i},o):null,d)}var tN=m.createElement(eN,null),v0=class extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const o=WE(t.digest);o&&(t=o)}let a=t!==void 0?m.createElement(Ja.Provider,{value:this.props.routeContext},m.createElement(Op.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?m.createElement(nN,{error:t},a):a}};v0.contextType=FE;var Of=new WeakMap;function nN({children:t,error:a}){let{basename:o}=m.useContext(Xn);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let s=KE(a.digest);if(s){let i=Of.get(a);if(i)throw i;let u=c0(s.location,o);if(i0&&!Of.get(a))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Of.set(a,d),d}return m.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function aN({routeContext:t,match:a,children:o}){let s=m.useContext(vs);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),m.createElement(Ja.Provider,{value:t},o)}function oN(t,a=[],o=null,s=null,i=null){if(t==null){if(!o)return null;if(o.errors)t=o.matches;else if(a.length===0&&!o.initialized&&o.matches.length>0)t=o.matches;else return null}let u=t,d=o?.errors;if(d!=null){let x=u.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);Ct(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let p=!1,h=-1;if(o)for(let x=0;x<u.length;x++){let y=u[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=x),y.route.id){let{loaderData:C,errors:T}=o,E=y.route.loader&&!C.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||E){p=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let g=o&&s?(x,y)=>{s(x,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:qE(o.matches),errorInfo:y})}:void 0;return u.reduceRight((x,y,C)=>{let T,E=!1,b=null,S=null;o&&(T=d&&y.route.id?d[y.route.id]:void 0,b=y.route.errorElement||tN,p&&(h<0&&C===0?(y0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):h===C&&(E=!0,S=y.route.hydrateFallbackElement||null)));let w=a.concat(u.slice(0,C+1)),j=()=>{let R;return T?R=b:E?R=S:y.route.Component?R=m.createElement(y.route.Component,null):y.route.element?R=y.route.element:R=x,m.createElement(aN,{match:y,routeContext:{outlet:x,matches:w,isDataRoute:o!=null},children:R})};return o&&(y.route.ErrorBoundary||y.route.errorElement||C===0)?m.createElement(v0,{location:o.location,revalidation:o.revalidation,component:b,error:T,children:j(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:g}):j()},null)}function kp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rN(t){let a=m.useContext(vs);return Ct(a,kp(t)),a}function sN(t){let a=m.useContext(Ic);return Ct(a,kp(t)),a}function lN(t){let a=m.useContext(Ja);return Ct(a,kp(t)),a}function zp(t){let a=lN(t),o=a.matches[a.matches.length-1];return Ct(o.route.id,`${t} can only be used on routes that contain a unique "id"`),o.route.id}function iN(){return zp("useRouteId")}function cN(){let t=m.useContext(Op),a=sN("useRouteError"),o=zp("useRouteError");return t!==void 0?t:a.errors?.[o]}function uN(){let{router:t}=rN("useNavigate"),a=zp("useNavigate"),o=m.useRef(!1);return m0(()=>{o.current=!0}),m.useCallback(async(i,u={})=>{la(o.current,p0),o.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:a,...u}))},[t,a])}var Uy={};function y0(t,a,o){!a&&!Uy[t]&&(Uy[t]=!0,la(!1,o))}m.memo(dN);function dN({routes:t,future:a,state:o,onError:s}){return g0(t,void 0,o,s,a)}function tp(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fN({basename:t="/",children:a=null,location:o,navigationType:s="POP",navigator:i,static:u=!1,unstable_useTransitions:d}){Ct(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=t.replace(/^\/*/,"/"),h=m.useMemo(()=>({basename:p,navigator:i,static:u,unstable_useTransitions:d,future:{}}),[p,i,u,d]);typeof o=="string"&&(o=gs(o));let{pathname:g="/",search:x="",hash:y="",state:C=null,key:T="default"}=o,E=m.useMemo(()=>{let b=Wa(g,p);return b==null?null:{location:{pathname:b,search:x,hash:y,state:C,key:T},navigationType:s}},[p,g,x,y,C,T,s]);return la(E!=null,`<Router basename="${p}"> is not able to match the URL "${g}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:m.createElement(Xn.Provider,{value:h},m.createElement(zl.Provider,{children:a,value:E}))}function pN({children:t,location:a}){return JE(np(t),a)}function np(t,a=[]){let o=[];return m.Children.forEach(t,(s,i)=>{if(!m.isValidElement(s))return;let u=[...a,i];if(s.type===m.Fragment){o.push.apply(o,np(s.props.children,u));return}Ct(s.type===tp,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=np(s.props.children,u)),o.push(d)}),o}var xc="get",bc="application/x-www-form-urlencoded";function qc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function mN(t){return qc(t)&&t.tagName.toLowerCase()==="button"}function hN(t){return qc(t)&&t.tagName.toLowerCase()==="form"}function gN(t){return qc(t)&&t.tagName.toLowerCase()==="input"}function vN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yN(t,a){return t.button===0&&(!a||a==="_self")&&!vN(t)}function ap(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,o)=>{let s=t[o];return a.concat(Array.isArray(s)?s.map(i=>[o,i]):[[o,s]])},[]))}function xN(t,a){let o=ap(t);return a&&a.forEach((s,i)=>{o.has(i)||a.getAll(i).forEach(u=>{o.append(i,u)})}),o}var rc=null;function bN(){if(rc===null)try{new FormData(document.createElement("form"),0),rc=!1}catch{rc=!0}return rc}var SN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kf(t){return t!=null&&!SN.has(t)?(la(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bc}"`),null):t}function wN(t,a){let o,s,i,u,d;if(hN(t)){let p=t.getAttribute("action");s=p?Wa(p,a):null,o=t.getAttribute("method")||xc,i=kf(t.getAttribute("enctype"))||bc,u=new FormData(t)}else if(mN(t)||gN(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||p.getAttribute("action");if(s=h?Wa(h,a):null,o=t.getAttribute("formmethod")||p.getAttribute("method")||xc,i=kf(t.getAttribute("formenctype"))||kf(p.getAttribute("enctype"))||bc,u=new FormData(p,t),!bN()){let{name:g,type:x,value:y}=t;if(x==="image"){let C=g?`${g}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else g&&u.append(g,y)}}else{if(qc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=xc,s=null,i=bc,d=t}return u&&i==="text/plain"&&(d=u,u=void 0),{action:s,method:o.toLowerCase(),encType:i,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lp(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function CN(t,a,o,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return o?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:a&&Wa(i.pathname,a)==="/"?i.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function EN(t,a){if(t.id in a)return a[t.id];try{let o=await import(t.module);return a[t.id]=o,o}catch(o){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jN(t,a,o){let s=await Promise.all(t.map(async i=>{let u=a.routes[i.route.id];if(u){let d=await EN(u,o);return d.links?d.links():[]}return[]}));return DN(s.flat(1).filter(NN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function By(t,a,o,s,i,u){let d=(h,g)=>o[g]?h.route.id!==o[g].route.id:!0,p=(h,g)=>o[g].pathname!==h.pathname||o[g].route.path?.endsWith("*")&&o[g].params["*"]!==h.params["*"];return u==="assets"?a.filter((h,g)=>d(h,g)||p(h,g)):u==="data"?a.filter((h,g)=>{let x=s.routes[h.route.id];if(!x||!x.hasLoader)return!1;if(d(h,g)||p(h,g))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function TN(t,a,{includeHydrateFallback:o}={}){return RN(t.map(s=>{let i=a.routes[s.route.id];if(!i)return[];let u=[i.module];return i.clientActionModule&&(u=u.concat(i.clientActionModule)),i.clientLoaderModule&&(u=u.concat(i.clientLoaderModule)),o&&i.hydrateFallbackModule&&(u=u.concat(i.hydrateFallbackModule)),i.imports&&(u=u.concat(i.imports)),u}).flat(1))}function RN(t){return[...new Set(t)]}function MN(t){let a={},o=Object.keys(t).sort();for(let s of o)a[s]=t[s];return a}function DN(t,a){let o=new Set;return new Set(a),t.reduce((s,i)=>{let u=JSON.stringify(MN(i));return o.has(u)||(o.add(u),s.push({key:u,link:i})),s},[])}function x0(){let t=m.useContext(vs);return Lp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _N(){let t=m.useContext(Ic);return Lp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pp=m.createContext(void 0);Pp.displayName="FrameworkContext";function b0(){let t=m.useContext(Pp);return Lp(t,"You must render this element inside a <HydratedRouter> element"),t}function AN(t,a){let o=m.useContext(Pp),[s,i]=m.useState(!1),[u,d]=m.useState(!1),{onFocus:p,onBlur:h,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=a,C=m.useRef(null);m.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let b=w=>{w.forEach(j=>{d(j.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return C.current&&S.observe(C.current),()=>{S.disconnect()}}},[t]),m.useEffect(()=>{if(s){let b=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(b)}}},[s]);let T=()=>{i(!0)},E=()=>{i(!1),d(!1)};return o?t!=="intent"?[u,C,{}]:[u,C,{onFocus:yl(p,T),onBlur:yl(h,E),onMouseEnter:yl(g,T),onMouseLeave:yl(x,E),onTouchStart:yl(y,T)}]:[!1,C,{}]}function yl(t,a){return o=>{t&&t(o),o.defaultPrevented||a(o)}}function ON({page:t,...a}){let{router:o}=x0(),s=m.useMemo(()=>a0(o.routes,t,o.basename),[o.routes,t,o.basename]);return s?m.createElement(zN,{page:t,matches:s,...a}):null}function kN(t){let{manifest:a,routeModules:o}=b0(),[s,i]=m.useState([]);return m.useEffect(()=>{let u=!1;return jN(t,a,o).then(d=>{u||i(d)}),()=>{u=!0}},[t,a,o]),s}function zN({page:t,matches:a,...o}){let s=Uo(),{future:i,manifest:u,routeModules:d}=b0(),{basename:p}=x0(),{loaderData:h,matches:g}=_N(),x=m.useMemo(()=>By(t,a,g,u,s,"data"),[t,a,g,u,s]),y=m.useMemo(()=>By(t,a,g,u,s,"assets"),[t,a,g,u,s]),C=m.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,S=!1;if(a.forEach(j=>{let R=u.routes[j.route.id];!R||!R.hasLoader||(!x.some(A=>A.route.id===j.route.id)&&j.route.id in h&&d[j.route.id]?.shouldRevalidate||R.hasClientLoader?S=!0:b.add(j.route.id))}),b.size===0)return[];let w=CN(t,p,i.unstable_trailingSlashAwareDataRequests,"data");return S&&b.size>0&&w.searchParams.set("_routes",a.filter(j=>b.has(j.route.id)).map(j=>j.route.id).join(",")),[w.pathname+w.search]},[p,i.unstable_trailingSlashAwareDataRequests,h,s,u,x,a,t,d]),T=m.useMemo(()=>TN(y,u),[y,u]),E=kN(y);return m.createElement(m.Fragment,null,C.map(b=>m.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...o})),T.map(b=>m.createElement("link",{key:b,rel:"modulepreload",href:b,...o})),E.map(({key:b,link:S})=>m.createElement("link",{key:b,nonce:o.nonce,...S,crossOrigin:S.crossOrigin??o.crossOrigin})))}function LN(...t){return a=>{t.forEach(o=>{typeof o=="function"?o(a):o!=null&&(o.current=a)})}}var PN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PN&&(window.__reactRouterVersion="7.13.0")}catch{}function UN({basename:t,children:a,unstable_useTransitions:o,window:s}){let i=m.useRef();i.current==null&&(i.current=vE({window:s,v5Compat:!0}));let u=i.current,[d,p]=m.useState({action:u.action,location:u.location}),h=m.useCallback(g=>{o===!1?p(g):m.startTransition(()=>p(g))},[o]);return m.useLayoutEffect(()=>u.listen(h),[u,h]),m.createElement(fN,{basename:t,children:a,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:o})}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w0=m.forwardRef(function({onClick:a,discover:o="render",prefetch:s="none",relative:i,reloadDocument:u,replace:d,state:p,target:h,to:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:C,...T},E){let{basename:b,unstable_useTransitions:S}=m.useContext(Xn),w=typeof g=="string"&&S0.test(g),j=c0(g,b);g=j.to;let R=QE(g,{relative:i}),[A,_,k]=AN(s,T),D=qN(g,{replace:d,state:p,target:h,preventScrollReset:x,relative:i,viewTransition:y,unstable_defaultShouldRevalidate:C,unstable_useTransitions:S});function M(I){a&&a(I),I.defaultPrevented||D(I)}let z=m.createElement("a",{...T,...k,href:j.absoluteURL||R,onClick:j.isExternal||u?a:M,ref:LN(E,_),target:h,"data-discover":!w&&o==="render"?"true":void 0});return A&&!w?m.createElement(m.Fragment,null,z,m.createElement(ON,{page:R})):z});w0.displayName="Link";var BN=m.forwardRef(function({"aria-current":a="page",caseSensitive:o=!1,className:s="",end:i=!1,style:u,to:d,viewTransition:p,children:h,...g},x){let y=Pl(d,{relative:g.relative}),C=Uo(),T=m.useContext(Ic),{navigator:E,basename:b}=m.useContext(Xn),S=T!=null&&XN(y)&&p===!0,w=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,j=C.pathname,R=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;o||(j=j.toLowerCase(),R=R?R.toLowerCase():null,w=w.toLowerCase()),R&&b&&(R=Wa(R,b)||R);const A=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let _=j===w||!i&&j.startsWith(w)&&j.charAt(A)==="/",k=R!=null&&(R===w||!i&&R.startsWith(w)&&R.charAt(w.length)==="/"),D={isActive:_,isPending:k,isTransitioning:S},M=_?a:void 0,z;typeof s=="function"?z=s(D):z=[s,_?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(D):u;return m.createElement(w0,{...g,"aria-current":M,className:z,ref:x,style:I,to:d,viewTransition:p},typeof h=="function"?h(D):h)});BN.displayName="NavLink";var HN=m.forwardRef(({discover:t="render",fetcherKey:a,navigate:o,reloadDocument:s,replace:i,state:u,method:d=xc,action:p,onSubmit:h,relative:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:C,...T},E)=>{let{unstable_useTransitions:b}=m.useContext(Xn),S=VN(),w=GN(p,{relative:g}),j=d.toLowerCase()==="get"?"get":"post",R=typeof p=="string"&&S0.test(p),A=_=>{if(h&&h(_),_.defaultPrevented)return;_.preventDefault();let k=_.nativeEvent.submitter,D=k?.getAttribute("formmethod")||d,M=()=>S(k||_.currentTarget,{fetcherKey:a,method:D,navigate:o,replace:i,state:u,relative:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:C});b&&o!==!1?m.startTransition(()=>M()):M()};return m.createElement("form",{ref:E,method:j,action:w,onSubmit:s?h:A,...T,"data-discover":!R&&t==="render"?"true":void 0})});HN.displayName="Form";function IN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(t){let a=m.useContext(vs);return Ct(a,IN(t)),a}function qN(t,{target:a,replace:o,state:s,preventScrollReset:i,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:h}={}){let g=h0(),x=Uo(),y=Pl(t,{relative:u});return m.useCallback(C=>{if(yN(C,a)){C.preventDefault();let T=o!==void 0?o:Dl(x)===Dl(y),E=()=>g(t,{replace:T,state:s,preventScrollReset:i,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:p});h?m.startTransition(()=>E()):E()}},[x,g,y,o,s,a,t,i,u,d,p,h])}function $N(t){la(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=m.useRef(ap(t)),o=m.useRef(!1),s=Uo(),i=m.useMemo(()=>xN(s.search,o.current?null:a.current),[s.search]),u=h0(),d=m.useCallback((p,h)=>{const g=ap(typeof p=="function"?p(new URLSearchParams(i)):p);o.current=!0,u("?"+g,h)},[u,i]);return[i,d]}var FN=0,YN=()=>`__${String(++FN)}__`;function VN(){let{router:t}=C0("useSubmit"),{basename:a}=m.useContext(Xn),o=iN(),s=t.fetch,i=t.navigate;return m.useCallback(async(u,d={})=>{let{action:p,method:h,encType:g,formData:x,body:y}=wN(u,a);if(d.navigate===!1){let C=d.fetcherKey||YN();await s(C,o,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||h,formEncType:d.encType||g,flushSync:d.flushSync})}else await i(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||h,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:o,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,i,a,o])}function GN(t,{relative:a}={}){let{basename:o}=m.useContext(Xn),s=m.useContext(Ja);Ct(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),u={...Pl(t||".",{relative:a})},d=Uo();if(t==null){u.search=d.search;let p=new URLSearchParams(u.search),h=p.getAll("index");if(h.some(x=>x==="")){p.delete("index"),h.filter(y=>y).forEach(y=>p.append("index",y));let x=p.toString();u.search=x?`?${x}`:""}}return(!t||t===".")&&i.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(u.pathname=u.pathname==="/"?o:Ka([o,u.pathname])),Dl(u)}function XN(t,{relative:a}={}){let o=m.useContext(d0);Ct(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=C0("useViewTransitionState"),i=Pl(t,{relative:a});if(!o.isTransitioning)return!1;let u=Wa(o.currentLocation.pathname,s)||o.currentLocation.pathname,d=Wa(o.nextLocation.pathname,s)||o.nextLocation.pathname;return Nc(i.pathname,d)!=null||Nc(i.pathname,u)!=null}var Ul=Hc();const KN=t0(Ul);const E0=(...t)=>t.filter((a,o,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===o).join(" ").trim();const WN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const QN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,o,s)=>s?s.toUpperCase():o.toLowerCase());const Hy=t=>{const a=QN(t);return a.charAt(0).toUpperCase()+a.slice(1)};var ZN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JN=t=>{for(const a in t)if(a.startsWith("aria-")||a==="role"||a==="title")return!0;return!1};const ej=m.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:i="",children:u,iconNode:d,...p},h)=>m.createElement("svg",{ref:h,...ZN,width:a,height:a,stroke:t,strokeWidth:s?Number(o)*24/Number(a):o,className:E0("lucide",i),...!u&&!JN(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,x])=>m.createElement(g,x)),...Array.isArray(u)?u:[u]]));const De=(t,a)=>{const o=m.forwardRef(({className:s,...i},u)=>m.createElement(ej,{ref:u,iconNode:a,className:E0(`lucide-${WN(Hy(t))}`,`lucide-${t}`,s),...i}));return o.displayName=Hy(t),o};const tj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Up=De("activity",tj);const nj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],aj=De("chart-column",nj);const oj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],N0=De("check",oj);const rj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ys=De("chevron-down",rj);const sj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],j0=De("chevron-up",sj);const lj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ij=De("circle-alert",lj);const cj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uj=De("circle-check-big",cj);const dj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fj=De("circle",dj);const pj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],op=De("clock",pj);const mj=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],T0=De("copy",mj);const hj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]],gj=De("disc-3",hj);const vj=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],yj=De("ellipsis-vertical",vj);const xj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zf=De("external-link",xj);const bj=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],R0=De("folder-open",bj);const Sj=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],wj=De("folder",Sj);const Cj=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Ej=De("gauge",Cj);const Nj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],jj=De("grid-3x3",Nj);const Tj=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Rj=De("grip-vertical",Tj);const Mj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],M0=De("info",Mj);const Dj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_j=De("loader-circle",Dj);const Aj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Oj=De("maximize-2",Aj);const kj=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],zj=De("mic",kj);const Lj=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Pj=De("minimize-2",Lj);const Uj=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],tn=De("music",Uj);const Bj=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],D0=De("pause",Bj);const Hj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_0=De("pen",Hj);const Ij=[["path",{d:"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8",key:"lag0yf"}],["path",{d:"M2 14h20",key:"myj16y"}],["path",{d:"M6 14v4",key:"9ng0ue"}],["path",{d:"M10 14v4",key:"1v8uk5"}],["path",{d:"M14 14v4",key:"1tqops"}],["path",{d:"M18 14v4",key:"18uqwm"}]],qj=De("piano",Ij);const $j=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$c=De("play",$j);const Fj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xs=De("plus",Fj);const Yj=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Vj=De("repeat",Yj);const Gj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xj=De("save",Gj);const Kj=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Iy=De("scan",Kj);const Wj=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Qj=De("scissors",Wj);const Zj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],A0=De("search",Zj);const Jj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],eT=De("send",Jj);const tT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nT=De("settings",tT);const aT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],oT=De("skip-back",aT);const rT=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],rp=De("sliders-vertical",rT);const sT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jc=De("sparkles",sT);const lT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],iT=De("square-pen",lT);const cT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],uT=De("square",cT);const dT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bs=De("trash-2",dT);const fT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],O0=De("triangle-alert",fT);const pT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],mT=De("upload",pT);const hT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],k0=De("volume-2",hT);const gT=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],qy=De("waves",gT);const vT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mr=De("x",vT);const yT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xT=De("zap",yT);const bT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ST=De("zoom-in",bT);const wT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],CT=De("zoom-out",wT),$y=t=>{let a;const o=new Set,s=(g,x)=>{const y=typeof g=="function"?g(a):g;if(!Object.is(y,a)){const C=a;a=x??(typeof y!="object"||y===null)?y:Object.assign({},a,y),o.forEach(T=>T(a,C))}},i=()=>a,p={setState:s,getState:i,getInitialState:()=>h,subscribe:g=>(o.add(g),()=>o.delete(g))},h=a=t(s,i,p);return p},ET=(t=>t?$y(t):$y),NT=t=>t;function jT(t,a=NT){const o=St.useSyncExternalStore(t.subscribe,St.useCallback(()=>a(t.getState()),[t,a]),St.useCallback(()=>a(t.getInitialState()),[t,a]));return St.useDebugValue(o),o}const TT=t=>{const a=ET(t),o=s=>jT(a,s);return Object.assign(o,a),o},RT=(t=>TT),MT=t=>(a,o,s)=>{const i=s.subscribe;return s.subscribe=((d,p,h)=>{let g=d;if(p){const x=h?.equalityFn||Object.is;let y=d(s.getState());g=C=>{const T=d(C);if(!x(y,T)){const E=y;p(y=T,E)}},h?.fireImmediately&&p(y,y)}return i(g)}),t(a,o,s)},DT=MT,Fy="http://localhost:8000",Yy="ws://localhost:8000",Bp={baseURL:Fy,wsBaseURL:Yy,endpoints:{audioEngine:"/audio-engine",api:{sequencer:"/api/sequencer",mixer:"/api/mixer",effects:"/api/effects",audio:"/api/audio",samples:"/api/samples",compositions:"/api/compositions",ai:"/api/ai"},ws:{spectrum:"/api/ws/spectrum",waveform:"/api/ws/waveform",meters:"/api/ws/meters",transport:"/api/ws/transport"}},getURL(t){return`${Fy}${t}`},getWSURL(t){return`${Yy}${t}`}},_T=Bp.baseURL;class Lf extends Error{constructor(a,o,s){super(a),this.status=o,this.endpoint=s,this.name="APIError"}}class hr{baseURL;constructor(a=_T){this.baseURL=a}async request(a,o){const s=`${this.baseURL}${a}`;try{const i=await fetch(s,{...o,headers:{"Content-Type":"application/json",...o?.headers}});if(!i.ok){let u=i.statusText;try{const d=await i.json();u=d.detail||d.message||u}catch{}throw new Lf(u,i.status,a)}return i.status===204?{}:i.json()}catch(i){throw i instanceof Lf?i:new Lf(i instanceof Error?i.message:"Network error",0,a)}}async get(a,o){let s=a;if(o&&Object.keys(o).length>0){const i=new URLSearchParams(Object.entries(o).filter(([u,d])=>d!=null).map(([u,d])=>[u,String(d)])).toString();s=`${a}?${i}`}return this.request(s,{method:"GET"})}async post(a,o){return this.request(a,{method:"POST",body:o?JSON.stringify(o):void 0})}async put(a,o){return this.request(a,{method:"PUT",body:o?JSON.stringify(o):void 0})}async patch(a,o){return this.request(a,{method:"PATCH",body:o?JSON.stringify(o):void 0})}async delete(a){return this.request(a,{method:"DELETE"})}}class AT extends hr{async create(a){return this.post("/api/compositions/",a)}async list(){return this.get("/api/compositions/")}async getById(a,o=!1){return this.get(`/api/compositions/${a}`,{use_autosave:o})}async update(a,o){return this.put(`/api/compositions/${a}`,o)}async saveComposition(a,o=!0,s=!1,i){return this.post(`/api/compositions/${a}/save`,{composition_id:a,create_history:o,is_autosave:s,metadata:i})}async deleteComposition(a){return super.delete(`/api/compositions/${a}`)}async loadAll(){return this.post("/api/compositions/load-all",{})}async getChatHistory(a){return this.get(`/api/compositions/${a}/chat-history`)}async listHistory(a){return this.get(`/api/compositions/${a}/history`)}async restoreVersion(a,o){return this.post(`/api/compositions/${a}/restore/${o}`,{})}async recoverFromAutosave(a){return this.post(`/api/compositions/${a}/recover-autosave`,{})}}class OT extends hr{async play(a){return this.post("/api/playback/play",a||{position:0})}async stop(){return this.post("/api/playback/stop",{})}async setTempo(a){return this.put("/api/playback/tempo",a)}async seek(a){return this.post("/api/playback/seek",{position:a.position})}async setLoop(a,o,s){return this.put("/api/playback/loop",{enabled:a,start:o,end:s})}async addClip(a){const{sequence_id:o,...s}=a;return this.post(`/api/compositions/${o}/clips`,s)}async getClips(a){return this.get(`/api/compositions/${a}/clips`)}async updateClip(a,o,s){return this.put(`/api/compositions/${a}/clips/${o}`,s)}async deleteClip(a,o){return this.delete(`/api/compositions/${a}/clips/${o}`)}async createTrack(a){const{composition_id:o,...s}=a;return this.post(`/api/compositions/${o}/tracks`,s)}async getTracks(a){return this.get(`/api/compositions/${a}/tracks`)}async updateTrack(a,o,s){return this.put(`/api/compositions/${a}/tracks/${o}`,s)}async muteTrack(a){const{composition_id:o,track_id:s,is_muted:i}=a;return this.put(`/api/compositions/${o}/tracks/${s}/mute`,{is_muted:i})}async soloTrack(a){const{composition_id:o,track_id:s,is_solo:i}=a;return this.put(`/api/compositions/${o}/tracks/${s}/solo`,{is_solo:i})}async deleteTrack(a,o){return this.delete(`/api/compositions/${a}/tracks/${o}`)}async getSynthDefs(){return this.get("/api/audio/synthdefs")}async previewNote(a){return this.post("/api/audio/preview",a)}async updateMetronome(a,o){return this.put("/api/audio/metronome",{enabled:a,volume:o})}}class kT extends hr{async getChannels(){return this.get("/api/mixer/channels")}async createChannel(a){return this.post("/api/mixer/channels",a)}async getChannel(a){return this.get(`/api/mixer/channels/${a}`)}async updateChannel(a,o){return this.patch(`/api/mixer/channels/${a}`,o)}async deleteChannel(a){return this.delete(`/api/mixer/channels/${a}`)}async getMaster(){return this.get("/api/mixer/master")}async updateMaster(a){return this.patch("/api/mixer/master",a)}}class zT extends hr{async getDefinitions(){return(await this.get("/api/effects/definitions")).effects}async getCategories(){return this.get("/api/effects/categories")}async getEffectsByCategory(a){return(await this.get(`/api/effects/categories/${a}`)).effects}async getTrackEffectChain(a){return this.get(`/api/effects/track/${a}`)}async addEffect(a){return this.post(`/api/effects/track/${a.track_id}`,a)}async getEffect(a){return this.get(`/api/effects/${a}`)}async updateEffect(a,o){return this.patch(`/api/effects/${a}`,o)}async deleteEffect(a){return this.delete(`/api/effects/${a}`)}async moveEffect(a,o){return this.post(`/api/effects/${a}/move`,o)}async clearTrackEffects(a){return this.post(`/api/effects/track/${a}/clear`,{})}}class LT extends hr{async createSynth(a){return this.post("/api/audio/synthesis/synths",a)}async getActiveSynths(){return this.get("/api/audio/synthesis/synths")}async getSynth(a){return this.get(`/api/audio/synthesis/synths/${a}`)}async setSynthParam(a,o){return this.put(`/api/audio/synthesis/synths/${a}`,o)}async deleteSynth(a,o=!0){return this.delete(`/api/audio/synthesis/synths/${a}?release=${o}`)}async deleteAllSynths(){return this.delete("/api/audio/synthesis/synths")}async setInputDevice(a){return this.post("/api/audio/input/device",a)}async stopInput(){return this.post("/api/audio/input/stop",{})}async setInputGain(a){return this.post("/api/audio/input/gain",a)}async getInputStatus(){return this.get("/api/audio/input/status")}}class PT extends hr{async chat(a){return this.post("/api/ai/chat",a)}async getState(a={}){return this.post("/api/ai/state",a)}async getContext(){return this.get("/api/ai/context")}async executeAction(a){return this.post("/api/ai/action",a)}async executeBatchActions(a){return this.post("/api/ai/actions/batch",a)}}class UT extends hr{async upload(a,o,s="Uncategorized"){const i=new FormData;i.append("file",a),i.append("name",o),i.append("category",s);const u=await fetch(`${this.baseURL}/api/samples/upload`,{method:"POST",body:i});if(!u.ok){const d=await u.json();throw new Error(d.detail||"Upload failed")}return u.json()}async getAll(){return this.get("/api/samples/")}async getById(a){return this.get(`/api/samples/${a}`)}async download(a){const o=await fetch(`${this.baseURL}/api/samples/${a}/download`);if(!o.ok)throw new Error("Download failed");return o.blob()}async update(a,o){const s=new URLSearchParams;return o.name!==void 0&&s.append("name",o.name),o.category!==void 0&&s.append("category",o.category),this.patch(`/api/samples/${a}?${s.toString()}`,{})}async deleteSample(a){return super.delete(`/api/samples/${a}`)}async updateDuration(a,o){const s=new FormData;s.append("duration",o.toString());const i=await fetch(`${this.baseURL}/api/samples/${a}/duration`,{method:"POST",body:s});if(!i.ok){const u=await i.json();throw new Error(u.detail||"Update duration failed")}return i.json()}}class BT{compositions;sequencer;mixer;effects;audio;ai;samples;constructor(a){this.compositions=new AT(a),this.sequencer=new OT(a),this.mixer=new kT(a),this.effects=new zT(a),this.audio=new LT(a),this.ai=new PT(a),this.samples=new UT(a)}}const ge=new BT;function HT(t){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",a.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}Array(12).fill(0);let sp=1;class IT{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{const o=this.subscribers.indexOf(a);this.subscribers.splice(o,1)}),this.publish=a=>{this.subscribers.forEach(o=>o(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var o;const{message:s,...i}=a,u=typeof a?.id=="number"||((o=a.id)==null?void 0:o.length)>0?a.id:sp++,d=this.toasts.find(h=>h.id===u),p=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),d?this.toasts=this.toasts.map(h=>h.id===u?(this.publish({...h,...a,id:u,title:s}),{...h,...a,id:u,dismissible:p,title:s}):h):this.addToast({title:s,...i,dismissible:p,id:u}),u},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(o=>o({id:a,dismiss:!0})))):this.toasts.forEach(o=>{this.subscribers.forEach(s=>s({id:o.id,dismiss:!0}))}),a),this.message=(a,o)=>this.create({...o,message:a}),this.error=(a,o)=>this.create({...o,message:a,type:"error"}),this.success=(a,o)=>this.create({...o,type:"success",message:a}),this.info=(a,o)=>this.create({...o,type:"info",message:a}),this.warning=(a,o)=>this.create({...o,type:"warning",message:a}),this.loading=(a,o)=>this.create({...o,type:"loading",message:a}),this.promise=(a,o)=>{if(!o)return;let s;o.loading!==void 0&&(s=this.create({...o,promise:a,type:"loading",message:o.loading,description:typeof o.description!="function"?o.description:void 0}));const i=Promise.resolve(a instanceof Function?a():a);let u=s!==void 0,d;const p=i.then(async g=>{if(d=["resolve",g],St.isValidElement(g))u=!1,this.create({id:s,type:"default",message:g});else if($T(g)&&!g.ok){u=!1;const y=typeof o.error=="function"?await o.error(`HTTP error! status: ${g.status}`):o.error,C=typeof o.description=="function"?await o.description(`HTTP error! status: ${g.status}`):o.description,E=typeof y=="object"&&!St.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:C,...E})}else if(g instanceof Error){u=!1;const y=typeof o.error=="function"?await o.error(g):o.error,C=typeof o.description=="function"?await o.description(g):o.description,E=typeof y=="object"&&!St.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:C,...E})}else if(o.success!==void 0){u=!1;const y=typeof o.success=="function"?await o.success(g):o.success,C=typeof o.description=="function"?await o.description(g):o.description,E=typeof y=="object"&&!St.isValidElement(y)?y:{message:y};this.create({id:s,type:"success",description:C,...E})}}).catch(async g=>{if(d=["reject",g],o.error!==void 0){u=!1;const x=typeof o.error=="function"?await o.error(g):o.error,y=typeof o.description=="function"?await o.description(g):o.description,T=typeof x=="object"&&!St.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:y,...T})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),o.finally==null||o.finally.call(o)}),h=()=>new Promise((g,x)=>p.then(()=>d[0]==="reject"?x(d[1]):g(d[1])).catch(x));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(a,o)=>{const s=o?.id||sp++;return this.create({jsx:a(s),id:s,...o}),s},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fn=new IT,qT=(t,a)=>{const o=a?.id||sp++;return Fn.addToast({title:t,...a,id:o}),o},$T=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",FT=qT,YT=()=>Fn.toasts,VT=()=>Fn.getActiveToasts(),ue=Object.assign(FT,{success:Fn.success,info:Fn.info,warning:Fn.warning,error:Fn.error,custom:Fn.custom,message:Fn.message,promise:Fn.promise,dismiss:Fn.dismiss,loading:Fn.loading},{getHistory:YT,getToasts:VT});HT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");class GT{channel;listeners=new Map;constructor(){this.channel=new BroadcastChannel("sonic-claude-sync"),this.setupMessageHandler(),console.log(" WindowManager initialized")}setupMessageHandler(){this.channel.onmessage=a=>{const{key:o,value:s}=a.data,i=this.listeners.get(o);i&&i.forEach(u=>u(s))}}broadcastState(a,o){const s={key:a,value:o,timestamp:Date.now()};this.channel.postMessage(s)}subscribeToState(a,o){return this.listeners.has(a)||this.listeners.set(a,new Set),this.listeners.get(a).add(o),()=>{const s=this.listeners.get(a);s&&(s.delete(o),s.size===0&&this.listeners.delete(a))}}openPopout(a,o){const u=window.screenX+50,d=window.screenY+50,p=`width=1200,height=800,left=${u},top=${d},resizable=yes,scrollbars=yes`,h=`/popout?tab=${a}&panels=${o.join(",")}`,g=window.open(h,`popout-${a}`,p);return g&&(console.log(` Opened popout for tab: ${a}`),this.broadcastState("popout-opened",{tabId:a,panelIds:o})),g}cleanup(){this.channel.close(),console.log(" WindowManager cleaned up")}}const Me=new GT;window.addEventListener("beforeunload",()=>{Me.cleanup()});const an={LAYOUT:"sonic-claude-layout-v2",WINDOW_STATE:"sonic-claude-window-state",ACTIVE_SEQUENCE_ID:"sonic-claude-active-sequence",SEQUENCER_SPLIT_RATIO:"sonic-claude-sequencer-split",ACTIVE_COMPOSITION_ID:"sonic-claude-active-composition",SETTINGS:"sonic-claude-settings",LAST_SESSION:"sonic-claude-last-session"};class XT{get(a,o){try{const s=localStorage.getItem(a);return s?JSON.parse(s):o}catch(s){return console.error(`Failed to parse localStorage key "${a}":`,s),o}}set(a,o){try{localStorage.setItem(a,JSON.stringify(o))}catch(s){console.error(`Failed to save to localStorage key "${a}":`,s)}}remove(a){try{localStorage.removeItem(a)}catch(o){console.error(`Failed to remove localStorage key "${a}":`,o)}}getLastSession(){return this.get(an.LAST_SESSION,null)}saveSession(a){this.set(an.LAST_SESSION,a)}clearSession(){this.remove(an.LAST_SESSION)}getActiveSequenceId(){return this.get(an.ACTIVE_SEQUENCE_ID,null)}setActiveSequenceId(a){a===null?this.remove(an.ACTIVE_SEQUENCE_ID):this.set(an.ACTIVE_SEQUENCE_ID,a)}getActiveCompositionId(){return this.get(an.ACTIVE_COMPOSITION_ID,null)}setActiveCompositionId(a){a===null?this.remove(an.ACTIVE_COMPOSITION_ID):this.set(an.ACTIVE_COMPOSITION_ID,a)}getSequencerSplitRatio(){return this.get(an.SEQUENCER_SPLIT_RATIO,60)}setSequencerSplitRatio(a){this.set(an.SEQUENCER_SPLIT_RATIO,a)}getLayout(){return this.get(an.LAYOUT,null)}setLayout(a){this.set(an.LAYOUT,a)}getSettings(){return this.get(an.SETTINGS,null)}setSettings(a){this.set(an.SETTINGS,a)}clearAll(){Object.values(an).forEach(a=>{this.remove(a)}),console.log(" Cleared all Sonic Claude state from localStorage")}}const us=new XT,ne=RT()(DT((t,a)=>({transport:null,meters:{},spectrum:[],waveform:null,analytics:null,activeComposition:null,compositions:[],hasUnsavedChanges:!1,tracks:[],clips:[],synthDefs:[],channels:[],master:null,effectDefinitions:[],effectChains:{},samples:[],sampleAssignments:{},activeSynths:{},zoom:.5,snapEnabled:!0,gridSize:16,isLooping:!0,loopStart:0,loopEnd:16,selectedClipId:null,showSampleBrowser:!1,showSequenceManager:!1,showSequenceSettings:!1,showPianoRoll:!1,pianoRollClipId:null,showMeters:!0,meterMode:"both",selectedChannelId:null,selectedEffectId:null,showEffectBrowser:!1,chatHistory:[],analysisEvents:[],dawStateSnapshot:null,aiContext:null,activities:[],activityHistory:[],isAIActive:!1,setTransport:o=>t({transport:o}),setMeters:o=>t({meters:o}),setSpectrum:o=>t({spectrum:o}),setWaveform:o=>t({waveform:o}),setAnalytics:o=>t({analytics:o}),play:async()=>{try{const{activeComposition:o}=a();if(!o){ue.error("No active composition");return}await ge.sequencer.play({position:0})}catch(o){console.error("Failed to play:",o),ue.error("Failed to play")}},stop:async()=>{try{const{activeComposition:o}=a();o&&await ge.sequencer.stop()}catch(o){console.error("Failed to stop playback:",o),ue.error("Failed to stop playback")}},pause:async()=>{try{await a().stop()}catch(o){console.error("Failed to pause playback:",o),ue.error("Failed to pause playback")}},resume:async()=>{try{await a().play()}catch(o){console.error("Failed to resume playback:",o),ue.error("Failed to resume playback")}},setTempo:async o=>{try{const{activeComposition:s}=a();s&&(await ge.sequencer.setTempo({tempo:o}),t(i=>({activeComposition:i.activeComposition?{...i.activeComposition,tempo:o}:null,hasUnsavedChanges:!0})))}catch(s){console.error("Failed to set tempo:",s),ue.error("Failed to set tempo")}},toggleMetronome:async()=>{try{await ge.sequencer.updateMetronome(void 0,void 0)}catch(o){console.error("Failed to toggle metronome:",o),ue.error("Failed to toggle metronome")}},seek:async(o,s=!1)=>{try{const{activeComposition:i}=a();if(!i)return;await ge.sequencer.seek({position:o,trigger_audio:s})}catch(i){console.error("Failed to seek:",i),ue.error("Failed to seek")}},createTrack:async(o,s,i)=>{try{const{activeComposition:u}=a();if(!u){ue.error("No active composition");return}const d=await ge.sequencer.createTrack({composition_id:u.id,name:o,type:s,instrument:i});t(p=>({tracks:[...p.tracks,d],hasUnsavedChanges:!0})),Me.broadcastState("tracks",a().tracks),ue.success(`Created track: ${o}`)}catch(u){console.error("Failed to create track:",u),ue.error("Failed to create track")}},deleteTrack:async o=>{try{const{activeComposition:s}=a();if(!s){ue.error("No active composition");return}await ge.sequencer.deleteTrack(s.id,o),t(i=>({tracks:i.tracks.filter(u=>u.id!==o),clips:i.clips.filter(u=>u.track_id!==o),hasUnsavedChanges:!0})),Me.broadcastState("tracks",a().tracks),Me.broadcastState("clips",a().clips),ue.success("Track deleted")}catch(s){console.error("Failed to delete track:",s),ue.error("Failed to delete track")}},renameTrack:async(o,s)=>{try{const{activeComposition:i}=a();if(!i)return;await ge.sequencer.updateTrack(i.id,o,{name:s}),t(u=>({tracks:u.tracks.map(d=>d.id===o?{...d,name:s}:d),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to rename track:",i),ue.error("Failed to rename track")}},updateTrack:async(o,s)=>{try{const{activeComposition:i}=a();if(!i)return;await ge.sequencer.updateTrack(i.id,o,s),t(u=>({tracks:u.tracks.map(d=>d.id===o?{...d,...s}:d),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to update track:",i),ue.error("Failed to update track")}},updateTrackVolume:async(o,s)=>{try{const{activeComposition:i}=a();if(!i)return;await ge.sequencer.updateTrack(i.id,o,{volume:s}),t(u=>({tracks:u.tracks.map(d=>d.id===o?{...d,volume:s}:d),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to update track volume:",i),ue.error("Failed to update track volume")}},updateTrackPan:async(o,s)=>{try{const{activeComposition:i}=a();if(!i)return;await ge.sequencer.updateTrack(i.id,o,{pan:s}),t(u=>({tracks:u.tracks.map(d=>d.id===o?{...d,pan:s}:d),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to update track pan:",i),ue.error("Failed to update track pan")}},muteTrack:async(o,s)=>{try{const{activeComposition:i}=a();if(!i)return;await ge.sequencer.muteTrack({composition_id:i.id,track_id:o,is_muted:s}),t(u=>({tracks:u.tracks.map(d=>d.id===o?{...d,is_muted:s}:d),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to mute track:",i),ue.error("Failed to mute track")}},soloTrack:async(o,s)=>{try{const{activeComposition:i}=a();if(!i)return;await ge.sequencer.soloTrack({composition_id:i.id,track_id:o,is_solo:s}),t(u=>({tracks:u.tracks.map(d=>d.id===o?{...d,is_solo:s}:d),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to solo track:",i),ue.error("Failed to solo track")}},addClip:async o=>{try{const s=await ge.sequencer.addClip(o);t(i=>({clips:[...i.clips,s]})),Me.broadcastState("clips",a().clips)}catch(s){console.error("Failed to add clip:",s),ue.error("Failed to add clip")}},updateClip:async(o,s)=>{try{const{activeComposition:i}=a();if(!i)return;const u=await ge.sequencer.updateClip(i.id,o,s);t(d=>({clips:d.clips.map(p=>p.id===o?u:p)})),Me.broadcastState("clips",a().clips)}catch(i){console.error("Failed to update clip:",i),ue.error("Failed to update clip")}},deleteClip:async o=>{try{const{activeComposition:s}=a();if(!s)return;await ge.sequencer.deleteClip(s.id,o),t(i=>({clips:i.clips.filter(u=>u.id!==o)})),Me.broadcastState("clips",a().clips)}catch(s){console.error("Failed to delete clip:",s),ue.error("Failed to delete clip")}},duplicateClip:async(o,s)=>{try{const i=a().clips.find(d=>d.id===s);if(!i){ue.error("Clip not found");return}const u=await ge.sequencer.addClip({sequence_id:o,clip_type:i.type,track_id:i.track_id,start_time:i.start_time+i.duration,duration:i.duration,midi_events:i.midi_events,audio_file_path:i.audio_file_path,name:i.name?`${i.name} (copy)`:void 0});t(d=>({clips:[...d.clips,u]})),Me.broadcastState("clips",a().clips),ue.success("Clip duplicated")}catch(i){console.error("Failed to duplicate clip:",i),ue.error("Failed to duplicate clip")}},loadSynthDefs:async()=>{try{const o=await ge.sequencer.getSynthDefs();t({synthDefs:o})}catch(o){console.error("Failed to load synth defs:",o),ue.error("Failed to load synth defs")}},loadChannels:async()=>{try{const o=await ge.mixer.getChannels();t({channels:o}),Me.broadcastState("channels",o)}catch(o){console.error("Failed to load channels:",o),ue.error("Failed to load channels")}},loadMixerState:async o=>{try{const s=o.channels||[],i=o.master||null;t({channels:s,master:i}),Me.broadcastState("channels",s),Me.broadcastState("master",i)}catch(s){throw console.error("Failed to load mixer state:",s),ue.error("Failed to load mixer state"),s}},updateChannelVolume:async(o,s)=>{try{const i=await ge.mixer.updateChannel(o,{fader:s});t(u=>({channels:u.channels.map(d=>d.id===o?i:d)})),Me.broadcastState("channels",a().channels)}catch(i){console.error("Failed to update channel volume:",i),ue.error("Failed to update channel volume")}},updateChannelPan:async(o,s)=>{try{const i=await ge.mixer.updateChannel(o,{pan:s});t(u=>({channels:u.channels.map(d=>d.id===o?i:d)})),Me.broadcastState("channels",a().channels)}catch(i){console.error("Failed to update channel pan:",i),ue.error("Failed to update channel pan")}},toggleChannelMute:async o=>{try{const s=a().channels.find(u=>u.id===o);if(!s)return;const i=await ge.mixer.updateChannel(o,{mute:!s.mute});t(u=>({channels:u.channels.map(d=>d.id===o?i:d)})),Me.broadcastState("channels",a().channels)}catch(s){console.error("Failed to toggle channel mute:",s),ue.error("Failed to toggle channel mute")}},toggleChannelSolo:async o=>{try{const s=a().channels.find(u=>u.id===o);if(!s)return;const i=await ge.mixer.updateChannel(o,{solo:!s.solo});t(u=>({channels:u.channels.map(d=>d.id===o?i:d)})),Me.broadcastState("channels",a().channels)}catch(s){console.error("Failed to toggle channel solo:",s),ue.error("Failed to toggle channel solo")}},loadMaster:async()=>{try{const o=await ge.mixer.getMaster();t({master:o}),Me.broadcastState("master",o)}catch(o){console.error("Failed to load master channel:",o),ue.error("Failed to load master channel")}},updateMasterFader:async o=>{try{const s=await ge.mixer.updateMaster({fader:o});t({master:s}),Me.broadcastState("master",s)}catch(s){console.error("Failed to update master fader:",s),ue.error("Failed to update master fader")}},toggleMasterMute:async()=>{try{const{master:o}=a();if(!o)return;const s=await ge.mixer.updateMaster({mute:!o.mute});t({master:s}),Me.broadcastState("master",s)}catch(o){console.error("Failed to toggle master mute:",o),ue.error("Failed to toggle master mute")}},toggleLimiter:async()=>{try{const{master:o}=a();if(!o)return;const s=await ge.mixer.updateMaster({limiter_enabled:!o.limiter_enabled});t({master:s}),Me.broadcastState("master",s)}catch(o){console.error("Failed to toggle limiter:",o),ue.error("Failed to toggle limiter")}},setLimiterThreshold:async o=>{try{const s=await ge.mixer.updateMaster({limiter_threshold:o});t({master:s}),Me.broadcastState("master",s)}catch(s){console.error("Failed to set limiter threshold:",s),ue.error("Failed to set limiter threshold")}},loadEffectDefinitions:async()=>{try{const o=await ge.effects.getDefinitions();t({effectDefinitions:o}),Me.broadcastState("effectDefinitions",o)}catch(o){console.error("Failed to load effect definitions:",o),ue.error("Failed to load effect definitions")}},loadEffectChain:async o=>{try{const s=await ge.effects.getTrackEffectChain(o);t(i=>({effectChains:{...i.effectChains,[o]:s}})),Me.broadcastState("effectChains",a().effectChains)}catch(s){console.error("Failed to load effect chain:",s),ue.error("Failed to load effect chain")}},loadEffectChains:async o=>{try{const s={};for(const i of o)s[i.track_id]=i;t({effectChains:s}),Me.broadcastState("effectChains",s)}catch(s){throw console.error("Failed to load effect chains:",s),ue.error("Failed to load effect chains"),s}},addEffect:async(o,s,i)=>{try{const u=await ge.effects.addEffect({track_id:o,effect_name:s,slot_index:i});t(d=>{const p=d.effectChains[o]||{track_id:o,effects:[]},h=[...p.effects,u],g={...p,effects:h};return{effectChains:{...d.effectChains,[o]:g}}}),Me.broadcastState("effectChains",a().effectChains),ue.success(`Added effect: ${s}`)}catch(u){console.error("Failed to add effect:",u),ue.error("Failed to add effect")}},deleteEffect:async o=>{try{await ge.effects.deleteEffect(o),t(s=>{const i={...s.effectChains};return Object.keys(i).forEach(u=>{i[u]={...i[u],effects:i[u].effects.filter(d=>d.id!==o)}}),{effectChains:i}}),Me.broadcastState("effectChains",a().effectChains),ue.success("Effect deleted")}catch(s){console.error("Failed to delete effect:",s),ue.error("Failed to delete effect")}},moveEffect:async(o,s)=>{try{await ge.effects.moveEffect(o,{new_slot_index:s}),t(i=>{const u={...i.effectChains};return Object.keys(u).forEach(d=>{const p=u[d].effects.findIndex(h=>h.id===o);if(p!==-1){const h=[...u[d].effects],[g]=h.splice(p,1);h.splice(s,0,g),u[d]={...u[d],effects:h}}}),{effectChains:u}})}catch(i){console.error("Failed to move effect:",i),ue.error("Failed to move effect")}},toggleEffectBypass:async o=>{try{let s=!1;const{effectChains:i}=a();Object.values(i).forEach(u=>{const d=u.effects.find(p=>p.id===o);d&&(s=d.is_bypassed)}),await ge.effects.updateEffect(o,{bypassed:!s}),t(u=>{const d={...u.effectChains};return Object.keys(d).forEach(p=>{d[p]={...d[p],effects:d[p].effects.map(h=>h.id===o?{...h,bypassed:!s}:h)}}),{effectChains:d}})}catch(s){console.error("Failed to toggle effect bypass:",s),ue.error("Failed to toggle effect bypass")}},updateEffectParameter:async(o,s,i)=>{try{await ge.effects.updateEffect(o,{parameters:{[s]:i}}),t(u=>{const d={...u.effectChains};return Object.keys(d).forEach(p=>{d[p]={...d[p],effects:d[p].effects.map(h=>h.id===o?{...h,parameters:{...h.parameters,[s]:i}}:h)}}),{effectChains:d}})}catch(u){console.error("Failed to update effect parameter:",u),ue.error("Failed to update effect parameter")}},loadSamples:async()=>{try{const o=await ge.samples.getAll();t({samples:o.samples}),Me.broadcastState("samples",o.samples)}catch(o){console.error("Failed to load samples:",o),ue.error("Failed to load samples")}},uploadSample:async(o,s,i="Uncategorized")=>{try{await ge.samples.upload(o,s,i),await a().loadSamples(),ue.success(`Uploaded sample: ${s}`)}catch(u){console.error("Failed to upload sample:",u),ue.error("Failed to upload sample")}},deleteSample:async o=>{try{await ge.samples.deleteSample(o),await a().loadSamples(),ue.success("Sample deleted")}catch(s){console.error("Failed to delete sample:",s),ue.error("Failed to delete sample")}},updateSample:async(o,s,i)=>{try{await ge.samples.update(o,{name:s,category:i}),await a().loadSamples(),ue.success("Sample updated")}catch(u){console.error("Failed to update sample:",u),ue.error("Failed to update sample")}},loadSampleAssignments:async o=>{try{t({sampleAssignments:o}),Me.broadcastState("sampleAssignments",o)}catch(s){throw console.error("Failed to load sample assignments:",s),ue.error("Failed to load sample assignments"),s}},assignSample:(o,s)=>{t(i=>{const u={...i.sampleAssignments,[o]:s};return Me.broadcastState("sampleAssignments",u),{sampleAssignments:u}})},unassignSample:o=>{t(s=>{const i={...s.sampleAssignments};return delete i[o],Me.broadcastState("sampleAssignments",i),{sampleAssignments:i}})},createSynth:async(o,s,i,u)=>{try{const d=await ge.audio.createSynth({synthdef:o,params:s,group:i,bus:u??void 0}),p={id:d.synth_id,synthdef:o,group:i??d.group,bus:u??null};return t(h=>({activeSynths:{...h.activeSynths,[p.id]:p}})),p}catch(d){throw console.error("Failed to create synth:",d),ue.error("Failed to create synth"),d}},setSynthParam:async(o,s,i)=>{try{await ge.audio.setSynthParam(o,{param:s,value:i})}catch(u){console.error("Failed to set synth param:",u),ue.error("Failed to set synth param")}},releaseSynth:async o=>{try{await ge.audio.deleteSynth(o,!0)}catch(s){console.error("Failed to release synth:",s),ue.error("Failed to release synth")}},freeSynth:async(o,s=!1)=>{try{await ge.audio.deleteSynth(o,!s),t(i=>{const u={...i.activeSynths};return delete u[o],{activeSynths:u}})}catch(i){console.error("Failed to free synth:",i),ue.error("Failed to free synth")}},freeAllSynths:async()=>{try{await ge.audio.deleteAllSynths(),t({activeSynths:{}})}catch(o){console.error("Failed to free all synths:",o),ue.error("Failed to free all synths")}},previewNote:async(o,s=100,i=1,u="default")=>{try{await ge.sequencer.previewNote({note:o,velocity:s,duration:i,synthdef:u})}catch(d){console.error("Failed to preview note:",d),ue.error("Failed to preview note")}},loadCompositions:async()=>{try{const o=await ge.compositions.list();t({compositions:o.compositions})}catch(o){console.error("Failed to load compositions:",o),ue.error("Failed to load compositions")}},createComposition:async(o,s=120,i="4/4")=>{try{const u=await ge.compositions.create({name:o,tempo:s,time_signature:i});await a().loadComposition(u.composition_id),await a().loadCompositions(),ue.success(`Created composition: ${o}`)}catch(u){throw console.error("Failed to create composition:",u),ue.error("Failed to create composition"),u}},loadComposition:async o=>{try{const s=await ge.compositions.getById(o),i=s.tracks||[],u=s.clips||[],d=s.mixer_state?.channels||[],p=s.mixer_state?.master||null,h=s.track_effects||[],g={};h.forEach(y=>{g[y.track_id]=y});const x=s.sample_assignments||{};t({activeComposition:s,tracks:i,clips:u,channels:d,master:p,effectChains:g,sampleAssignments:x,hasUnsavedChanges:!1,isLooping:s.loop_enabled??!1,loopStart:s.loop_start??0,loopEnd:s.loop_end??16}),us.setActiveSequenceId(o),Me.broadcastState("activeComposition",s),Me.broadcastState("tracks",i),Me.broadcastState("clips",u),Me.broadcastState("channels",d),Me.broadcastState("master",p),Me.broadcastState("effectChains",g),Me.broadcastState("sampleAssignments",x),ue.success(`Loaded composition: ${s.name}`)}catch(s){throw console.error("Failed to load composition:",s),ue.error("Failed to load composition"),s}},saveComposition:async(o=!0,s=!1)=>{try{const{activeComposition:i}=a();if(!i)throw new Error("No active composition to save");await ge.compositions.saveComposition(i.id,o,s),t({hasUnsavedChanges:!1}),s||ue.success(`Saved composition: ${i.name}`),await a().loadCompositions()}catch(i){throw console.error("Failed to save composition:",i),s||ue.error("Failed to save composition"),i}},updateCompositionMetadata:async(o,s,i)=>{try{const{activeComposition:u}=a();if(!u)throw new Error("No active composition");await ge.compositions.update(u.id,{name:o,tempo:s,time_signature:i});const d={...u};o&&(d.name=o),s&&(d.tempo=s),i&&(d.time_signature=i),t({activeComposition:d,hasUnsavedChanges:!0}),ue.success("Composition updated")}catch(u){throw console.error("Failed to update composition:",u),ue.error("Failed to update composition"),u}},deleteComposition:async o=>{try{await ge.compositions.deleteComposition(o);const{activeComposition:s}=a();s?.id===o&&t({activeComposition:null,tracks:[],clips:[],channels:[],master:null,effectChains:{},sampleAssignments:{}}),await a().loadCompositions(),ue.success("Composition deleted")}catch(s){throw console.error("Failed to delete composition:",s),ue.error("Failed to delete composition"),s}},markCompositionChanged:()=>{t({hasUnsavedChanges:!0})},markCompositionSaved:()=>{t({hasUnsavedChanges:!1})},setZoom:o=>t({zoom:o}),setSnapEnabled:o=>t({snapEnabled:o}),setGridSize:o=>t({gridSize:o}),setIsLooping:async o=>{t({isLooping:o});const{activeComposition:s,loopStart:i,loopEnd:u}=a();if(s){const d={...s,loop_enabled:o};t({activeComposition:d,hasUnsavedChanges:!0});try{await ge.sequencer.setLoop(o,i,u)}catch(p){console.error("Failed to update loop enabled:",p)}}},setLoopStart:async o=>{t({loopStart:o});const{activeComposition:s,isLooping:i,loopEnd:u}=a();if(s){const d={...s,loop_start:o};t({activeComposition:d,hasUnsavedChanges:!0});try{await ge.sequencer.setLoop(i,o,u)}catch(p){console.error("Failed to update loop start:",p)}}},setLoopEnd:async o=>{t({loopEnd:o});const{activeComposition:s,isLooping:i,loopStart:u}=a();if(s){const d={...s,loop_end:o};t({activeComposition:d,hasUnsavedChanges:!0});try{await ge.sequencer.setLoop(i,u,o)}catch(p){console.error("Failed to update loop end:",p)}}},setSelectedClipId:o=>t({selectedClipId:o}),setShowSampleBrowser:o=>t({showSampleBrowser:o}),setShowSequenceManager:o=>t({showSequenceManager:o}),setShowSequenceSettings:o=>t({showSequenceSettings:o}),openPianoRoll:o=>t({showPianoRoll:!0,pianoRollClipId:o}),closePianoRoll:()=>t({showPianoRoll:!1,pianoRollClipId:null}),setShowMeters:o=>t({showMeters:o}),setMeterMode:o=>t({meterMode:o}),setSelectedChannelId:o=>t({selectedChannelId:o}),setSelectedEffectId:o=>t({selectedEffectId:o}),setShowEffectBrowser:o=>t({showEffectBrowser:o}),addChatMessage:o=>{t(s=>({chatHistory:[...s.chatHistory,o]})),Me.broadcastState("chatHistory",a().chatHistory)},clearChatHistory:()=>{t({chatHistory:[]}),Me.broadcastState("chatHistory",[])},addAnalysisEvent:o=>{t(s=>({analysisEvents:[...s.analysisEvents,o]})),Me.broadcastState("analysisEvents",a().analysisEvents)},clearAnalysisEvents:()=>{t({analysisEvents:[]}),Me.broadcastState("analysisEvents",[])},setDAWStateSnapshot:o=>{t({dawStateSnapshot:o}),Me.broadcastState("dawStateSnapshot",o)},setAIContext:o=>{t({aiContext:o}),Me.broadcastState("aiContext",o)},startActivity:(o,s,i={})=>{const u=`activity-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,d={id:u,action:o,status:"in-progress",message:s,timestamp:Date.now(),duration:i.duration,targetId:i.targetId,targetType:i.targetType,tabId:i.tabId,metadata:i.metadata};return t(p=>({activities:[...p.activities,d],isAIActive:!0})),Me.broadcastState("ai-activity",{activities:a().activities,activityHistory:a().activityHistory,isAIActive:!0}),u},completeActivity:(o,s,i)=>{t(u=>{const d=u.activities.find(x=>x.id===o);if(!d)return u;const p={...d,status:s?"success":"error",message:i||d.message},h=u.activities.filter(x=>x.id!==o),g=[p,...u.activityHistory].slice(0,50);return{activities:h,activityHistory:g,isAIActive:h.length>0}}),Me.broadcastState("ai-activity",{activities:a().activities,activityHistory:a().activityHistory,isAIActive:a().isAIActive}),setTimeout(()=>{t(u=>({activityHistory:u.activityHistory.filter(d=>d.id!==o)}))},5e3)},updateActivity:(o,s)=>{t(i=>({activities:i.activities.map(u=>u.id===o?{...u,...s}:u)})),Me.broadcastState("ai-activity",{activities:a().activities,activityHistory:a().activityHistory,isAIActive:a().isAIActive})},clearActivities:()=>{t({activities:[],isAIActive:!1}),Me.broadcastState("ai-activity",{activities:[],activityHistory:a().activityHistory,isAIActive:!1})},clearActivityHistory:()=>{t({activityHistory:[]}),Me.broadcastState("ai-activity",{activities:a().activities,activityHistory:[],isAIActive:a().isAIActive})},getActivitiesForTarget:o=>a().activities.filter(s=>s.targetId===o),getActivitiesForTab:o=>a().activities.filter(s=>s.tabId===o),getActivityById:o=>a().activities.find(s=>s.id===o)})));function Vy(t,a){if(typeof t=="function")return t(a);t!=null&&(t.current=a)}function Fc(...t){return a=>{let o=!1;const s=t.map(i=>{const u=Vy(i,a);return!o&&typeof u=="function"&&(o=!0),u});if(o)return()=>{for(let i=0;i<s.length;i++){const u=s[i];typeof u=="function"?u():Vy(t[i],null)}}}}function $e(...t){return m.useCallback(Fc(...t),t)}function cr(t){const a=KT(t),o=m.forwardRef((s,i)=>{const{children:u,...d}=s,p=m.Children.toArray(u),h=p.find(WT);if(h){const g=h.props.children,x=p.map(y=>y===h?m.Children.count(g)>1?m.Children.only(null):m.isValidElement(g)?g.props.children:null:y);return c.jsx(a,{...d,ref:i,children:m.isValidElement(g)?m.cloneElement(g,void 0,x):null})}return c.jsx(a,{...d,ref:i,children:u})});return o.displayName=`${t}.Slot`,o}var z0=cr("Slot");function KT(t){const a=m.forwardRef((o,s)=>{const{children:i,...u}=o;if(m.isValidElement(i)){const d=ZT(i),p=QT(u,i.props);return i.type!==m.Fragment&&(p.ref=s?Fc(s,d):d),m.cloneElement(i,p)}return m.Children.count(i)>1?m.Children.only(null):null});return a.displayName=`${t}.SlotClone`,a}var L0=Symbol("radix.slottable");function P0(t){const a=({children:o})=>c.jsx(c.Fragment,{children:o});return a.displayName=`${t}.Slottable`,a.__radixId=L0,a}function WT(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===L0}function QT(t,a){const o={...a};for(const s in a){const i=t[s],u=a[s];/^on[A-Z]/.test(s)?i&&u?o[s]=(...p)=>{const h=u(...p);return i(...p),h}:i&&(o[s]=i):s==="style"?o[s]={...i,...u}:s==="className"&&(o[s]=[i,u].filter(Boolean).join(" "))}return{...t,...o}}function ZT(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,o=a&&"isReactWarning"in a&&a.isReactWarning;return o?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,o=a&&"isReactWarning"in a&&a.isReactWarning,o?t.props.ref:t.props.ref||t.ref)}var JT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=JT.reduce((t,a)=>{const o=cr(`Primitive.${a}`),s=m.forwardRef((i,u)=>{const{asChild:d,...p}=i,h=d?o:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(h,{...p,ref:u})});return s.displayName=`Primitive.${a}`,{...t,[a]:s}},{});function U0(t,a){t&&Ul.flushSync(()=>t.dispatchEvent(a))}var B0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eR="VisuallyHidden",H0=m.forwardRef((t,a)=>c.jsx(ke.span,{...t,ref:a,style:{...B0,...t.style}}));H0.displayName=eR;var tR=H0;function nR(t,a){const o=m.createContext(a),s=u=>{const{children:d,...p}=u,h=m.useMemo(()=>p,Object.values(p));return c.jsx(o.Provider,{value:h,children:d})};s.displayName=t+"Provider";function i(u){const d=m.useContext(o);if(d)return d;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${t}\``)}return[s,i]}function ua(t,a=[]){let o=[];function s(u,d){const p=m.createContext(d),h=o.length;o=[...o,d];const g=y=>{const{scope:C,children:T,...E}=y,b=C?.[t]?.[h]||p,S=m.useMemo(()=>E,Object.values(E));return c.jsx(b.Provider,{value:S,children:T})};g.displayName=u+"Provider";function x(y,C){const T=C?.[t]?.[h]||p,E=m.useContext(T);if(E)return E;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${u}\``)}return[g,x]}const i=()=>{const u=o.map(d=>m.createContext(d));return function(p){const h=p?.[t]||u;return m.useMemo(()=>({[`__scope${t}`]:{...p,[t]:h}}),[p,h])}};return i.scopeName=t,[s,aR(i,...a)]}function aR(...t){const a=t[0];if(t.length===1)return a;const o=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(u){const d=s.reduce((p,{useScope:h,scopeName:g})=>{const y=h(u)[`__scope${g}`];return{...p,...y}},{});return m.useMemo(()=>({[`__scope${a.scopeName}`]:d}),[d])}};return o.scopeName=a.scopeName,o}function Yc(t){const a=t+"CollectionProvider",[o,s]=ua(a),[i,u]=o(a,{collectionRef:{current:null},itemMap:new Map}),d=b=>{const{scope:S,children:w}=b,j=St.useRef(null),R=St.useRef(new Map).current;return c.jsx(i,{scope:S,itemMap:R,collectionRef:j,children:w})};d.displayName=a;const p=t+"CollectionSlot",h=cr(p),g=St.forwardRef((b,S)=>{const{scope:w,children:j}=b,R=u(p,w),A=$e(S,R.collectionRef);return c.jsx(h,{ref:A,children:j})});g.displayName=p;const x=t+"CollectionItemSlot",y="data-radix-collection-item",C=cr(x),T=St.forwardRef((b,S)=>{const{scope:w,children:j,...R}=b,A=St.useRef(null),_=$e(S,A),k=u(x,w);return St.useEffect(()=>(k.itemMap.set(A,{ref:A,...R}),()=>{k.itemMap.delete(A)})),c.jsx(C,{[y]:"",ref:_,children:j})});T.displayName=x;function E(b){const S=u(t+"CollectionConsumer",b);return St.useCallback(()=>{const j=S.collectionRef.current;if(!j)return[];const R=Array.from(j.querySelectorAll(`[${y}]`));return Array.from(S.itemMap.values()).sort((k,D)=>R.indexOf(k.ref.current)-R.indexOf(D.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:d,Slot:g,ItemSlot:T},E,s]}function xe(t,a,{checkForDefaultPrevented:o=!0}={}){return function(i){if(t?.(i),o===!1||!i.defaultPrevented)return a?.(i)}}var on=globalThis?.document?m.useLayoutEffect:()=>{},oR=n0[" useInsertionEffect ".trim().toString()]||on;function Do({prop:t,defaultProp:a,onChange:o=()=>{},caller:s}){const[i,u,d]=rR({defaultProp:a,onChange:o}),p=t!==void 0,h=p?t:i;{const x=m.useRef(t!==void 0);m.useEffect(()=>{const y=x.current;y!==p&&console.warn(`${s} is changing from ${y?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=p},[p,s])}const g=m.useCallback(x=>{if(p){const y=sR(x)?x(t):x;y!==t&&d.current?.(y)}else u(x)},[p,t,u,d]);return[h,g]}function rR({defaultProp:t,onChange:a}){const[o,s]=m.useState(t),i=m.useRef(o),u=m.useRef(a);return oR(()=>{u.current=a},[a]),m.useEffect(()=>{i.current!==o&&(u.current?.(o),i.current=o)},[o,i]),[o,s,u]}function sR(t){return typeof t=="function"}function lR(t,a){return m.useReducer((o,s)=>a[o][s]??o,t)}var ja=t=>{const{present:a,children:o}=t,s=iR(a),i=typeof o=="function"?o({present:s.isPresent}):m.Children.only(o),u=$e(s.ref,cR(i));return typeof o=="function"||s.isPresent?m.cloneElement(i,{ref:u}):null};ja.displayName="Presence";function iR(t){const[a,o]=m.useState(),s=m.useRef(null),i=m.useRef(t),u=m.useRef("none"),d=t?"mounted":"unmounted",[p,h]=lR(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const g=sc(s.current);u.current=p==="mounted"?g:"none"},[p]),on(()=>{const g=s.current,x=i.current;if(x!==t){const C=u.current,T=sc(g);t?h("MOUNT"):T==="none"||g?.display==="none"?h("UNMOUNT"):h(x&&C!==T?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),on(()=>{if(a){let g;const x=a.ownerDocument.defaultView??window,y=T=>{const b=sc(s.current).includes(CSS.escape(T.animationName));if(T.target===a&&b&&(h("ANIMATION_END"),!i.current)){const S=a.style.animationFillMode;a.style.animationFillMode="forwards",g=x.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=S)})}},C=T=>{T.target===a&&(u.current=sc(s.current))};return a.addEventListener("animationstart",C),a.addEventListener("animationcancel",y),a.addEventListener("animationend",y),()=>{x.clearTimeout(g),a.removeEventListener("animationstart",C),a.removeEventListener("animationcancel",y),a.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[a,h]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:m.useCallback(g=>{s.current=g?getComputedStyle(g):null,o(g)},[])}}function sc(t){return t?.animationName||"none"}function cR(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,o=a&&"isReactWarning"in a&&a.isReactWarning;return o?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,o=a&&"isReactWarning"in a&&a.isReactWarning,o?t.props.ref:t.props.ref||t.ref)}var uR=n0[" useId ".trim().toString()]||(()=>{}),dR=0;function wa(t){const[a,o]=m.useState(uR());return on(()=>{o(s=>s??String(dR++))},[t]),a?`radix-${a}`:""}var fR=m.createContext(void 0);function Vc(t){const a=m.useContext(fR);return t||a||"ltr"}function Ea(t){const a=m.useRef(t);return m.useEffect(()=>{a.current=t}),m.useMemo(()=>(...o)=>a.current?.(...o),[])}function pR(t,a=globalThis?.document){const o=Ea(t);m.useEffect(()=>{const s=i=>{i.key==="Escape"&&o(i)};return a.addEventListener("keydown",s,{capture:!0}),()=>a.removeEventListener("keydown",s,{capture:!0})},[o,a])}var mR="DismissableLayer",lp="dismissableLayer.update",hR="dismissableLayer.pointerDownOutside",gR="dismissableLayer.focusOutside",Gy,I0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bl=m.forwardRef((t,a)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:d,onDismiss:p,...h}=t,g=m.useContext(I0),[x,y]=m.useState(null),C=x?.ownerDocument??globalThis?.document,[,T]=m.useState({}),E=$e(a,D=>y(D)),b=Array.from(g.layers),[S]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(S),j=x?b.indexOf(x):-1,R=g.layersWithOutsidePointerEventsDisabled.size>0,A=j>=w,_=xR(D=>{const M=D.target,z=[...g.branches].some(I=>I.contains(M));!A||z||(i?.(D),d?.(D),D.defaultPrevented||p?.())},C),k=bR(D=>{const M=D.target;[...g.branches].some(I=>I.contains(M))||(u?.(D),d?.(D),D.defaultPrevented||p?.())},C);return pR(D=>{j===g.layers.size-1&&(s?.(D),!D.defaultPrevented&&p&&(D.preventDefault(),p()))},C),m.useEffect(()=>{if(x)return o&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Gy=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),Xy(),()=>{o&&g.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=Gy)}},[x,C,o,g]),m.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),Xy())},[x,g]),m.useEffect(()=>{const D=()=>T({});return document.addEventListener(lp,D),()=>document.removeEventListener(lp,D)},[]),c.jsx(ke.div,{...h,ref:E,style:{pointerEvents:R?A?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,_.onPointerDownCapture)})});Bl.displayName=mR;var vR="DismissableLayerBranch",yR=m.forwardRef((t,a)=>{const o=m.useContext(I0),s=m.useRef(null),i=$e(a,s);return m.useEffect(()=>{const u=s.current;if(u)return o.branches.add(u),()=>{o.branches.delete(u)}},[o.branches]),c.jsx(ke.div,{...t,ref:i})});yR.displayName=vR;function xR(t,a=globalThis?.document){const o=Ea(t),s=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const u=p=>{if(p.target&&!s.current){let h=function(){q0(hR,o,g,{discrete:!0})};const g={originalEvent:p};p.pointerType==="touch"?(a.removeEventListener("click",i.current),i.current=h,a.addEventListener("click",i.current,{once:!0})):h()}else a.removeEventListener("click",i.current);s.current=!1},d=window.setTimeout(()=>{a.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(d),a.removeEventListener("pointerdown",u),a.removeEventListener("click",i.current)}},[a,o]),{onPointerDownCapture:()=>s.current=!0}}function bR(t,a=globalThis?.document){const o=Ea(t),s=m.useRef(!1);return m.useEffect(()=>{const i=u=>{u.target&&!s.current&&q0(gR,o,{originalEvent:u},{discrete:!1})};return a.addEventListener("focusin",i),()=>a.removeEventListener("focusin",i)},[a,o]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Xy(){const t=new CustomEvent(lp);document.dispatchEvent(t)}function q0(t,a,o,{discrete:s}){const i=o.originalEvent.target,u=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:o});a&&i.addEventListener(t,a,{once:!0}),s?U0(i,u):i.dispatchEvent(u)}var Pf="focusScope.autoFocusOnMount",Uf="focusScope.autoFocusOnUnmount",Ky={bubbles:!1,cancelable:!0},SR="FocusScope",Gc=m.forwardRef((t,a)=>{const{loop:o=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:u,...d}=t,[p,h]=m.useState(null),g=Ea(i),x=Ea(u),y=m.useRef(null),C=$e(a,b=>h(b)),T=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let b=function(R){if(T.paused||!p)return;const A=R.target;p.contains(A)?y.current=A:Mo(y.current,{select:!0})},S=function(R){if(T.paused||!p)return;const A=R.relatedTarget;A!==null&&(p.contains(A)||Mo(y.current,{select:!0}))},w=function(R){if(document.activeElement===document.body)for(const _ of R)_.removedNodes.length>0&&Mo(p)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const j=new MutationObserver(w);return p&&j.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),j.disconnect()}}},[s,p,T.paused]),m.useEffect(()=>{if(p){Qy.add(T);const b=document.activeElement;if(!p.contains(b)){const w=new CustomEvent(Pf,Ky);p.addEventListener(Pf,g),p.dispatchEvent(w),w.defaultPrevented||(wR(TR($0(p)),{select:!0}),document.activeElement===b&&Mo(p))}return()=>{p.removeEventListener(Pf,g),setTimeout(()=>{const w=new CustomEvent(Uf,Ky);p.addEventListener(Uf,x),p.dispatchEvent(w),w.defaultPrevented||Mo(b??document.body,{select:!0}),p.removeEventListener(Uf,x),Qy.remove(T)},0)}}},[p,g,x,T]);const E=m.useCallback(b=>{if(!o&&!s||T.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,w=document.activeElement;if(S&&w){const j=b.currentTarget,[R,A]=CR(j);R&&A?!b.shiftKey&&w===A?(b.preventDefault(),o&&Mo(R,{select:!0})):b.shiftKey&&w===R&&(b.preventDefault(),o&&Mo(A,{select:!0})):w===j&&b.preventDefault()}},[o,s,T.paused]);return c.jsx(ke.div,{tabIndex:-1,...d,ref:C,onKeyDown:E})});Gc.displayName=SR;function wR(t,{select:a=!1}={}){const o=document.activeElement;for(const s of t)if(Mo(s,{select:a}),document.activeElement!==o)return}function CR(t){const a=$0(t),o=Wy(a,t),s=Wy(a.reverse(),t);return[o,s]}function $0(t){const a=[],o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)a.push(o.currentNode);return a}function Wy(t,a){for(const o of t)if(!ER(o,{upTo:a}))return o}function ER(t,{upTo:a}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(a!==void 0&&t===a)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function NR(t){return t instanceof HTMLInputElement&&"select"in t}function Mo(t,{select:a=!1}={}){if(t&&t.focus){const o=document.activeElement;t.focus({preventScroll:!0}),t!==o&&NR(t)&&a&&t.select()}}var Qy=jR();function jR(){let t=[];return{add(a){const o=t[0];a!==o&&o?.pause(),t=Zy(t,a),t.unshift(a)},remove(a){t=Zy(t,a),t[0]?.resume()}}}function Zy(t,a){const o=[...t],s=o.indexOf(a);return s!==-1&&o.splice(s,1),o}function TR(t){return t.filter(a=>a.tagName!=="A")}var RR="Portal",Hl=m.forwardRef((t,a)=>{const{container:o,...s}=t,[i,u]=m.useState(!1);on(()=>u(!0),[]);const d=o||i&&globalThis?.document?.body;return d?KN.createPortal(c.jsx(ke.div,{...s,ref:a}),d):null});Hl.displayName=RR;var Bf=0;function Hp(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Jy()),document.body.insertAdjacentElement("beforeend",t[1]??Jy()),Bf++,()=>{Bf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Bf--}},[])}function Jy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var xa=function(){return xa=Object.assign||function(a){for(var o,s=1,i=arguments.length;s<i;s++){o=arguments[s];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(a[u]=o[u])}return a},xa.apply(this,arguments)};function F0(t,a){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)a.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(o[s[i]]=t[s[i]]);return o}function MR(t,a,o){if(o||arguments.length===2)for(var s=0,i=a.length,u;s<i;s++)(u||!(s in a))&&(u||(u=Array.prototype.slice.call(a,0,s)),u[s]=a[s]);return t.concat(u||Array.prototype.slice.call(a))}var Sc="right-scroll-bar-position",wc="width-before-scroll-bar",DR="with-scroll-bars-hidden",_R="--removed-body-scroll-bar-size";function Hf(t,a){return typeof t=="function"?t(a):t&&(t.current=a),t}function AR(t,a){var o=m.useState(function(){return{value:t,callback:a,facade:{get current(){return o.value},set current(s){var i=o.value;i!==s&&(o.value=s,o.callback(s,i))}}}})[0];return o.callback=a,o.facade}var OR=typeof window<"u"?m.useLayoutEffect:m.useEffect,ex=new WeakMap;function kR(t,a){var o=AR(null,function(s){return t.forEach(function(i){return Hf(i,s)})});return OR(function(){var s=ex.get(o);if(s){var i=new Set(s),u=new Set(t),d=o.current;i.forEach(function(p){u.has(p)||Hf(p,null)}),u.forEach(function(p){i.has(p)||Hf(p,d)})}ex.set(o,t)},[t]),o}function zR(t){return t}function LR(t,a){a===void 0&&(a=zR);var o=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:t},useMedium:function(u){var d=a(u,s);return o.push(d),function(){o=o.filter(function(p){return p!==d})}},assignSyncMedium:function(u){for(s=!0;o.length;){var d=o;o=[],d.forEach(u)}o={push:function(p){return u(p)},filter:function(){return o}}},assignMedium:function(u){s=!0;var d=[];if(o.length){var p=o;o=[],p.forEach(u),d=o}var h=function(){var x=d;d=[],x.forEach(u)},g=function(){return Promise.resolve().then(h)};g(),o={push:function(x){d.push(x),g()},filter:function(x){return d=d.filter(x),o}}}};return i}function PR(t){t===void 0&&(t={});var a=LR(null);return a.options=xa({async:!0,ssr:!1},t),a}var Y0=function(t){var a=t.sideCar,o=F0(t,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=a.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,xa({},o))};Y0.isSideCarExport=!0;function UR(t,a){return t.useMedium(a),Y0}var V0=PR(),If=function(){},Xc=m.forwardRef(function(t,a){var o=m.useRef(null),s=m.useState({onScrollCapture:If,onWheelCapture:If,onTouchMoveCapture:If}),i=s[0],u=s[1],d=t.forwardProps,p=t.children,h=t.className,g=t.removeScrollBar,x=t.enabled,y=t.shards,C=t.sideCar,T=t.noRelative,E=t.noIsolation,b=t.inert,S=t.allowPinchZoom,w=t.as,j=w===void 0?"div":w,R=t.gapMode,A=F0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=C,k=kR([o,a]),D=xa(xa({},A),i);return m.createElement(m.Fragment,null,x&&m.createElement(_,{sideCar:V0,removeScrollBar:g,shards:y,noRelative:T,noIsolation:E,inert:b,setCallbacks:u,allowPinchZoom:!!S,lockRef:o,gapMode:R}),d?m.cloneElement(m.Children.only(p),xa(xa({},D),{ref:k})):m.createElement(j,xa({},D,{className:h,ref:k}),p))});Xc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xc.classNames={fullWidth:wc,zeroRight:Sc};var BR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HR(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var a=BR();return a&&t.setAttribute("nonce",a),t}function IR(t,a){t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a))}function qR(t){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(t)}var $R=function(){var t=0,a=null;return{add:function(o){t==0&&(a=HR())&&(IR(a,o),qR(a)),t++},remove:function(){t--,!t&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},FR=function(){var t=$R();return function(a,o){m.useEffect(function(){return t.add(a),function(){t.remove()}},[a&&o])}},G0=function(){var t=FR(),a=function(o){var s=o.styles,i=o.dynamic;return t(s,i),null};return a},YR={left:0,top:0,right:0,gap:0},qf=function(t){return parseInt(t||"",10)||0},VR=function(t){var a=window.getComputedStyle(document.body),o=a[t==="padding"?"paddingLeft":"marginLeft"],s=a[t==="padding"?"paddingTop":"marginTop"],i=a[t==="padding"?"paddingRight":"marginRight"];return[qf(o),qf(s),qf(i)]},GR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return YR;var a=VR(t),o=document.documentElement.clientWidth,s=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,s-o+a[2]-a[0])}},XR=G0(),ls="data-scroll-locked",KR=function(t,a,o,s){var i=t.left,u=t.top,d=t.right,p=t.gap;return o===void 0&&(o="margin"),`
  .`.concat(DR,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(p,"px ").concat(s,`;
  }
  body[`).concat(ls,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(s,";"),o==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(s,`;
    `),o==="padding"&&"padding-right: ".concat(p,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sc,` {
    right: `).concat(p,"px ").concat(s,`;
  }
  
  .`).concat(wc,` {
    margin-right: `).concat(p,"px ").concat(s,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(wc," .").concat(wc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ls,`] {
    `).concat(_R,": ").concat(p,`px;
  }
`)},tx=function(){var t=parseInt(document.body.getAttribute(ls)||"0",10);return isFinite(t)?t:0},WR=function(){m.useEffect(function(){return document.body.setAttribute(ls,(tx()+1).toString()),function(){var t=tx()-1;t<=0?document.body.removeAttribute(ls):document.body.setAttribute(ls,t.toString())}},[])},QR=function(t){var a=t.noRelative,o=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;WR();var u=m.useMemo(function(){return GR(i)},[i]);return m.createElement(XR,{styles:KR(u,!a,i,o?"":"!important")})},ip=!1;if(typeof window<"u")try{var lc=Object.defineProperty({},"passive",{get:function(){return ip=!0,!0}});window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{ip=!1}var Jr=ip?{passive:!1}:!1,ZR=function(t){return t.tagName==="TEXTAREA"},X0=function(t,a){if(!(t instanceof Element))return!1;var o=window.getComputedStyle(t);return o[a]!=="hidden"&&!(o.overflowY===o.overflowX&&!ZR(t)&&o[a]==="visible")},JR=function(t){return X0(t,"overflowY")},eM=function(t){return X0(t,"overflowX")},nx=function(t,a){var o=a.ownerDocument,s=a;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=K0(t,s);if(i){var u=W0(t,s),d=u[1],p=u[2];if(d>p)return!0}s=s.parentNode}while(s&&s!==o.body);return!1},tM=function(t){var a=t.scrollTop,o=t.scrollHeight,s=t.clientHeight;return[a,o,s]},nM=function(t){var a=t.scrollLeft,o=t.scrollWidth,s=t.clientWidth;return[a,o,s]},K0=function(t,a){return t==="v"?JR(a):eM(a)},W0=function(t,a){return t==="v"?tM(a):nM(a)},aM=function(t,a){return t==="h"&&a==="rtl"?-1:1},oM=function(t,a,o,s,i){var u=aM(t,window.getComputedStyle(a).direction),d=u*s,p=o.target,h=a.contains(p),g=!1,x=d>0,y=0,C=0;do{if(!p)break;var T=W0(t,p),E=T[0],b=T[1],S=T[2],w=b-S-u*E;(E||w)&&K0(t,p)&&(y+=w,C+=E);var j=p.parentNode;p=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!h&&p!==document.body||h&&(a.contains(p)||a===p));return(x&&Math.abs(y)<1||!x&&Math.abs(C)<1)&&(g=!0),g},ic=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ax=function(t){return[t.deltaX,t.deltaY]},ox=function(t){return t&&"current"in t?t.current:t},rM=function(t,a){return t[0]===a[0]&&t[1]===a[1]},sM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lM=0,es=[];function iM(t){var a=m.useRef([]),o=m.useRef([0,0]),s=m.useRef(),i=m.useState(lM++)[0],u=m.useState(G0)[0],d=m.useRef(t);m.useEffect(function(){d.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=MR([t.lockRef.current],(t.shards||[]).map(ox),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var p=m.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!d.current.allowPinchZoom;var w=ic(b),j=o.current,R="deltaX"in b?b.deltaX:j[0]-w[0],A="deltaY"in b?b.deltaY:j[1]-w[1],_,k=b.target,D=Math.abs(R)>Math.abs(A)?"h":"v";if("touches"in b&&D==="h"&&k.type==="range")return!1;var M=window.getSelection(),z=M&&M.anchorNode,I=z?z===k||z.contains(k):!1;if(I)return!1;var $=nx(D,k);if(!$)return!0;if($?_=D:(_=D==="v"?"h":"v",$=nx(D,k)),!$)return!1;if(!s.current&&"changedTouches"in b&&(R||A)&&(s.current=_),!_)return!0;var G=s.current||_;return oM(G,S,b,G==="h"?R:A)},[]),h=m.useCallback(function(b){var S=b;if(!(!es.length||es[es.length-1]!==u)){var w="deltaY"in S?ax(S):ic(S),j=a.current.filter(function(_){return _.name===S.type&&(_.target===S.target||S.target===_.shadowParent)&&rM(_.delta,w)})[0];if(j&&j.should){S.cancelable&&S.preventDefault();return}if(!j){var R=(d.current.shards||[]).map(ox).filter(Boolean).filter(function(_){return _.contains(S.target)}),A=R.length>0?p(S,R[0]):!d.current.noIsolation;A&&S.cancelable&&S.preventDefault()}}},[]),g=m.useCallback(function(b,S,w,j){var R={name:b,delta:S,target:w,should:j,shadowParent:cM(w)};a.current.push(R),setTimeout(function(){a.current=a.current.filter(function(A){return A!==R})},1)},[]),x=m.useCallback(function(b){o.current=ic(b),s.current=void 0},[]),y=m.useCallback(function(b){g(b.type,ax(b),b.target,p(b,t.lockRef.current))},[]),C=m.useCallback(function(b){g(b.type,ic(b),b.target,p(b,t.lockRef.current))},[]);m.useEffect(function(){return es.push(u),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:C}),document.addEventListener("wheel",h,Jr),document.addEventListener("touchmove",h,Jr),document.addEventListener("touchstart",x,Jr),function(){es=es.filter(function(b){return b!==u}),document.removeEventListener("wheel",h,Jr),document.removeEventListener("touchmove",h,Jr),document.removeEventListener("touchstart",x,Jr)}},[]);var T=t.removeScrollBar,E=t.inert;return m.createElement(m.Fragment,null,E?m.createElement(u,{styles:sM(i)}):null,T?m.createElement(QR,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cM(t){for(var a=null;t!==null;)t instanceof ShadowRoot&&(a=t.host,t=t.host),t=t.parentNode;return a}const uM=UR(V0,iM);var Kc=m.forwardRef(function(t,a){return m.createElement(Xc,xa({},t,{ref:a,sideCar:uM}))});Kc.classNames=Xc.classNames;var dM=function(t){if(typeof document>"u")return null;var a=Array.isArray(t)?t[0]:t;return a.ownerDocument.body},ts=new WeakMap,cc=new WeakMap,uc={},$f=0,Q0=function(t){return t&&(t.host||Q0(t.parentNode))},fM=function(t,a){return a.map(function(o){if(t.contains(o))return o;var s=Q0(o);return s&&t.contains(s)?s:(console.error("aria-hidden",o,"in not contained inside",t,". Doing nothing"),null)}).filter(function(o){return!!o})},pM=function(t,a,o,s){var i=fM(a,Array.isArray(t)?t:[t]);uc[o]||(uc[o]=new WeakMap);var u=uc[o],d=[],p=new Set,h=new Set(i),g=function(y){!y||p.has(y)||(p.add(y),g(y.parentNode))};i.forEach(g);var x=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(C){if(p.has(C))x(C);else try{var T=C.getAttribute(s),E=T!==null&&T!=="false",b=(ts.get(C)||0)+1,S=(u.get(C)||0)+1;ts.set(C,b),u.set(C,S),d.push(C),b===1&&E&&cc.set(C,!0),S===1&&C.setAttribute(o,"true"),E||C.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",C,w)}})};return x(a),p.clear(),$f++,function(){d.forEach(function(y){var C=ts.get(y)-1,T=u.get(y)-1;ts.set(y,C),u.set(y,T),C||(cc.has(y)||y.removeAttribute(s),cc.delete(y)),T||y.removeAttribute(o)}),$f--,$f||(ts=new WeakMap,ts=new WeakMap,cc=new WeakMap,uc={})}},Ip=function(t,a,o){o===void 0&&(o="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=dM(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),pM(s,i,o,"aria-hidden")):function(){return null}},Wc="Dialog",[Z0,J0]=ua(Wc),[mM,da]=Z0(Wc),eb=t=>{const{__scopeDialog:a,children:o,open:s,defaultOpen:i,onOpenChange:u,modal:d=!0}=t,p=m.useRef(null),h=m.useRef(null),[g,x]=Do({prop:s,defaultProp:i??!1,onChange:u,caller:Wc});return c.jsx(mM,{scope:a,triggerRef:p,contentRef:h,contentId:wa(),titleId:wa(),descriptionId:wa(),open:g,onOpenChange:x,onOpenToggle:m.useCallback(()=>x(y=>!y),[x]),modal:d,children:o})};eb.displayName=Wc;var tb="DialogTrigger",nb=m.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,i=da(tb,o),u=$e(a,i.triggerRef);return c.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Fp(i.open),...s,ref:u,onClick:xe(t.onClick,i.onOpenToggle)})});nb.displayName=tb;var qp="DialogPortal",[hM,ab]=Z0(qp,{forceMount:void 0}),ob=t=>{const{__scopeDialog:a,forceMount:o,children:s,container:i}=t,u=da(qp,a);return c.jsx(hM,{scope:a,forceMount:o,children:m.Children.map(s,d=>c.jsx(ja,{present:o||u.open,children:c.jsx(Hl,{asChild:!0,container:i,children:d})}))})};ob.displayName=qp;var Tc="DialogOverlay",rb=m.forwardRef((t,a)=>{const o=ab(Tc,t.__scopeDialog),{forceMount:s=o.forceMount,...i}=t,u=da(Tc,t.__scopeDialog);return u.modal?c.jsx(ja,{present:s||u.open,children:c.jsx(vM,{...i,ref:a})}):null});rb.displayName=Tc;var gM=cr("DialogOverlay.RemoveScroll"),vM=m.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,i=da(Tc,o);return c.jsx(Kc,{as:gM,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(ke.div,{"data-state":Fp(i.open),...s,ref:a,style:{pointerEvents:"auto",...s.style}})})}),ur="DialogContent",sb=m.forwardRef((t,a)=>{const o=ab(ur,t.__scopeDialog),{forceMount:s=o.forceMount,...i}=t,u=da(ur,t.__scopeDialog);return c.jsx(ja,{present:s||u.open,children:u.modal?c.jsx(yM,{...i,ref:a}):c.jsx(xM,{...i,ref:a})})});sb.displayName=ur;var yM=m.forwardRef((t,a)=>{const o=da(ur,t.__scopeDialog),s=m.useRef(null),i=$e(a,o.contentRef,s);return m.useEffect(()=>{const u=s.current;if(u)return Ip(u)},[]),c.jsx(lb,{...t,ref:i,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,u=>{u.preventDefault(),o.triggerRef.current?.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,u=>{const d=u.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0;(d.button===2||p)&&u.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,u=>u.preventDefault())})}),xM=m.forwardRef((t,a)=>{const o=da(ur,t.__scopeDialog),s=m.useRef(!1),i=m.useRef(!1);return c.jsx(lb,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{t.onCloseAutoFocus?.(u),u.defaultPrevented||(s.current||o.triggerRef.current?.focus(),u.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:u=>{t.onInteractOutside?.(u),u.defaultPrevented||(s.current=!0,u.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=u.target;o.triggerRef.current?.contains(d)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&i.current&&u.preventDefault()}})}),lb=m.forwardRef((t,a)=>{const{__scopeDialog:o,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:u,...d}=t,p=da(ur,o),h=m.useRef(null),g=$e(a,h);return Hp(),c.jsxs(c.Fragment,{children:[c.jsx(Gc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:u,children:c.jsx(Bl,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Fp(p.open),...d,ref:g,onDismiss:()=>p.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(SM,{titleId:p.titleId}),c.jsx(CM,{contentRef:h,descriptionId:p.descriptionId})]})]})}),$p="DialogTitle",ib=m.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,i=da($p,o);return c.jsx(ke.h2,{id:i.titleId,...s,ref:a})});ib.displayName=$p;var cb="DialogDescription",ub=m.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,i=da(cb,o);return c.jsx(ke.p,{id:i.descriptionId,...s,ref:a})});ub.displayName=cb;var db="DialogClose",fb=m.forwardRef((t,a)=>{const{__scopeDialog:o,...s}=t,i=da(db,o);return c.jsx(ke.button,{type:"button",...s,ref:a,onClick:xe(t.onClick,()=>i.onOpenChange(!1))})});fb.displayName=db;function Fp(t){return t?"open":"closed"}var pb="DialogTitleWarning",[bM,mb]=nR(pb,{contentName:ur,titleName:$p,docsSlug:"dialog"}),SM=({titleId:t})=>{const a=mb(pb),o=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(o))},[o,t]),null},wM="DialogDescriptionWarning",CM=({contentRef:t,descriptionId:a})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mb(wM).contentName}}.`;return m.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");a&&i&&(document.getElementById(a)||console.warn(s))},[s,t,a]),null},hb=eb,EM=nb,gb=ob,vb=rb,yb=sb,xb=ib,bb=ub,Qc=fb,Sb="AlertDialog",[NM]=ua(Sb,[J0]),eo=J0(),wb=t=>{const{__scopeAlertDialog:a,...o}=t,s=eo(a);return c.jsx(hb,{...s,...o,modal:!0})};wb.displayName=Sb;var jM="AlertDialogTrigger",TM=m.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,i=eo(o);return c.jsx(EM,{...i,...s,ref:a})});TM.displayName=jM;var RM="AlertDialogPortal",Cb=t=>{const{__scopeAlertDialog:a,...o}=t,s=eo(a);return c.jsx(gb,{...s,...o})};Cb.displayName=RM;var MM="AlertDialogOverlay",Eb=m.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,i=eo(o);return c.jsx(vb,{...i,...s,ref:a})});Eb.displayName=MM;var is="AlertDialogContent",[DM,_M]=NM(is),AM=P0("AlertDialogContent"),Nb=m.forwardRef((t,a)=>{const{__scopeAlertDialog:o,children:s,...i}=t,u=eo(o),d=m.useRef(null),p=$e(a,d),h=m.useRef(null);return c.jsx(bM,{contentName:is,titleName:jb,docsSlug:"alert-dialog",children:c.jsx(DM,{scope:o,cancelRef:h,children:c.jsxs(yb,{role:"alertdialog",...u,...i,ref:p,onOpenAutoFocus:xe(i.onOpenAutoFocus,g=>{g.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[c.jsx(AM,{children:s}),c.jsx(kM,{contentRef:d})]})})})});Nb.displayName=is;var jb="AlertDialogTitle",Tb=m.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,i=eo(o);return c.jsx(xb,{...i,...s,ref:a})});Tb.displayName=jb;var Rb="AlertDialogDescription",Mb=m.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,i=eo(o);return c.jsx(bb,{...i,...s,ref:a})});Mb.displayName=Rb;var OM="AlertDialogAction",Db=m.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,i=eo(o);return c.jsx(Qc,{...i,...s,ref:a})});Db.displayName=OM;var _b="AlertDialogCancel",Ab=m.forwardRef((t,a)=>{const{__scopeAlertDialog:o,...s}=t,{cancelRef:i}=_M(_b,o),u=eo(o),d=$e(a,i);return c.jsx(Qc,{...u,...s,ref:d})});Ab.displayName=_b;var kM=({contentRef:t})=>{const a=`\`${is}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${is}\` by passing a \`${Rb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${is}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},zM=wb,LM=Cb,Ob=Eb,kb=Nb,zb=Db,Lb=Ab,Pb=Tb,Ub=Mb;function Yp(t){const a=m.useRef({value:t,previous:t});return m.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}function Vp(t){const[a,o]=m.useState(void 0);return on(()=>{if(t){o({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const u=i[0];let d,p;if("borderBoxSize"in u){const h=u.borderBoxSize,g=Array.isArray(h)?h[0]:h;d=g.inlineSize,p=g.blockSize}else d=t.offsetWidth,p=t.offsetHeight;o({width:d,height:p})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else o(void 0)},[t]),a}const PM=["top","right","bottom","left"],_o=Math.min,Dn=Math.max,Rc=Math.round,dc=Math.floor,Ca=t=>({x:t,y:t}),UM={left:"right",right:"left",bottom:"top",top:"bottom"},BM={start:"end",end:"start"};function cp(t,a,o){return Dn(t,_o(a,o))}function Qa(t,a){return typeof t=="function"?t(a):t}function Za(t){return t.split("-")[0]}function Ss(t){return t.split("-")[1]}function Gp(t){return t==="x"?"y":"x"}function Xp(t){return t==="y"?"height":"width"}const HM=new Set(["top","bottom"]);function Sa(t){return HM.has(Za(t))?"y":"x"}function Kp(t){return Gp(Sa(t))}function IM(t,a,o){o===void 0&&(o=!1);const s=Ss(t),i=Kp(t),u=Xp(i);let d=i==="x"?s===(o?"end":"start")?"right":"left":s==="start"?"bottom":"top";return a.reference[u]>a.floating[u]&&(d=Mc(d)),[d,Mc(d)]}function qM(t){const a=Mc(t);return[up(t),a,up(a)]}function up(t){return t.replace(/start|end/g,a=>BM[a])}const rx=["left","right"],sx=["right","left"],$M=["top","bottom"],FM=["bottom","top"];function YM(t,a,o){switch(t){case"top":case"bottom":return o?a?sx:rx:a?rx:sx;case"left":case"right":return a?$M:FM;default:return[]}}function VM(t,a,o,s){const i=Ss(t);let u=YM(Za(t),o==="start",s);return i&&(u=u.map(d=>d+"-"+i),a&&(u=u.concat(u.map(up)))),u}function Mc(t){return t.replace(/left|right|bottom|top/g,a=>UM[a])}function GM(t){return{top:0,right:0,bottom:0,left:0,...t}}function Bb(t){return typeof t!="number"?GM(t):{top:t,right:t,bottom:t,left:t}}function Dc(t){const{x:a,y:o,width:s,height:i}=t;return{width:s,height:i,top:o,left:a,right:a+s,bottom:o+i,x:a,y:o}}function lx(t,a,o){let{reference:s,floating:i}=t;const u=Sa(a),d=Kp(a),p=Xp(d),h=Za(a),g=u==="y",x=s.x+s.width/2-i.width/2,y=s.y+s.height/2-i.height/2,C=s[p]/2-i[p]/2;let T;switch(h){case"top":T={x,y:s.y-i.height};break;case"bottom":T={x,y:s.y+s.height};break;case"right":T={x:s.x+s.width,y};break;case"left":T={x:s.x-i.width,y};break;default:T={x:s.x,y:s.y}}switch(Ss(a)){case"start":T[d]-=C*(o&&g?-1:1);break;case"end":T[d]+=C*(o&&g?-1:1);break}return T}async function XM(t,a){var o;a===void 0&&(a={});const{x:s,y:i,platform:u,rects:d,elements:p,strategy:h}=t,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:C=!1,padding:T=0}=Qa(a,t),E=Bb(T),S=p[C?y==="floating"?"reference":"floating":y],w=Dc(await u.getClippingRect({element:(o=await(u.isElement==null?void 0:u.isElement(S)))==null||o?S:S.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(p.floating)),boundary:g,rootBoundary:x,strategy:h})),j=y==="floating"?{x:s,y:i,width:d.floating.width,height:d.floating.height}:d.reference,R=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p.floating)),A=await(u.isElement==null?void 0:u.isElement(R))?await(u.getScale==null?void 0:u.getScale(R))||{x:1,y:1}:{x:1,y:1},_=Dc(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:j,offsetParent:R,strategy:h}):j);return{top:(w.top-_.top+E.top)/A.y,bottom:(_.bottom-w.bottom+E.bottom)/A.y,left:(w.left-_.left+E.left)/A.x,right:(_.right-w.right+E.right)/A.x}}const KM=async(t,a,o)=>{const{placement:s="bottom",strategy:i="absolute",middleware:u=[],platform:d}=o,p=u.filter(Boolean),h=await(d.isRTL==null?void 0:d.isRTL(a));let g=await d.getElementRects({reference:t,floating:a,strategy:i}),{x,y}=lx(g,s,h),C=s,T={},E=0;for(let S=0;S<p.length;S++){var b;const{name:w,fn:j}=p[S],{x:R,y:A,data:_,reset:k}=await j({x,y,initialPlacement:s,placement:C,strategy:i,middlewareData:T,rects:g,platform:{...d,detectOverflow:(b=d.detectOverflow)!=null?b:XM},elements:{reference:t,floating:a}});x=R??x,y=A??y,T={...T,[w]:{...T[w],..._}},k&&E<=50&&(E++,typeof k=="object"&&(k.placement&&(C=k.placement),k.rects&&(g=k.rects===!0?await d.getElementRects({reference:t,floating:a,strategy:i}):k.rects),{x,y}=lx(g,C,h)),S=-1)}return{x,y,placement:C,strategy:i,middlewareData:T}},WM=t=>({name:"arrow",options:t,async fn(a){const{x:o,y:s,placement:i,rects:u,platform:d,elements:p,middlewareData:h}=a,{element:g,padding:x=0}=Qa(t,a)||{};if(g==null)return{};const y=Bb(x),C={x:o,y:s},T=Kp(i),E=Xp(T),b=await d.getDimensions(g),S=T==="y",w=S?"top":"left",j=S?"bottom":"right",R=S?"clientHeight":"clientWidth",A=u.reference[E]+u.reference[T]-C[T]-u.floating[E],_=C[T]-u.reference[T],k=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let D=k?k[R]:0;(!D||!await(d.isElement==null?void 0:d.isElement(k)))&&(D=p.floating[R]||u.floating[E]);const M=A/2-_/2,z=D/2-b[E]/2-1,I=_o(y[w],z),$=_o(y[j],z),G=I,q=D-b[E]-$,X=D/2-b[E]/2+M,ae=cp(G,X,q),L=!h.arrow&&Ss(i)!=null&&X!==ae&&u.reference[E]/2-(X<G?I:$)-b[E]/2<0,H=L?X<G?X-G:X-q:0;return{[T]:C[T]+H,data:{[T]:ae,centerOffset:X-ae-H,...L&&{alignmentOffset:H}},reset:L}}}),QM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var o,s;const{placement:i,middlewareData:u,rects:d,initialPlacement:p,platform:h,elements:g}=a,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:C,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:b=!0,...S}=Qa(t,a);if((o=u.arrow)!=null&&o.alignmentOffset)return{};const w=Za(i),j=Sa(p),R=Za(p)===p,A=await(h.isRTL==null?void 0:h.isRTL(g.floating)),_=C||(R||!b?[Mc(p)]:qM(p)),k=E!=="none";!C&&k&&_.push(...VM(p,b,E,A));const D=[p,..._],M=await h.detectOverflow(a,S),z=[];let I=((s=u.flip)==null?void 0:s.overflows)||[];if(x&&z.push(M[w]),y){const X=IM(i,d,A);z.push(M[X[0]],M[X[1]])}if(I=[...I,{placement:i,overflows:z}],!z.every(X=>X<=0)){var $,G;const X=((($=u.flip)==null?void 0:$.index)||0)+1,ae=D[X];if(ae&&(!(y==="alignment"?j!==Sa(ae):!1)||I.every(P=>Sa(P.placement)===j?P.overflows[0]>0:!0)))return{data:{index:X,overflows:I},reset:{placement:ae}};let L=(G=I.filter(H=>H.overflows[0]<=0).sort((H,P)=>H.overflows[1]-P.overflows[1])[0])==null?void 0:G.placement;if(!L)switch(T){case"bestFit":{var q;const H=(q=I.filter(P=>{if(k){const V=Sa(P.placement);return V===j||V==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(V=>V>0).reduce((V,ce)=>V+ce,0)]).sort((P,V)=>P[1]-V[1])[0])==null?void 0:q[0];H&&(L=H);break}case"initialPlacement":L=p;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function ix(t,a){return{top:t.top-a.height,right:t.right-a.width,bottom:t.bottom-a.height,left:t.left-a.width}}function cx(t){return PM.some(a=>t[a]>=0)}const ZM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(a){const{rects:o,platform:s}=a,{strategy:i="referenceHidden",...u}=Qa(t,a);switch(i){case"referenceHidden":{const d=await s.detectOverflow(a,{...u,elementContext:"reference"}),p=ix(d,o.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:cx(p)}}}case"escaped":{const d=await s.detectOverflow(a,{...u,altBoundary:!0}),p=ix(d,o.floating);return{data:{escapedOffsets:p,escaped:cx(p)}}}default:return{}}}}},Hb=new Set(["left","top"]);async function JM(t,a){const{placement:o,platform:s,elements:i}=t,u=await(s.isRTL==null?void 0:s.isRTL(i.floating)),d=Za(o),p=Ss(o),h=Sa(o)==="y",g=Hb.has(d)?-1:1,x=u&&h?-1:1,y=Qa(a,t);let{mainAxis:C,crossAxis:T,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return p&&typeof E=="number"&&(T=p==="end"?E*-1:E),h?{x:T*x,y:C*g}:{x:C*g,y:T*x}}const eD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var o,s;const{x:i,y:u,placement:d,middlewareData:p}=a,h=await JM(a,t);return d===((o=p.offset)==null?void 0:o.placement)&&(s=p.arrow)!=null&&s.alignmentOffset?{}:{x:i+h.x,y:u+h.y,data:{...h,placement:d}}}}},tD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(a){const{x:o,y:s,placement:i,platform:u}=a,{mainAxis:d=!0,crossAxis:p=!1,limiter:h={fn:w=>{let{x:j,y:R}=w;return{x:j,y:R}}},...g}=Qa(t,a),x={x:o,y:s},y=await u.detectOverflow(a,g),C=Sa(Za(i)),T=Gp(C);let E=x[T],b=x[C];if(d){const w=T==="y"?"top":"left",j=T==="y"?"bottom":"right",R=E+y[w],A=E-y[j];E=cp(R,E,A)}if(p){const w=C==="y"?"top":"left",j=C==="y"?"bottom":"right",R=b+y[w],A=b-y[j];b=cp(R,b,A)}const S=h.fn({...a,[T]:E,[C]:b});return{...S,data:{x:S.x-o,y:S.y-s,enabled:{[T]:d,[C]:p}}}}}},nD=function(t){return t===void 0&&(t={}),{options:t,fn(a){const{x:o,y:s,placement:i,rects:u,middlewareData:d}=a,{offset:p=0,mainAxis:h=!0,crossAxis:g=!0}=Qa(t,a),x={x:o,y:s},y=Sa(i),C=Gp(y);let T=x[C],E=x[y];const b=Qa(p,a),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const R=C==="y"?"height":"width",A=u.reference[C]-u.floating[R]+S.mainAxis,_=u.reference[C]+u.reference[R]-S.mainAxis;T<A?T=A:T>_&&(T=_)}if(g){var w,j;const R=C==="y"?"width":"height",A=Hb.has(Za(i)),_=u.reference[y]-u.floating[R]+(A&&((w=d.offset)==null?void 0:w[y])||0)+(A?0:S.crossAxis),k=u.reference[y]+u.reference[R]+(A?0:((j=d.offset)==null?void 0:j[y])||0)-(A?S.crossAxis:0);E<_?E=_:E>k&&(E=k)}return{[C]:T,[y]:E}}}},aD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(a){var o,s;const{placement:i,rects:u,platform:d,elements:p}=a,{apply:h=()=>{},...g}=Qa(t,a),x=await d.detectOverflow(a,g),y=Za(i),C=Ss(i),T=Sa(i)==="y",{width:E,height:b}=u.floating;let S,w;y==="top"||y==="bottom"?(S=y,w=C===(await(d.isRTL==null?void 0:d.isRTL(p.floating))?"start":"end")?"left":"right"):(w=y,S=C==="end"?"top":"bottom");const j=b-x.top-x.bottom,R=E-x.left-x.right,A=_o(b-x[S],j),_=_o(E-x[w],R),k=!a.middlewareData.shift;let D=A,M=_;if((o=a.middlewareData.shift)!=null&&o.enabled.x&&(M=R),(s=a.middlewareData.shift)!=null&&s.enabled.y&&(D=j),k&&!C){const I=Dn(x.left,0),$=Dn(x.right,0),G=Dn(x.top,0),q=Dn(x.bottom,0);T?M=E-2*(I!==0||$!==0?I+$:Dn(x.left,x.right)):D=b-2*(G!==0||q!==0?G+q:Dn(x.top,x.bottom))}await h({...a,availableWidth:M,availableHeight:D});const z=await d.getDimensions(p.floating);return E!==z.width||b!==z.height?{reset:{rects:!0}}:{}}}};function Zc(){return typeof window<"u"}function ws(t){return Ib(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function Ta(t){var a;return(a=(Ib(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function Ib(t){return Zc()?t instanceof Node||t instanceof _n(t).Node:!1}function ia(t){return Zc()?t instanceof Element||t instanceof _n(t).Element:!1}function Na(t){return Zc()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function ux(t){return!Zc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const oD=new Set(["inline","contents"]);function Il(t){const{overflow:a,overflowX:o,overflowY:s,display:i}=ca(t);return/auto|scroll|overlay|hidden|clip/.test(a+s+o)&&!oD.has(i)}const rD=new Set(["table","td","th"]);function sD(t){return rD.has(ws(t))}const lD=[":popover-open",":modal"];function Jc(t){return lD.some(a=>{try{return t.matches(a)}catch{return!1}})}const iD=["transform","translate","scale","rotate","perspective"],cD=["transform","translate","scale","rotate","perspective","filter"],uD=["paint","layout","strict","content"];function Wp(t){const a=Qp(),o=ia(t)?ca(t):t;return iD.some(s=>o[s]?o[s]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!a&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!a&&(o.filter?o.filter!=="none":!1)||cD.some(s=>(o.willChange||"").includes(s))||uD.some(s=>(o.contain||"").includes(s))}function dD(t){let a=Ao(t);for(;Na(a)&&!ds(a);){if(Wp(a))return a;if(Jc(a))return null;a=Ao(a)}return null}function Qp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fD=new Set(["html","body","#document"]);function ds(t){return fD.has(ws(t))}function ca(t){return _n(t).getComputedStyle(t)}function eu(t){return ia(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ao(t){if(ws(t)==="html")return t;const a=t.assignedSlot||t.parentNode||ux(t)&&t.host||Ta(t);return ux(a)?a.host:a}function qb(t){const a=Ao(t);return ds(a)?t.ownerDocument?t.ownerDocument.body:t.body:Na(a)&&Il(a)?a:qb(a)}function _l(t,a,o){var s;a===void 0&&(a=[]),o===void 0&&(o=!0);const i=qb(t),u=i===((s=t.ownerDocument)==null?void 0:s.body),d=_n(i);if(u){const p=dp(d);return a.concat(d,d.visualViewport||[],Il(i)?i:[],p&&o?_l(p):[])}return a.concat(i,_l(i,[],o))}function dp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $b(t){const a=ca(t);let o=parseFloat(a.width)||0,s=parseFloat(a.height)||0;const i=Na(t),u=i?t.offsetWidth:o,d=i?t.offsetHeight:s,p=Rc(o)!==u||Rc(s)!==d;return p&&(o=u,s=d),{width:o,height:s,$:p}}function Zp(t){return ia(t)?t:t.contextElement}function cs(t){const a=Zp(t);if(!Na(a))return Ca(1);const o=a.getBoundingClientRect(),{width:s,height:i,$:u}=$b(a);let d=(u?Rc(o.width):o.width)/s,p=(u?Rc(o.height):o.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const pD=Ca(0);function Fb(t){const a=_n(t);return!Qp()||!a.visualViewport?pD:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function mD(t,a,o){return a===void 0&&(a=!1),!o||a&&o!==_n(t)?!1:a}function dr(t,a,o,s){a===void 0&&(a=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),u=Zp(t);let d=Ca(1);a&&(s?ia(s)&&(d=cs(s)):d=cs(t));const p=mD(u,o,s)?Fb(u):Ca(0);let h=(i.left+p.x)/d.x,g=(i.top+p.y)/d.y,x=i.width/d.x,y=i.height/d.y;if(u){const C=_n(u),T=s&&ia(s)?_n(s):s;let E=C,b=dp(E);for(;b&&s&&T!==E;){const S=cs(b),w=b.getBoundingClientRect(),j=ca(b),R=w.left+(b.clientLeft+parseFloat(j.paddingLeft))*S.x,A=w.top+(b.clientTop+parseFloat(j.paddingTop))*S.y;h*=S.x,g*=S.y,x*=S.x,y*=S.y,h+=R,g+=A,E=_n(b),b=dp(E)}}return Dc({width:x,height:y,x:h,y:g})}function tu(t,a){const o=eu(t).scrollLeft;return a?a.left+o:dr(Ta(t)).left+o}function Yb(t,a){const o=t.getBoundingClientRect(),s=o.left+a.scrollLeft-tu(t,o),i=o.top+a.scrollTop;return{x:s,y:i}}function hD(t){let{elements:a,rect:o,offsetParent:s,strategy:i}=t;const u=i==="fixed",d=Ta(s),p=a?Jc(a.floating):!1;if(s===d||p&&u)return o;let h={scrollLeft:0,scrollTop:0},g=Ca(1);const x=Ca(0),y=Na(s);if((y||!y&&!u)&&((ws(s)!=="body"||Il(d))&&(h=eu(s)),Na(s))){const T=dr(s);g=cs(s),x.x=T.x+s.clientLeft,x.y=T.y+s.clientTop}const C=d&&!y&&!u?Yb(d,h):Ca(0);return{width:o.width*g.x,height:o.height*g.y,x:o.x*g.x-h.scrollLeft*g.x+x.x+C.x,y:o.y*g.y-h.scrollTop*g.y+x.y+C.y}}function gD(t){return Array.from(t.getClientRects())}function vD(t){const a=Ta(t),o=eu(t),s=t.ownerDocument.body,i=Dn(a.scrollWidth,a.clientWidth,s.scrollWidth,s.clientWidth),u=Dn(a.scrollHeight,a.clientHeight,s.scrollHeight,s.clientHeight);let d=-o.scrollLeft+tu(t);const p=-o.scrollTop;return ca(s).direction==="rtl"&&(d+=Dn(a.clientWidth,s.clientWidth)-i),{width:i,height:u,x:d,y:p}}const dx=25;function yD(t,a){const o=_n(t),s=Ta(t),i=o.visualViewport;let u=s.clientWidth,d=s.clientHeight,p=0,h=0;if(i){u=i.width,d=i.height;const x=Qp();(!x||x&&a==="fixed")&&(p=i.offsetLeft,h=i.offsetTop)}const g=tu(s);if(g<=0){const x=s.ownerDocument,y=x.body,C=getComputedStyle(y),T=x.compatMode==="CSS1Compat"&&parseFloat(C.marginLeft)+parseFloat(C.marginRight)||0,E=Math.abs(s.clientWidth-y.clientWidth-T);E<=dx&&(u-=E)}else g<=dx&&(u+=g);return{width:u,height:d,x:p,y:h}}const xD=new Set(["absolute","fixed"]);function bD(t,a){const o=dr(t,!0,a==="fixed"),s=o.top+t.clientTop,i=o.left+t.clientLeft,u=Na(t)?cs(t):Ca(1),d=t.clientWidth*u.x,p=t.clientHeight*u.y,h=i*u.x,g=s*u.y;return{width:d,height:p,x:h,y:g}}function fx(t,a,o){let s;if(a==="viewport")s=yD(t,o);else if(a==="document")s=vD(Ta(t));else if(ia(a))s=bD(a,o);else{const i=Fb(t);s={x:a.x-i.x,y:a.y-i.y,width:a.width,height:a.height}}return Dc(s)}function Vb(t,a){const o=Ao(t);return o===a||!ia(o)||ds(o)?!1:ca(o).position==="fixed"||Vb(o,a)}function SD(t,a){const o=a.get(t);if(o)return o;let s=_l(t,[],!1).filter(p=>ia(p)&&ws(p)!=="body"),i=null;const u=ca(t).position==="fixed";let d=u?Ao(t):t;for(;ia(d)&&!ds(d);){const p=ca(d),h=Wp(d);!h&&p.position==="fixed"&&(i=null),(u?!h&&!i:!h&&p.position==="static"&&!!i&&xD.has(i.position)||Il(d)&&!h&&Vb(t,d))?s=s.filter(x=>x!==d):i=p,d=Ao(d)}return a.set(t,s),s}function wD(t){let{element:a,boundary:o,rootBoundary:s,strategy:i}=t;const d=[...o==="clippingAncestors"?Jc(a)?[]:SD(a,this._c):[].concat(o),s],p=d[0],h=d.reduce((g,x)=>{const y=fx(a,x,i);return g.top=Dn(y.top,g.top),g.right=_o(y.right,g.right),g.bottom=_o(y.bottom,g.bottom),g.left=Dn(y.left,g.left),g},fx(a,p,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function CD(t){const{width:a,height:o}=$b(t);return{width:a,height:o}}function ED(t,a,o){const s=Na(a),i=Ta(a),u=o==="fixed",d=dr(t,!0,u,a);let p={scrollLeft:0,scrollTop:0};const h=Ca(0);function g(){h.x=tu(i)}if(s||!s&&!u)if((ws(a)!=="body"||Il(i))&&(p=eu(a)),s){const T=dr(a,!0,u,a);h.x=T.x+a.clientLeft,h.y=T.y+a.clientTop}else i&&g();u&&!s&&i&&g();const x=i&&!s&&!u?Yb(i,p):Ca(0),y=d.left+p.scrollLeft-h.x-x.x,C=d.top+p.scrollTop-h.y-x.y;return{x:y,y:C,width:d.width,height:d.height}}function Ff(t){return ca(t).position==="static"}function px(t,a){if(!Na(t)||ca(t).position==="fixed")return null;if(a)return a(t);let o=t.offsetParent;return Ta(t)===o&&(o=o.ownerDocument.body),o}function Gb(t,a){const o=_n(t);if(Jc(t))return o;if(!Na(t)){let i=Ao(t);for(;i&&!ds(i);){if(ia(i)&&!Ff(i))return i;i=Ao(i)}return o}let s=px(t,a);for(;s&&sD(s)&&Ff(s);)s=px(s,a);return s&&ds(s)&&Ff(s)&&!Wp(s)?o:s||dD(t)||o}const ND=async function(t){const a=this.getOffsetParent||Gb,o=this.getDimensions,s=await o(t.floating);return{reference:ED(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function jD(t){return ca(t).direction==="rtl"}const TD={convertOffsetParentRelativeRectToViewportRelativeRect:hD,getDocumentElement:Ta,getClippingRect:wD,getOffsetParent:Gb,getElementRects:ND,getClientRects:gD,getDimensions:CD,getScale:cs,isElement:ia,isRTL:jD};function Xb(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function RD(t,a){let o=null,s;const i=Ta(t);function u(){var p;clearTimeout(s),(p=o)==null||p.disconnect(),o=null}function d(p,h){p===void 0&&(p=!1),h===void 0&&(h=1),u();const g=t.getBoundingClientRect(),{left:x,top:y,width:C,height:T}=g;if(p||a(),!C||!T)return;const E=dc(y),b=dc(i.clientWidth-(x+C)),S=dc(i.clientHeight-(y+T)),w=dc(x),R={rootMargin:-E+"px "+-b+"px "+-S+"px "+-w+"px",threshold:Dn(0,_o(1,h))||1};let A=!0;function _(k){const D=k[0].intersectionRatio;if(D!==h){if(!A)return d();D?d(!1,D):s=setTimeout(()=>{d(!1,1e-7)},1e3)}D===1&&!Xb(g,t.getBoundingClientRect())&&d(),A=!1}try{o=new IntersectionObserver(_,{...R,root:i.ownerDocument})}catch{o=new IntersectionObserver(_,R)}o.observe(t)}return d(!0),u}function MD(t,a,o,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,g=Zp(t),x=i||u?[...g?_l(g):[],..._l(a)]:[];x.forEach(w=>{i&&w.addEventListener("scroll",o,{passive:!0}),u&&w.addEventListener("resize",o)});const y=g&&p?RD(g,o):null;let C=-1,T=null;d&&(T=new ResizeObserver(w=>{let[j]=w;j&&j.target===g&&T&&(T.unobserve(a),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var R;(R=T)==null||R.observe(a)})),o()}),g&&!h&&T.observe(g),T.observe(a));let E,b=h?dr(t):null;h&&S();function S(){const w=dr(t);b&&!Xb(b,w)&&o(),b=w,E=requestAnimationFrame(S)}return o(),()=>{var w;x.forEach(j=>{i&&j.removeEventListener("scroll",o),u&&j.removeEventListener("resize",o)}),y?.(),(w=T)==null||w.disconnect(),T=null,h&&cancelAnimationFrame(E)}}const DD=eD,_D=tD,AD=QM,OD=aD,kD=ZM,mx=WM,zD=nD,LD=(t,a,o)=>{const s=new Map,i={platform:TD,...o},u={...i.platform,_c:s};return KM(t,a,{...i,platform:u})};var PD=typeof document<"u",UD=function(){},Cc=PD?m.useLayoutEffect:UD;function _c(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let o,s,i;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(o=t.length,o!==a.length)return!1;for(s=o;s--!==0;)if(!_c(t[s],a[s]))return!1;return!0}if(i=Object.keys(t),o=i.length,o!==Object.keys(a).length)return!1;for(s=o;s--!==0;)if(!{}.hasOwnProperty.call(a,i[s]))return!1;for(s=o;s--!==0;){const u=i[s];if(!(u==="_owner"&&t.$$typeof)&&!_c(t[u],a[u]))return!1}return!0}return t!==t&&a!==a}function Kb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hx(t,a){const o=Kb(t);return Math.round(a*o)/o}function Yf(t){const a=m.useRef(t);return Cc(()=>{a.current=t}),a}function BD(t){t===void 0&&(t={});const{placement:a="bottom",strategy:o="absolute",middleware:s=[],platform:i,elements:{reference:u,floating:d}={},transform:p=!0,whileElementsMounted:h,open:g}=t,[x,y]=m.useState({x:0,y:0,strategy:o,placement:a,middlewareData:{},isPositioned:!1}),[C,T]=m.useState(s);_c(C,s)||T(s);const[E,b]=m.useState(null),[S,w]=m.useState(null),j=m.useCallback(P=>{P!==k.current&&(k.current=P,b(P))},[]),R=m.useCallback(P=>{P!==D.current&&(D.current=P,w(P))},[]),A=u||E,_=d||S,k=m.useRef(null),D=m.useRef(null),M=m.useRef(x),z=h!=null,I=Yf(h),$=Yf(i),G=Yf(g),q=m.useCallback(()=>{if(!k.current||!D.current)return;const P={placement:a,strategy:o,middleware:C};$.current&&(P.platform=$.current),LD(k.current,D.current,P).then(V=>{const ce={...V,isPositioned:G.current!==!1};X.current&&!_c(M.current,ce)&&(M.current=ce,Ul.flushSync(()=>{y(ce)}))})},[C,a,o,$,G]);Cc(()=>{g===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,y(P=>({...P,isPositioned:!1})))},[g]);const X=m.useRef(!1);Cc(()=>(X.current=!0,()=>{X.current=!1}),[]),Cc(()=>{if(A&&(k.current=A),_&&(D.current=_),A&&_){if(I.current)return I.current(A,_,q);q()}},[A,_,q,I,z]);const ae=m.useMemo(()=>({reference:k,floating:D,setReference:j,setFloating:R}),[j,R]),L=m.useMemo(()=>({reference:A,floating:_}),[A,_]),H=m.useMemo(()=>{const P={position:o,left:0,top:0};if(!L.floating)return P;const V=hx(L.floating,x.x),ce=hx(L.floating,x.y);return p?{...P,transform:"translate("+V+"px, "+ce+"px)",...Kb(L.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:V,top:ce}},[o,p,L.floating,x.x,x.y]);return m.useMemo(()=>({...x,update:q,refs:ae,elements:L,floatingStyles:H}),[x,q,ae,L,H])}const HD=t=>{function a(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:t,fn(o){const{element:s,padding:i}=typeof t=="function"?t(o):t;return s&&a(s)?s.current!=null?mx({element:s.current,padding:i}).fn(o):{}:s?mx({element:s,padding:i}).fn(o):{}}}},ID=(t,a)=>({...DD(t),options:[t,a]}),qD=(t,a)=>({..._D(t),options:[t,a]}),$D=(t,a)=>({...zD(t),options:[t,a]}),FD=(t,a)=>({...AD(t),options:[t,a]}),YD=(t,a)=>({...OD(t),options:[t,a]}),VD=(t,a)=>({...kD(t),options:[t,a]}),GD=(t,a)=>({...HD(t),options:[t,a]});var XD="Arrow",Wb=m.forwardRef((t,a)=>{const{children:o,width:s=10,height:i=5,...u}=t;return c.jsx(ke.svg,{...u,ref:a,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?o:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wb.displayName=XD;var KD=Wb,Jp="Popper",[Qb,Cs]=ua(Jp),[WD,Zb]=Qb(Jp),Jb=t=>{const{__scopePopper:a,children:o}=t,[s,i]=m.useState(null);return c.jsx(WD,{scope:a,anchor:s,onAnchorChange:i,children:o})};Jb.displayName=Jp;var eS="PopperAnchor",tS=m.forwardRef((t,a)=>{const{__scopePopper:o,virtualRef:s,...i}=t,u=Zb(eS,o),d=m.useRef(null),p=$e(a,d),h=m.useRef(null);return m.useEffect(()=>{const g=h.current;h.current=s?.current||d.current,g!==h.current&&u.onAnchorChange(h.current)}),s?null:c.jsx(ke.div,{...i,ref:p})});tS.displayName=eS;var em="PopperContent",[QD,ZD]=Qb(em),nS=m.forwardRef((t,a)=>{const{__scopePopper:o,side:s="bottom",sideOffset:i=0,align:u="center",alignOffset:d=0,arrowPadding:p=0,avoidCollisions:h=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:C=!1,updatePositionStrategy:T="optimized",onPlaced:E,...b}=t,S=Zb(em,o),[w,j]=m.useState(null),R=$e(a,W=>j(W)),[A,_]=m.useState(null),k=Vp(A),D=k?.width??0,M=k?.height??0,z=s+(u!=="center"?"-"+u:""),I=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},$=Array.isArray(g)?g:[g],G=$.length>0,q={padding:I,boundary:$.filter(e_),altBoundary:G},{refs:X,floatingStyles:ae,placement:L,isPositioned:H,middlewareData:P}=BD({strategy:"fixed",placement:z,whileElementsMounted:(...W)=>MD(...W,{animationFrame:T==="always"}),elements:{reference:S.anchor},middleware:[ID({mainAxis:i+M,alignmentAxis:d}),h&&qD({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?$D():void 0,...q}),h&&FD({...q}),YD({...q,apply:({elements:W,rects:ye,availableWidth:fe,availableHeight:me})=>{const{width:he,height:be}=ye.reference,Ae=W.floating.style;Ae.setProperty("--radix-popper-available-width",`${fe}px`),Ae.setProperty("--radix-popper-available-height",`${me}px`),Ae.setProperty("--radix-popper-anchor-width",`${he}px`),Ae.setProperty("--radix-popper-anchor-height",`${be}px`)}}),A&&GD({element:A,padding:p}),t_({arrowWidth:D,arrowHeight:M}),C&&VD({strategy:"referenceHidden",...q})]}),[V,ce]=rS(L),U=Ea(E);on(()=>{H&&U?.()},[H,U]);const Y=P.arrow?.x,Q=P.arrow?.y,oe=P.arrow?.centerOffset!==0,[de,pe]=m.useState();return on(()=>{w&&pe(window.getComputedStyle(w).zIndex)},[w]),c.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:H?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(QD,{scope:o,placedSide:V,onArrowChange:_,arrowX:Y,arrowY:Q,shouldHideArrow:oe,children:c.jsx(ke.div,{"data-side":V,"data-align":ce,...b,ref:R,style:{...b.style,animation:H?void 0:"none"}})})})});nS.displayName=em;var aS="PopperArrow",JD={top:"bottom",right:"left",bottom:"top",left:"right"},oS=m.forwardRef(function(a,o){const{__scopePopper:s,...i}=a,u=ZD(aS,s),d=JD[u.placedSide];return c.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:c.jsx(KD,{...i,ref:o,style:{...i.style,display:"block"}})})});oS.displayName=aS;function e_(t){return t!==null}var t_=t=>({name:"transformOrigin",options:t,fn(a){const{placement:o,rects:s,middlewareData:i}=a,d=i.arrow?.centerOffset!==0,p=d?0:t.arrowWidth,h=d?0:t.arrowHeight,[g,x]=rS(o),y={start:"0%",center:"50%",end:"100%"}[x],C=(i.arrow?.x??0)+p/2,T=(i.arrow?.y??0)+h/2;let E="",b="";return g==="bottom"?(E=d?y:`${C}px`,b=`${-h}px`):g==="top"?(E=d?y:`${C}px`,b=`${s.floating.height+h}px`):g==="right"?(E=`${-h}px`,b=d?y:`${T}px`):g==="left"&&(E=`${s.floating.width+h}px`,b=d?y:`${T}px`),{data:{x:E,y:b}}}});function rS(t){const[a,o="center"]=t.split("-");return[a,o]}var tm=Jb,nm=tS,am=nS,om=oS,Vf="rovingFocusGroup.onEntryFocus",n_={bubbles:!1,cancelable:!0},ql="RovingFocusGroup",[fp,sS,a_]=Yc(ql),[o_,lS]=ua(ql,[a_]),[r_,s_]=o_(ql),iS=m.forwardRef((t,a)=>c.jsx(fp.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(fp.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(l_,{...t,ref:a})})}));iS.displayName=ql;var l_=m.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:o,orientation:s,loop:i=!1,dir:u,currentTabStopId:d,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...y}=t,C=m.useRef(null),T=$e(a,C),E=Vc(u),[b,S]=Do({prop:d,defaultProp:p??null,onChange:h,caller:ql}),[w,j]=m.useState(!1),R=Ea(g),A=sS(o),_=m.useRef(!1),[k,D]=m.useState(0);return m.useEffect(()=>{const M=C.current;if(M)return M.addEventListener(Vf,R),()=>M.removeEventListener(Vf,R)},[R]),c.jsx(r_,{scope:o,orientation:s,dir:E,loop:i,currentTabStopId:b,onItemFocus:m.useCallback(M=>S(M),[S]),onItemShiftTab:m.useCallback(()=>j(!0),[]),onFocusableItemAdd:m.useCallback(()=>D(M=>M+1),[]),onFocusableItemRemove:m.useCallback(()=>D(M=>M-1),[]),children:c.jsx(ke.div,{tabIndex:w||k===0?-1:0,"data-orientation":s,...y,ref:T,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{_.current=!0}),onFocus:xe(t.onFocus,M=>{const z=!_.current;if(M.target===M.currentTarget&&z&&!w){const I=new CustomEvent(Vf,n_);if(M.currentTarget.dispatchEvent(I),!I.defaultPrevented){const $=A().filter(L=>L.focusable),G=$.find(L=>L.active),q=$.find(L=>L.id===b),ae=[G,q,...$].filter(Boolean).map(L=>L.ref.current);dS(ae,x)}}_.current=!1}),onBlur:xe(t.onBlur,()=>j(!1))})})}),cS="RovingFocusGroupItem",uS=m.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:o,focusable:s=!0,active:i=!1,tabStopId:u,children:d,...p}=t,h=wa(),g=u||h,x=s_(cS,o),y=x.currentTabStopId===g,C=sS(o),{onFocusableItemAdd:T,onFocusableItemRemove:E,currentTabStopId:b}=x;return m.useEffect(()=>{if(s)return T(),()=>E()},[s,T,E]),c.jsx(fp.ItemSlot,{scope:o,id:g,focusable:s,active:i,children:c.jsx(ke.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...p,ref:a,onMouseDown:xe(t.onMouseDown,S=>{s?x.onItemFocus(g):S.preventDefault()}),onFocus:xe(t.onFocus,()=>x.onItemFocus(g)),onKeyDown:xe(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){x.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const w=u_(S,x.orientation,x.dir);if(w!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let R=C().filter(A=>A.focusable).map(A=>A.ref.current);if(w==="last")R.reverse();else if(w==="prev"||w==="next"){w==="prev"&&R.reverse();const A=R.indexOf(S.currentTarget);R=x.loop?d_(R,A+1):R.slice(A+1)}setTimeout(()=>dS(R))}}),children:typeof d=="function"?d({isCurrentTabStop:y,hasTabStop:b!=null}):d})})});uS.displayName=cS;var i_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function c_(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function u_(t,a,o){const s=c_(t.key,o);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return i_[s]}function dS(t,a=!1){const o=document.activeElement;for(const s of t)if(s===o||(s.focus({preventScroll:a}),document.activeElement!==o))return}function d_(t,a){return t.map((o,s)=>t[(a+s)%t.length])}var f_=iS,p_=uS,pp=["Enter"," "],m_=["ArrowDown","PageUp","Home"],fS=["ArrowUp","PageDown","End"],h_=[...m_,...fS],g_={ltr:[...pp,"ArrowRight"],rtl:[...pp,"ArrowLeft"]},v_={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$l="Menu",[Al,y_,x_]=Yc($l),[gr,pS]=ua($l,[x_,Cs,lS]),nu=Cs(),mS=lS(),[b_,vr]=gr($l),[S_,Fl]=gr($l),hS=t=>{const{__scopeMenu:a,open:o=!1,children:s,dir:i,onOpenChange:u,modal:d=!0}=t,p=nu(a),[h,g]=m.useState(null),x=m.useRef(!1),y=Ea(u),C=Vc(i);return m.useEffect(()=>{const T=()=>{x.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>x.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),c.jsx(tm,{...p,children:c.jsx(b_,{scope:a,open:o,onOpenChange:y,content:h,onContentChange:g,children:c.jsx(S_,{scope:a,onClose:m.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:x,dir:C,modal:d,children:s})})})};hS.displayName=$l;var w_="MenuAnchor",rm=m.forwardRef((t,a)=>{const{__scopeMenu:o,...s}=t,i=nu(o);return c.jsx(nm,{...i,...s,ref:a})});rm.displayName=w_;var sm="MenuPortal",[C_,gS]=gr(sm,{forceMount:void 0}),vS=t=>{const{__scopeMenu:a,forceMount:o,children:s,container:i}=t,u=vr(sm,a);return c.jsx(C_,{scope:a,forceMount:o,children:c.jsx(ja,{present:o||u.open,children:c.jsx(Hl,{asChild:!0,container:i,children:s})})})};vS.displayName=sm;var Gn="MenuContent",[E_,lm]=gr(Gn),yS=m.forwardRef((t,a)=>{const o=gS(Gn,t.__scopeMenu),{forceMount:s=o.forceMount,...i}=t,u=vr(Gn,t.__scopeMenu),d=Fl(Gn,t.__scopeMenu);return c.jsx(Al.Provider,{scope:t.__scopeMenu,children:c.jsx(ja,{present:s||u.open,children:c.jsx(Al.Slot,{scope:t.__scopeMenu,children:d.modal?c.jsx(N_,{...i,ref:a}):c.jsx(j_,{...i,ref:a})})})})}),N_=m.forwardRef((t,a)=>{const o=vr(Gn,t.__scopeMenu),s=m.useRef(null),i=$e(a,s);return m.useEffect(()=>{const u=s.current;if(u)return Ip(u)},[]),c.jsx(im,{...t,ref:i,trapFocus:o.open,disableOutsidePointerEvents:o.open,disableOutsideScroll:!0,onFocusOutside:xe(t.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>o.onOpenChange(!1)})}),j_=m.forwardRef((t,a)=>{const o=vr(Gn,t.__scopeMenu);return c.jsx(im,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>o.onOpenChange(!1)})}),T_=cr("MenuContent.ScrollLock"),im=m.forwardRef((t,a)=>{const{__scopeMenu:o,loop:s=!1,trapFocus:i,onOpenAutoFocus:u,onCloseAutoFocus:d,disableOutsidePointerEvents:p,onEntryFocus:h,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:C,onDismiss:T,disableOutsideScroll:E,...b}=t,S=vr(Gn,o),w=Fl(Gn,o),j=nu(o),R=mS(o),A=y_(o),[_,k]=m.useState(null),D=m.useRef(null),M=$e(a,D,S.onContentChange),z=m.useRef(0),I=m.useRef(""),$=m.useRef(0),G=m.useRef(null),q=m.useRef("right"),X=m.useRef(0),ae=E?Kc:m.Fragment,L=E?{as:T_,allowPinchZoom:!0}:void 0,H=V=>{const ce=I.current+V,U=A().filter(W=>!W.disabled),Y=document.activeElement,Q=U.find(W=>W.ref.current===Y)?.textValue,oe=U.map(W=>W.textValue),de=B_(oe,ce,Q),pe=U.find(W=>W.textValue===de)?.ref.current;(function W(ye){I.current=ye,window.clearTimeout(z.current),ye!==""&&(z.current=window.setTimeout(()=>W(""),1e3))})(ce),pe&&setTimeout(()=>pe.focus())};m.useEffect(()=>()=>window.clearTimeout(z.current),[]),Hp();const P=m.useCallback(V=>q.current===G.current?.side&&I_(V,G.current?.area),[]);return c.jsx(E_,{scope:o,searchRef:I,onItemEnter:m.useCallback(V=>{P(V)&&V.preventDefault()},[P]),onItemLeave:m.useCallback(V=>{P(V)||(D.current?.focus(),k(null))},[P]),onTriggerLeave:m.useCallback(V=>{P(V)&&V.preventDefault()},[P]),pointerGraceTimerRef:$,onPointerGraceIntentChange:m.useCallback(V=>{G.current=V},[]),children:c.jsx(ae,{...L,children:c.jsx(Gc,{asChild:!0,trapped:i,onMountAutoFocus:xe(u,V=>{V.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:c.jsx(Bl,{asChild:!0,disableOutsidePointerEvents:p,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:C,onDismiss:T,children:c.jsx(f_,{asChild:!0,...R,dir:w.dir,orientation:"vertical",loop:s,currentTabStopId:_,onCurrentTabStopIdChange:k,onEntryFocus:xe(h,V=>{w.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(am,{role:"menu","aria-orientation":"vertical","data-state":kS(S.open),"data-radix-menu-content":"",dir:w.dir,...j,...b,ref:M,style:{outline:"none",...b.style},onKeyDown:xe(b.onKeyDown,V=>{const U=V.target.closest("[data-radix-menu-content]")===V.currentTarget,Y=V.ctrlKey||V.altKey||V.metaKey,Q=V.key.length===1;U&&(V.key==="Tab"&&V.preventDefault(),!Y&&Q&&H(V.key));const oe=D.current;if(V.target!==oe||!h_.includes(V.key))return;V.preventDefault();const pe=A().filter(W=>!W.disabled).map(W=>W.ref.current);fS.includes(V.key)&&pe.reverse(),P_(pe)}),onBlur:xe(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(z.current),I.current="")}),onPointerMove:xe(t.onPointerMove,Ol(V=>{const ce=V.target,U=X.current!==V.clientX;if(V.currentTarget.contains(ce)&&U){const Y=V.clientX>X.current?"right":"left";q.current=Y,X.current=V.clientX}}))})})})})})})});yS.displayName=Gn;var R_="MenuGroup",cm=m.forwardRef((t,a)=>{const{__scopeMenu:o,...s}=t;return c.jsx(ke.div,{role:"group",...s,ref:a})});cm.displayName=R_;var M_="MenuLabel",xS=m.forwardRef((t,a)=>{const{__scopeMenu:o,...s}=t;return c.jsx(ke.div,{...s,ref:a})});xS.displayName=M_;var Ac="MenuItem",gx="menu.itemSelect",au=m.forwardRef((t,a)=>{const{disabled:o=!1,onSelect:s,...i}=t,u=m.useRef(null),d=Fl(Ac,t.__scopeMenu),p=lm(Ac,t.__scopeMenu),h=$e(a,u),g=m.useRef(!1),x=()=>{const y=u.current;if(!o&&y){const C=new CustomEvent(gx,{bubbles:!0,cancelable:!0});y.addEventListener(gx,T=>s?.(T),{once:!0}),U0(y,C),C.defaultPrevented?g.current=!1:d.onClose()}};return c.jsx(bS,{...i,ref:h,disabled:o,onClick:xe(t.onClick,x),onPointerDown:y=>{t.onPointerDown?.(y),g.current=!0},onPointerUp:xe(t.onPointerUp,y=>{g.current||y.currentTarget?.click()}),onKeyDown:xe(t.onKeyDown,y=>{const C=p.searchRef.current!=="";o||C&&y.key===" "||pp.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});au.displayName=Ac;var bS=m.forwardRef((t,a)=>{const{__scopeMenu:o,disabled:s=!1,textValue:i,...u}=t,d=lm(Ac,o),p=mS(o),h=m.useRef(null),g=$e(a,h),[x,y]=m.useState(!1),[C,T]=m.useState("");return m.useEffect(()=>{const E=h.current;E&&T((E.textContent??"").trim())},[u.children]),c.jsx(Al.ItemSlot,{scope:o,disabled:s,textValue:i??C,children:c.jsx(p_,{asChild:!0,...p,focusable:!s,children:c.jsx(ke.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...u,ref:g,onPointerMove:xe(t.onPointerMove,Ol(E=>{s?d.onItemLeave(E):(d.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xe(t.onPointerLeave,Ol(E=>d.onItemLeave(E))),onFocus:xe(t.onFocus,()=>y(!0)),onBlur:xe(t.onBlur,()=>y(!1))})})})}),D_="MenuCheckboxItem",SS=m.forwardRef((t,a)=>{const{checked:o=!1,onCheckedChange:s,...i}=t;return c.jsx(jS,{scope:t.__scopeMenu,checked:o,children:c.jsx(au,{role:"menuitemcheckbox","aria-checked":Oc(o)?"mixed":o,...i,ref:a,"data-state":dm(o),onSelect:xe(i.onSelect,()=>s?.(Oc(o)?!0:!o),{checkForDefaultPrevented:!1})})})});SS.displayName=D_;var wS="MenuRadioGroup",[__,A_]=gr(wS,{value:void 0,onValueChange:()=>{}}),CS=m.forwardRef((t,a)=>{const{value:o,onValueChange:s,...i}=t,u=Ea(s);return c.jsx(__,{scope:t.__scopeMenu,value:o,onValueChange:u,children:c.jsx(cm,{...i,ref:a})})});CS.displayName=wS;var ES="MenuRadioItem",NS=m.forwardRef((t,a)=>{const{value:o,...s}=t,i=A_(ES,t.__scopeMenu),u=o===i.value;return c.jsx(jS,{scope:t.__scopeMenu,checked:u,children:c.jsx(au,{role:"menuitemradio","aria-checked":u,...s,ref:a,"data-state":dm(u),onSelect:xe(s.onSelect,()=>i.onValueChange?.(o),{checkForDefaultPrevented:!1})})})});NS.displayName=ES;var um="MenuItemIndicator",[jS,O_]=gr(um,{checked:!1}),TS=m.forwardRef((t,a)=>{const{__scopeMenu:o,forceMount:s,...i}=t,u=O_(um,o);return c.jsx(ja,{present:s||Oc(u.checked)||u.checked===!0,children:c.jsx(ke.span,{...i,ref:a,"data-state":dm(u.checked)})})});TS.displayName=um;var k_="MenuSeparator",RS=m.forwardRef((t,a)=>{const{__scopeMenu:o,...s}=t;return c.jsx(ke.div,{role:"separator","aria-orientation":"horizontal",...s,ref:a})});RS.displayName=k_;var z_="MenuArrow",MS=m.forwardRef((t,a)=>{const{__scopeMenu:o,...s}=t,i=nu(o);return c.jsx(om,{...i,...s,ref:a})});MS.displayName=z_;var L_="MenuSub",[G3,DS]=gr(L_),Rl="MenuSubTrigger",_S=m.forwardRef((t,a)=>{const o=vr(Rl,t.__scopeMenu),s=Fl(Rl,t.__scopeMenu),i=DS(Rl,t.__scopeMenu),u=lm(Rl,t.__scopeMenu),d=m.useRef(null),{pointerGraceTimerRef:p,onPointerGraceIntentChange:h}=u,g={__scopeMenu:t.__scopeMenu},x=m.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return m.useEffect(()=>x,[x]),m.useEffect(()=>{const y=p.current;return()=>{window.clearTimeout(y),h(null)}},[p,h]),c.jsx(rm,{asChild:!0,...g,children:c.jsx(bS,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":i.contentId,"data-state":kS(o.open),...t,ref:Fc(a,i.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),o.open||o.onOpenChange(!0))},onPointerMove:xe(t.onPointerMove,Ol(y=>{u.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!o.open&&!d.current&&(u.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{o.onOpenChange(!0),x()},100))})),onPointerLeave:xe(t.onPointerLeave,Ol(y=>{x();const C=o.content?.getBoundingClientRect();if(C){const T=o.content?.dataset.side,E=T==="right",b=E?-5:5,S=C[E?"left":"right"],w=C[E?"right":"left"];u.onPointerGraceIntentChange({area:[{x:y.clientX+b,y:y.clientY},{x:S,y:C.top},{x:w,y:C.top},{x:w,y:C.bottom},{x:S,y:C.bottom}],side:T}),window.clearTimeout(p.current),p.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(y),y.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:xe(t.onKeyDown,y=>{const C=u.searchRef.current!=="";t.disabled||C&&y.key===" "||g_[s.dir].includes(y.key)&&(o.onOpenChange(!0),o.content?.focus(),y.preventDefault())})})})});_S.displayName=Rl;var AS="MenuSubContent",OS=m.forwardRef((t,a)=>{const o=gS(Gn,t.__scopeMenu),{forceMount:s=o.forceMount,...i}=t,u=vr(Gn,t.__scopeMenu),d=Fl(Gn,t.__scopeMenu),p=DS(AS,t.__scopeMenu),h=m.useRef(null),g=$e(a,h);return c.jsx(Al.Provider,{scope:t.__scopeMenu,children:c.jsx(ja,{present:s||u.open,children:c.jsx(Al.Slot,{scope:t.__scopeMenu,children:c.jsx(im,{id:p.contentId,"aria-labelledby":p.triggerId,...i,ref:g,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{d.isUsingKeyboardRef.current&&h.current?.focus(),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:xe(t.onFocusOutside,x=>{x.target!==p.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:xe(t.onEscapeKeyDown,x=>{d.onClose(),x.preventDefault()}),onKeyDown:xe(t.onKeyDown,x=>{const y=x.currentTarget.contains(x.target),C=v_[d.dir].includes(x.key);y&&C&&(u.onOpenChange(!1),p.trigger?.focus(),x.preventDefault())})})})})})});OS.displayName=AS;function kS(t){return t?"open":"closed"}function Oc(t){return t==="indeterminate"}function dm(t){return Oc(t)?"indeterminate":t?"checked":"unchecked"}function P_(t){const a=document.activeElement;for(const o of t)if(o===a||(o.focus(),document.activeElement!==a))return}function U_(t,a){return t.map((o,s)=>t[(a+s)%t.length])}function B_(t,a,o){const i=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,u=o?t.indexOf(o):-1;let d=U_(t,Math.max(u,0));i.length===1&&(d=d.filter(g=>g!==o));const h=d.find(g=>g.toLowerCase().startsWith(i.toLowerCase()));return h!==o?h:void 0}function H_(t,a){const{x:o,y:s}=t;let i=!1;for(let u=0,d=a.length-1;u<a.length;d=u++){const p=a[u],h=a[d],g=p.x,x=p.y,y=h.x,C=h.y;x>s!=C>s&&o<(y-g)*(s-x)/(C-x)+g&&(i=!i)}return i}function I_(t,a){if(!a)return!1;const o={x:t.clientX,y:t.clientY};return H_(o,a)}function Ol(t){return a=>a.pointerType==="mouse"?t(a):void 0}var q_=hS,$_=rm,F_=vS,Y_=yS,V_=cm,G_=xS,X_=au,K_=SS,W_=CS,Q_=NS,Z_=TS,J_=RS,eA=MS,tA=_S,nA=OS,ou="DropdownMenu",[aA]=ua(ou,[pS]),un=pS(),[oA,zS]=aA(ou),LS=t=>{const{__scopeDropdownMenu:a,children:o,dir:s,open:i,defaultOpen:u,onOpenChange:d,modal:p=!0}=t,h=un(a),g=m.useRef(null),[x,y]=Do({prop:i,defaultProp:u??!1,onChange:d,caller:ou});return c.jsx(oA,{scope:a,triggerId:wa(),triggerRef:g,contentId:wa(),open:x,onOpenChange:y,onOpenToggle:m.useCallback(()=>y(C=>!C),[y]),modal:p,children:c.jsx(q_,{...h,open:x,onOpenChange:y,dir:s,modal:p,children:o})})};LS.displayName=ou;var PS="DropdownMenuTrigger",US=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,disabled:s=!1,...i}=t,u=zS(PS,o),d=un(o);return c.jsx($_,{asChild:!0,...d,children:c.jsx(ke.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Fc(a,u.triggerRef),onPointerDown:xe(t.onPointerDown,p=>{!s&&p.button===0&&p.ctrlKey===!1&&(u.onOpenToggle(),u.open||p.preventDefault())}),onKeyDown:xe(t.onKeyDown,p=>{s||(["Enter"," "].includes(p.key)&&u.onOpenToggle(),p.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(p.key)&&p.preventDefault())})})})});US.displayName=PS;var rA="DropdownMenuPortal",BS=t=>{const{__scopeDropdownMenu:a,...o}=t,s=un(a);return c.jsx(F_,{...s,...o})};BS.displayName=rA;var HS="DropdownMenuContent",IS=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=zS(HS,o),u=un(o),d=m.useRef(!1);return c.jsx(Y_,{id:i.contentId,"aria-labelledby":i.triggerId,...u,...s,ref:a,onCloseAutoFocus:xe(t.onCloseAutoFocus,p=>{d.current||i.triggerRef.current?.focus(),d.current=!1,p.preventDefault()}),onInteractOutside:xe(t.onInteractOutside,p=>{const h=p.detail.originalEvent,g=h.button===0&&h.ctrlKey===!0,x=h.button===2||g;(!i.modal||x)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IS.displayName=HS;var sA="DropdownMenuGroup",lA=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(V_,{...i,...s,ref:a})});lA.displayName=sA;var iA="DropdownMenuLabel",qS=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(G_,{...i,...s,ref:a})});qS.displayName=iA;var cA="DropdownMenuItem",$S=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(X_,{...i,...s,ref:a})});$S.displayName=cA;var uA="DropdownMenuCheckboxItem",dA=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(K_,{...i,...s,ref:a})});dA.displayName=uA;var fA="DropdownMenuRadioGroup",pA=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(W_,{...i,...s,ref:a})});pA.displayName=fA;var mA="DropdownMenuRadioItem",hA=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(Q_,{...i,...s,ref:a})});hA.displayName=mA;var gA="DropdownMenuItemIndicator",vA=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(Z_,{...i,...s,ref:a})});vA.displayName=gA;var yA="DropdownMenuSeparator",FS=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(J_,{...i,...s,ref:a})});FS.displayName=yA;var xA="DropdownMenuArrow",bA=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(eA,{...i,...s,ref:a})});bA.displayName=xA;var SA="DropdownMenuSubTrigger",wA=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(tA,{...i,...s,ref:a})});wA.displayName=SA;var CA="DropdownMenuSubContent",EA=m.forwardRef((t,a)=>{const{__scopeDropdownMenu:o,...s}=t,i=un(o);return c.jsx(nA,{...i,...s,ref:a,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EA.displayName=CA;var NA=LS,jA=US,TA=BS,RA=IS,MA=qS,DA=$S,_A=FS,AA="Label",YS=m.forwardRef((t,a)=>c.jsx(ke.label,{...t,ref:a,onMouseDown:o=>{o.target.closest("button, input, select, textarea")||(t.onMouseDown?.(o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));YS.displayName=AA;var OA=YS;function kc(t,[a,o]){return Math.min(o,Math.max(a,t))}var kA=[" ","Enter","ArrowUp","ArrowDown"],zA=[" ","Enter"],fr="Select",[ru,su,LA]=Yc(fr),[Es]=ua(fr,[LA,Cs]),lu=Cs(),[PA,Bo]=Es(fr),[UA,BA]=Es(fr),VS=t=>{const{__scopeSelect:a,children:o,open:s,defaultOpen:i,onOpenChange:u,value:d,defaultValue:p,onValueChange:h,dir:g,name:x,autoComplete:y,disabled:C,required:T,form:E}=t,b=lu(a),[S,w]=m.useState(null),[j,R]=m.useState(null),[A,_]=m.useState(!1),k=Vc(g),[D,M]=Do({prop:s,defaultProp:i??!1,onChange:u,caller:fr}),[z,I]=Do({prop:d,defaultProp:p,onChange:h,caller:fr}),$=m.useRef(null),G=S?E||!!S.closest("form"):!0,[q,X]=m.useState(new Set),ae=Array.from(q).map(L=>L.props.value).join(";");return c.jsx(tm,{...b,children:c.jsxs(PA,{required:T,scope:a,trigger:S,onTriggerChange:w,valueNode:j,onValueNodeChange:R,valueNodeHasChildren:A,onValueNodeHasChildrenChange:_,contentId:wa(),value:z,onValueChange:I,open:D,onOpenChange:M,dir:k,triggerPointerDownPosRef:$,disabled:C,children:[c.jsx(ru.Provider,{scope:a,children:c.jsx(UA,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(L=>{X(H=>new Set(H).add(L))},[]),onNativeOptionRemove:m.useCallback(L=>{X(H=>{const P=new Set(H);return P.delete(L),P})},[]),children:o})}),G?c.jsxs(gw,{"aria-hidden":!0,required:T,tabIndex:-1,name:x,autoComplete:y,value:z,onChange:L=>I(L.target.value),disabled:C,form:E,children:[z===void 0?c.jsx("option",{value:""}):null,Array.from(q)]},ae):null]})})};VS.displayName=fr;var GS="SelectTrigger",XS=m.forwardRef((t,a)=>{const{__scopeSelect:o,disabled:s=!1,...i}=t,u=lu(o),d=Bo(GS,o),p=d.disabled||s,h=$e(a,d.onTriggerChange),g=su(o),x=m.useRef("touch"),[y,C,T]=yw(b=>{const S=g().filter(R=>!R.disabled),w=S.find(R=>R.value===d.value),j=xw(S,b,w);j!==void 0&&d.onValueChange(j.value)}),E=b=>{p||(d.onOpenChange(!0),T()),b&&(d.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return c.jsx(nm,{asChild:!0,...u,children:c.jsx(ke.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":vw(d.value)?"":void 0,...i,ref:h,onClick:xe(i.onClick,b=>{b.currentTarget.focus(),x.current!=="mouse"&&E(b)}),onPointerDown:xe(i.onPointerDown,b=>{x.current=b.pointerType;const S=b.target;S.hasPointerCapture(b.pointerId)&&S.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(E(b),b.preventDefault())}),onKeyDown:xe(i.onKeyDown,b=>{const S=y.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&C(b.key),!(S&&b.key===" ")&&kA.includes(b.key)&&(E(),b.preventDefault())})})})});XS.displayName=GS;var KS="SelectValue",WS=m.forwardRef((t,a)=>{const{__scopeSelect:o,className:s,style:i,children:u,placeholder:d="",...p}=t,h=Bo(KS,o),{onValueNodeHasChildrenChange:g}=h,x=u!==void 0,y=$e(a,h.onValueNodeChange);return on(()=>{g(x)},[g,x]),c.jsx(ke.span,{...p,ref:y,style:{pointerEvents:"none"},children:vw(h.value)?c.jsx(c.Fragment,{children:d}):u})});WS.displayName=KS;var HA="SelectIcon",QS=m.forwardRef((t,a)=>{const{__scopeSelect:o,children:s,...i}=t;return c.jsx(ke.span,{"aria-hidden":!0,...i,ref:a,children:s||""})});QS.displayName=HA;var IA="SelectPortal",ZS=t=>c.jsx(Hl,{asChild:!0,...t});ZS.displayName=IA;var pr="SelectContent",JS=m.forwardRef((t,a)=>{const o=Bo(pr,t.__scopeSelect),[s,i]=m.useState();if(on(()=>{i(new DocumentFragment)},[]),!o.open){const u=s;return u?Ul.createPortal(c.jsx(ew,{scope:t.__scopeSelect,children:c.jsx(ru.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),u):null}return c.jsx(tw,{...t,ref:a})});JS.displayName=pr;var ra=10,[ew,Ho]=Es(pr),qA="SelectContentImpl",$A=cr("SelectContent.RemoveScroll"),tw=m.forwardRef((t,a)=>{const{__scopeSelect:o,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:u,onPointerDownOutside:d,side:p,sideOffset:h,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:C,collisionPadding:T,sticky:E,hideWhenDetached:b,avoidCollisions:S,...w}=t,j=Bo(pr,o),[R,A]=m.useState(null),[_,k]=m.useState(null),D=$e(a,W=>A(W)),[M,z]=m.useState(null),[I,$]=m.useState(null),G=su(o),[q,X]=m.useState(!1),ae=m.useRef(!1);m.useEffect(()=>{if(R)return Ip(R)},[R]),Hp();const L=m.useCallback(W=>{const[ye,...fe]=G().map(be=>be.ref.current),[me]=fe.slice(-1),he=document.activeElement;for(const be of W)if(be===he||(be?.scrollIntoView({block:"nearest"}),be===ye&&_&&(_.scrollTop=0),be===me&&_&&(_.scrollTop=_.scrollHeight),be?.focus(),document.activeElement!==he))return},[G,_]),H=m.useCallback(()=>L([M,R]),[L,M,R]);m.useEffect(()=>{q&&H()},[q,H]);const{onOpenChange:P,triggerPointerDownPosRef:V}=j;m.useEffect(()=>{if(R){let W={x:0,y:0};const ye=me=>{W={x:Math.abs(Math.round(me.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(me.pageY)-(V.current?.y??0))}},fe=me=>{W.x<=10&&W.y<=10?me.preventDefault():R.contains(me.target)||P(!1),document.removeEventListener("pointermove",ye),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",fe,{capture:!0})}}},[R,P,V]),m.useEffect(()=>{const W=()=>P(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[P]);const[ce,U]=yw(W=>{const ye=G().filter(he=>!he.disabled),fe=ye.find(he=>he.ref.current===document.activeElement),me=xw(ye,W,fe);me&&setTimeout(()=>me.ref.current.focus())}),Y=m.useCallback((W,ye,fe)=>{const me=!ae.current&&!fe;(j.value!==void 0&&j.value===ye||me)&&(z(W),me&&(ae.current=!0))},[j.value]),Q=m.useCallback(()=>R?.focus(),[R]),oe=m.useCallback((W,ye,fe)=>{const me=!ae.current&&!fe;(j.value!==void 0&&j.value===ye||me)&&$(W)},[j.value]),de=s==="popper"?mp:nw,pe=de===mp?{side:p,sideOffset:h,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:C,collisionPadding:T,sticky:E,hideWhenDetached:b,avoidCollisions:S}:{};return c.jsx(ew,{scope:o,content:R,viewport:_,onViewportChange:k,itemRefCallback:Y,selectedItem:M,onItemLeave:Q,itemTextRefCallback:oe,focusSelectedItem:H,selectedItemText:I,position:s,isPositioned:q,searchRef:ce,children:c.jsx(Kc,{as:$A,allowPinchZoom:!0,children:c.jsx(Gc,{asChild:!0,trapped:j.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:xe(i,W=>{j.trigger?.focus({preventScroll:!0}),W.preventDefault()}),children:c.jsx(Bl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:c.jsx(de,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:W=>W.preventDefault(),...w,...pe,onPlaced:()=>X(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:xe(w.onKeyDown,W=>{const ye=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!ye&&W.key.length===1&&U(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let me=G().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(W.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const he=W.target,be=me.indexOf(he);me=me.slice(be+1)}setTimeout(()=>L(me)),W.preventDefault()}})})})})})})});tw.displayName=qA;var FA="SelectItemAlignedPosition",nw=m.forwardRef((t,a)=>{const{__scopeSelect:o,onPlaced:s,...i}=t,u=Bo(pr,o),d=Ho(pr,o),[p,h]=m.useState(null),[g,x]=m.useState(null),y=$e(a,D=>x(D)),C=su(o),T=m.useRef(!1),E=m.useRef(!0),{viewport:b,selectedItem:S,selectedItemText:w,focusSelectedItem:j}=d,R=m.useCallback(()=>{if(u.trigger&&u.valueNode&&p&&g&&b&&S&&w){const D=u.trigger.getBoundingClientRect(),M=g.getBoundingClientRect(),z=u.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(u.dir!=="rtl"){const he=I.left-M.left,be=z.left-he,Ae=D.left-be,Je=D.width+Ae,ft=Math.max(Je,M.width),rt=window.innerWidth-ra,st=kc(be,[ra,Math.max(ra,rt-ft)]);p.style.minWidth=Je+"px",p.style.left=st+"px"}else{const he=M.right-I.right,be=window.innerWidth-z.right-he,Ae=window.innerWidth-D.right-be,Je=D.width+Ae,ft=Math.max(Je,M.width),rt=window.innerWidth-ra,st=kc(be,[ra,Math.max(ra,rt-ft)]);p.style.minWidth=Je+"px",p.style.right=st+"px"}const $=C(),G=window.innerHeight-ra*2,q=b.scrollHeight,X=window.getComputedStyle(g),ae=parseInt(X.borderTopWidth,10),L=parseInt(X.paddingTop,10),H=parseInt(X.borderBottomWidth,10),P=parseInt(X.paddingBottom,10),V=ae+L+q+P+H,ce=Math.min(S.offsetHeight*5,V),U=window.getComputedStyle(b),Y=parseInt(U.paddingTop,10),Q=parseInt(U.paddingBottom,10),oe=D.top+D.height/2-ra,de=G-oe,pe=S.offsetHeight/2,W=S.offsetTop+pe,ye=ae+L+W,fe=V-ye;if(ye<=oe){const he=$.length>0&&S===$[$.length-1].ref.current;p.style.bottom="0px";const be=g.clientHeight-b.offsetTop-b.offsetHeight,Ae=Math.max(de,pe+(he?Q:0)+be+H),Je=ye+Ae;p.style.height=Je+"px"}else{const he=$.length>0&&S===$[0].ref.current;p.style.top="0px";const Ae=Math.max(oe,ae+b.offsetTop+(he?Y:0)+pe)+fe;p.style.height=Ae+"px",b.scrollTop=ye-oe+b.offsetTop}p.style.margin=`${ra}px 0`,p.style.minHeight=ce+"px",p.style.maxHeight=G+"px",s?.(),requestAnimationFrame(()=>T.current=!0)}},[C,u.trigger,u.valueNode,p,g,b,S,w,u.dir,s]);on(()=>R(),[R]);const[A,_]=m.useState();on(()=>{g&&_(window.getComputedStyle(g).zIndex)},[g]);const k=m.useCallback(D=>{D&&E.current===!0&&(R(),j?.(),E.current=!1)},[R,j]);return c.jsx(VA,{scope:o,contentWrapper:p,shouldExpandOnScrollRef:T,onScrollButtonChange:k,children:c.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:c.jsx(ke.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});nw.displayName=FA;var YA="SelectPopperPosition",mp=m.forwardRef((t,a)=>{const{__scopeSelect:o,align:s="start",collisionPadding:i=ra,...u}=t,d=lu(o);return c.jsx(am,{...d,...u,ref:a,align:s,collisionPadding:i,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mp.displayName=YA;var[VA,fm]=Es(pr,{}),hp="SelectViewport",aw=m.forwardRef((t,a)=>{const{__scopeSelect:o,nonce:s,...i}=t,u=Ho(hp,o),d=fm(hp,o),p=$e(a,u.onViewportChange),h=m.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(ru.Slot,{scope:o,children:c.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:p,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:xe(i.onScroll,g=>{const x=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:C}=d;if(C?.current&&y){const T=Math.abs(h.current-x.scrollTop);if(T>0){const E=window.innerHeight-ra*2,b=parseFloat(y.style.minHeight),S=parseFloat(y.style.height),w=Math.max(b,S);if(w<E){const j=w+T,R=Math.min(E,j),A=j-R;y.style.height=R+"px",y.style.bottom==="0px"&&(x.scrollTop=A>0?A:0,y.style.justifyContent="flex-end")}}}h.current=x.scrollTop})})})]})});aw.displayName=hp;var ow="SelectGroup",[GA,XA]=Es(ow),rw=m.forwardRef((t,a)=>{const{__scopeSelect:o,...s}=t,i=wa();return c.jsx(GA,{scope:o,id:i,children:c.jsx(ke.div,{role:"group","aria-labelledby":i,...s,ref:a})})});rw.displayName=ow;var sw="SelectLabel",lw=m.forwardRef((t,a)=>{const{__scopeSelect:o,...s}=t,i=XA(sw,o);return c.jsx(ke.div,{id:i.id,...s,ref:a})});lw.displayName=sw;var zc="SelectItem",[KA,iw]=Es(zc),cw=m.forwardRef((t,a)=>{const{__scopeSelect:o,value:s,disabled:i=!1,textValue:u,...d}=t,p=Bo(zc,o),h=Ho(zc,o),g=p.value===s,[x,y]=m.useState(u??""),[C,T]=m.useState(!1),E=$e(a,j=>h.itemRefCallback?.(j,s,i)),b=wa(),S=m.useRef("touch"),w=()=>{i||(p.onValueChange(s),p.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(KA,{scope:o,value:s,disabled:i,textId:b,isSelected:g,onItemTextChange:m.useCallback(j=>{y(R=>R||(j?.textContent??"").trim())},[]),children:c.jsx(ru.ItemSlot,{scope:o,value:s,disabled:i,textValue:x,children:c.jsx(ke.div,{role:"option","aria-labelledby":b,"data-highlighted":C?"":void 0,"aria-selected":g&&C,"data-state":g?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:E,onFocus:xe(d.onFocus,()=>T(!0)),onBlur:xe(d.onBlur,()=>T(!1)),onClick:xe(d.onClick,()=>{S.current!=="mouse"&&w()}),onPointerUp:xe(d.onPointerUp,()=>{S.current==="mouse"&&w()}),onPointerDown:xe(d.onPointerDown,j=>{S.current=j.pointerType}),onPointerMove:xe(d.onPointerMove,j=>{S.current=j.pointerType,i?h.onItemLeave?.():S.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(d.onPointerLeave,j=>{j.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:xe(d.onKeyDown,j=>{h.searchRef?.current!==""&&j.key===" "||(zA.includes(j.key)&&w(),j.key===" "&&j.preventDefault())})})})})});cw.displayName=zc;var Ml="SelectItemText",uw=m.forwardRef((t,a)=>{const{__scopeSelect:o,className:s,style:i,...u}=t,d=Bo(Ml,o),p=Ho(Ml,o),h=iw(Ml,o),g=BA(Ml,o),[x,y]=m.useState(null),C=$e(a,w=>y(w),h.onItemTextChange,w=>p.itemTextRefCallback?.(w,h.value,h.disabled)),T=x?.textContent,E=m.useMemo(()=>c.jsx("option",{value:h.value,disabled:h.disabled,children:T},h.value),[h.disabled,h.value,T]),{onNativeOptionAdd:b,onNativeOptionRemove:S}=g;return on(()=>(b(E),()=>S(E)),[b,S,E]),c.jsxs(c.Fragment,{children:[c.jsx(ke.span,{id:h.textId,...u,ref:C}),h.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Ul.createPortal(u.children,d.valueNode):null]})});uw.displayName=Ml;var dw="SelectItemIndicator",fw=m.forwardRef((t,a)=>{const{__scopeSelect:o,...s}=t;return iw(dw,o).isSelected?c.jsx(ke.span,{"aria-hidden":!0,...s,ref:a}):null});fw.displayName=dw;var gp="SelectScrollUpButton",pw=m.forwardRef((t,a)=>{const o=Ho(gp,t.__scopeSelect),s=fm(gp,t.__scopeSelect),[i,u]=m.useState(!1),d=$e(a,s.onScrollButtonChange);return on(()=>{if(o.viewport&&o.isPositioned){let p=function(){const g=h.scrollTop>0;u(g)};const h=o.viewport;return p(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,o.isPositioned]),i?c.jsx(hw,{...t,ref:d,onAutoScroll:()=>{const{viewport:p,selectedItem:h}=o;p&&h&&(p.scrollTop=p.scrollTop-h.offsetHeight)}}):null});pw.displayName=gp;var vp="SelectScrollDownButton",mw=m.forwardRef((t,a)=>{const o=Ho(vp,t.__scopeSelect),s=fm(vp,t.__scopeSelect),[i,u]=m.useState(!1),d=$e(a,s.onScrollButtonChange);return on(()=>{if(o.viewport&&o.isPositioned){let p=function(){const g=h.scrollHeight-h.clientHeight,x=Math.ceil(h.scrollTop)<g;u(x)};const h=o.viewport;return p(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,o.isPositioned]),i?c.jsx(hw,{...t,ref:d,onAutoScroll:()=>{const{viewport:p,selectedItem:h}=o;p&&h&&(p.scrollTop=p.scrollTop+h.offsetHeight)}}):null});mw.displayName=vp;var hw=m.forwardRef((t,a)=>{const{__scopeSelect:o,onAutoScroll:s,...i}=t,u=Ho("SelectScrollButton",o),d=m.useRef(null),p=su(o),h=m.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return m.useEffect(()=>()=>h(),[h]),on(()=>{p().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[p]),c.jsx(ke.div,{"aria-hidden":!0,...i,ref:a,style:{flexShrink:0,...i.style},onPointerDown:xe(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(s,50))}),onPointerMove:xe(i.onPointerMove,()=>{u.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(s,50))}),onPointerLeave:xe(i.onPointerLeave,()=>{h()})})}),WA="SelectSeparator",QA=m.forwardRef((t,a)=>{const{__scopeSelect:o,...s}=t;return c.jsx(ke.div,{"aria-hidden":!0,...s,ref:a})});QA.displayName=WA;var yp="SelectArrow",ZA=m.forwardRef((t,a)=>{const{__scopeSelect:o,...s}=t,i=lu(o),u=Bo(yp,o),d=Ho(yp,o);return u.open&&d.position==="popper"?c.jsx(om,{...i,...s,ref:a}):null});ZA.displayName=yp;var JA="SelectBubbleInput",gw=m.forwardRef(({__scopeSelect:t,value:a,...o},s)=>{const i=m.useRef(null),u=$e(s,i),d=Yp(a);return m.useEffect(()=>{const p=i.current;if(!p)return;const h=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==a&&x){const y=new Event("change",{bubbles:!0});x.call(p,a),p.dispatchEvent(y)}},[d,a]),c.jsx(ke.select,{...o,style:{...B0,...o.style},ref:u,defaultValue:a})});gw.displayName=JA;function vw(t){return t===""||t===void 0}function yw(t){const a=Ea(t),o=m.useRef(""),s=m.useRef(0),i=m.useCallback(d=>{const p=o.current+d;a(p),(function h(g){o.current=g,window.clearTimeout(s.current),g!==""&&(s.current=window.setTimeout(()=>h(""),1e3))})(p)},[a]),u=m.useCallback(()=>{o.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[o,i,u]}function xw(t,a,o){const i=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,u=o?t.indexOf(o):-1;let d=eO(t,Math.max(u,0));i.length===1&&(d=d.filter(g=>g!==o));const h=d.find(g=>g.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==o?h:void 0}function eO(t,a){return t.map((o,s)=>t[(a+s)%t.length])}var tO=VS,nO=XS,aO=WS,oO=QS,rO=ZS,sO=JS,lO=aw,iO=rw,cO=lw,uO=cw,dO=uw,fO=fw,pO=pw,mO=mw,hO="Separator",vx="horizontal",gO=["horizontal","vertical"],bw=m.forwardRef((t,a)=>{const{decorative:o,orientation:s=vx,...i}=t,u=vO(s)?s:vx,p=o?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return c.jsx(ke.div,{"data-orientation":u,...p,...i,ref:a})});bw.displayName=hO;function vO(t){return gO.includes(t)}var yO=bw,Sw=["PageUp","PageDown"],ww=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Cw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ns="Slider",[xp,xO,bO]=Yc(Ns),[Ew]=ua(Ns,[bO]),[SO,iu]=Ew(Ns),Nw=m.forwardRef((t,a)=>{const{name:o,min:s=0,max:i=100,step:u=1,orientation:d="horizontal",disabled:p=!1,minStepsBetweenThumbs:h=0,defaultValue:g=[s],value:x,onValueChange:y=()=>{},onValueCommit:C=()=>{},inverted:T=!1,form:E,...b}=t,S=m.useRef(new Set),w=m.useRef(0),R=d==="horizontal"?wO:CO,[A=[],_]=Do({prop:x,defaultProp:g,onChange:$=>{[...S.current][w.current]?.focus(),y($)}}),k=m.useRef(A);function D($){const G=RO(A,$);I($,G)}function M($){I($,w.current)}function z(){const $=k.current[w.current];A[w.current]!==$&&C(A)}function I($,G,{commit:q}={commit:!1}){const X=AO(u),ae=OO(Math.round(($-s)/u)*u+s,X),L=kc(ae,[s,i]);_((H=[])=>{const P=jO(H,L,G);if(_O(P,h*u)){w.current=P.indexOf(L);const V=String(P)!==String(H);return V&&q&&C(P),V?P:H}else return H})}return c.jsx(SO,{scope:t.__scopeSlider,name:o,disabled:p,min:s,max:i,valueIndexToChangeRef:w,thumbs:S.current,values:A,orientation:d,form:E,children:c.jsx(xp.Provider,{scope:t.__scopeSlider,children:c.jsx(xp.Slot,{scope:t.__scopeSlider,children:c.jsx(R,{"aria-disabled":p,"data-disabled":p?"":void 0,...b,ref:a,onPointerDown:xe(b.onPointerDown,()=>{p||(k.current=A)}),min:s,max:i,inverted:T,onSlideStart:p?void 0:D,onSlideMove:p?void 0:M,onSlideEnd:p?void 0:z,onHomeKeyDown:()=>!p&&I(s,0,{commit:!0}),onEndKeyDown:()=>!p&&I(i,A.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:G})=>{if(!p){const ae=Sw.includes($.key)||$.shiftKey&&ww.includes($.key)?10:1,L=w.current,H=A[L],P=u*ae*G;I(H+P,L,{commit:!0})}}})})})})});Nw.displayName=Ns;var[jw,Tw]=Ew(Ns,{startEdge:"left",endEdge:"right",size:"width",direction:1}),wO=m.forwardRef((t,a)=>{const{min:o,max:s,dir:i,inverted:u,onSlideStart:d,onSlideMove:p,onSlideEnd:h,onStepKeyDown:g,...x}=t,[y,C]=m.useState(null),T=$e(a,R=>C(R)),E=m.useRef(void 0),b=Vc(i),S=b==="ltr",w=S&&!u||!S&&u;function j(R){const A=E.current||y.getBoundingClientRect(),_=[0,A.width],D=pm(_,w?[o,s]:[s,o]);return E.current=A,D(R-A.left)}return c.jsx(jw,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:c.jsx(Rw,{dir:b,"data-orientation":"horizontal",...x,ref:T,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:R=>{const A=j(R.clientX);d?.(A)},onSlideMove:R=>{const A=j(R.clientX);p?.(A)},onSlideEnd:()=>{E.current=void 0,h?.()},onStepKeyDown:R=>{const _=Cw[w?"from-left":"from-right"].includes(R.key);g?.({event:R,direction:_?-1:1})}})})}),CO=m.forwardRef((t,a)=>{const{min:o,max:s,inverted:i,onSlideStart:u,onSlideMove:d,onSlideEnd:p,onStepKeyDown:h,...g}=t,x=m.useRef(null),y=$e(a,x),C=m.useRef(void 0),T=!i;function E(b){const S=C.current||x.current.getBoundingClientRect(),w=[0,S.height],R=pm(w,T?[s,o]:[o,s]);return C.current=S,R(b-S.top)}return c.jsx(jw,{scope:t.__scopeSlider,startEdge:T?"bottom":"top",endEdge:T?"top":"bottom",size:"height",direction:T?1:-1,children:c.jsx(Rw,{"data-orientation":"vertical",...g,ref:y,style:{...g.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const S=E(b.clientY);u?.(S)},onSlideMove:b=>{const S=E(b.clientY);d?.(S)},onSlideEnd:()=>{C.current=void 0,p?.()},onStepKeyDown:b=>{const w=Cw[T?"from-bottom":"from-top"].includes(b.key);h?.({event:b,direction:w?-1:1})}})})}),Rw=m.forwardRef((t,a)=>{const{__scopeSlider:o,onSlideStart:s,onSlideMove:i,onSlideEnd:u,onHomeKeyDown:d,onEndKeyDown:p,onStepKeyDown:h,...g}=t,x=iu(Ns,o);return c.jsx(ke.span,{...g,ref:a,onKeyDown:xe(t.onKeyDown,y=>{y.key==="Home"?(d(y),y.preventDefault()):y.key==="End"?(p(y),y.preventDefault()):Sw.concat(ww).includes(y.key)&&(h(y),y.preventDefault())}),onPointerDown:xe(t.onPointerDown,y=>{const C=y.target;C.setPointerCapture(y.pointerId),y.preventDefault(),x.thumbs.has(C)?C.focus():s(y)}),onPointerMove:xe(t.onPointerMove,y=>{y.target.hasPointerCapture(y.pointerId)&&i(y)}),onPointerUp:xe(t.onPointerUp,y=>{const C=y.target;C.hasPointerCapture(y.pointerId)&&(C.releasePointerCapture(y.pointerId),u(y))})})}),Mw="SliderTrack",Dw=m.forwardRef((t,a)=>{const{__scopeSlider:o,...s}=t,i=iu(Mw,o);return c.jsx(ke.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:a})});Dw.displayName=Mw;var bp="SliderRange",_w=m.forwardRef((t,a)=>{const{__scopeSlider:o,...s}=t,i=iu(bp,o),u=Tw(bp,o),d=m.useRef(null),p=$e(a,d),h=i.values.length,g=i.values.map(C=>kw(C,i.min,i.max)),x=h>1?Math.min(...g):0,y=100-Math.max(...g);return c.jsx(ke.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...s,ref:p,style:{...t.style,[u.startEdge]:x+"%",[u.endEdge]:y+"%"}})});_w.displayName=bp;var Sp="SliderThumb",Aw=m.forwardRef((t,a)=>{const o=xO(t.__scopeSlider),[s,i]=m.useState(null),u=$e(a,p=>i(p)),d=m.useMemo(()=>s?o().findIndex(p=>p.ref.current===s):-1,[o,s]);return c.jsx(EO,{...t,ref:u,index:d})}),EO=m.forwardRef((t,a)=>{const{__scopeSlider:o,index:s,name:i,...u}=t,d=iu(Sp,o),p=Tw(Sp,o),[h,g]=m.useState(null),x=$e(a,j=>g(j)),y=h?d.form||!!h.closest("form"):!0,C=Vp(h),T=d.values[s],E=T===void 0?0:kw(T,d.min,d.max),b=TO(s,d.values.length),S=C?.[p.size],w=S?MO(S,E,p.direction):0;return m.useEffect(()=>{if(h)return d.thumbs.add(h),()=>{d.thumbs.delete(h)}},[h,d.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[p.startEdge]:`calc(${E}% + ${w}px)`},children:[c.jsx(xp.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(ke.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":d.min,"aria-valuenow":T,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...u,ref:x,style:T===void 0?{display:"none"}:t.style,onFocus:xe(t.onFocus,()=>{d.valueIndexToChangeRef.current=s})})}),y&&c.jsx(Ow,{name:i??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:T},s)]})});Aw.displayName=Sp;var NO="RadioBubbleInput",Ow=m.forwardRef(({__scopeSlider:t,value:a,...o},s)=>{const i=m.useRef(null),u=$e(i,s),d=Yp(a);return m.useEffect(()=>{const p=i.current;if(!p)return;const h=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(h,"value").set;if(d!==a&&x){const y=new Event("input",{bubbles:!0});x.call(p,a),p.dispatchEvent(y)}},[d,a]),c.jsx(ke.input,{style:{display:"none"},...o,ref:u,defaultValue:a})});Ow.displayName=NO;function jO(t=[],a,o){const s=[...t];return s[o]=a,s.sort((i,u)=>i-u)}function kw(t,a,o){const u=100/(o-a)*(t-a);return kc(u,[0,100])}function TO(t,a){return a>2?`Value ${t+1} of ${a}`:a===2?["Minimum","Maximum"][t]:void 0}function RO(t,a){if(t.length===1)return 0;const o=t.map(i=>Math.abs(i-a)),s=Math.min(...o);return o.indexOf(s)}function MO(t,a,o){const s=t/2,u=pm([0,50],[0,s]);return(s-u(a)*o)*o}function DO(t){return t.slice(0,-1).map((a,o)=>t[o+1]-a)}function _O(t,a){if(a>0){const o=DO(t);return Math.min(...o)>=a}return!0}function pm(t,a){return o=>{if(t[0]===t[1]||a[0]===a[1])return a[0];const s=(a[1]-a[0])/(t[1]-t[0]);return a[0]+s*(o-t[0])}}function AO(t){return(String(t).split(".")[1]||"").length}function OO(t,a){const o=Math.pow(10,a);return Math.round(t*o)/o}var kO=Nw,zO=Dw,LO=_w,PO=Aw,cu="Switch",[UO]=ua(cu),[BO,HO]=UO(cu),zw=m.forwardRef((t,a)=>{const{__scopeSwitch:o,name:s,checked:i,defaultChecked:u,required:d,disabled:p,value:h="on",onCheckedChange:g,form:x,...y}=t,[C,T]=m.useState(null),E=$e(a,R=>T(R)),b=m.useRef(!1),S=C?x||!!C.closest("form"):!0,[w,j]=Do({prop:i,defaultProp:u??!1,onChange:g,caller:cu});return c.jsxs(BO,{scope:o,checked:w,disabled:p,children:[c.jsx(ke.button,{type:"button",role:"switch","aria-checked":w,"aria-required":d,"data-state":Bw(w),"data-disabled":p?"":void 0,disabled:p,value:h,...y,ref:E,onClick:xe(t.onClick,R=>{j(A=>!A),S&&(b.current=R.isPropagationStopped(),b.current||R.stopPropagation())})}),S&&c.jsx(Uw,{control:C,bubbles:!b.current,name:s,value:h,checked:w,required:d,disabled:p,form:x,style:{transform:"translateX(-100%)"}})]})});zw.displayName=cu;var Lw="SwitchThumb",Pw=m.forwardRef((t,a)=>{const{__scopeSwitch:o,...s}=t,i=HO(Lw,o);return c.jsx(ke.span,{"data-state":Bw(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:a})});Pw.displayName=Lw;var IO="SwitchBubbleInput",Uw=m.forwardRef(({__scopeSwitch:t,control:a,checked:o,bubbles:s=!0,...i},u)=>{const d=m.useRef(null),p=$e(d,u),h=Yp(o),g=Vp(a);return m.useEffect(()=>{const x=d.current;if(!x)return;const y=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==o&&T){const E=new Event("click",{bubbles:s});T.call(x,o),x.dispatchEvent(E)}},[h,o,s]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...i,tabIndex:-1,ref:p,style:{...i.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Uw.displayName=IO;function Bw(t){return t?"checked":"unchecked"}var qO=zw,$O=Pw,[uu]=ua("Tooltip",[Cs]),du=Cs(),Hw="TooltipProvider",FO=700,wp="tooltip.open",[YO,mm]=uu(Hw),Iw=t=>{const{__scopeTooltip:a,delayDuration:o=FO,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:u}=t,d=m.useRef(!0),p=m.useRef(!1),h=m.useRef(0);return m.useEffect(()=>{const g=h.current;return()=>window.clearTimeout(g)},[]),c.jsx(YO,{scope:a,isOpenDelayedRef:d,delayDuration:o,onOpen:m.useCallback(()=>{window.clearTimeout(h.current),d.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>d.current=!0,s)},[s]),isPointerInTransitRef:p,onPointerInTransitChange:m.useCallback(g=>{p.current=g},[]),disableHoverableContent:i,children:u})};Iw.displayName=Hw;var kl="Tooltip",[VO,Yl]=uu(kl),qw=t=>{const{__scopeTooltip:a,children:o,open:s,defaultOpen:i,onOpenChange:u,disableHoverableContent:d,delayDuration:p}=t,h=mm(kl,t.__scopeTooltip),g=du(a),[x,y]=m.useState(null),C=wa(),T=m.useRef(0),E=d??h.disableHoverableContent,b=p??h.delayDuration,S=m.useRef(!1),[w,j]=Do({prop:s,defaultProp:i??!1,onChange:D=>{D?(h.onOpen(),document.dispatchEvent(new CustomEvent(wp))):h.onClose(),u?.(D)},caller:kl}),R=m.useMemo(()=>w?S.current?"delayed-open":"instant-open":"closed",[w]),A=m.useCallback(()=>{window.clearTimeout(T.current),T.current=0,S.current=!1,j(!0)},[j]),_=m.useCallback(()=>{window.clearTimeout(T.current),T.current=0,j(!1)},[j]),k=m.useCallback(()=>{window.clearTimeout(T.current),T.current=window.setTimeout(()=>{S.current=!0,j(!0),T.current=0},b)},[b,j]);return m.useEffect(()=>()=>{T.current&&(window.clearTimeout(T.current),T.current=0)},[]),c.jsx(tm,{...g,children:c.jsx(VO,{scope:a,contentId:C,open:w,stateAttribute:R,trigger:x,onTriggerChange:y,onTriggerEnter:m.useCallback(()=>{h.isOpenDelayedRef.current?k():A()},[h.isOpenDelayedRef,k,A]),onTriggerLeave:m.useCallback(()=>{E?_():(window.clearTimeout(T.current),T.current=0)},[_,E]),onOpen:A,onClose:_,disableHoverableContent:E,children:o})})};qw.displayName=kl;var Cp="TooltipTrigger",$w=m.forwardRef((t,a)=>{const{__scopeTooltip:o,...s}=t,i=Yl(Cp,o),u=mm(Cp,o),d=du(o),p=m.useRef(null),h=$e(a,p,i.onTriggerChange),g=m.useRef(!1),x=m.useRef(!1),y=m.useCallback(()=>g.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),c.jsx(nm,{asChild:!0,...d,children:c.jsx(ke.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:h,onPointerMove:xe(t.onPointerMove,C=>{C.pointerType!=="touch"&&!x.current&&!u.isPointerInTransitRef.current&&(i.onTriggerEnter(),x.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{i.onTriggerLeave(),x.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{i.open&&i.onClose(),g.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:xe(t.onFocus,()=>{g.current||i.onOpen()}),onBlur:xe(t.onBlur,i.onClose),onClick:xe(t.onClick,i.onClose)})})});$w.displayName=Cp;var hm="TooltipPortal",[GO,XO]=uu(hm,{forceMount:void 0}),Fw=t=>{const{__scopeTooltip:a,forceMount:o,children:s,container:i}=t,u=Yl(hm,a);return c.jsx(GO,{scope:a,forceMount:o,children:c.jsx(ja,{present:o||u.open,children:c.jsx(Hl,{asChild:!0,container:i,children:s})})})};Fw.displayName=hm;var fs="TooltipContent",Yw=m.forwardRef((t,a)=>{const o=XO(fs,t.__scopeTooltip),{forceMount:s=o.forceMount,side:i="top",...u}=t,d=Yl(fs,t.__scopeTooltip);return c.jsx(ja,{present:s||d.open,children:d.disableHoverableContent?c.jsx(Vw,{side:i,...u,ref:a}):c.jsx(KO,{side:i,...u,ref:a})})}),KO=m.forwardRef((t,a)=>{const o=Yl(fs,t.__scopeTooltip),s=mm(fs,t.__scopeTooltip),i=m.useRef(null),u=$e(a,i),[d,p]=m.useState(null),{trigger:h,onClose:g}=o,x=i.current,{onPointerInTransitChange:y}=s,C=m.useCallback(()=>{p(null),y(!1)},[y]),T=m.useCallback((E,b)=>{const S=E.currentTarget,w={x:E.clientX,y:E.clientY},j=JO(w,S.getBoundingClientRect()),R=ek(w,j),A=tk(b.getBoundingClientRect()),_=ak([...R,...A]);p(_),y(!0)},[y]);return m.useEffect(()=>()=>C(),[C]),m.useEffect(()=>{if(h&&x){const E=S=>T(S,x),b=S=>T(S,h);return h.addEventListener("pointerleave",E),x.addEventListener("pointerleave",b),()=>{h.removeEventListener("pointerleave",E),x.removeEventListener("pointerleave",b)}}},[h,x,T,C]),m.useEffect(()=>{if(d){const E=b=>{const S=b.target,w={x:b.clientX,y:b.clientY},j=h?.contains(S)||x?.contains(S),R=!nk(w,d);j?C():R&&(C(),g())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[h,x,d,g,C]),c.jsx(Vw,{...t,ref:u})}),[WO,QO]=uu(kl,{isInside:!1}),ZO=P0("TooltipContent"),Vw=m.forwardRef((t,a)=>{const{__scopeTooltip:o,children:s,"aria-label":i,onEscapeKeyDown:u,onPointerDownOutside:d,...p}=t,h=Yl(fs,o),g=du(o),{onClose:x}=h;return m.useEffect(()=>(document.addEventListener(wp,x),()=>document.removeEventListener(wp,x)),[x]),m.useEffect(()=>{if(h.trigger){const y=C=>{C.target?.contains(h.trigger)&&x()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,x]),c.jsx(Bl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:y=>y.preventDefault(),onDismiss:x,children:c.jsxs(am,{"data-state":h.stateAttribute,...g,...p,ref:a,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(ZO,{children:s}),c.jsx(WO,{scope:o,isInside:!0,children:c.jsx(tR,{id:h.contentId,role:"tooltip",children:i||s})})]})})});Yw.displayName=fs;var Gw="TooltipArrow",Xw=m.forwardRef((t,a)=>{const{__scopeTooltip:o,...s}=t,i=du(o);return QO(Gw,o).isInside?null:c.jsx(om,{...i,...s,ref:a})});Xw.displayName=Gw;function JO(t,a){const o=Math.abs(a.top-t.y),s=Math.abs(a.bottom-t.y),i=Math.abs(a.right-t.x),u=Math.abs(a.left-t.x);switch(Math.min(o,s,i,u)){case u:return"left";case i:return"right";case o:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function ek(t,a,o=5){const s=[];switch(a){case"top":s.push({x:t.x-o,y:t.y+o},{x:t.x+o,y:t.y+o});break;case"bottom":s.push({x:t.x-o,y:t.y-o},{x:t.x+o,y:t.y-o});break;case"left":s.push({x:t.x+o,y:t.y-o},{x:t.x+o,y:t.y+o});break;case"right":s.push({x:t.x-o,y:t.y-o},{x:t.x-o,y:t.y+o});break}return s}function tk(t){const{top:a,right:o,bottom:s,left:i}=t;return[{x:i,y:a},{x:o,y:a},{x:o,y:s},{x:i,y:s}]}function nk(t,a){const{x:o,y:s}=t;let i=!1;for(let u=0,d=a.length-1;u<a.length;d=u++){const p=a[u],h=a[d],g=p.x,x=p.y,y=h.x,C=h.y;x>s!=C>s&&o<(y-g)*(s-x)/(C-x)+g&&(i=!i)}return i}function ak(t){const a=t.slice();return a.sort((o,s)=>o.x<s.x?-1:o.x>s.x?1:o.y<s.y?-1:o.y>s.y?1:0),ok(a)}function ok(t){if(t.length<=1)return t.slice();const a=[];for(let s=0;s<t.length;s++){const i=t[s];for(;a.length>=2;){const u=a[a.length-1],d=a[a.length-2];if((u.x-d.x)*(i.y-d.y)>=(u.y-d.y)*(i.x-d.x))a.pop();else break}a.push(i)}a.pop();const o=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;o.length>=2;){const u=o[o.length-1],d=o[o.length-2];if((u.x-d.x)*(i.y-d.y)>=(u.y-d.y)*(i.x-d.x))o.pop();else break}o.push(i)}return o.pop(),a.length===1&&o.length===1&&a[0].x===o[0].x&&a[0].y===o[0].y?a:a.concat(o)}var rk=Iw,sk=qw,lk=$w,ik=Fw,ck=Yw,uk=Xw;function Kw(t){var a,o,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(o=Kw(t[a]))&&(s&&(s+=" "),s+=o)}else for(o in t)t[o]&&(s&&(s+=" "),s+=o);return s}function fu(){for(var t,a,o=0,s="",i=arguments.length;o<i;o++)(t=arguments[o])&&(a=Kw(t))&&(s&&(s+=" "),s+=a);return s}const dk=(t,a)=>{const o=new Array(t.length+a.length);for(let s=0;s<t.length;s++)o[s]=t[s];for(let s=0;s<a.length;s++)o[t.length+s]=a[s];return o},fk=(t,a)=>({classGroupId:t,validator:a}),Ww=(t=new Map,a=null,o)=>({nextPart:t,validators:a,classGroupId:o}),Lc="-",yx=[],pk="arbitrary..",mk=t=>{const a=gk(t),{conflictingClassGroups:o,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return hk(d);const p=d.split(Lc),h=p[0]===""&&p.length>1?1:0;return Qw(p,h,a)},getConflictingClassGroupIds:(d,p)=>{if(p){const h=s[d],g=o[d];return h?g?dk(g,h):h:g||yx}return o[d]||yx}}},Qw=(t,a,o)=>{if(t.length-a===0)return o.classGroupId;const i=t[a],u=o.nextPart.get(i);if(u){const g=Qw(t,a+1,u);if(g)return g}const d=o.validators;if(d===null)return;const p=a===0?t.join(Lc):t.slice(a).join(Lc),h=d.length;for(let g=0;g<h;g++){const x=d[g];if(x.validator(p))return x.classGroupId}},hk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const a=t.slice(1,-1),o=a.indexOf(":"),s=a.slice(0,o);return s?pk+s:void 0})(),gk=t=>{const{theme:a,classGroups:o}=t;return vk(o,a)},vk=(t,a)=>{const o=Ww();for(const s in t){const i=t[s];gm(i,o,s,a)}return o},gm=(t,a,o,s)=>{const i=t.length;for(let u=0;u<i;u++){const d=t[u];yk(d,a,o,s)}},yk=(t,a,o,s)=>{if(typeof t=="string"){xk(t,a,o);return}if(typeof t=="function"){bk(t,a,o,s);return}Sk(t,a,o,s)},xk=(t,a,o)=>{const s=t===""?a:Zw(a,t);s.classGroupId=o},bk=(t,a,o,s)=>{if(wk(t)){gm(t(s),a,o,s);return}a.validators===null&&(a.validators=[]),a.validators.push(fk(o,t))},Sk=(t,a,o,s)=>{const i=Object.entries(t),u=i.length;for(let d=0;d<u;d++){const[p,h]=i[d];gm(h,Zw(a,p),o,s)}},Zw=(t,a)=>{let o=t;const s=a.split(Lc),i=s.length;for(let u=0;u<i;u++){const d=s[u];let p=o.nextPart.get(d);p||(p=Ww(),o.nextPart.set(d,p)),o=p}return o},wk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Ck=t=>{if(t<1)return{get:()=>{},set:()=>{}};let a=0,o=Object.create(null),s=Object.create(null);const i=(u,d)=>{o[u]=d,a++,a>t&&(a=0,s=o,o=Object.create(null))};return{get(u){let d=o[u];if(d!==void 0)return d;if((d=s[u])!==void 0)return i(u,d),d},set(u,d){u in o?o[u]=d:i(u,d)}}},Ep="!",xx=":",Ek=[],bx=(t,a,o,s,i)=>({modifiers:t,hasImportantModifier:a,baseClassName:o,maybePostfixModifierPosition:s,isExternal:i}),Nk=t=>{const{prefix:a,experimentalParseClassName:o}=t;let s=i=>{const u=[];let d=0,p=0,h=0,g;const x=i.length;for(let b=0;b<x;b++){const S=i[b];if(d===0&&p===0){if(S===xx){u.push(i.slice(h,b)),h=b+1;continue}if(S==="/"){g=b;continue}}S==="["?d++:S==="]"?d--:S==="("?p++:S===")"&&p--}const y=u.length===0?i:i.slice(h);let C=y,T=!1;y.endsWith(Ep)?(C=y.slice(0,-1),T=!0):y.startsWith(Ep)&&(C=y.slice(1),T=!0);const E=g&&g>h?g-h:void 0;return bx(u,T,C,E)};if(a){const i=a+xx,u=s;s=d=>d.startsWith(i)?u(d.slice(i.length)):bx(Ek,!1,d,void 0,!0)}if(o){const i=s;s=u=>o({className:u,parseClassName:i})}return s},jk=t=>{const a=new Map;return t.orderSensitiveModifiers.forEach((o,s)=>{a.set(o,1e6+s)}),o=>{const s=[];let i=[];for(let u=0;u<o.length;u++){const d=o[u],p=d[0]==="[",h=a.has(d);p||h?(i.length>0&&(i.sort(),s.push(...i),i=[]),s.push(d)):i.push(d)}return i.length>0&&(i.sort(),s.push(...i)),s}},Tk=t=>({cache:Ck(t.cacheSize),parseClassName:Nk(t),sortModifiers:jk(t),...mk(t)}),Rk=/\s+/,Mk=(t,a)=>{const{parseClassName:o,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:u}=a,d=[],p=t.trim().split(Rk);let h="";for(let g=p.length-1;g>=0;g-=1){const x=p[g],{isExternal:y,modifiers:C,hasImportantModifier:T,baseClassName:E,maybePostfixModifierPosition:b}=o(x);if(y){h=x+(h.length>0?" "+h:h);continue}let S=!!b,w=s(S?E.substring(0,b):E);if(!w){if(!S){h=x+(h.length>0?" "+h:h);continue}if(w=s(E),!w){h=x+(h.length>0?" "+h:h);continue}S=!1}const j=C.length===0?"":C.length===1?C[0]:u(C).join(":"),R=T?j+Ep:j,A=R+w;if(d.indexOf(A)>-1)continue;d.push(A);const _=i(w,S);for(let k=0;k<_.length;++k){const D=_[k];d.push(R+D)}h=x+(h.length>0?" "+h:h)}return h},Dk=(...t)=>{let a=0,o,s,i="";for(;a<t.length;)(o=t[a++])&&(s=Jw(o))&&(i&&(i+=" "),i+=s);return i},Jw=t=>{if(typeof t=="string")return t;let a,o="";for(let s=0;s<t.length;s++)t[s]&&(a=Jw(t[s]))&&(o&&(o+=" "),o+=a);return o},_k=(t,...a)=>{let o,s,i,u;const d=h=>{const g=a.reduce((x,y)=>y(x),t());return o=Tk(g),s=o.cache.get,i=o.cache.set,u=p,p(h)},p=h=>{const g=s(h);if(g)return g;const x=Mk(h,o);return i(h,x),x};return u=d,(...h)=>u(Dk(...h))},Ak=[],$t=t=>{const a=o=>o[t]||Ak;return a.isThemeGetter=!0,a},e1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,t1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ok=/^\d+\/\d+$/,kk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Pk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Uk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ns=t=>Ok.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),jo=t=>!!t&&Number.isInteger(Number(t)),Gf=t=>t.endsWith("%")&&qe(t.slice(0,-1)),Va=t=>kk.test(t),Bk=()=>!0,Hk=t=>zk.test(t)&&!Lk.test(t),n1=()=>!1,Ik=t=>Pk.test(t),qk=t=>Uk.test(t),$k=t=>!we(t)&&!Ce(t),Fk=t=>js(t,r1,n1),we=t=>e1.test(t),sr=t=>js(t,s1,Hk),Xf=t=>js(t,Kk,qe),Sx=t=>js(t,a1,n1),Yk=t=>js(t,o1,qk),fc=t=>js(t,l1,Ik),Ce=t=>t1.test(t),xl=t=>Ts(t,s1),Vk=t=>Ts(t,Wk),wx=t=>Ts(t,a1),Gk=t=>Ts(t,r1),Xk=t=>Ts(t,o1),pc=t=>Ts(t,l1,!0),js=(t,a,o)=>{const s=e1.exec(t);return s?s[1]?a(s[1]):o(s[2]):!1},Ts=(t,a,o=!1)=>{const s=t1.exec(t);return s?s[1]?a(s[1]):o:!1},a1=t=>t==="position"||t==="percentage",o1=t=>t==="image"||t==="url",r1=t=>t==="length"||t==="size"||t==="bg-size",s1=t=>t==="length",Kk=t=>t==="number",Wk=t=>t==="family-name",l1=t=>t==="shadow",Qk=()=>{const t=$t("color"),a=$t("font"),o=$t("text"),s=$t("font-weight"),i=$t("tracking"),u=$t("leading"),d=$t("breakpoint"),p=$t("container"),h=$t("spacing"),g=$t("radius"),x=$t("shadow"),y=$t("inset-shadow"),C=$t("text-shadow"),T=$t("drop-shadow"),E=$t("blur"),b=$t("perspective"),S=$t("aspect"),w=$t("ease"),j=$t("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...A(),Ce,we],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],M=()=>[Ce,we,h],z=()=>[ns,"full","auto",...M()],I=()=>[jo,"none","subgrid",Ce,we],$=()=>["auto",{span:["full",jo,Ce,we]},jo,Ce,we],G=()=>[jo,"auto",Ce,we],q=()=>["auto","min","max","fr",Ce,we],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...M()],H=()=>[ns,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],P=()=>[t,Ce,we],V=()=>[...A(),wx,Sx,{position:[Ce,we]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",Gk,Fk,{size:[Ce,we]}],Y=()=>[Gf,xl,sr],Q=()=>["","none","full",g,Ce,we],oe=()=>["",qe,xl,sr],de=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[qe,Gf,wx,Sx],ye=()=>["","none",E,Ce,we],fe=()=>["none",qe,Ce,we],me=()=>["none",qe,Ce,we],he=()=>[qe,Ce,we],be=()=>[ns,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Va],breakpoint:[Va],color:[Bk],container:[Va],"drop-shadow":[Va],ease:["in","out","in-out"],font:[$k],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Va],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Va],shadow:[Va],spacing:["px",qe],text:[Va],"text-shadow":[Va],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ns,we,Ce,S]}],container:["container"],columns:[{columns:[qe,we,Ce,p]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[jo,"auto",Ce,we]}],basis:[{basis:[ns,"full","auto",p,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,ns,"auto","initial","none",we]}],grow:[{grow:["",qe,Ce,we]}],shrink:[{shrink:["",qe,Ce,we]}],order:[{order:[jo,"first","last","none",Ce,we]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[p,"screen",...H()]}],"min-w":[{"min-w":[p,"screen","none",...H()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[d]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",o,xl,sr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ce,Xf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gf,we]}],"font-family":[{font:[Vk,we,a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ce,we]}],"line-clamp":[{"line-clamp":[qe,"none",Ce,Xf]}],leading:[{leading:[u,...M()]}],"list-image":[{"list-image":["none",Ce,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Ce,sr]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[qe,"auto",Ce,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jo,Ce,we],radial:["",Ce,we],conic:[jo,Ce,we]},Xk,Yk]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Ce,we]}],"outline-w":[{outline:["",qe,xl,sr]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",x,pc,fc]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",y,pc,fc]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[qe,sr]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",C,pc,fc]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[qe,Ce,we]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[Ce,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,we]}],filter:[{filter:["","none",Ce,we]}],blur:[{blur:ye()}],brightness:[{brightness:[qe,Ce,we]}],contrast:[{contrast:[qe,Ce,we]}],"drop-shadow":[{"drop-shadow":["","none",T,pc,fc]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",qe,Ce,we]}],"hue-rotate":[{"hue-rotate":[qe,Ce,we]}],invert:[{invert:["",qe,Ce,we]}],saturate:[{saturate:[qe,Ce,we]}],sepia:[{sepia:["",qe,Ce,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,we]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Ce,we]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Ce,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Ce,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Ce,we]}],"backdrop-invert":[{"backdrop-invert":["",qe,Ce,we]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Ce,we]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Ce,we]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Ce,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Ce,we]}],ease:[{ease:["linear","initial",w,Ce,we]}],delay:[{delay:[qe,Ce,we]}],animate:[{animate:["none",j,Ce,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ce,we]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[Ce,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,we]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[qe,xl,sr,Xf]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Zk=_k(Qk);function ve(...t){return Zk(fu(t))}function Np(t){return t?new Date(t).toLocaleString():"Unknown"}function i1({...t}){return c.jsx(NA,{"data-slot":"dropdown-menu",...t})}function c1({...t}){return c.jsx(jA,{"data-slot":"dropdown-menu-trigger",...t})}function u1({className:t,sideOffset:a=4,...o}){return c.jsx(TA,{children:c.jsx(RA,{"data-slot":"dropdown-menu-content",sideOffset:a,className:ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...o})})}function rs({className:t,inset:a,variant:o="default",...s}){return c.jsx(DA,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":o,className:ve("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function Jk({className:t,inset:a,...o}){return c.jsx(MA,{"data-slot":"dropdown-menu-label","data-inset":a,className:ve("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...o})}function jp({className:t,...a}){return c.jsx(_A,{"data-slot":"dropdown-menu-separator",className:ve("bg-border -mx-1 my-1 h-px",t),...a})}const Cx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ex=fu,vm=(t,a)=>o=>{var s;if(a?.variants==null)return Ex(t,o?.class,o?.className);const{variants:i,defaultVariants:u}=a,d=Object.keys(i).map(g=>{const x=o?.[g],y=u?.[g];if(x===null)return null;const C=Cx(x)||Cx(y);return i[g][C]}),p=o&&Object.entries(o).reduce((g,x)=>{let[y,C]=x;return C===void 0||(g[y]=C),g},{}),h=a==null||(s=a.compoundVariants)===null||s===void 0?void 0:s.reduce((g,x)=>{let{class:y,className:C,...T}=x;return Object.entries(T).every(E=>{let[b,S]=E;return Array.isArray(S)?S.includes({...u,...p}[b]):{...u,...p}[b]===S})?[...g,y,C]:g},[]);return Ex(t,d,h,o?.class,o?.className)},ym=vm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded text-xs font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-primary/50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-[0_0_10px_rgba(0,245,255,0.3)] hover:shadow-[0_0_15px_rgba(0,245,255,0.5)]",destructive:"bg-destructive text-white hover:bg-destructive/90 shadow-[0_0_10px_rgba(239,68,68,0.3)] hover:shadow-[0_0_15px_rgba(239,68,68,0.5)]",outline:"border border-border bg-background hover:bg-muted hover:border-primary/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-[0_0_10px_rgba(192,132,252,0.3)] hover:shadow-[0_0_15px_rgba(192,132,252,0.5)]",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-8 px-3 py-1.5 has-[>svg]:px-2.5",xs:"h-6 gap-1 rounded px-2 py-1 has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-7 rounded gap-1.5 px-2.5 has-[>svg]:px-2",lg:"h-9 rounded px-4 has-[>svg]:px-3.5",icon:"size-8","icon-xs":"size-6 rounded [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-7","icon-lg":"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Le({className:t,variant:a="default",size:o="default",asChild:s=!1,...i}){const u=s?z0:"button";return c.jsx(u,{"data-slot":"button","data-variant":a,"data-size":o,className:ve(ym({variant:a,size:o,className:t})),...i})}const e5=vm("inline-flex items-center justify-center border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline",midi:"bg-purple-500/20 text-purple-400 border border-purple-500/30",audio:"bg-blue-500/20 text-blue-400 border border-blue-500/30",sample:"bg-green-500/20 text-green-400 border border-green-500/30"},rounded:{full:"rounded-full",default:"rounded"}},defaultVariants:{variant:"default",rounded:"full"}});function Yn({className:t,variant:a="default",rounded:o="full",asChild:s=!1,...i}){const u=s?z0:"span";return c.jsx(u,{"data-slot":"badge","data-variant":a,"data-rounded":o,className:ve(e5({variant:a,rounded:o}),t),...i})}function t5(){const t=ne(y=>y.activeComposition),a=ne(y=>y.compositions),o=ne(y=>y.loadComposition),s=ne(y=>y.saveComposition),i=ne(y=>y.hasUnsavedChanges),[u,d]=m.useState(!1),[p,h]=m.useState(!1),g=async y=>{y!==t?.id&&(await o(y),d(!1))},x=async y=>{if(y.stopPropagation(),t){h(!0);try{await s()}finally{h(!1)}}};return t?c.jsxs(i1,{open:u,onOpenChange:d,children:[c.jsx(c1,{asChild:!0,children:c.jsxs(Le,{variant:"outline",className:ve("gap-2 min-w-[200px] justify-between",i&&"border-yellow-500/50"),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tn,{className:"h-4 w-4"}),c.jsx("span",{className:"font-semibold",children:t.name}),i&&c.jsx(Yn,{variant:"outline",className:"text-xs px-1 py-0",children:"*"})]}),c.jsx(ys,{className:"h-4 w-4 opacity-50"})]})}),c.jsxs(u1,{align:"start",className:"w-[300px]",children:[c.jsxs(Jk,{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Compositions"}),i&&c.jsxs(Le,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs",onClick:x,disabled:p,children:[c.jsx(Xj,{className:"h-3 w-3 mr-1"}),p?"Saving...":"Save"]})]}),c.jsx(jp,{}),c.jsx(rs,{className:"bg-primary/10 font-semibold",disabled:!0,children:c.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tn,{className:"h-4 w-4"}),t.name,c.jsx(Yn,{variant:"default",className:"text-xs ml-auto",children:"Active"})]}),c.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[c.jsx(op,{className:"h-3 w-3"}),Np(t.created_at)]})]})}),c.jsx(jp,{}),a.filter(y=>y.id!==t?.id).map(y=>c.jsx(rs,{onClick:()=>g(y.id),children:c.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[c.jsx("div",{className:"font-medium",children:y.name}),c.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[c.jsx(op,{className:"h-3 w-3"}),Np(y.updated_at)]})]})},y.id)),a.length===1&&c.jsx("div",{className:"px-2 py-4 text-center text-xs text-muted-foreground",children:"No other compositions"})]})]}):null}function d1({isEngineRunning:t=!1,cpuUsage:a=0,activeSynths:o=0}){return c.jsxs("header",{className:"bg-card border-border flex h-[60px] items-center justify-between border-b-2 px-6 py-2",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(tn,{className:"text-primary h-7 w-7"}),c.jsx("div",{children:c.jsx("h1",{className:"text-primary text-glow-cyan text-lg font-bold tracking-[0.3em]",children:"SONIC CLAUDE"})})]}),c.jsx(t5,{})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`h-2 w-2 rounded-full ${t?"bg-primary animate-pulse shadow-[0_0_8px_rgba(0,255,255,0.6)]":"bg-destructive"}`}),c.jsx("span",{className:"text-muted-foreground text-xs font-medium tracking-wider",children:"ENGINE"}),c.jsx("span",{className:`text-xs font-bold tracking-wider ${t?"text-primary":"text-destructive"}`,children:t?"READY":"OFFLINE"})]}),t&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Up,{className:"text-muted-foreground h-3.5 w-3.5"}),c.jsx("span",{className:"text-muted-foreground text-xs font-medium tracking-wider",children:"CPU"}),c.jsxs("span",{className:`text-xs font-bold tracking-wider ${a>80?"text-destructive":a>50?"text-yellow-500":"text-primary"}`,children:[a.toFixed(1),"%"]})]}),t&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-muted-foreground text-xs font-medium tracking-wider",children:"SYNTHS"}),c.jsx("span",{className:"text-primary text-xs font-bold tracking-wider",children:o})]})]})]})}function Rs(t){const{margin:a,containerPadding:o,containerWidth:s,cols:i}=t;return(s-a[0]*(i-1)-o[0]*2)/i}function ps(t,a,o){return Number.isFinite(t)?Math.round(a*t+Math.max(0,t-1)*o):t}function bl(t,a,o,s,i,u,d){const{margin:p,containerPadding:h,rowHeight:g}=t,x=Rs(t);let y,C,T,E;if(d?(y=Math.round(d.width),C=Math.round(d.height)):(y=ps(s,x,p[0]),C=ps(i,g,p[1])),u?(T=Math.round(u.top),E=Math.round(u.left)):d?(T=Math.round(d.top),E=Math.round(d.left)):(T=Math.round((g+p[1])*o+h[1]),E=Math.round((x+p[0])*a+h[0])),!u&&!d){if(Number.isFinite(s)){const S=Math.round((x+p[0])*(a+s)+h[0])-E-y;S!==p[0]&&(y+=S-p[0])}if(Number.isFinite(i)){const S=Math.round((g+p[1])*(o+i)+h[1])-T-C;S!==p[1]&&(C+=S-p[1])}}return{top:T,left:E,width:y,height:C}}function n5(t,a,o,s,i){const{margin:u,containerPadding:d,cols:p,rowHeight:h,maxRows:g}=t,x=Rs(t);let y=Math.round((o-d[0])/(x+u[0])),C=Math.round((a-d[1])/(h+u[1]));return y=Pc(y,0,p-s),C=Pc(C,0,g-i),{x:y,y:C}}function mc(t,a,o){const{margin:s,containerPadding:i,rowHeight:u}=t,d=Rs(t),p=Math.round((o-i[0])/(d+s[0])),h=Math.round((a-i[1])/(u+s[1]));return{x:p,y:h}}function a5(t,a,o){const{margin:s,rowHeight:i}=t,u=Rs(t),d=Math.max(1,Math.round((a+s[0])/(u+s[0]))),p=Math.max(1,Math.round((o+s[1])/(i+s[1])));return{w:d,h:p}}function Pc(t,a,o){return Math.max(Math.min(t,o),a)}function xm(t,a){return!(t.i===a.i||t.x+t.w<=a.x||t.x>=a.x+a.w||t.y+t.h<=a.y||t.y>=a.y+a.h)}function Uc(t,a){for(let o=0;o<t.length;o++){const s=t[o];if(s!==void 0&&xm(s,a))return s}}function f1(t,a){return t.filter(o=>xm(o,a))}function o5(t,a){return a==="horizontal"?r5(t):a==="vertical"||a==="wrap"?Tp(t):[...t]}function Tp(t){return[...t].sort((a,o)=>a.y!==o.y?a.y-o.y:a.x-o.x)}function r5(t){return[...t].sort((a,o)=>a.x!==o.x?a.x-o.x:a.y-o.y)}function bm(t){let a=0;for(let o=0;o<t.length;o++){const s=t[o];if(s!==void 0){const i=s.y+s.h;i>a&&(a=i)}}return a}function lr(t,a){for(let o=0;o<t.length;o++){const s=t[o];if(s!==void 0&&s.i===a)return s}}function Sm(t){return t.filter(a=>a.static===!0)}function ms(t){return{i:t.i,x:t.x,y:t.y,w:t.w,h:t.h,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:!!t.moved,static:!!t.static,isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,constraints:t.constraints,isBounded:t.isBounded}}function p1(t){const a=new Array(t.length);for(let o=0;o<t.length;o++){const s=t[o];s!==void 0&&(a[o]=ms(s))}return a}function s5(t,a){const o=new Array(t.length);for(let s=0;s<t.length;s++){const i=t[s];i!==void 0&&(a.i===i.i?o[s]=a:o[s]=i)}return o}function l5(t,a,o){let s=lr(t,a);return s?(s=o(ms(s)),[s5(t,s),s]):[[...t],null]}function i5(t,a){const o=Sm(t);for(let s=0;s<t.length;s++){const i=t[s];if(i!==void 0)if(i.x+i.w>a.cols&&(i.x=a.cols-i.w),i.x<0&&(i.x=0,i.w=a.cols),!i.static)o.push(i);else for(;Uc(o,i);)i.y++}return t}function ir(t,a,o,s,i,u,d,p,h){if(a.static&&a.isDraggable!==!0)return[...t];if(a.y===s&&a.x===o)return[...t];const g=a.x,x=a.y;typeof o=="number"&&(a.x=o),typeof s=="number"&&(a.y=s),a.moved=!0;let y=o5(t,d);(d==="vertical"&&typeof s=="number"?x>=s:d==="horizontal"&&typeof o=="number"&&g>=o)&&(y=y.reverse());const T=f1(y,a),E=T.length>0;if(E&&h)return p1(t);if(E&&u)return a.x=g,a.y=x,a.moved=!1,t;let b=[...t];for(let S=0;S<T.length;S++){const w=T[S];w!==void 0&&(w.moved||(w.static?b=Nx(b,w,a,i,d):b=Nx(b,a,w,i,d)))}return b}function Nx(t,a,o,s,i,u){const d=i==="horizontal",p=i==="vertical",h=a.static;if(s){s=!1;const y={x:d?Math.max(a.x-o.w,0):o.x,y:p?Math.max(a.y-o.h,0):o.y,w:o.w,h:o.h,i:"-1"},C=Uc(t,y),T=C!==void 0&&C.y+C.h>a.y,E=C!==void 0&&a.x+a.w>C.x;if(!C)return ir(t,o,d?y.x:void 0,p?y.y:void 0,s,h,i);if(T&&p)return ir(t,o,void 0,o.y+1,s,h,i);if(T&&i===null)return a.y=o.y,o.y=o.y+o.h,[...t];if(E&&d)return ir(t,a,o.x,void 0,s,h,i)}const g=d?o.x+1:void 0,x=p?o.y+1:void 0;return g===void 0&&x===void 0?[...t]:ir(t,o,g,x,s,h,i)}function ss(t,a,o){return Math.max(a,Math.min(o,t))}var c5={name:"gridBounds",constrainPosition(t,a,o,{cols:s,maxRows:i}){return{x:ss(a,0,Math.max(0,s-t.w)),y:ss(o,0,Math.max(0,i-t.h))}},constrainSize(t,a,o,s,{cols:i,maxRows:u}){const d=s==="w"||s==="nw"||s==="sw"?t.x+t.w:i-t.x,p=s==="n"||s==="nw"||s==="ne"?t.y+t.h:u-t.y;return{w:ss(a,1,Math.max(1,d)),h:ss(o,1,Math.max(1,p))}}},u5={name:"minMaxSize",constrainSize(t,a,o){return{w:ss(a,t.minW??1,t.maxW??1/0),h:ss(o,t.minH??1,t.maxH??1/0)}}},m1=[c5,u5];function hc(t,a,o,s,i){let u={x:o,y:s};for(const d of t)d.constrainPosition&&(u=d.constrainPosition(a,u.x,u.y,i));if(a.constraints)for(const d of a.constraints)d.constrainPosition&&(u=d.constrainPosition(a,u.x,u.y,i));return u}function d5(t,a,o,s,i,u){let d={w:o,h:s};for(const p of t)p.constrainSize&&(d=p.constrainSize(a,d.w,d.h,i,u));if(a.constraints)for(const p of a.constraints)p.constrainSize&&(d=p.constrainSize(a,d.w,d.h,i,u));return d}function h1({top:t,left:a,width:o,height:s}){const i=`translate(${a}px,${t}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${o}px`,height:`${s}px`,position:"absolute"}}function f5({top:t,left:a,width:o,height:s}){return{top:`${t}px`,left:`${a}px`,width:`${o}px`,height:`${s}px`,position:"absolute"}}function jx(t){return t*100+"%"}function p5(t,a,o,s){return t+o>s?a:o}function g1(t,a,o){return t<0?a:o}function m5(t){return Math.max(0,t)}function Bc(t){return Math.max(0,t)}var wm=(t,a,o)=>{const{left:s,height:i,width:u}=a,d=t.top-(i-t.height);return{left:s,width:u,height:g1(d,t.height,i),top:Bc(d)}},Cm=(t,a,o)=>{const{top:s,left:i,height:u,width:d}=a;return{top:s,height:u,width:p5(t.left,t.width,d,o),left:m5(i)}},Em=(t,a,o)=>{const{top:s,height:i,width:u}=a,d=t.left+t.width-u;return d<0?{height:i,width:t.left+t.width,top:Bc(s),left:0}:{height:i,width:u,top:Bc(s),left:d}},Nm=(t,a,o)=>{const{top:s,left:i,height:u,width:d}=a;return{width:d,left:i,height:g1(s,t.height,u),top:Bc(s)}},h5=(t,a,o)=>wm(t,Cm(t,a,o)),g5=(t,a,o)=>wm(t,Em(t,a)),v5=(t,a,o)=>Nm(t,Cm(t,a,o)),y5=(t,a,o)=>Nm(t,Em(t,a)),x5={n:wm,ne:h5,e:Cm,se:v5,s:Nm,sw:y5,w:Em,nw:g5};function b5(t,a,o,s){const i=x5[t];return i?i(a,{...a,...o},s):o}var S5={type:"transform",scale:1,calcStyle(t){return h1(t)}},w5=S5,C5={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},E5={enabled:!0,bounded:!1,threshold:3},N5={enabled:!0,handles:["se"]},j5={enabled:!1,defaultItem:{w:1,h:1}};function v1(t,a,o,s,i){a[s]+=1;const d=t.findIndex(h=>h.i===a.i),p=i??Sm(t).length>0;for(let h=d+1;h<t.length;h++){const g=t[h];if(g!==void 0&&!g.static){if(!p&&g.y>a.y+a.h)break;xm(a,g)&&v1(t,g,o+a.h,s,p)}}a[s]=o}function T5(t,a,o,s){for(a.x=Math.max(a.x,0),a.y=Math.max(a.y,0),a.y=Math.min(s,a.y);a.y>0&&!Uc(t,a);)a.y--;let i;for(;(i=Uc(t,a))!==void 0;)v1(o,a,i.y+i.h,"y");return a.y=Math.max(a.y,0),a}var jm={type:"vertical",allowOverlap:!1,compact(t,a){const o=Sm(t);let s=bm(o);const i=Tp(t),u=new Array(t.length);for(let d=0;d<i.length;d++){const p=i[d];if(p===void 0)continue;let h=ms(p);h.static||(h=T5(o,h,i,s),s=Math.max(s,h.y+h.h),o.push(h));const g=t.indexOf(p);u[g]=h,h.moved=!1}return u}},R5={...jm,allowOverlap:!0,compact(t,a){return p1(t)}};function M5(t,a=!1,o=!1){let s;return a?s=R5:s=jm,o?{...s,preventCollision:o}:s}function y1(t){return function(o,s,i,u,d,p,h){return t(o,s,h)}}function pu(t){return function(o,s,i,u){if(!o||!s||typeof o!="object"||typeof s!="object")return t(o,s,i,u);var d=u.get(o),p=u.get(s);if(d&&p)return d===s&&p===o;u.set(o,s),u.set(s,o);var h=t(o,s,i,u);return u.delete(o),u.delete(s),h}}function x1(t,a){var o={};for(var s in t)o[s]=t[s];for(var s in a)o[s]=a[s];return o}function Tx(t){return t.constructor===Object||t.constructor==null}function Rx(t){return typeof t.then=="function"}function mu(t,a){return t===a||t!==t&&a!==a}var D5="[object Arguments]",_5="[object Boolean]",A5="[object Date]",O5="[object RegExp]",k5="[object Map]",z5="[object Number]",L5="[object Object]",P5="[object Set]",U5="[object String]",Mx=Object.prototype.toString;function hu(t){var a=t.areArraysEqual,o=t.areDatesEqual,s=t.areMapsEqual,i=t.areObjectsEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,p=t.createIsNestedEqual,h=p(g);function g(x,y,C){if(x===y)return!0;if(!x||!y||typeof x!="object"||typeof y!="object")return x!==x&&y!==y;if(Tx(x)&&Tx(y))return i(x,y,h,C);var T=Array.isArray(x),E=Array.isArray(y);if(T||E)return T===E&&a(x,y,h,C);var b=Mx.call(x);return b!==Mx.call(y)?!1:b===A5?o(x,y,h,C):b===O5?u(x,y,h,C):b===k5?s(x,y,h,C):b===P5?d(x,y,h,C):b===L5||b===D5?Rx(x)||Rx(y)?!1:i(x,y,h,C):b===_5||b===z5||b===U5?mu(x.valueOf(),y.valueOf()):!1}return g}function b1(t,a,o,s){var i=t.length;if(a.length!==i)return!1;for(;i-- >0;)if(!o(t[i],a[i],i,i,t,a,s))return!1;return!0}var B5=pu(b1);function S1(t,a){return mu(t.valueOf(),a.valueOf())}function w1(t,a,o,s){var i=t.size===a.size;if(!i)return!1;if(!t.size)return!0;var u={},d=0;return t.forEach(function(p,h){if(i){var g=!1,x=0;a.forEach(function(y,C){!g&&!u[x]&&(g=o(h,C,d,x,t,a,s)&&o(p,y,h,C,t,a,s))&&(u[x]=!0),x++}),d++,i=g}}),i}var H5=pu(w1),I5="_owner",q5=Object.prototype.hasOwnProperty;function C1(t,a,o,s){var i=Object.keys(t),u=i.length;if(Object.keys(a).length!==u)return!1;for(var d;u-- >0;){if(d=i[u],d===I5){var p=!!t.$$typeof,h=!!a.$$typeof;if((p||h)&&p!==h)return!1}if(!q5.call(a,d)||!o(t[d],a[d],d,d,t,a,s))return!1}return!0}var $5=pu(C1);function E1(t,a){return t.source===a.source&&t.flags===a.flags}function N1(t,a,o,s){var i=t.size===a.size;if(!i)return!1;if(!t.size)return!0;var u={};return t.forEach(function(d,p){if(i){var h=!1,g=0;a.forEach(function(x,y){!h&&!u[g]&&(h=o(d,x,p,y,t,a,s))&&(u[g]=!0),g++}),i=h}}),i}var F5=pu(N1),j1=Object.freeze({areArraysEqual:b1,areDatesEqual:S1,areMapsEqual:w1,areObjectsEqual:C1,areRegExpsEqual:E1,areSetsEqual:N1,createIsNestedEqual:y1}),T1=Object.freeze({areArraysEqual:B5,areDatesEqual:S1,areMapsEqual:H5,areObjectsEqual:$5,areRegExpsEqual:E1,areSetsEqual:F5,createIsNestedEqual:y1}),Y5=hu(j1);function as(t,a){return Y5(t,a,void 0)}hu(x1(j1,{createIsNestedEqual:function(){return mu}}));hu(T1);hu(x1(T1,{createIsNestedEqual:function(){return mu}}));var Sl={exports:{}},Kf={},Wf={exports:{}},Qf,Dx;function V5(){if(Dx)return Qf;Dx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qf=t,Qf}var Zf,_x;function G5(){if(_x)return Zf;_x=1;var t=V5();function a(){}function o(){}return o.resetWarningCache=a,Zf=function(){function s(d,p,h,g,x,y){if(y!==t){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}s.isRequired=s;function i(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:o,resetWarningCache:a};return u.PropTypes=u,u},Zf}var Ax;function gu(){return Ax||(Ax=1,Wf.exports=G5()()),Wf.exports}var gc={exports:{}},Ox;function X5(){if(Ox)return gc.exports;Ox=1;function t(o){var s,i,u="";if(typeof o=="string"||typeof o=="number")u+=o;else if(typeof o=="object")if(Array.isArray(o)){var d=o.length;for(s=0;s<d;s++)o[s]&&(i=t(o[s]))&&(u&&(u+=" "),u+=i)}else for(i in o)o[i]&&(u&&(u+=" "),u+=i);return u}function a(){for(var o,s,i=0,u="",d=arguments.length;i<d;i++)(o=arguments[i])&&(s=t(o))&&(u&&(u+=" "),u+=s);return u}return gc.exports=a,gc.exports.clsx=a,gc.exports}var Ot={},To={},kx;function vu(){if(kx)return To;kx=1,Object.defineProperty(To,"__esModule",{value:!0}),To.dontSetMe=i,To.findInArray=t,To.int=s,To.isFunction=a,To.isNum=o;function t(u,d){for(let p=0,h=u.length;p<h;p++)if(d.apply(d,[u[p],p,u]))return u[p]}function a(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Function]"}function o(u){return typeof u=="number"&&!isNaN(u)}function s(u){return parseInt(u,10)}function i(u,d,p){if(u[d])return new Error(`Invalid prop ${d} passed to ${p} - do not set this, set it on the child.`)}return To}var Ro={},zx;function K5(){if(zx)return Ro;zx=1,Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.browserPrefixToKey=o,Ro.browserPrefixToStyle=s,Ro.default=void 0,Ro.getPrefix=a;const t=["Moz","Webkit","O","ms"];function a(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const d=window.document?.documentElement?.style;if(!d||u in d)return"";for(let p=0;p<t.length;p++)if(o(u,t[p])in d)return t[p];return""}function o(u,d){return d?`${d}${i(u)}`:u}function s(u,d){return d?`-${d.toLowerCase()}-${u}`:u}function i(u){let d="",p=!0;for(let h=0;h<u.length;h++)p?(d+=u[h].toUpperCase(),p=!1):u[h]==="-"?p=!0:d+=u[h];return d}return Ro.default=a(),Ro}var Lx;function Tm(){if(Lx)return Ot;Lx=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.addClassName=_,Ot.addEvent=d,Ot.addUserSelectStyles=j,Ot.createCSSTransform=T,Ot.createSVGTransform=E,Ot.getTouch=S,Ot.getTouchIdentifier=w,Ot.getTranslation=b,Ot.innerHeight=x,Ot.innerWidth=y,Ot.matchesSelector=i,Ot.matchesSelectorAndParentsTo=u,Ot.offsetXYFromParent=C,Ot.outerHeight=h,Ot.outerWidth=g,Ot.removeClassName=k,Ot.removeEvent=p,Ot.scheduleRemoveUserSelectStyles=R;var t=vu(),a=o(K5());function o(D,M){if(typeof WeakMap=="function")var z=new WeakMap,I=new WeakMap;return(o=function($,G){if(!G&&$&&$.__esModule)return $;var q,X,ae={__proto__:null,default:$};if($===null||typeof $!="object"&&typeof $!="function")return ae;if(q=G?I:z){if(q.has($))return q.get($);q.set($,ae)}for(const L in $)L!=="default"&&{}.hasOwnProperty.call($,L)&&((X=(q=Object.defineProperty)&&Object.getOwnPropertyDescriptor($,L))&&(X.get||X.set)?q(ae,L,X):ae[L]=$[L]);return ae})(D,M)}let s="";function i(D,M){return s||(s=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(z){return(0,t.isFunction)(D[z])})),(0,t.isFunction)(D[s])?D[s](M):!1}function u(D,M,z){let I=D;do{if(i(I,M))return!0;if(I===z)return!1;I=I.parentNode}while(I);return!1}function d(D,M,z,I){if(!D)return;const $={capture:!0,...I};D.addEventListener?D.addEventListener(M,z,$):D.attachEvent?D.attachEvent("on"+M,z):D["on"+M]=z}function p(D,M,z,I){if(!D)return;const $={capture:!0,...I};D.removeEventListener?D.removeEventListener(M,z,$):D.detachEvent?D.detachEvent("on"+M,z):D["on"+M]=null}function h(D){let M=D.clientHeight;const z=D.ownerDocument.defaultView.getComputedStyle(D);return M+=(0,t.int)(z.borderTopWidth),M+=(0,t.int)(z.borderBottomWidth),M}function g(D){let M=D.clientWidth;const z=D.ownerDocument.defaultView.getComputedStyle(D);return M+=(0,t.int)(z.borderLeftWidth),M+=(0,t.int)(z.borderRightWidth),M}function x(D){let M=D.clientHeight;const z=D.ownerDocument.defaultView.getComputedStyle(D);return M-=(0,t.int)(z.paddingTop),M-=(0,t.int)(z.paddingBottom),M}function y(D){let M=D.clientWidth;const z=D.ownerDocument.defaultView.getComputedStyle(D);return M-=(0,t.int)(z.paddingLeft),M-=(0,t.int)(z.paddingRight),M}function C(D,M,z){const $=M===M.ownerDocument.body?{left:0,top:0}:M.getBoundingClientRect(),G=(D.clientX+M.scrollLeft-$.left)/z,q=(D.clientY+M.scrollTop-$.top)/z;return{x:G,y:q}}function T(D,M){const z=b(D,M,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:z}}function E(D,M){return b(D,M,"")}function b(D,M,z){let{x:I,y:$}=D,G=`translate(${I}${z},${$}${z})`;if(M){const q=`${typeof M.x=="string"?M.x:M.x+z}`,X=`${typeof M.y=="string"?M.y:M.y+z}`;G=`translate(${q}, ${X})`+G}return G}function S(D,M){return D.targetTouches&&(0,t.findInArray)(D.targetTouches,z=>M===z.identifier)||D.changedTouches&&(0,t.findInArray)(D.changedTouches,z=>M===z.identifier)}function w(D){if(D.targetTouches&&D.targetTouches[0])return D.targetTouches[0].identifier;if(D.changedTouches&&D.changedTouches[0])return D.changedTouches[0].identifier}function j(D){if(!D)return;let M=D.getElementById("react-draggable-style-el");M||(M=D.createElement("style"),M.type="text/css",M.id="react-draggable-style-el",M.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,M.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,D.getElementsByTagName("head")[0].appendChild(M)),D.body&&_(D.body,"react-draggable-transparent-selection")}function R(D){window.requestAnimationFrame?window.requestAnimationFrame(()=>{A(D)}):A(D)}function A(D){if(D)try{if(D.body&&k(D.body,"react-draggable-transparent-selection"),D.selection)D.selection.empty();else{const M=(D.defaultView||window).getSelection();M&&M.type!=="Caret"&&M.removeAllRanges()}}catch{}}function _(D,M){D.classList?D.classList.add(M):D.className.match(new RegExp(`(?:^|\\s)${M}(?!\\S)`))||(D.className+=` ${M}`)}function k(D,M){D.classList?D.classList.remove(M):D.className=D.className.replace(new RegExp(`(?:^|\\s)${M}(?!\\S)`,"g"),"")}return Ot}var ya={},Px;function R1(){if(Px)return ya;Px=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.canDragX=i,ya.canDragY=u,ya.createCoreData=p,ya.createDraggableData=h,ya.getBoundPosition=o,ya.getControlPosition=d,ya.snapToGrid=s;var t=vu(),a=Tm();function o(y,C,T){if(!y.props.bounds)return[C,T];let{bounds:E}=y.props;E=typeof E=="string"?E:g(E);const b=x(y);if(typeof E=="string"){const{ownerDocument:S}=b,w=S.defaultView;let j;if(E==="parent"?j=b.parentNode:j=b.getRootNode().querySelector(E),!(j instanceof w.HTMLElement))throw new Error('Bounds selector "'+E+'" could not find an element.');const R=j,A=w.getComputedStyle(b),_=w.getComputedStyle(R);E={left:-b.offsetLeft+(0,t.int)(_.paddingLeft)+(0,t.int)(A.marginLeft),top:-b.offsetTop+(0,t.int)(_.paddingTop)+(0,t.int)(A.marginTop),right:(0,a.innerWidth)(R)-(0,a.outerWidth)(b)-b.offsetLeft+(0,t.int)(_.paddingRight)-(0,t.int)(A.marginRight),bottom:(0,a.innerHeight)(R)-(0,a.outerHeight)(b)-b.offsetTop+(0,t.int)(_.paddingBottom)-(0,t.int)(A.marginBottom)}}return(0,t.isNum)(E.right)&&(C=Math.min(C,E.right)),(0,t.isNum)(E.bottom)&&(T=Math.min(T,E.bottom)),(0,t.isNum)(E.left)&&(C=Math.max(C,E.left)),(0,t.isNum)(E.top)&&(T=Math.max(T,E.top)),[C,T]}function s(y,C,T){const E=Math.round(C/y[0])*y[0],b=Math.round(T/y[1])*y[1];return[E,b]}function i(y){return y.props.axis==="both"||y.props.axis==="x"}function u(y){return y.props.axis==="both"||y.props.axis==="y"}function d(y,C,T){const E=typeof C=="number"?(0,a.getTouch)(y,C):null;if(typeof C=="number"&&!E)return null;const b=x(T),S=T.props.offsetParent||b.offsetParent||b.ownerDocument.body;return(0,a.offsetXYFromParent)(E||y,S,T.props.scale)}function p(y,C,T){const E=!(0,t.isNum)(y.lastX),b=x(y);return E?{node:b,deltaX:0,deltaY:0,lastX:C,lastY:T,x:C,y:T}:{node:b,deltaX:C-y.lastX,deltaY:T-y.lastY,lastX:y.lastX,lastY:y.lastY,x:C,y:T}}function h(y,C){const T=y.props.scale;return{node:C.node,x:y.state.x+C.deltaX/T,y:y.state.y+C.deltaY/T,deltaX:C.deltaX/T,deltaY:C.deltaY/T,lastX:y.state.x,lastY:y.state.y}}function g(y){return{left:y.left,top:y.top,right:y.right,bottom:y.bottom}}function x(y){const C=y.findDOMNode();if(!C)throw new Error("<DraggableCore>: Unmounted during event!");return C}return ya}var wl={},vc={},Ux;function M1(){if(Ux)return vc;Ux=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.default=t;function t(){}return vc}var Bx;function W5(){if(Bx)return wl;Bx=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.default=void 0;var t=h(Po()),a=p(gu()),o=p(Hc()),s=Tm(),i=R1(),u=vu(),d=p(M1());function p(b){return b&&b.__esModule?b:{default:b}}function h(b,S){if(typeof WeakMap=="function")var w=new WeakMap,j=new WeakMap;return(h=function(R,A){if(!A&&R&&R.__esModule)return R;var _,k,D={__proto__:null,default:R};if(R===null||typeof R!="object"&&typeof R!="function")return D;if(_=A?j:w){if(_.has(R))return _.get(R);_.set(R,D)}for(const M in R)M!=="default"&&{}.hasOwnProperty.call(R,M)&&((k=(_=Object.defineProperty)&&Object.getOwnPropertyDescriptor(R,M))&&(k.get||k.set)?_(D,M,k):D[M]=R[M]);return D})(b,S)}function g(b,S,w){return(S=x(S))in b?Object.defineProperty(b,S,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[S]=w,b}function x(b){var S=y(b,"string");return typeof S=="symbol"?S:S+""}function y(b,S){if(typeof b!="object"||!b)return b;var w=b[Symbol.toPrimitive];if(w!==void 0){var j=w.call(b,S);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(b)}const C={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let T=C.mouse,E=class extends t.Component{constructor(){super(...arguments),g(this,"dragging",!1),g(this,"lastX",NaN),g(this,"lastY",NaN),g(this,"touchIdentifier",null),g(this,"mounted",!1),g(this,"handleDragStart",S=>{if(this.props.onMouseDown(S),!this.props.allowAnyClick&&typeof S.button=="number"&&S.button!==0)return!1;const w=this.findDOMNode();if(!w||!w.ownerDocument||!w.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:j}=w;if(this.props.disabled||!(S.target instanceof j.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(S.target,this.props.handle,w)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(S.target,this.props.cancel,w))return;S.type==="touchstart"&&!this.props.allowMobileScroll&&S.preventDefault();const R=(0,s.getTouchIdentifier)(S);this.touchIdentifier=R;const A=(0,i.getControlPosition)(S,R,this);if(A==null)return;const{x:_,y:k}=A,D=(0,i.createCoreData)(this,_,k);(0,d.default)("DraggableCore: handleDragStart: %j",D),(0,d.default)("calling",this.props.onStart),!(this.props.onStart(S,D)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(j),this.dragging=!0,this.lastX=_,this.lastY=k,(0,s.addEvent)(j,T.move,this.handleDrag),(0,s.addEvent)(j,T.stop,this.handleDragStop))}),g(this,"handleDrag",S=>{const w=(0,i.getControlPosition)(S,this.touchIdentifier,this);if(w==null)return;let{x:j,y:R}=w;if(Array.isArray(this.props.grid)){let k=j-this.lastX,D=R-this.lastY;if([k,D]=(0,i.snapToGrid)(this.props.grid,k,D),!k&&!D)return;j=this.lastX+k,R=this.lastY+D}const A=(0,i.createCoreData)(this,j,R);if((0,d.default)("DraggableCore: handleDrag: %j",A),this.props.onDrag(S,A)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const D=document.createEvent("MouseEvents");D.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(D)}return}this.lastX=j,this.lastY=R}),g(this,"handleDragStop",S=>{if(!this.dragging)return;const w=(0,i.getControlPosition)(S,this.touchIdentifier,this);if(w==null)return;let{x:j,y:R}=w;if(Array.isArray(this.props.grid)){let D=j-this.lastX||0,M=R-this.lastY||0;[D,M]=(0,i.snapToGrid)(this.props.grid,D,M),j=this.lastX+D,R=this.lastY+M}const A=(0,i.createCoreData)(this,j,R);if(this.props.onStop(S,A)===!1||this.mounted===!1)return!1;const k=this.findDOMNode();k&&this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(k.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",A),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,k&&((0,d.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(k.ownerDocument,T.move,this.handleDrag),(0,s.removeEvent)(k.ownerDocument,T.stop,this.handleDragStop))}),g(this,"onMouseDown",S=>(T=C.mouse,this.handleDragStart(S))),g(this,"onMouseUp",S=>(T=C.mouse,this.handleDragStop(S))),g(this,"onTouchStart",S=>(T=C.touch,this.handleDragStart(S))),g(this,"onTouchEnd",S=>(T=C.touch,this.handleDragStop(S)))}componentDidMount(){this.mounted=!0;const S=this.findDOMNode();S&&(0,s.addEvent)(S,C.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const S=this.findDOMNode();if(S){const{ownerDocument:w}=S;(0,s.removeEvent)(w,C.mouse.move,this.handleDrag),(0,s.removeEvent)(w,C.touch.move,this.handleDrag),(0,s.removeEvent)(w,C.mouse.stop,this.handleDragStop),(0,s.removeEvent)(w,C.touch.stop,this.handleDragStop),(0,s.removeEvent)(S,C.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(w)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:o.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return wl.default=E,g(E,"displayName","DraggableCore"),g(E,"propTypes",{allowAnyClick:a.default.bool,allowMobileScroll:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(b,S){if(b[S]&&b[S].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),g(E,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),wl}var Hx;function Q5(){return Hx||(Hx=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),t.default=void 0;var a=y(Po()),o=x(gu()),s=x(Hc()),i=X5(),u=Tm(),d=R1(),p=vu(),h=x(W5()),g=x(M1());function x(w){return w&&w.__esModule?w:{default:w}}function y(w,j){if(typeof WeakMap=="function")var R=new WeakMap,A=new WeakMap;return(y=function(_,k){if(!k&&_&&_.__esModule)return _;var D,M,z={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return z;if(D=k?A:R){if(D.has(_))return D.get(_);D.set(_,z)}for(const I in _)I!=="default"&&{}.hasOwnProperty.call(_,I)&&((M=(D=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,I))&&(M.get||M.set)?D(z,I,M):z[I]=_[I]);return z})(w,j)}function C(){return C=Object.assign?Object.assign.bind():function(w){for(var j=1;j<arguments.length;j++){var R=arguments[j];for(var A in R)({}).hasOwnProperty.call(R,A)&&(w[A]=R[A])}return w},C.apply(null,arguments)}function T(w,j,R){return(j=E(j))in w?Object.defineProperty(w,j,{value:R,enumerable:!0,configurable:!0,writable:!0}):w[j]=R,w}function E(w){var j=b(w,"string");return typeof j=="symbol"?j:j+""}function b(w,j){if(typeof w!="object"||!w)return w;var R=w[Symbol.toPrimitive];if(R!==void 0){var A=R.call(w,j);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(w)}class S extends a.Component{static getDerivedStateFromProps(j,R){let{position:A}=j,{prevPropsPosition:_}=R;return A&&(!_||A.x!==_.x||A.y!==_.y)?((0,g.default)("Draggable: getDerivedStateFromProps %j",{position:A,prevPropsPosition:_}),{x:A.x,y:A.y,prevPropsPosition:{...A}}):null}constructor(j){super(j),T(this,"onDragStart",(R,A)=>{if((0,g.default)("Draggable: onDragStart: %j",A),this.props.onStart(R,(0,d.createDraggableData)(this,A))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),T(this,"onDrag",(R,A)=>{if(!this.state.dragging)return!1;(0,g.default)("Draggable: onDrag: %j",A);const _=(0,d.createDraggableData)(this,A),k={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:z}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[I,$]=(0,d.getBoundPosition)(this,k.x,k.y);k.x=I,k.y=$,k.slackX=this.state.slackX+(M-k.x),k.slackY=this.state.slackY+(z-k.y),_.x=k.x,_.y=k.y,_.deltaX=k.x-this.state.x,_.deltaY=k.y-this.state.y}if(this.props.onDrag(R,_)===!1)return!1;this.setState(k)}),T(this,"onDragStop",(R,A)=>{if(!this.state.dragging||this.props.onStop(R,(0,d.createDraggableData)(this,A))===!1)return!1;(0,g.default)("Draggable: onDragStop: %j",A);const k={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:M,y:z}=this.props.position;k.x=M,k.y=z}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:j.position?j.position.x:j.defaultPosition.x,y:j.position?j.position.y:j.defaultPosition.y,prevPropsPosition:{...j.position},slackX:0,slackY:0,isElementSVG:!1},j.position&&!(j.onDrag||j.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??s.default.findDOMNode(this)}render(){const{axis:j,bounds:R,children:A,defaultPosition:_,defaultClassName:k,defaultClassNameDragging:D,defaultClassNameDragged:M,position:z,positionOffset:I,scale:$,...G}=this.props;let q={},X=null;const L=!!!z||this.state.dragging,H=z||_,P={x:(0,d.canDragX)(this)&&L?this.state.x:H.x,y:(0,d.canDragY)(this)&&L?this.state.y:H.y};this.state.isElementSVG?X=(0,u.createSVGTransform)(P,I):q=(0,u.createCSSTransform)(P,I);const V=(0,i.clsx)(A.props.className||"",k,{[D]:this.state.dragging,[M]:this.state.dragged});return a.createElement(h.default,C({},G,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),a.cloneElement(a.Children.only(A),{className:V,style:{...A.props.style,...q},transform:X}))}}t.default=S,T(S,"displayName","Draggable"),T(S,"propTypes",{...h.default.propTypes,axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),T(S,"defaultProps",{...h.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Kf)),Kf}var Ix;function Rm(){if(Ix)return Sl.exports;Ix=1;const{default:t,DraggableCore:a}=Q5();return Sl.exports=t,Sl.exports.default=t,Sl.exports.DraggableCore=a,Sl.exports}var Z5=Rm(),Cl={exports:{}},El={},yc={},qx;function J5(){if(qx)return yc;qx=1,yc.__esModule=!0,yc.cloneElement=p;var t=a(Po());function a(h){return h&&h.__esModule?h:{default:h}}function o(h,g){var x=Object.keys(h);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(h);g&&(y=y.filter(function(C){return Object.getOwnPropertyDescriptor(h,C).enumerable})),x.push.apply(x,y)}return x}function s(h){for(var g=1;g<arguments.length;g++){var x=arguments[g]!=null?arguments[g]:{};g%2?o(Object(x),!0).forEach(function(y){i(h,y,x[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(x)):o(Object(x)).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(x,y))})}return h}function i(h,g,x){return(g=u(g))in h?Object.defineProperty(h,g,{value:x,enumerable:!0,configurable:!0,writable:!0}):h[g]=x,h}function u(h){var g=d(h,"string");return typeof g=="symbol"?g:g+""}function d(h,g){if(typeof h!="object"||!h)return h;var x=h[Symbol.toPrimitive];if(x!==void 0){var y=x.call(h,g);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(h)}function p(h,g){return g.style&&h.props.style&&(g.style=s(s({},h.props.style),g.style)),g.className&&h.props.className&&(g.className=`${h.props.className} ${g.className}`),t.default.cloneElement(h,g)}return yc}var Nl={},$x;function D1(){if($x)return Nl;$x=1,Nl.__esModule=!0,Nl.resizableProps=void 0;var t=a(gu());Rm();function a(o){return o&&o.__esModule?o:{default:o}}return Nl.resizableProps={axis:t.default.oneOf(["both","x","y","none"]),className:t.default.string,children:t.default.element.isRequired,draggableOpts:t.default.shape({allowAnyClick:t.default.bool,cancel:t.default.string,children:t.default.node,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:typeof Element<"u"?t.default.instanceOf(Element):t.default.any,grid:t.default.arrayOf(t.default.number),handle:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number}),height:function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];const[u]=s;return u.axis==="both"||u.axis==="y"?t.default.number.isRequired(...s):t.default.number(...s)},handle:t.default.oneOfType([t.default.node,t.default.func]),handleSize:t.default.arrayOf(t.default.number),lockAspectRatio:t.default.bool,maxConstraints:t.default.arrayOf(t.default.number),minConstraints:t.default.arrayOf(t.default.number),onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,resizeHandles:t.default.arrayOf(t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:t.default.number,width:function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];const[u]=s;return u.axis==="both"||u.axis==="x"?t.default.number.isRequired(...s):t.default.number(...s)}},Nl}var Fx;function _1(){if(Fx)return El;Fx=1,El.__esModule=!0,El.default=void 0;var t=u(Po()),a=Rm(),o=J5(),s=D1();const i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function u(b,S){if(typeof WeakMap=="function")var w=new WeakMap,j=new WeakMap;return(u=function(R,A){if(!A&&R&&R.__esModule)return R;var _,k,D={__proto__:null,default:R};if(R===null||typeof R!="object"&&typeof R!="function")return D;if(_=A?j:w){if(_.has(R))return _.get(R);_.set(R,D)}for(const M in R)M!=="default"&&{}.hasOwnProperty.call(R,M)&&((k=(_=Object.defineProperty)&&Object.getOwnPropertyDescriptor(R,M))&&(k.get||k.set)?_(D,M,k):D[M]=R[M]);return D})(b,S)}function d(){return d=Object.assign?Object.assign.bind():function(b){for(var S=1;S<arguments.length;S++){var w=arguments[S];for(var j in w)({}).hasOwnProperty.call(w,j)&&(b[j]=w[j])}return b},d.apply(null,arguments)}function p(b,S){if(b==null)return{};var w,j,R=h(b,S);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(b);for(j=0;j<A.length;j++)w=A[j],S.indexOf(w)===-1&&{}.propertyIsEnumerable.call(b,w)&&(R[w]=b[w])}return R}function h(b,S){if(b==null)return{};var w={};for(var j in b)if({}.hasOwnProperty.call(b,j)){if(S.indexOf(j)!==-1)continue;w[j]=b[j]}return w}function g(b,S){var w=Object.keys(b);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(b);S&&(j=j.filter(function(R){return Object.getOwnPropertyDescriptor(b,R).enumerable})),w.push.apply(w,j)}return w}function x(b){for(var S=1;S<arguments.length;S++){var w=arguments[S]!=null?arguments[S]:{};S%2?g(Object(w),!0).forEach(function(j){y(b,j,w[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(w)):g(Object(w)).forEach(function(j){Object.defineProperty(b,j,Object.getOwnPropertyDescriptor(w,j))})}return b}function y(b,S,w){return(S=C(S))in b?Object.defineProperty(b,S,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[S]=w,b}function C(b){var S=T(b,"string");return typeof S=="symbol"?S:S+""}function T(b,S){if(typeof b!="object"||!b)return b;var w=b[Symbol.toPrimitive];if(w!==void 0){var j=w.call(b,S);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(b)}let E=class extends t.Component{constructor(){super(...arguments),this.handleRefs={},this.lastHandleRect=null,this.slack=null,this.lastSize=null}componentWillUnmount(){this.resetData()}resetData(){this.lastHandleRect=this.slack=this.lastSize=null}runConstraints(S,w){const{minConstraints:j,maxConstraints:R,lockAspectRatio:A}=this.props;if(!j&&!R&&!A)return[S,w];if(A){const z=this.props.width/this.props.height,I=S-this.props.width,$=w-this.props.height;Math.abs(I)>Math.abs($*z)?w=S/z:S=w*z}const[_,k]=[S,w];let[D,M]=this.slack||[0,0];return S+=D,w+=M,j&&(S=Math.max(j[0],S),w=Math.max(j[1],w)),R&&(S=Math.min(R[0],S),w=Math.min(R[1],w)),this.slack=[D+(_-S),M+(k-w)],[S,w]}resizeHandler(S,w){return(j,R)=>{let{node:A,deltaX:_,deltaY:k}=R;S==="onResizeStart"&&this.resetData();const D=(this.props.axis==="both"||this.props.axis==="x")&&w!=="n"&&w!=="s",M=(this.props.axis==="both"||this.props.axis==="y")&&w!=="e"&&w!=="w";if(!D&&!M)return;const z=w[0],I=w[w.length-1],$=A.getBoundingClientRect();if(this.lastHandleRect!=null){if(I==="w"){const H=$.left-this.lastHandleRect.left;_+=H}if(z==="n"){const H=$.top-this.lastHandleRect.top;k+=H}}this.lastHandleRect=$,I==="w"&&(_=-_),z==="n"&&(k=-k);let G=this.props.width+(D?_/this.props.transformScale:0),q=this.props.height+(M?k/this.props.transformScale:0);[G,q]=this.runConstraints(G,q),S==="onResizeStop"&&this.lastSize&&({width:G,height:q}=this.lastSize);const X=G!==this.props.width||q!==this.props.height;S!=="onResizeStop"&&(this.lastSize={width:G,height:q});const ae=typeof this.props[S]=="function"?this.props[S]:null;ae&&!(S==="onResize"&&!X)&&(j.persist?.(),ae(j,{node:A,size:{width:G,height:q},handle:w})),S==="onResizeStop"&&this.resetData()}}renderResizeHandle(S,w){const{handle:j}=this.props;if(!j)return t.createElement("span",{className:`react-resizable-handle react-resizable-handle-${S}`,ref:w});if(typeof j=="function")return j(S,w);const R=typeof j.type=="string",A=x({ref:w},R?{}:{handleAxis:S});return t.cloneElement(j,A)}render(){const S=this.props,{children:w,className:j,draggableOpts:R,width:A,height:_,handle:k,handleSize:D,lockAspectRatio:M,axis:z,minConstraints:I,maxConstraints:$,onResize:G,onResizeStop:q,onResizeStart:X,resizeHandles:ae,transformScale:L}=S,H=p(S,i);return(0,o.cloneElement)(w,x(x({},H),{},{className:`${j?`${j} `:""}react-resizable`,children:[...t.Children.toArray(w.props.children),...ae.map(P=>{const V=this.handleRefs[P]??(this.handleRefs[P]=t.createRef());return t.createElement(a.DraggableCore,d({},R,{nodeRef:V,key:`resizableHandle-${P}`,onStop:this.resizeHandler("onResizeStop",P),onStart:this.resizeHandler("onResizeStart",P),onDrag:this.resizeHandler("onResize",P)}),this.renderResizeHandle(P,V))})]}))}};return El.default=E,E.propTypes=s.resizableProps,E.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},El}var jl={},Yx;function ez(){if(Yx)return jl;Yx=1,jl.__esModule=!0,jl.default=void 0;var t=d(Po()),a=u(gu()),o=u(_1()),s=D1();const i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function u(S){return S&&S.__esModule?S:{default:S}}function d(S,w){if(typeof WeakMap=="function")var j=new WeakMap,R=new WeakMap;return(d=function(A,_){if(!_&&A&&A.__esModule)return A;var k,D,M={__proto__:null,default:A};if(A===null||typeof A!="object"&&typeof A!="function")return M;if(k=_?R:j){if(k.has(A))return k.get(A);k.set(A,M)}for(const z in A)z!=="default"&&{}.hasOwnProperty.call(A,z)&&((D=(k=Object.defineProperty)&&Object.getOwnPropertyDescriptor(A,z))&&(D.get||D.set)?k(M,z,D):M[z]=A[z]);return M})(S,w)}function p(){return p=Object.assign?Object.assign.bind():function(S){for(var w=1;w<arguments.length;w++){var j=arguments[w];for(var R in j)({}).hasOwnProperty.call(j,R)&&(S[R]=j[R])}return S},p.apply(null,arguments)}function h(S,w){var j=Object.keys(S);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(S);w&&(R=R.filter(function(A){return Object.getOwnPropertyDescriptor(S,A).enumerable})),j.push.apply(j,R)}return j}function g(S){for(var w=1;w<arguments.length;w++){var j=arguments[w]!=null?arguments[w]:{};w%2?h(Object(j),!0).forEach(function(R){x(S,R,j[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(j)):h(Object(j)).forEach(function(R){Object.defineProperty(S,R,Object.getOwnPropertyDescriptor(j,R))})}return S}function x(S,w,j){return(w=y(w))in S?Object.defineProperty(S,w,{value:j,enumerable:!0,configurable:!0,writable:!0}):S[w]=j,S}function y(S){var w=C(S,"string");return typeof w=="symbol"?w:w+""}function C(S,w){if(typeof S!="object"||!S)return S;var j=S[Symbol.toPrimitive];if(j!==void 0){var R=j.call(S,w);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(S)}function T(S,w){if(S==null)return{};var j,R,A=E(S,w);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);for(R=0;R<_.length;R++)j=_[R],w.indexOf(j)===-1&&{}.propertyIsEnumerable.call(S,j)&&(A[j]=S[j])}return A}function E(S,w){if(S==null)return{};var j={};for(var R in S)if({}.hasOwnProperty.call(S,R)){if(w.indexOf(R)!==-1)continue;j[R]=S[R]}return j}let b=class extends t.Component{constructor(){super(...arguments),this.state={width:this.props.width,height:this.props.height,propsWidth:this.props.width,propsHeight:this.props.height},this.onResize=(w,j)=>{const{size:R}=j;this.props.onResize?(w.persist?.(),this.setState(R,()=>this.props.onResize&&this.props.onResize(w,j))):this.setState(R)}}static getDerivedStateFromProps(w,j){return j.propsWidth!==w.width||j.propsHeight!==w.height?{width:w.width,height:w.height,propsWidth:w.width,propsHeight:w.height}:null}render(){const w=this.props,{handle:j,handleSize:R,onResize:A,onResizeStart:_,onResizeStop:k,draggableOpts:D,minConstraints:M,maxConstraints:z,lockAspectRatio:I,axis:$,width:G,height:q,resizeHandles:X,style:ae,transformScale:L}=w,H=T(w,i);return t.createElement(o.default,{axis:$,draggableOpts:D,handle:j,handleSize:R,height:this.state.height,lockAspectRatio:I,maxConstraints:z,minConstraints:M,onResizeStart:_,onResize:this.onResize,onResizeStop:k,resizeHandles:X,transformScale:L,width:this.state.width},t.createElement("div",p({},H,{style:g(g({},ae),{},{width:this.state.width+"px",height:this.state.height+"px"})})))}};return jl.default=b,b.propTypes=g(g({},s.resizableProps),{},{children:a.default.element}),jl}var Vx;function tz(){return Vx||(Vx=1,Cl.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Cl.exports.Resizable=_1().default,Cl.exports.ResizableBox=ez().default),Cl.exports}var nz=tz();function Gx(t){const{children:a,cols:o,containerWidth:s,margin:i,containerPadding:u,rowHeight:d,maxRows:p,isDraggable:h,isResizable:g,isBounded:x,static:y,useCSSTransforms:C=!0,usePercentages:T=!1,transformScale:E=1,positionStrategy:b,dragThreshold:S=0,droppingPosition:w,className:j="",style:R,handle:A="",cancel:_="",x:k,y:D,w:M,h:z,minW:I=1,maxW:$=1/0,minH:G=1,maxH:q=1/0,i:X,resizeHandles:ae,resizeHandle:L,constraints:H=m1,layoutItem:P,layout:V=[],onDragStart:ce,onDrag:U,onDragStop:Y,onResizeStart:Q,onResize:oe,onResizeStop:de}=t,[pe,W]=m.useState(!1),[ye,fe]=m.useState(!1),me=m.useRef(null),he=m.useRef({left:0,top:0}),be=m.useRef({top:0,left:0,width:0,height:0}),Ae=m.useRef(void 0),Je=m.useRef(V);Je.current=V;const ft=m.useRef(null),rt=m.useRef(null),st=m.useRef(!1),bn=m.useRef({x:0,y:0}),at=m.useRef(!1),et=m.useMemo(()=>({cols:o,containerPadding:u,containerWidth:s,margin:i,maxRows:p,rowHeight:d}),[o,u,s,i,p,d]),Tt=m.useMemo(()=>({cols:o,maxRows:p,containerWidth:s,containerHeight:0,rowHeight:d,margin:i,layout:[]}),[o,p,s,d,i]),Rt=m.useCallback(()=>({...Tt,layout:Je.current}),[Tt]),rn=m.useMemo(()=>P??{i:X,x:k,y:D,w:M,h:z,minW:I,maxW:$,minH:G,maxH:q},[P,X,k,D,M,z,I,$,G,q]),kt=m.useCallback(Pe=>{if(b?.calcStyle)return b.calcStyle(Pe);if(C)return h1(Pe);const He=f5(Pe);return T?{...He,left:jx(Pe.left/s),width:jx(Pe.width/s)}:He},[b,C,T,s]),dn=m.useCallback((Pe,{node:He})=>{if(!ce)return;const{offsetParent:ct}=He;if(!ct)return;const Ze=ct.getBoundingClientRect(),Lt=He.getBoundingClientRect(),Yt=Lt.left/E,Vt=Ze.left/E,Dt=Lt.top/E,pn=Ze.top/E;let ln;if(b?.calcDragPosition){const ze=Pe;ln=b.calcDragPosition(ze.clientX,ze.clientY,ze.clientX-Lt.left,ze.clientY-Lt.top)}else ln={left:Yt-Vt+ct.scrollLeft,top:Dt-pn+ct.scrollTop};if(he.current=ln,S>0){const ze=Pe;bn.current={x:ze.clientX,y:ze.clientY},st.current=!0,at.current=!1,W(!0);return}W(!0);const Zn=mc(et,ln.top,ln.left),{x:Jn,y:Ee}=hc(H,rn,Zn.x,Zn.y,Rt());ce(X,Jn,Ee,{e:Pe,node:He,newPosition:ln})},[ce,E,et,b,S,H,rn,Rt,X]),Kn=m.useCallback((Pe,{node:He,deltaX:ct,deltaY:Ze})=>{if(!U||!pe)return;const Lt=Pe;if(st.current&&!at.current){const Jn=Lt.clientX-bn.current.x,Ee=Lt.clientY-bn.current.y;if(Math.hypot(Jn,Ee)<S)return;if(at.current=!0,st.current=!1,ce){const Te=mc(et,he.current.top,he.current.left),{x:We,y:Fe}=hc(H,rn,Te.x,Te.y,Rt());ce(X,We,Fe,{e:Pe,node:He,newPosition:he.current})}}let Yt=he.current.top+Ze,Vt=he.current.left+ct;if(x){const{offsetParent:Jn}=He;if(Jn){const Ee=Jn.clientHeight-ps(z,d,i[1]);Yt=Pc(Yt,0,Ee);const ze=Rs(et),Te=s-ps(M,ze,i[0]);Vt=Pc(Vt,0,Te)}}const Dt={top:Yt,left:Vt};he.current=Dt;const pn=mc(et,Yt,Vt),{x:ln,y:Zn}=hc(H,rn,pn.x,pn.y,Rt());U(X,ln,Zn,{e:Pe,node:He,newPosition:Dt})},[U,ce,pe,S,x,z,d,i,et,s,M,X,H,rn,Rt]),Sn=m.useCallback((Pe,{node:He})=>{if(!Y||!pe)return;const ct=st.current;if(st.current=!1,at.current=!1,bn.current={x:0,y:0},ct){W(!1),he.current={left:0,top:0};return}const{left:Ze,top:Lt}=he.current,Yt={top:Lt,left:Ze};W(!1),he.current={left:0,top:0};const Vt=mc(et,Lt,Ze),{x:Dt,y:pn}=hc(H,rn,Vt.x,Vt.y,Rt());Y(X,Dt,pn,{e:Pe,node:He,newPosition:Yt})},[Y,pe,et,H,rn,Rt,X]);ft.current=dn,rt.current=Kn;const It=m.useCallback((Pe,{node:He,size:ct,handle:Ze},Lt,Yt)=>{const Vt=Yt==="onResizeStart"?Q:Yt==="onResize"?oe:de;if(!Vt)return;let Dt;He?Dt=b5(Ze,Lt,ct,s):Dt={...ct,top:Lt.top,left:Lt.left},be.current=Dt;const pn=a5(et,Dt.width,Dt.height),{w:ln,h:Zn}=d5(H,rn,pn.w,pn.h,Ze,Rt());Vt(X,ln,Zn,{e:Pe.nativeEvent,node:He,size:Dt,handle:Ze})},[Q,oe,de,s,et,X,H,rn,Rt]),Wn=m.useCallback((Pe,He)=>{fe(!0);const ct=bl(et,k,D,M,z),Ze={...He,handle:He.handle};It(Pe,Ze,ct,"onResizeStart")},[It,et,k,D,M,z]),Qn=m.useCallback((Pe,He)=>{const ct=bl(et,k,D,M,z),Ze={...He,handle:He.handle};It(Pe,Ze,ct,"onResize")},[It,et,k,D,M,z]),An=m.useCallback((Pe,He)=>{fe(!1),be.current={top:0,left:0,width:0,height:0};const ct=bl(et,k,D,M,z),Ze={...He,handle:He.handle};It(Pe,Ze,ct,"onResizeStop")},[It,et,k,D,M,z]);m.useEffect(()=>{if(!w)return;const Pe=me.current;if(!Pe)return;const He=Ae.current||{left:0,top:0},ct=pe&&(w.left!==He.left||w.top!==He.top);if(pe){if(ct){const Ze=w.left-he.current.left,Lt=w.top-he.current.top,Yt={node:Pe,deltaX:Ze,deltaY:Lt,lastX:he.current.left,lastY:he.current.top,x:w.left,y:w.top};rt.current?.(w.e,Yt)}}else{const Ze={node:Pe,deltaX:w.left,deltaY:w.top,lastX:0,lastY:0,x:w.left,y:w.top};ft.current?.(w.e,Ze)}Ae.current=w},[w,pe,X]);const fn=bl(et,k,D,M,z,pe?he.current:null,ye?be.current:null),wn=St.Children.only(a),Mt=bl(et,0,0,1,1),sn=[Mt.width,Mt.height],zt=[1/0,1/0],Kt=wn.props,Io=Kt.className,qo=Kt.style;let le=St.cloneElement(wn,{ref:me,className:fu("react-grid-item",Io,j,{static:y,resizing:ye,"react-draggable":h,"react-draggable-dragging":pe,dropping:!!w,cssTransforms:C}),style:{...R,...qo,...kt(fn)}});const it=L;return le=c.jsx(nz.Resizable,{draggableOpts:{disabled:!g},className:g?void 0:"react-resizable-hide",width:fn.width,height:fn.height,minConstraints:sn,maxConstraints:zt,onResizeStart:Wn,onResize:Qn,onResizeStop:An,transformScale:E,resizeHandles:ae,handle:it,children:le}),le=c.jsx(Z5.DraggableCore,{disabled:!h,onStart:dn,onDrag:Kn,onStop:Sn,handle:A,cancel:".react-resizable-handle"+(_?","+_:""),scale:E,nodeRef:me,children:le}),le}var Ga=()=>{},Xx="react-grid-layout",A1=!1;try{A1=/firefox/i.test(navigator.userAgent)}catch{}function az(t,a){const o=St.Children.toArray(t),s=St.Children.toArray(a);if(o.length!==s.length)return!1;for(let i=0;i<o.length;i++){const u=o[i],d=s[i];if(u?.key!==d?.key)return!1}return!0}function Kx(t,a,o,s){const i=[],u=new Set;St.Children.forEach(a,p=>{if(!St.isValidElement(p)||p.key===null)return;const h=String(p.key);u.add(h);const g=t.find(x=>x.i===h);if(g)i.push(ms(g));else{const y=p.props["data-grid"];y?i.push({i:h,x:y.x??0,y:y.y??0,w:y.w??1,h:y.h??1,minW:y.minW,maxW:y.maxW,minH:y.minH,maxH:y.maxH,static:y.static,isDraggable:y.isDraggable,isResizable:y.isResizable,resizeHandles:y.resizeHandles,isBounded:y.isBounded}):i.push({i:h,x:0,y:bm(i),w:1,h:1})}});const d=i5(i,{cols:o});return s.compact(d,o)}function oz(t){const{children:a,width:o,gridConfig:s,dragConfig:i,resizeConfig:u,dropConfig:d,positionStrategy:p=w5,compactor:h,constraints:g=m1,layout:x=[],droppingItem:y,autoSize:C=!0,className:T="",style:E={},innerRef:b,onLayoutChange:S=Ga,onDragStart:w=Ga,onDrag:j=Ga,onDragStop:R=Ga,onResizeStart:A=Ga,onResize:_=Ga,onResizeStop:k=Ga,onDrop:D=Ga,onDropDragOver:M=Ga}=t,z=m.useMemo(()=>({...C5,...s}),[s]),I=m.useMemo(()=>({...E5,...i}),[i]),$=m.useMemo(()=>({...N5,...u}),[u]),G=m.useMemo(()=>({...j5,...d}),[d]),{cols:q,rowHeight:X,maxRows:ae,margin:L,containerPadding:H}=z,{enabled:P,bounded:V,handle:ce,cancel:U,threshold:Y}=I,{enabled:Q,handles:oe,handleComponent:de}=$,{enabled:pe,defaultItem:W,onDragOver:ye}=G,fe=h??M5(),me=fe.type,he=fe.allowOverlap,be=fe.preventCollision??!1,Ae=m.useMemo(()=>y??{i:"__dropping-elem__",...W},[y,W]),Je=p.type==="transform",ft=p.scale,rt=H??L,[st,bn]=m.useState(!1),[at,et]=m.useState(()=>Kx(x,a,q,fe)),[Tt,Rt]=m.useState(null),[rn,kt]=m.useState(!1),[dn,Kn]=m.useState(null),[Sn,It]=m.useState(),Wn=m.useRef(null),Qn=m.useRef(null),An=m.useRef(null),fn=m.useRef(0),wn=m.useRef(at),Mt=m.useRef(x),sn=m.useRef(a),zt=m.useRef(me),Kt=m.useRef(at);Kt.current=at,m.useEffect(()=>{bn(!0),as(at,x)||S(at)},[]),m.useEffect(()=>{if(Tt||dn)return;const Ee=!as(x,Mt.current),ze=!az(a,sn.current),Te=me!==zt.current;if(Ee||ze||Te){const Fe=Kx(Ee?x:at,a,q,fe);as(Fe,at)||et(Fe)}Mt.current=x,sn.current=a,zt.current=me},[x,a,q,me,fe,Tt,dn,at]),m.useEffect(()=>{if(!Tt&&!as(at,wn.current)){wn.current=at;const Ee=at.filter(ze=>ze.i!==Ae.i);S(Ee)}},[at,Tt,S,Ae.i]);const Io=m.useMemo(()=>{if(!C)return;const Ee=bm(at),ze=rt[1];return Ee*X+(Ee-1)*L[1]+ze*2+"px"},[C,at,X,L,rt]),qo=m.useCallback((Ee,ze,Te,We)=>{const Fe=Kt.current,_e=lr(Fe,Ee);if(!_e)return;const Ie={w:_e.w,h:_e.h,x:_e.x,y:_e.y,i:Ee};Wn.current=ms(_e),An.current=Fe,Rt(Ie),w(Fe,_e,_e,null,We.e,We.node)},[w]),le=m.useCallback((Ee,ze,Te,We)=>{const Fe=Kt.current,_e=Wn.current,Ie=lr(Fe,Ee);if(!Ie)return;const yt={w:Ie.w,h:Ie.h,x:Ie.x,y:Ie.y,i:Ee},pt=ir(Fe,Ie,ze,Te,!0,be,me,q,he);j(pt,_e,Ie,yt,We.e,We.node),et(fe.compact(pt,q)),Rt(yt)},[be,me,q,he,fe,j]),it=m.useCallback((Ee,ze,Te,We)=>{if(!Tt)return;const Fe=Kt.current,_e=Wn.current,Ie=lr(Fe,Ee);if(!Ie)return;const yt=ir(Fe,Ie,ze,Te,!0,be,me,q,he),pt=fe.compact(yt,q);R(pt,_e,Ie,null,We.e,We.node);const Gt=An.current;Wn.current=null,An.current=null,Rt(null),et(pt),Gt&&!as(Gt,pt)&&S(pt)},[Tt,be,me,q,he,fe,R,S]),Pe=m.useCallback((Ee,ze,Te,We)=>{const Fe=Kt.current,_e=lr(Fe,Ee);_e&&(Qn.current=ms(_e),An.current=Fe,kt(!0),A(Fe,_e,_e,null,We.e,We.node))},[A]),He=m.useCallback((Ee,ze,Te,We)=>{const Fe=Kt.current,_e=Qn.current,{handle:Ie}=We;let yt=!1,pt,Gt;const[yr,On]=l5(Fe,Ee,lt=>(pt=lt.x,Gt=lt.y,["sw","w","nw","n","ne"].includes(Ie)&&(["sw","nw","w"].includes(Ie)&&(pt=lt.x+(lt.w-ze),ze=lt.x!==pt&&pt<0?lt.w:ze,pt=pt<0?0:pt),["ne","n","nw"].includes(Ie)&&(Gt=lt.y+(lt.h-Te),Te=lt.y!==Gt&&Gt<0?lt.h:Te,Gt=Gt<0?0:Gt),yt=!0),be&&!he&&f1(Fe,{...lt,w:ze,h:Te,x:pt??lt.x,y:Gt??lt.y}).filter(pa=>pa.i!==lt.i).length>0&&(Gt=lt.y,Te=lt.h,pt=lt.x,ze=lt.w,yt=!1),lt.w=ze,lt.h=Te,lt));if(!On)return;let ea=yr;yt&&pt!==void 0&&Gt!==void 0&&(ea=ir(yr,On,pt,Gt,!0,be,me,q,he));const to={w:On.w,h:On.h,x:On.x,y:On.y,i:Ee,static:!0};_(ea,_e,On,to,We.e,We.node),et(fe.compact(ea,q)),Rt(to)},[be,me,q,he,fe,_]),ct=m.useCallback((Ee,ze,Te,We)=>{const Fe=Kt.current,_e=Qn.current,Ie=lr(Fe,Ee),yt=fe.compact(Fe,q);k(yt,_e,Ie??null,null,We.e,We.node);const pt=An.current;Qn.current=null,An.current=null,Rt(null),kt(!1),et(yt),pt&&!as(pt,yt)&&S(yt)},[q,fe,k,S]),Ze=m.useCallback(()=>{const Ee=Kt.current;if(!Ee.some(We=>We.i===Ae.i)){Kn(null),Rt(null),It(void 0);return}const Te=fe.compact(Ee.filter(We=>We.i!==Ae.i),q);et(Te),Kn(null),Rt(null),It(void 0)},[Ae.i,q,fe]),Lt=m.useCallback(Ee=>{if(Ee.preventDefault(),Ee.stopPropagation(),A1&&!Ee.nativeEvent.target?.classList.contains(Xx))return!1;const ze=ye?ye(Ee.nativeEvent):M(Ee);if(ze===!1)return dn&&Ze(),!1;const{dragOffsetX:Te=0,dragOffsetY:We=0,...Fe}=ze??{},_e={...Ae,...Fe},Ie=Ee.currentTarget.getBoundingClientRect(),yt={cols:q,margin:L,maxRows:ae,rowHeight:X,containerWidth:o,containerPadding:rt},pt=Rs(yt),Gt=ps(_e.w,pt,L[0]),yr=ps(_e.h,X,L[1]),On=Gt/2,ea=yr/2,to=Ee.clientX-Ie.left+Te-On,lt=Ee.clientY-Ie.top+We-ea,fa=Math.max(0,to),pa=Math.max(0,lt),ta={left:fa/ft,top:pa/ft,e:Ee.nativeEvent};if(dn)Sn&&(Sn.left!==ta.left||Sn.top!==ta.top)&&It(ta);else{const Et=n5(yt,pa,fa,_e.w,_e.h);Kn(c.jsx("div",{},_e.i)),It(ta),et([...Kt.current,{..._e,x:Et.x,y:Et.y,static:!1,isDraggable:!0}])}},[dn,Sn,Ae,ye,M,Ze,ft,q,L,ae,X,o,rt]),Yt=m.useCallback(Ee=>{Ee.preventDefault(),Ee.stopPropagation(),fn.current--,fn.current<0&&(fn.current=0),fn.current===0&&Ze()},[Ze]),Vt=m.useCallback(Ee=>{Ee.preventDefault(),Ee.stopPropagation(),fn.current++},[]),Dt=m.useCallback(Ee=>{Ee.preventDefault(),Ee.stopPropagation();const ze=Kt.current,Te=ze.find(We=>We.i===Ae.i);fn.current=0,Ze(),D(ze,Te,Ee.nativeEvent)},[Ae.i,Ze,D]),pn=m.useCallback((Ee,ze)=>{if(!Ee||!Ee.key)return null;const Te=lr(at,String(Ee.key));if(!Te)return null;const We=typeof Te.isDraggable=="boolean"?Te.isDraggable:!Te.static&&P,Fe=typeof Te.isResizable=="boolean"?Te.isResizable:!Te.static&&Q,_e=Te.resizeHandles||[...oe],Ie=We&&V&&Te.isBounded!==!1,yt=de;return c.jsx(Gx,{containerWidth:o,cols:q,margin:L,containerPadding:rt,maxRows:ae,rowHeight:X,cancel:U,handle:ce,onDragStart:qo,onDrag:le,onDragStop:it,onResizeStart:Pe,onResize:He,onResizeStop:ct,isDraggable:We,isResizable:Fe,isBounded:Ie,useCSSTransforms:Je&&st,usePercentages:!st,transformScale:ft,positionStrategy:p,dragThreshold:Y,w:Te.w,h:Te.h,x:Te.x,y:Te.y,i:Te.i,minH:Te.minH,minW:Te.minW,maxH:Te.maxH,maxW:Te.maxW,static:Te.static,droppingPosition:ze?Sn:void 0,resizeHandles:_e,resizeHandle:yt,constraints:g,layoutItem:Te,layout:at,children:Ee},Te.i)},[at,o,q,L,rt,ae,X,U,ce,qo,le,it,Pe,He,ct,P,Q,V,Je,st,ft,p,Y,Sn,oe,de,g]),ln=()=>Tt?c.jsx(Gx,{w:Tt.w,h:Tt.h,x:Tt.x,y:Tt.y,i:Tt.i,className:`react-grid-placeholder ${rn?"placeholder-resizing":""}`,containerWidth:o,cols:q,margin:L,containerPadding:rt,maxRows:ae,rowHeight:X,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:Je,transformScale:ft,constraints:g,layout:at,children:c.jsx("div",{})}):null,Zn=fu(Xx,T),Jn={height:Io,...E};return c.jsxs("div",{ref:b,className:Zn,style:Jn,onDrop:pe?Dt:void 0,onDragLeave:pe?Yt:void 0,onDragEnter:pe?Vt:void 0,onDragOver:pe?Lt:void 0,children:[St.Children.map(a,Ee=>St.isValidElement(Ee)?pn(Ee):null),pe&&dn&&pn(dn,!0),ln()]})}const Rp=m.forwardRef(({title:t,subtitle:a,draggable:o=!1,closeable:s=!1,onClose:i,isMaximized:u=!1,onMaximize:d,headerActions:p,headerContent:h,showHeader:g=!0,className:x,children:y,...C},T)=>c.jsxs("div",{ref:T,className:ve("panel-glass flex flex-col overflow-hidden",u&&"h-full",x),...C,children:[g&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:ve("from-primary/5 to-secondary/5 border-primary/10 flex items-center justify-between border-b bg-gradient-to-r px-4 py-3",o&&"drag-handle cursor-move"),children:h||c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-primary flex-1 text-xs font-bold tracking-widest uppercase",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[p,d&&c.jsx("button",{onClick:E=>{E.stopPropagation(),d()},className:"hover:bg-primary/20 cursor-pointer touch-manipulation rounded p-2 transition-colors","aria-label":u?"Minimize panel":"Maximize panel",title:u?"Minimize panel":"Maximize panel",children:u?c.jsx(Pj,{className:"h-4 w-4"}):c.jsx(Oj,{className:"h-4 w-4"})}),s&&c.jsx("button",{onClick:E=>{E.stopPropagation(),i?.()},className:"hover:bg-destructive/20 cursor-pointer touch-manipulation rounded p-2 transition-colors","aria-label":"Close panel",children:c.jsx(mr,{className:"h-4 w-4"})})]})]})}),a&&c.jsx("div",{className:"border-border bg-muted/30 border-b px-4 py-2",children:c.jsx("span",{className:"text-muted-foreground font-mono text-xs",children:a})})]}),c.jsx("div",{className:"min-h-0 flex-1 overflow-auto",onMouseDown:E=>o&&E.stopPropagation(),onPointerDown:E=>o&&E.stopPropagation(),children:y})]}));Rp.displayName="Panel";function rz({onRecordingComplete:t}={}){const[a,o]=m.useState([]),[s,i]=m.useState(""),[u,d]=m.useState(!1),[p,h]=m.useState(0),[g,x]=m.useState(0),[y,C]=m.useState(new Array(32).fill(0)),[T,E]=m.useState(!1),b=m.useRef(null),S=m.useRef(null),w=m.useRef(null),j=m.useRef(null),R=m.useRef(null),A=m.useRef(null),_=m.useRef([]),k=m.useRef(0),D=m.useRef([]),M=m.useRef(0),z=m.useCallback(H=>H.includes("BlackHole")?0:H.includes("Microphone")?1:H.includes("Speakers")?2:H.includes("Multi-Output")?3:0,[]);m.useEffect(()=>{const H=async()=>{try{const P=await navigator.mediaDevices.getUserMedia({audio:!0}),ce=(await navigator.mediaDevices.enumerateDevices()).filter(U=>U.kind==="audioinput").map(U=>({deviceId:U.deviceId,label:U.label||`Audio Input ${U.deviceId.slice(0,5)}`,kind:U.kind}));P.getTracks().forEach(U=>U.stop()),o(ce),D.current=ce,ce.length>0&&!s&&i(ce[0].deviceId),console.log("Audio input devices detected:",ce)}catch(P){console.error("Failed to enumerate audio devices:",P),ue.error("Failed to access audio devices. Grant microphone permission.")}};return H(),navigator.mediaDevices.addEventListener("devicechange",H),()=>{navigator.mediaDevices.removeEventListener("devicechange",H)}},[]);const I=m.useCallback(()=>{if(!w.current)return;const H=new Uint8Array(w.current.frequencyBinCount);w.current.getByteTimeDomainData(H);let P=0;for(let de=0;de<H.length;de++){const pe=(H[de]-128)/128;P+=pe*pe}const V=Math.sqrt(P/H.length),ce=20*Math.log10(V+1e-4);h(Math.max(-60,Math.min(0,ce)));const U=new Uint8Array(w.current.frequencyBinCount);w.current.getByteFrequencyData(U);const Y=32,Q=[],oe=Math.floor(U.length/Y);for(let de=0;de<Y;de++){let pe=0;for(let W=0;W<oe;W++)pe+=U[de*oe+W];Q.push(pe/oe/255)}C(Q),R.current=requestAnimationFrame(I)},[]),$=m.useCallback(async H=>{try{S.current&&S.current.getTracks().forEach(Q=>Q.stop()),(!b.current||b.current.state==="closed")&&(b.current=new AudioContext),b.current.state==="suspended"&&await b.current.resume();const P=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:H},echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}});S.current=P,console.log(" Media stream acquired, tracks:",P.getTracks().map(Q=>({kind:Q.kind,label:Q.label,enabled:Q.enabled,muted:Q.muted,readyState:Q.readyState,settings:Q.getSettings()})));const V=b.current.createAnalyser();V.fftSize=2048,V.smoothingTimeConstant=.8,w.current=V;const ce=b.current.createGain(),U=Math.pow(10,M.current/20);ce.gain.value=U,j.current=ce,b.current.createMediaStreamSource(P).connect(ce),ce.connect(V),I(),console.log(" Audio input started:",H),console.log("   Audio context state:",b.current.state),console.log("   Sample rate:",b.current.sampleRate)}catch(P){console.error("Failed to start audio input:",P),ue.error("Failed to start audio input")}},[I]),G=m.useCallback(()=>{R.current&&(cancelAnimationFrame(R.current),R.current=null),S.current&&(S.current.getTracks().forEach(H=>H.stop()),S.current=null),b.current&&b.current.state!=="closed"&&(b.current.close(),b.current=null),w.current=null,j.current=null,h(0),C(new Array(32).fill(0)),console.log(" Audio input stopped")},[]),q=m.useCallback(async H=>{try{const P=D.current.find(U=>U.deviceId===H)?.label||"",V=z(P),ce=Math.pow(10,M.current/20);await ge.audio.setInputDevice({device_index:V,amp:ce}),console.log(` SuperCollider input set to device ${V} (${P})`)}catch(P){console.warn("SuperCollider input not available:",P)}},[z]),X=m.useCallback(async()=>{try{await ge.audio.stopInput(),console.log(" SuperCollider input stopped")}catch(H){console.warn("Failed to stop SuperCollider input:",H)}},[]),ae=m.useCallback(H=>{if(x(H),M.current=H,j.current){const P=Math.pow(10,H/20);j.current.gain.value=P}if(u&&s){const P=Math.pow(10,H/20);ge.audio.setInputGain({amp:P}).catch(V=>{console.warn("Failed to update SuperCollider gain:",V)})}},[u,s]),L=m.useCallback(async()=>{if(T)A.current&&A.current.state==="recording"&&A.current.stop();else try{let H=S.current;if(!H){const V=s||D.current[0]?.deviceId;if(!V){ue.error("No audio input device available");return}H=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:V}}}),S.current=H,console.log(" Created media stream for recording")}const P=new MediaRecorder(H,{mimeType:"audio/webm;codecs=opus"});_.current=[],k.current=Date.now(),P.ondataavailable=V=>{V.data.size>0&&_.current.push(V.data)},P.onstop=async()=>{const V=new Blob(_.current,{type:"audio/webm"}),ce=(Date.now()-k.current)/1e3,U=new File([V],`recording-${Date.now()}.webm`,{type:"audio/webm"});E(!1),t&&await t(U,ce)},P.start(),A.current=P,E(!0),console.log(" Recording started")}catch(H){console.error("Failed to start recording:",H),ue.error("Failed to start recording")}},[T,t,s]);return m.useEffect(()=>{if(u&&s)return console.log(" Starting monitoring for device:",s),$(s),q(s),()=>{console.log(" Cleanup: stopping monitoring"),G(),X()};u||(console.log(" Monitoring disabled, stopping audio"),G(),X())},[u,s]),{audioInputDevices:a,selectedInputDevice:s,isMonitoring:u,inputLevel:p,gain:g,spectrumData:y,isRecording:T,setSelectedInputDevice:i,setIsMonitoring:d,handleGainChange:ae,handleStartRecording:L}}const Ft=m.forwardRef(({title:t,headerActions:a,showHeader:o=!0,collapsible:s=!1,defaultCollapsed:i=!1,contentOverflow:u="auto",className:d,children:p,...h},g)=>{const[x,y]=m.useState(i);return c.jsxs("div",{ref:g,className:ve("bg-card/20 border-primary/5 flex flex-1 flex-col overflow-hidden border min-h-0",d),...h,children:[o&&(t||a||s)&&c.jsxs("div",{className:"border-primary/5 bg-card/10 flex items-center justify-between border-b px-3 py-2",children:[t&&c.jsx("h3",{className:"text-muted-foreground text-xs font-semibold uppercase tracking-wider",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[a,s&&c.jsx(Le,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:()=>y(!x),title:x?"Expand":"Collapse",children:x?c.jsx(ys,{className:"h-3 w-3"}):c.jsx(j0,{className:"h-3 w-3"})})]})]}),!x&&c.jsx("div",{className:ve("flex min-h-0 flex-1 flex-col",u==="auto"?"overflow-auto":"overflow-hidden"),children:p})]})});Ft.displayName="SubPanel";function Oo({...t}){return c.jsx(tO,{"data-slot":"select",...t})}function O1({...t}){return c.jsx(iO,{"data-slot":"select-group",...t})}function hs({...t}){return c.jsx(aO,{"data-slot":"select-value",...t})}function ko({className:t,size:a="default",children:o,...s}){return c.jsxs(nO,{"data-slot":"select-trigger","data-size":a,className:ve("border-border data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-primary focus-visible:ring-primary/50 bg-background hover:border-primary/50 flex w-fit items-center justify-between gap-2 rounded border px-2 py-1 text-xs whitespace-nowrap transition-all outline-none focus-visible:ring-2 disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-8 data-[size=sm]:h-7 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-3",t),...s,children:[o,c.jsx(oO,{asChild:!0,children:c.jsx(ys,{className:"size-3 opacity-50"})})]})}function zo({className:t,children:a,position:o="item-aligned",align:s="center",...i}){return c.jsx(rO,{children:c.jsxs(sO,{"data-slot":"select-content",className:ve("bg-card text-foreground border-border data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded border shadow-lg backdrop-blur-sm",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,align:s,...i,children:[c.jsx(sz,{}),c.jsx(lO,{className:ve("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),c.jsx(lz,{})]})})}function k1({className:t,...a}){return c.jsx(cO,{"data-slot":"select-label",className:ve("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function en({className:t,children:a,...o}){return c.jsxs(uO,{"data-slot":"select-item",className:ve("focus:bg-muted focus:text-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded py-1 pr-6 pl-2 text-xs outline-hidden transition-colors select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-3 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...o,children:[c.jsx("span",{"data-slot":"select-item-indicator",className:"absolute right-1.5 flex size-3 items-center justify-center",children:c.jsx(fO,{children:c.jsx(N0,{className:"text-primary size-3"})})}),c.jsx(dO,{children:a})]})}function sz({className:t,...a}){return c.jsx(pO,{"data-slot":"select-scroll-up-button",className:ve("flex cursor-default items-center justify-center py-1",t),...a,children:c.jsx(j0,{className:"size-4"})})}function lz({className:t,...a}){return c.jsx(mO,{"data-slot":"select-scroll-down-button",className:ve("flex cursor-default items-center justify-center py-1",t),...a,children:c.jsx(ys,{className:"size-4"})})}function Ge({className:t,...a}){return c.jsx(OA,{"data-slot":"label",className:ve("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}function Lo({className:t,defaultValue:a,value:o,min:s=0,max:i=100,...u}){const d=m.useMemo(()=>Array.isArray(o)?o:Array.isArray(a)?a:[s,i],[o,a,s,i]);return c.jsxs(kO,{"data-slot":"slider",defaultValue:a,value:o,min:s,max:i,className:ve("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...u,children:[c.jsx(zO,{"data-slot":"slider-track",className:ve("bg-border relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1"),children:c.jsx(LO,{"data-slot":"slider-range",className:ve("bg-primary absolute shadow-[0_0_8px_rgba(0,245,255,0.4)] data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(p,h)=>c.jsx(PO,{"data-slot":"slider-thumb",className:"border-primary bg-background block size-3 shrink-0 rounded-full border shadow-md transition-all hover:shadow-[0_0_12px_rgba(0,245,255,0.6)] focus-visible:shadow-[0_0_12px_rgba(0,245,255,0.6)] focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},h))]})}function Mp({checked:t=!1,onCheckedChange:a,disabled:o=!1,className:s=""}){const i=()=>{!o&&a&&a(!t)};return c.jsx("button",{type:"button",role:"switch","aria-checked":t,onClick:i,disabled:o,className:ve("focus-visible:ring-primary/50 relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",t?"bg-primary shadow-[0_0_10px_rgba(0,245,255,0.5)]":"bg-border",s),children:c.jsx("span",{className:ve("bg-background inline-block h-4 w-4 transform rounded-full shadow-md transition-transform",t?"translate-x-6":"translate-x-1")})})}function iz({audioInputDevices:t,selectedInputDevice:a,onDeviceChange:o,isMonitoring:s,onMonitoringChange:i,inputLevel:u,spectrumData:d,gain:p,onGainChange:h,isRecording:g,onStartRecording:x}){return c.jsxs(c.Fragment,{children:[c.jsx(Ft,{title:"Input Device",collapsible:!0,children:c.jsx("div",{className:"p-2",children:c.jsxs(Oo,{value:a,onValueChange:o,children:[c.jsx(ko,{className:"w-full",children:c.jsx(hs,{placeholder:t.length===0?"No input devices":"Select input device..."})}),c.jsx(zo,{children:t.map(y=>c.jsx(en,{value:y.deviceId,children:y.label},y.deviceId))})]})})}),c.jsx(Ft,{title:"Spectrum",collapsible:!0,children:c.jsx("div",{className:"p-2",children:c.jsx("div",{className:"flex h-16 items-end gap-0.5",children:d.map((y,C)=>c.jsx("div",{className:"flex-1 rounded-t transition-all duration-75",style:{height:`${y*100}%`,backgroundColor:y>.8?"hsl(0 85% 60%)":y>.5?"hsl(45 95% 60%)":"hsl(187 85% 55%)",boxShadow:y>.5?`0 0 8px ${y>.8?"rgba(239, 68, 68, 0.5)":"rgba(250, 204, 21, 0.5)"}`:"0 0 6px rgba(0, 245, 255, 0.3)",minHeight:"2px"}},C))})})}),c.jsx(Ft,{title:"Input Level",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-background border-border h-4 flex-1 overflow-hidden rounded border",children:c.jsx("div",{className:"h-full transition-all duration-75",style:{width:`${Math.max(0,Math.min(100,(u+60)/60*100))}%`,backgroundColor:u>-6?"hsl(0 85% 60%)":u>-12?"hsl(45 95% 60%)":"hsl(187 85% 55%)",boxShadow:u>-12?`0 0 10px ${u>-6?"rgba(239, 68, 68, 0.5)":"rgba(250, 204, 21, 0.5)"}`:"0 0 8px rgba(0, 245, 255, 0.3)"}})}),c.jsxs(Ge,{className:"w-14 text-right text-xs",children:[u.toFixed(1)," dB"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ge,{className:"w-10 text-xs",children:"Gain:"}),c.jsx(Lo,{min:-20,max:20,step:.5,value:[p],onValueChange:y=>h(y[0]),className:"flex-1"}),c.jsxs(Ge,{className:"w-14 text-right text-xs",children:[p>0?"+":"",p.toFixed(1)," dB"]})]})]})}),c.jsx(Ft,{title:"Controls",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ge,{className:"text-xs",children:"MONITOR"}),c.jsx(Mp,{checked:s,onCheckedChange:i})]}),c.jsxs(Le,{onClick:x,variant:g?"destructive":"default",size:"sm",className:"w-full",children:[c.jsx("div",{className:`h-2 w-2 rounded-full ${g?"animate-pulse bg-white":"bg-red-500"}`}),g?"STOP":"REC"]})]})})]})}function cz({onRecordingComplete:t,onSwitchToLibrary:a}){const o=m.useCallback(async(E,b)=>{try{const S=`Recording ${new Date().toLocaleTimeString()}`;ue.info("Saving recording...");const w=await ge.samples.upload(E,S,"Uncategorized");w.sample&&(await ge.samples.updateDuration(w.sample.id,b),ue.success(`Recording saved: ${S}`),t&&t(w.sample.id)),a&&a()}catch(S){console.error("Failed to save recording:",S),ue.error("Failed to save recording to server")}},[t,a]),{audioInputDevices:s,selectedInputDevice:i,isMonitoring:u,inputLevel:d,gain:p,spectrumData:h,isRecording:g,setSelectedInputDevice:x,setIsMonitoring:y,handleGainChange:C,handleStartRecording:T}=rz({onRecordingComplete:o});return c.jsx(iz,{audioInputDevices:s,selectedInputDevice:i,onDeviceChange:x,isMonitoring:u,onMonitoringChange:y,inputLevel:d,spectrumData:h,gain:p,onGainChange:C,isRecording:g,onStartRecording:T})}function uz({onSampleSelect:t}={}){const[a,o]=m.useState([]),[s,i]=m.useState(null),[u,d]=m.useState(!1),[p,h]=m.useState(null),[g,x]=m.useState(""),[y,C]=m.useState(""),[T,E]=m.useState(null),b=m.useRef(null),S=m.useRef(null),w=m.useCallback(async()=>{try{const z=await ge.samples.getAll();o(z.samples),console.log(` Loaded ${z.samples.length} samples`)}catch(z){console.error("Failed to load samples:",z),ue.error("Failed to load samples")}},[]);m.useEffect(()=>{w()},[w]);const j=m.useCallback(async(z,I,$="Uncategorized")=>{d(!0);try{const G=await ge.samples.upload(z,I,$);if(G.sample){const q=`/api/samples/${G.sample.id}/download`,X=new Audio(q);X.addEventListener("loadedmetadata",async()=>{const ae=X.duration;await ge.samples.updateDuration(G.sample.id,ae),await w()})}ue.success(`Sample "${I}" uploaded successfully`),await w()}catch(G){console.error("Failed to upload sample:",G),ue.error("Failed to upload sample")}finally{d(!1)}},[w]),R=m.useCallback(z=>{i(z),t&&t(z)},[t]),A=m.useCallback(z=>{h(z.id),x(z.name),C(z.category)},[]),_=m.useCallback(async()=>{if(p)try{await ge.samples.update(p,{name:g,category:y}),ue.success("Sample updated successfully"),h(null),await w()}catch(z){console.error("Failed to update sample:",z),ue.error("Failed to update sample")}},[p,g,y,w]),k=m.useCallback(()=>{h(null),x(""),C("")},[]),D=m.useCallback(async z=>{try{await ge.samples.deleteSample(z),ue.success("Sample deleted successfully"),await w(),s?.id===z&&i(null)}catch(I){console.error("Failed to delete sample:",I),ue.error(I.message||"Failed to delete sample")}},[w,s]),M=m.useCallback(async z=>{try{S.current&&(S.current.stop(),S.current=null),b.current||(b.current=new AudioContext);const I=`/api/samples/${z}/download`,G=await(await fetch(I)).arrayBuffer(),q=await b.current.decodeAudioData(G),X=b.current.createBufferSource();X.buffer=q,X.connect(b.current.destination),X.onended=()=>{E(null),S.current=null},X.start(),S.current=X,E(z)}catch(I){console.error("Failed to play sample:",I),ue.error("Failed to play sample"),E(null)}},[]);return{samples:a,selectedSample:s,isUploading:u,editingSampleId:p,editName:g,editCategory:y,playingSampleId:T,loadSamples:w,handleUploadSample:j,handleSelectSample:R,handleStartEdit:A,handleSaveEdit:_,handleCancelEdit:k,handleDeleteSample:D,handlePlaySample:M,setEditName:x,setEditCategory:C}}function sa({className:t,type:a,...o}){return c.jsx("input",{type:a,"data-slot":"input",className:ve("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground bg-background border-border h-8 w-full min-w-0 rounded border px-2 py-1 text-xs transition-all outline-none file:inline-flex file:h-6 file:border-0 file:bg-transparent file:text-xs file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","focus-visible:border-primary focus-visible:ring-primary/50 focus-visible:ring-2","hover:border-primary/50",t),...o})}const Wx=["All","Uncategorized","Drums","Bass","Synth","Vocals","FX","Loops"];function dz({samples:t,searchQuery:a,onSearchChange:o,selectedCategory:s,onCategoryChange:i,isUploading:u,onFileUpload:d,editingSampleId:p,editName:h,editCategory:g,onEditNameChange:x,onEditCategoryChange:y,onStartEdit:C,onSaveEdit:T,onCancelEdit:E,onPlaySample:b,onDeleteSample:S,onSampleDragStart:w}){const j=t.filter(R=>{const A=s==="All"||R.category===s,_=R.name.toLowerCase().includes(a.toLowerCase());return A&&_});return c.jsxs(c.Fragment,{children:[c.jsx(Ft,{title:"Search",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(A0,{className:"text-muted-foreground absolute top-1/2 left-2 z-10 -translate-y-1/2",size:14}),c.jsx(sa,{type:"text",placeholder:"Search samples...",value:a,onChange:R=>o(R.target.value),className:"h-8 w-full pl-8 text-xs"})]}),c.jsxs(Le,{onClick:()=>document.getElementById("file-upload-input")?.click(),variant:"default",size:"sm",className:"w-full",disabled:u,children:[c.jsx(mT,{size:12}),u?"UPLOADING...":"UPLOAD FILES"]}),c.jsx("input",{id:"file-upload-input",type:"file",multiple:!0,accept:"audio/*",onChange:d,className:"hidden"})]})}),c.jsx(Ft,{title:"Categories",collapsible:!0,children:c.jsx("div",{className:"flex flex-wrap gap-1 p-2",children:Wx.map(R=>c.jsx(Le,{onClick:()=>i(R),variant:s===R?"default":"ghost",size:"xs",children:R},R))})}),c.jsx(Ft,{title:`Samples (${j.length})`,collapsible:!0,children:c.jsxs("div",{className:"divide-border divide-y",children:[j.length===0&&c.jsx("div",{className:"text-muted-foreground p-4 text-center text-xs",children:"No samples. Upload audio files to get started."}),j.map(R=>c.jsx("div",{className:"hover:bg-muted/50 group p-2 transition-colors",children:p===R.id?c.jsxs("div",{className:"space-y-2",children:[c.jsx(sa,{type:"text",value:h,onChange:A=>x(A.target.value),className:"w-full",placeholder:"Sample name"}),c.jsxs(Oo,{value:g,onValueChange:y,children:[c.jsx(ko,{className:"h-8 w-full text-xs",children:c.jsx(hs,{})}),c.jsx(zo,{children:Wx.filter(A=>A!=="All").map(A=>c.jsx(en,{value:A,children:A},A))})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Le,{onClick:T,variant:"default",size:"xs",className:"flex-1",children:"Save"}),c.jsx(Le,{onClick:E,variant:"ghost",size:"xs",className:"flex-1",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tn,{size:14,className:"text-muted-foreground flex-shrink-0"}),c.jsxs("div",{className:"min-w-0 flex-1 cursor-move",draggable:!0,onDragStart:()=>w(R.id),children:[c.jsx("div",{className:"truncate text-xs",children:R.name}),c.jsxs("div",{className:"text-muted-foreground text-[10px]",children:[R.category," "," ",R.duration>0?`${R.duration.toFixed(1)}s`:"",R.duration>0?"  ":"",(R.size/1024/1024).toFixed(2)," MB"]})]}),c.jsxs("div",{className:"flex gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[c.jsx(Le,{onClick:()=>b(R.id),variant:"ghost",size:"icon-xs",title:"Play",children:c.jsx($c,{size:12,className:"text-muted-foreground"})}),c.jsx(Le,{onClick:()=>C(R),variant:"ghost",size:"icon-xs",title:"Edit",children:c.jsx(_0,{size:12,className:"text-muted-foreground"})}),c.jsx(Le,{onClick:()=>S(R.id),variant:"ghost",size:"icon-xs",title:"Delete",children:c.jsx(bs,{size:12,className:"text-red-500"})})]})]})},R.id))]})})]})}function fz({onSampleSelect:t}){const[a,o]=m.useState(""),[s,i]=m.useState("All"),{samples:u,isUploading:d,editingSampleId:p,editName:h,editCategory:g,handleUploadSample:x,handleStartEdit:y,handleSaveEdit:C,handleCancelEdit:T,handleDeleteSample:E,handlePlaySample:b,setEditName:S,setEditCategory:w}=uz({onSampleSelect:t}),j=m.useCallback(async A=>{const _=A.target.files;if(_){for(let k=0;k<_.length;k++){const D=_[k];if(!D.type.startsWith("audio/")){console.warn(`${D.name} is not an audio file`);continue}const M=D.name.replace(/\.[^/.]+$/,"");await x(D,M,"Uncategorized")}A.target.value=""}},[x]),R=m.useCallback(A=>{console.log("Drag sample:",A)},[]);return c.jsx(dz,{samples:u,searchQuery:a,onSearchChange:o,selectedCategory:s,onCategoryChange:i,isUploading:d,onFileUpload:j,editingSampleId:p,editName:h,editCategory:g,onEditNameChange:S,onEditCategoryChange:w,onStartEdit:y,onSaveEdit:C,onCancelEdit:T,onPlaySample:b,onDeleteSample:E,onSampleDragStart:R})}function pz(){const[t,a]=m.useState([]),[o,s]=m.useState(""),[i,u]=m.useState(!1),d=m.useCallback(async()=>{try{if(!navigator.requestMIDIAccess){console.warn("Web MIDI API not supported");return}const h=await navigator.requestMIDIAccess(),g=[];h.inputs.forEach(x=>{g.push({id:x.id,name:x.name||"Unknown MIDI Device",manufacturer:x.manufacturer||"Unknown",state:x.state})}),a(g),g.length>0&&!o&&s(g[0].id),console.log("MIDI input devices detected:",g)}catch(h){console.error("Failed to access MIDI devices:",h),ue.error("Failed to access MIDI devices")}},[o]),p=m.useCallback(async h=>{try{if(!navigator.requestMIDIAccess)return;const g=await navigator.requestMIDIAccess(),x=Array.from(g.inputs.values()).find(y=>y.id===h);if(!x){console.warn("MIDI device not found:",h);return}x.onmidimessage=y=>{if(!y.data)return;const[C,T,E]=y.data;u(!0),setTimeout(()=>u(!1),100),console.log("MIDI:",{status:C.toString(16),note:T,velocity:E})},console.log(" MIDI listener setup for:",x.name)}catch(g){console.error("Failed to setup MIDI listener:",g)}},[]);return m.useEffect(()=>{d()},[d]),m.useEffect(()=>{o&&p(o)},[o,p]),{midiInputDevices:t,selectedMidiDevice:o,midiActivity:i,setSelectedMidiDevice:s,enumerateMidiDevices:d}}function mz({midiInputDevices:t,selectedMidiDevice:a,onDeviceChange:o,midiActivity:s,midiThruEnabled:i,onMidiThruChange:u,quantizeEnabled:d,onQuantizeChange:p}){return c.jsxs(c.Fragment,{children:[c.jsx(Ft,{title:"MIDI Device",collapsible:!0,children:c.jsx("div",{className:"space-y-2 p-2",children:c.jsxs(Oo,{value:a,onValueChange:o,children:[c.jsx(ko,{className:"h-8 w-full text-xs",children:c.jsx(hs,{placeholder:t.length===0?"No MIDI Devices":"Select MIDI device..."})}),c.jsx(zo,{children:t.length===0?c.jsx(en,{value:"none",children:"No MIDI Devices"}):t.map(h=>c.jsxs(en,{value:h.id,children:[h.name,h.manufacturer&&` (${h.manufacturer})`]},h.id))})]})})}),c.jsx(Ft,{title:"MIDI Activity",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx(Ge,{className:"text-xs",children:"Status:"}),c.jsx(Ge,{className:"text-xs",children:t.length>0?"Connected":"No Device"})]}),c.jsx("div",{className:"bg-background border-border flex h-8 items-center justify-center rounded border",children:s?c.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500"}):c.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-500"})})]})}),c.jsx(Ft,{title:"Settings",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ge,{className:"text-xs",children:"Channel:"}),c.jsxs(Oo,{defaultValue:"all",children:[c.jsx(ko,{className:"flex-1",children:c.jsx(hs,{})}),c.jsxs(zo,{children:[c.jsx(en,{value:"all",children:"All Channels"}),Array.from({length:16},(h,g)=>c.jsxs(en,{value:String(g+1),children:["Channel ",g+1]},g+1))]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ge,{className:"text-xs",children:"Enable MIDI thru"}),c.jsx(Mp,{checked:i,onCheckedChange:u})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ge,{className:"text-xs",children:"Quantize input"}),c.jsx(Mp,{checked:d,onCheckedChange:p})]})]})})]})}function hz(){const[t,a]=m.useState(!0),[o,s]=m.useState(!1),{midiInputDevices:i,selectedMidiDevice:u,midiActivity:d,setSelectedMidiDevice:p}=pz();return c.jsx(mz,{midiInputDevices:i,selectedMidiDevice:u,onDeviceChange:p,midiActivity:d,midiThruEnabled:t,onMidiThruChange:a,quantizeEnabled:o,onQuantizeChange:s})}function gz(){const[t,a]=m.useState("audio"),o=()=>{a("library")},s=()=>{a("library")};return c.jsxs("div",{className:"flex h-full flex-1 flex-col overflow-hidden",children:[c.jsxs("div",{className:"border-border flex gap-1 border-b p-2",children:[c.jsxs(Le,{onClick:()=>a("audio"),variant:t==="audio"?"default":"ghost",size:"xs",children:[c.jsx(zj,{size:12}),"AUDIO IN"]}),c.jsxs(Le,{onClick:()=>a("midi"),variant:t==="midi"?"default":"ghost",size:"xs",children:[c.jsx(qj,{size:12}),"MIDI IN"]}),c.jsxs(Le,{onClick:()=>a("library"),variant:t==="library"?"default":"ghost",size:"xs",children:[c.jsx(wj,{size:12}),"LIBRARY"]})]}),c.jsxs("div",{className:"flex-1 space-y-2 overflow-auto p-2",children:[t==="audio"&&c.jsx(cz,{onRecordingComplete:o,onSwitchToLibrary:s}),t==="library"&&c.jsx(fz,{}),t==="midi"&&c.jsx(hz,{})]})]})}function z1({data:t,rightData:a,width:o,height:s,color:i="rgba(6, 182, 212, 1)",rightColor:u="rgba(192, 132, 252, 1)",backgroundColor:d="hsl(220 15% 6%)",showGrid:p=!1,gridColor:h="hsl(220 15% 15%)",glowEffect:g=!1,className:x=""}){const y=m.useRef(null);m.useEffect(()=>{const T=y.current;if(!T||t.length===0)return;const E=T.getContext("2d");if(!E)return;const b=T.getBoundingClientRect(),S=o||b.width,w=s||b.height;if(T.width=S*window.devicePixelRatio,T.height=w*window.devicePixelRatio,E.scale(window.devicePixelRatio,window.devicePixelRatio),E.fillStyle=d,E.fillRect(0,0,S,w),p){E.strokeStyle=h,E.lineWidth=1;for(let _=0;_<=4;_++){const k=w/4*_;E.beginPath(),E.moveTo(0,k),E.lineTo(S,k),E.stroke()}if(a)for(let _=0;_<=8;_++){const k=S/8*_;E.beginPath(),E.moveTo(k,0),E.lineTo(k,w),E.stroke()}}const j=w/2,R=.85;if(a&&a.length>0){E.fillStyle=i,g&&(E.shadowBlur=10,E.shadowColor=i);const _=w/4;E.beginPath(),E.moveTo(0,_),t.forEach((D,M)=>{const z=M/t.length*S,I=_-D*_*R;E.lineTo(z,I)}),E.lineTo(S,_),E.closePath(),E.fill(),E.beginPath(),E.moveTo(0,_),t.forEach((D,M)=>{const z=M/t.length*S,I=_+D*_*R;E.lineTo(z,I)}),E.lineTo(S,_),E.closePath(),E.fill(),E.fillStyle=u,g&&(E.shadowColor=u);const k=w*3/4;E.beginPath(),E.moveTo(0,k),a.forEach((D,M)=>{const z=M/a.length*S,I=k-D*(w/4)*R;E.lineTo(z,I)}),E.lineTo(S,k),E.closePath(),E.fill(),E.beginPath(),E.moveTo(0,k),a.forEach((D,M)=>{const z=M/a.length*S,I=k+D*(w/4)*R;E.lineTo(z,I)}),E.lineTo(S,k),E.closePath(),E.fill()}else E.fillStyle=i,g&&(E.shadowBlur=10,E.shadowColor=i),E.beginPath(),E.moveTo(0,j),t.forEach((_,k)=>{const D=k/t.length*S,M=j-_*j*R;E.lineTo(D,M)}),E.lineTo(S,j),E.closePath(),E.fill(),E.beginPath(),E.moveTo(0,j),t.forEach((_,k)=>{const D=k/t.length*S,M=j+_*j*R;E.lineTo(D,M)}),E.lineTo(S,j),E.closePath(),E.fill()},[t,a,o,s,i,u,d,p,h,g]);const C=o&&s?{width:`${o}px`,height:`${s}px`}:{width:"100%",height:"100%"};return c.jsx("canvas",{ref:y,className:x,style:C})}const Xa={primary:"hsl(187 85% 55%)",secondary:"hsl(280 85% 65%)",accent:"hsl(45 95% 60%)",background:"hsl(220 15% 6%)",border:"hsl(220 15% 15%)"};function vz(){const t=ne(u=>u.spectrum),a=ne(u=>u.waveform),o=m.useRef(null),[s,i]=m.useState({peakFrequency:0,peakLeft:0,peakRight:0,rmsLeft:0,rmsRight:0,spectralCentroid:0,isClipping:!1});return m.useMemo(()=>{if(!t||t.length===0||!a||a.samples_left.length===0)return;let u=0,d=0;t.forEach((S,w)=>{S>u&&(u=S,d=w)});const p=d/t.length*24e3;let h=0,g=0;t.forEach((S,w)=>{const j=w/t.length*24e3;h+=j*S,g+=S});const x=g>0?h/g:0,y=Math.max(...a.samples_left.map(Math.abs)),C=Math.max(...a.samples_right.map(Math.abs)),T=Math.sqrt(a.samples_left.reduce((S,w)=>S+w*w,0)/a.samples_left.length),E=Math.sqrt(a.samples_right.reduce((S,w)=>S+w*w,0)/a.samples_right.length),b=y>.95||C>.95;i({peakFrequency:p,peakLeft:y,peakRight:C,rmsLeft:T,rmsRight:E,spectralCentroid:x,isClipping:b})},[t,a]),m.useEffect(()=>{const u=o.current;if(!u||t.length===0)return;const d=u.getContext("2d");if(!d)return;const p=u.getBoundingClientRect();u.width=p.width*window.devicePixelRatio,u.height=p.height*window.devicePixelRatio,d.scale(window.devicePixelRatio,window.devicePixelRatio);const h=p.width,g=p.height,x=h/t.length;d.fillStyle=Xa.background,d.fillRect(0,0,h,g),d.strokeStyle=Xa.border,d.lineWidth=1;for(let C=0;C<4;C++){const T=g/4*C;d.beginPath(),d.moveTo(0,T),d.lineTo(h,T),d.stroke()}const y=d.createLinearGradient(0,g,0,0);y.addColorStop(0,Xa.primary),y.addColorStop(.5,Xa.secondary),y.addColorStop(1,Xa.accent),t.forEach((C,T)=>{const b=Math.max(0,Math.min(1,(C+96)/96))*g,S=T*x,w=g-b;d.fillStyle=y,d.fillRect(S,w,Math.max(1,x-1),b)})},[t]),c.jsxs("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:[c.jsx(Ft,{title:"WAVEFORM",className:"flex-1",collapsible:!0,children:c.jsxs("div",{className:"relative h-full w-full",children:[c.jsx(z1,{data:a?.samples_left||[],rightData:a?.samples_right||[],color:Xa.primary,rightColor:Xa.secondary,backgroundColor:Xa.background,gridColor:Xa.border,showGrid:!0,glowEffect:!0,className:"h-full w-full"}),c.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-2",children:[c.jsx(qy,{className:"h-3 w-3 text-primary"}),c.jsx(Ge,{className:"text-xs text-primary",children:"L"})]}),c.jsxs("div",{className:"absolute bottom-2 left-2 flex items-center gap-2",children:[c.jsx(qy,{className:"h-3 w-3 text-secondary"}),c.jsx(Ge,{className:"text-xs text-secondary",children:"R"})]}),s.isClipping&&c.jsx("div",{className:"absolute right-2 top-2",children:c.jsxs(Yn,{variant:"destructive",className:"animate-pulse",children:[c.jsx(O0,{className:"h-3 w-3"}),"CLIPPING"]})})]})}),c.jsx(Ft,{title:"SPECTRUM",className:"flex-1",collapsible:!0,children:c.jsxs("div",{className:"relative h-full w-full",children:[c.jsx("canvas",{ref:o,className:"h-full w-full"}),c.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-2",children:[c.jsx(aj,{className:"h-3 w-3 text-accent"}),c.jsx(Ge,{className:"text-xs text-muted-foreground",children:"FFT"})]})]})}),c.jsx(Ft,{title:"LOOP FEEDBACK",collapsible:!0,headerActions:c.jsx(Up,{className:"h-3 w-3 text-primary"}),children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ge,{className:"text-xs text-muted-foreground",children:"Peak Freq"}),c.jsxs(Yn,{variant:"default",className:"w-full justify-center",children:[s.peakFrequency.toFixed(1)," Hz"]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ge,{className:"text-xs text-muted-foreground",children:"Brightness"}),c.jsxs(Yn,{variant:"secondary",className:"w-full justify-center",children:[s.spectralCentroid.toFixed(0)," Hz"]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ge,{className:"text-xs text-muted-foreground",children:"Samples"}),c.jsx(Yn,{variant:"outline",className:"w-full justify-center",children:a?.samples_left.length||0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ge,{className:"text-xs text-primary",children:"Left Channel"}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Peak:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.peakLeft+1e-10)).toFixed(1)," dB"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"RMS:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.rmsLeft+1e-10)).toFixed(1)," dB"]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ge,{className:"text-xs text-secondary",children:"Right Channel"}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Peak:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.peakRight+1e-10)).toFixed(1)," dB"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"RMS:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.rmsRight+1e-10)).toFixed(1)," dB"]})]})]})]})]})})]})}function yz(){const t=m.useRef(null),a=m.useRef(null),o=m.useRef(null),s=m.useRef(!1),i=m.useRef(null),u=m.useCallback(h=>{if(s.current){s.current=!1;return}const g=h.currentTarget.scrollLeft;i.current!==null&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{a.current&&a.current.scrollLeft!==g&&(s.current=!0,a.current.scrollLeft=g),o.current&&o.current.scrollLeft!==g&&(s.current=!0,o.current.scrollLeft=g),i.current=null})},[]),d=m.useCallback(h=>{if(s.current){s.current=!1;return}const g=h.currentTarget.scrollLeft;i.current!==null&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{t.current&&t.current.scrollLeft!==g&&(s.current=!0,t.current.scrollLeft=g),i.current=null})},[]),p=m.useCallback(h=>{if(s.current){s.current=!1;return}const g=h.currentTarget.scrollLeft;i.current!==null&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{t.current&&t.current.scrollLeft!==g&&(s.current=!0,t.current.scrollLeft=g),i.current=null})},[]);return m.useEffect(()=>()=>{i.current!==null&&cancelAnimationFrame(i.current)},[]),{timelineScrollRef:t,pianoRollScrollRef:a,sampleEditorScrollRef:o,handleTimelineScroll:u,handlePianoRollScroll:d,handleSampleEditorScroll:p}}function xz({delayDuration:t=0,...a}){return c.jsx(rk,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function bz({...t}){return c.jsx(sk,{"data-slot":"tooltip",...t})}function Sz({...t}){return c.jsx(lk,{"data-slot":"tooltip-trigger",...t})}function wz({className:t,sideOffset:a=0,children:o,...s}){return c.jsx(ik,{children:c.jsxs(ck,{"data-slot":"tooltip-content",sideOffset:a,className:ve("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:[o,c.jsx(uk,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Vn=m.forwardRef(({icon:t,tooltip:a,iconSize:o="h-4 w-4",tooltipSide:s="top",disableTooltip:i=!1,className:u,variant:d="ghost",size:p="icon",...h},g)=>{const x=c.jsx(Le,{ref:g,variant:d,size:p,className:ve(u),"aria-label":a,...h,children:c.jsx(t,{className:o})});return i?x:c.jsxs(bz,{children:[c.jsx(Sz,{asChild:!0,children:x}),c.jsx(wz,{side:s,children:c.jsx("p",{children:a})})]})});Vn.displayName="IconButton";function Cz({isOpen:t,onClose:a,onSelectSample:o}){const[s,i]=m.useState([]),[u,d]=m.useState(""),[p,h]=m.useState(null),[g,x]=m.useState(null),[y,C]=m.useState(null);m.useEffect(()=>{t&&T()},[t]);const T=async()=>{try{const w=await ge.samples.getAll();i(w.samples)}catch(w){console.error("Failed to load samples:",w)}},E=s.filter(w=>w.name.toLowerCase().includes(u.toLowerCase())||w.category.toLowerCase().includes(u.toLowerCase())),b=w=>{if(g===w.id)y?.pause(),x(null);else{y&&y.pause();const j=new Audio(`/api/samples/${w.id}/download`);j.play(),j.onended=()=>x(null),C(j),x(w.id)}},S=()=>{p&&(o(p),a())};return t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:c.jsxs("div",{className:"bg-background border-border w-full max-w-2xl rounded-lg border shadow-lg",children:[c.jsxs("div",{className:"border-border flex items-center justify-between border-b p-4",children:[c.jsx(Ge,{className:"text-lg font-bold",children:"Select Sample"}),c.jsx(Le,{onClick:a,variant:"ghost",size:"icon-xs",children:c.jsx(mr,{size:16})})]}),c.jsx("div",{className:"border-border border-b p-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(A0,{className:"text-muted-foreground absolute left-3 top-1/2 -translate-y-1/2",size:16}),c.jsx(sa,{value:u,onChange:w=>d(w.target.value),placeholder:"Search samples...",className:"pl-10"})]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:E.length===0?c.jsx("div",{className:"text-muted-foreground py-8 text-center",children:c.jsx(Ge,{children:"No samples found"})}):c.jsx("div",{className:"space-y-2",children:E.map(w=>c.jsxs("div",{onClick:()=>h(w),className:ve("border-border hover:bg-muted/50 flex cursor-pointer items-center justify-between rounded border p-3 transition-colors",p?.id===w.id&&"bg-muted border-primary"),children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Ge,{className:"font-mono text-sm",children:w.name}),c.jsxs("div",{className:"text-muted-foreground mt-1 flex gap-3 text-xs",children:[c.jsx("span",{children:w.category}),c.jsx("span",{children:""}),c.jsxs("span",{children:[w.duration.toFixed(2),"s"]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[(w.size/1024).toFixed(1)," KB"]})]})]}),c.jsx(Le,{onClick:j=>{j.stopPropagation(),b(w)},variant:"ghost",size:"icon-xs",children:g===w.id?c.jsx(D0,{size:14}):c.jsx($c,{size:14})})]},w.id))})}),c.jsxs("div",{className:"border-border flex justify-end gap-2 border-t p-4",children:[c.jsx(Le,{onClick:a,variant:"outline",children:"Cancel"}),c.jsx(Le,{onClick:S,disabled:!p,children:"Select Sample"})]})]})}):null}function Mm({...t}){return c.jsx(hb,{"data-slot":"dialog",...t})}function Ez({...t}){return c.jsx(gb,{"data-slot":"dialog-portal",...t})}function Nz({className:t,...a}){return c.jsx(vb,{"data-slot":"dialog-overlay",className:ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function Dm({className:t,children:a,showCloseButton:o=!0,...s}){return c.jsxs(Ez,{"data-slot":"dialog-portal",children:[c.jsx(Nz,{}),c.jsxs(yb,{"data-slot":"dialog-content",className:ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...s,children:[a,o&&c.jsxs(Qc,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(mr,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function _m({className:t,...a}){return c.jsx("div",{"data-slot":"dialog-header",className:ve("flex flex-col gap-2 text-center sm:text-left",t),...a})}function jz({className:t,showCloseButton:a=!1,children:o,...s}){return c.jsxs("div",{"data-slot":"dialog-footer",className:ve("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s,children:[o,a&&c.jsx(Qc,{asChild:!0,children:c.jsx(Le,{variant:"outline",children:"Close"})})]})}function Am({className:t,...a}){return c.jsx(xb,{"data-slot":"dialog-title",className:ve("text-lg leading-none font-semibold",t),...a})}function Om({className:t,...a}){return c.jsx(bb,{"data-slot":"dialog-description",className:ve("text-muted-foreground text-sm",t),...a})}function Tz({className:t,size:a="default",...o}){return c.jsx(qO,{"data-slot":"switch","data-size":a,className:ve("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-border focus-visible:ring-primary/50 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-2 disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6 data-[state=checked]:shadow-[0_0_10px_rgba(0,245,255,0.5)]",t),...o,children:c.jsx($O,{"data-slot":"switch-thumb",className:ve("bg-background pointer-events-none block rounded-full shadow-md ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Jf({className:t,orientation:a="horizontal",decorative:o=!0,...s}){return c.jsx(yO,{"data-slot":"separator",decorative:o,orientation:a,className:ve("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}function Rz({isOpen:t,onClose:a,composition:o,onSave:s}){const[i,u]=m.useState(""),[d,p]=m.useState("120"),[h,g]=m.useState("4/4"),[x,y]=m.useState(!1),[C,T]=m.useState("0"),[E,b]=m.useState("16");m.useEffect(()=>{o&&(u(o.name),p(o.tempo.toString()),g(o.time_signature),y(o.loop_enabled||!1),T((o.loop_start||0).toString()),b((o.loop_end||16).toString()))},[o]);const S=()=>{const j={name:i,tempo:parseFloat(d)||120,time_signature:h,loop_enabled:x,loop_start:parseFloat(C)||0,loop_end:parseFloat(E)||16};s(j),a()},w=j=>{if(!j)return"N/A";try{return new Date(j).toLocaleString()}catch{return"N/A"}};return c.jsx(Mm,{open:t,onOpenChange:a,children:c.jsxs(Dm,{className:"sm:max-w-[500px]",children:[c.jsxs(_m,{children:[c.jsx(Am,{children:"Sequence Settings"}),c.jsx(Om,{children:"Configure settings for this sequence"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ge,{htmlFor:"seq-name",className:"text-right",children:"Name"}),c.jsx(sa,{id:"seq-name",value:i,onChange:j=>u(j.target.value),className:"col-span-3"})]}),c.jsx(Jf,{}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ge,{htmlFor:"seq-tempo",className:"text-right",children:"Tempo (BPM)"}),c.jsx(sa,{id:"seq-tempo",type:"number",min:"20",max:"999",value:d,onChange:j=>p(j.target.value),className:"col-span-3"})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ge,{htmlFor:"seq-time-sig",className:"text-right",children:"Time Signature"}),c.jsx(sa,{id:"seq-time-sig",value:h,onChange:j=>g(j.target.value),placeholder:"4/4",className:"col-span-3"})]}),c.jsx(Jf,{}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ge,{htmlFor:"seq-loop",className:"text-right",children:"Loop Enabled"}),c.jsx("div",{className:"col-span-3",children:c.jsx(Tz,{id:"seq-loop",checked:x,onCheckedChange:y})})]}),x&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ge,{htmlFor:"seq-loop-start",className:"text-right",children:"Loop Start (beats)"}),c.jsx(sa,{id:"seq-loop-start",type:"number",min:"0",value:C,onChange:j=>T(j.target.value),className:"col-span-3"})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ge,{htmlFor:"seq-loop-end",className:"text-right",children:"Loop End (beats)"}),c.jsx(sa,{id:"seq-loop-end",type:"number",min:"0",value:E,onChange:j=>b(j.target.value),className:"col-span-3"})]})]}),c.jsx(Jf,{}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4 text-sm text-muted-foreground",children:[c.jsx(Ge,{className:"text-right",children:"Created"}),c.jsx("div",{className:"col-span-3",children:w(o?.created_at)})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4 text-sm text-muted-foreground",children:[c.jsx(Ge,{className:"text-right",children:"Updated"}),c.jsx("div",{className:"col-span-3",children:w(o?.updated_at)})]})]}),c.jsxs(jz,{children:[c.jsx(Le,{variant:"outline",onClick:a,children:"Cancel"}),c.jsx(Le,{onClick:S,children:"Save Changes"})]})]})})}function Mz({isOpen:t,onClose:a,onSelectMIDI:o,onSelectSample:s}){return c.jsx(Mm,{open:t,onOpenChange:a,children:c.jsxs(Dm,{className:"sm:max-w-lg",children:[c.jsxs(_m,{children:[c.jsx(Am,{children:"Add Track"}),c.jsx(Om,{children:"Choose the type of track you want to create"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[c.jsxs(Le,{onClick:o,variant:"outline",className:"h-32 flex flex-col gap-2 hover:bg-primary/10 hover:border-primary p-4",children:[c.jsx(tn,{size:40,className:"text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-center flex flex-col gap-1",children:[c.jsx("div",{className:"font-semibold text-sm",children:"MIDI Track"}),c.jsx("div",{className:"text-xs text-muted-foreground leading-tight",children:"Synths & instruments"})]})]}),c.jsxs(Le,{onClick:s,variant:"outline",className:"h-32 flex flex-col gap-2 hover:bg-primary/10 hover:border-primary p-4",children:[c.jsx(gj,{size:40,className:"text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-center flex flex-col gap-1",children:[c.jsx("div",{className:"font-semibold text-sm",children:"Sample Track"}),c.jsx("div",{className:"text-xs text-muted-foreground leading-tight",children:"Audio samples & loops"})]})]})]})]})})}function Dz({onCreateSequence:t,onOpenSequenceManager:a}){return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px] gap-6 p-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-3xl rounded-full"}),c.jsx("div",{className:"relative bg-muted/50 p-8 rounded-full border-2 border-primary/20",children:c.jsx(tn,{className:"w-16 h-16 text-primary/60"})})]}),c.jsxs("div",{className:"text-center space-y-2 max-w-md",children:[c.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"No Sequences Yet"}),c.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Create your first sequence to start composing. Sequences contain tracks, clips, and automation for your musical ideas."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(Le,{onClick:t,size:"lg",className:"gap-2",children:[c.jsx(xs,{className:"w-4 h-4"}),"Create Sequence"]}),c.jsxs(Le,{onClick:a,size:"lg",variant:"outline",className:"gap-2",children:[c.jsx(R0,{className:"w-4 h-4"}),"Manage Sequences"]})]}),c.jsx("div",{className:"text-xs text-muted-foreground/60 mt-4",children:"Tip: You can also create sequences from the toolbar above"})]})}function _z({isPlaying:t,metronomeEnabled:a,tempo:o,hasTracksOrClips:s,onPlayPause:i,onStop:u,onRecord:d,onLoop:p,onMetronomeToggle:h,onTempoChange:g,onTempoBlur:x,onTempoKeyDown:y}){const T=ne(S=>S.isLooping),E=s,b=E?t?"Pause":"Play":"Add tracks and clips to play";return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Vn,{icon:oT,tooltip:"Stop and rewind to start",onClick:u,variant:"ghost",size:"icon-sm"}),c.jsx(Vn,{icon:t?D0:$c,tooltip:b,onClick:i,variant:t?"default":"ghost",size:"icon-sm",disabled:!E,className:ve(t&&"bg-primary")}),c.jsx(Le,{onClick:d,variant:"ghost",size:"icon-sm",className:ve(!1),title:"Record audio input",children:c.jsx(fj,{size:16,fill:"none"})}),c.jsx(Vn,{icon:Vj,tooltip:T?"Loop enabled":"Loop disabled",onClick:p,variant:T?"secondary":"ghost",size:"icon-sm"}),c.jsx(Vn,{icon:tn,tooltip:a?"Metronome enabled":"Metronome disabled",onClick:h,variant:a?"secondary":"ghost",size:"icon-sm"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ge,{htmlFor:"tempo",className:"text-xs text-muted-foreground",children:"BPM"}),c.jsx(sa,{id:"tempo",type:"number",min:"20",max:"300",value:o,onChange:S=>g(S.target.value),onBlur:x,onKeyDown:y,className:"w-16 h-7 text-sm"})]})]})}function Az({trackId:t,currentInstrument:a,onInstrumentChange:o,disabled:s=!1}){const[i,u]=m.useState([]),[d,p]=m.useState(!0);m.useEffect(()=>{(async()=>{try{p(!0);const T=await ge.sequencer.getSynthDefs();u(T)}catch(T){console.error("Failed to load SynthDefs:",T)}finally{p(!1)}})()},[]);const h=i.reduce((C,T)=>(C[T.category]||(C[T.category]=[]),C[T.category].push(T),C),{}),x=i.find(C=>C.name===a)?.display_name||a||"Instrument",y=C=>{o(t,C)};return d?c.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 text-xs text-muted-foreground",children:[c.jsx(tn,{size:12}),c.jsx("span",{children:"Loading..."})]}):c.jsxs(Oo,{value:a||"",onValueChange:y,disabled:s,children:[c.jsx(ko,{className:"h-7 w-32 text-xs border-border/50 hover:border-border transition-colors min-w-0",children:c.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 w-full overflow-hidden",children:[c.jsx(tn,{size:12,className:"text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"truncate text-xs",children:x})]})}),c.jsx(zo,{className:"max-h-80 z-[9999]",align:"start",position:"popper",sideOffset:4,children:Object.entries(h).map(([C,T])=>c.jsxs(O1,{children:[c.jsx(k1,{className:"text-xs font-semibold text-muted-foreground",children:C}),T.map(E=>c.jsx(en,{value:E.name,className:"text-xs",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:E.display_name}),c.jsx("span",{className:"text-[10px] text-muted-foreground",children:E.description})]})},E.name))]},C))})]})}const Oz=vm("inline-flex items-center justify-center rounded font-bold uppercase tracking-wide transition-all disabled:pointer-events-none disabled:opacity-50 outline-none focus-visible:ring-2 focus-visible:ring-primary/50",{variants:{variant:{mute:"data-[active=true]:bg-yellow-500/20 data-[active=true]:text-yellow-500 data-[active=false]:bg-muted/50 data-[active=false]:text-muted-foreground data-[active=false]:hover:bg-muted",solo:"data-[active=true]:bg-blue-500/20 data-[active=true]:text-blue-500 data-[active=false]:bg-muted/50 data-[active=false]:text-muted-foreground data-[active=false]:hover:bg-muted",arm:"data-[active=true]:bg-red-500/20 data-[active=true]:text-red-500 data-[active=false]:bg-muted/50 data-[active=false]:text-muted-foreground data-[active=false]:hover:bg-muted"},size:{xs:"px-1.5 py-0.5 text-[9px]",sm:"px-2 py-1 text-[10px]",default:"px-3 py-1.5 text-xs"},bordered:{true:"border",false:""}},compoundVariants:[{variant:"mute",bordered:!0,className:"data-[active=true]:border-yellow-500/50 data-[active=false]:border-border data-[active=false]:hover:border-yellow-500/30"},{variant:"solo",bordered:!0,className:"data-[active=true]:border-blue-500/50 data-[active=false]:border-border data-[active=false]:hover:border-blue-500/30"},{variant:"arm",bordered:!0,className:"data-[active=true]:border-red-500/50 data-[active=false]:border-border data-[active=false]:hover:border-red-500/30"}],defaultVariants:{variant:"mute",size:"default",bordered:!1}}),os=m.forwardRef(({active:t=!1,variant:a="mute",size:o="default",bordered:s=!1,className:i,children:u,...d},p)=>c.jsx("button",{ref:p,"data-slot":"track-button","data-active":t,"data-variant":a,"data-size":o,className:ve(Oz({variant:a,size:o,bordered:s,className:i})),title:a==="mute"?t?"Unmute":"Mute":a==="solo"?t?"Unsolo":"Solo":t?"Disarm":"Arm for recording",...d,children:u}));os.displayName="SequencerTrackButton";function kz({track:t,onToggleMute:a,onToggleSolo:o,onRename:s,onDelete:i,onUpdateTrack:u,isExpanded:d=!1,onToggleExpand:p}){const[h,g]=m.useState(!1),[x,y]=m.useState(t.name),C=()=>{y(t.name),g(!0)},T=()=>{x.trim()&&s&&s(t.id,x.trim()),g(!1)},E=()=>{y(t.name),g(!1)};return c.jsxs("div",{className:ve("relative flex flex-col border-b border-border hover:bg-muted/30 transition-all group",d?"h-32 px-3 py-2 gap-2":"h-16 px-2 py-1 gap-1"),style:{borderLeftColor:t.color,borderLeftWidth:"3px"},onContextMenu:b=>{b.preventDefault()},children:[c.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:c.jsxs(i1,{children:[c.jsx(c1,{asChild:!0,children:c.jsx("button",{className:"p-0.5 rounded hover:bg-muted transition-colors",children:c.jsx(yj,{size:12,className:"text-muted-foreground"})})}),c.jsxs(u1,{align:"end",className:"w-36 mr-2",children:[c.jsxs(rs,{onClick:C,className:"text-xs py-1",children:[c.jsx(_0,{size:10,className:"mr-1.5"}),"Rename"]}),c.jsxs(rs,{className:"text-xs py-1",children:[c.jsx(T0,{size:10,className:"mr-1.5"}),"Duplicate"]}),c.jsxs(rs,{className:"text-xs py-1",children:[c.jsx(nT,{size:10,className:"mr-1.5"}),"Settings"]}),c.jsx(jp,{}),c.jsxs(rs,{onClick:()=>i?.(t.id),className:"text-xs py-1 text-red-500 focus:text-red-500",children:[c.jsx(bs,{size:10,className:"mr-1.5"}),"Delete"]})]})]})}),!d&&c.jsxs("div",{className:"flex items-center gap-2 h-full",children:[c.jsx(Yn,{variant:t.type,rounded:"default",className:"px-1.5 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:t.type}),c.jsx("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>p?.(t.id),title:"Click to expand track controls",children:h?c.jsx("input",{type:"text",value:x,onChange:b=>y(b.target.value),onKeyDown:b=>{b.key==="Enter"&&T(),b.key==="Escape"&&E()},onClick:b=>b.stopPropagation(),autoFocus:!0,className:"w-full px-1.5 py-0.5 text-xs font-medium bg-background border border-primary rounded"}):c.jsx("div",{className:"text-sm font-medium truncate",children:t.name})}),c.jsx(os,{variant:"mute",active:t.is_muted,onClick:()=>a(t.id),size:"xs",children:"M"}),c.jsx(os,{variant:"solo",active:t.is_solo,onClick:()=>o(t.id),size:"xs",children:"S"})]}),d&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>p?.(t.id),className:"p-0.5 rounded hover:bg-muted transition-colors flex-shrink-0",title:"Minimize track header",children:c.jsx(ys,{size:14,className:"text-muted-foreground"})}),c.jsx(Yn,{variant:t.type,rounded:"default",className:"px-1.5 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:t.type}),c.jsx("div",{className:"flex-1 min-w-0",children:h?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("input",{type:"text",value:x,onChange:b=>y(b.target.value),onKeyDown:b=>{b.key==="Enter"&&T(),b.key==="Escape"&&E()},autoFocus:!0,className:"flex-1 px-1.5 py-0.5 text-sm font-medium bg-background border border-primary rounded"}),c.jsx(Vn,{icon:N0,onClick:T,size:"icon-xs",variant:"ghost",tooltip:"Save"}),c.jsx(Vn,{icon:mr,onClick:E,size:"icon-xs",variant:"ghost",tooltip:"Cancel"})]}):c.jsx("div",{className:"text-sm font-medium truncate",children:t.name})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[t.type==="midi"&&u&&c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(Az,{trackId:t.id,currentInstrument:t.instrument,onInstrumentChange:(b,S)=>{u(b,{instrument:S})}})}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(os,{variant:"mute",active:t.is_muted,onClick:()=>a(t.id),size:"sm",bordered:!0,children:"M"}),c.jsx(os,{variant:"solo",active:t.is_solo,onClick:()=>o(t.id),size:"sm",bordered:!0,children:"S"}),c.jsx(os,{variant:"arm",active:t.is_armed,disabled:!0,size:"sm",bordered:!0,children:"R"})]})]}),u&&c.jsxs("div",{className:"flex items-center gap-3 text-[10px]",children:[c.jsxs("div",{className:"flex items-center gap-1.5 flex-1",children:[c.jsx("span",{className:"text-muted-foreground w-7 flex-shrink-0",children:"Vol"}),c.jsx(Lo,{value:[t.volume*100],onValueChange:b=>{u(t.id,{volume:b[0]/100})},min:0,max:200,step:1,className:"flex-1"}),c.jsxs("span",{className:"text-muted-foreground w-10 text-right flex-shrink-0 font-mono",children:[Math.round(t.volume*100),"%"]})]}),c.jsxs("div",{className:"flex items-center gap-1.5 flex-1",children:[c.jsx("span",{className:"text-muted-foreground w-7 flex-shrink-0",children:"Pan"}),c.jsx(Lo,{value:[t.pan*100],onValueChange:b=>{u(t.id,{pan:b[0]/100})},min:-100,max:100,step:1,className:"flex-1"}),c.jsx("span",{className:"text-muted-foreground w-9 text-right flex-shrink-0 font-mono",children:t.pan===0?"C":t.pan>0?`R${Math.round(t.pan*100)}`:`L${Math.round(Math.abs(t.pan)*100)}`})]})]})]})]})}const zz=zM,Lz=LM,L1=m.forwardRef(({className:t,...a},o)=>c.jsx(Ob,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:o}));L1.displayName=Ob.displayName;const P1=m.forwardRef(({className:t,...a},o)=>c.jsxs(Lz,{children:[c.jsx(L1,{}),c.jsx(kb,{ref:o,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));P1.displayName=kb.displayName;const U1=({className:t,...a})=>c.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",t),...a});U1.displayName="AlertDialogHeader";const B1=({className:t,...a})=>c.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});B1.displayName="AlertDialogFooter";const H1=m.forwardRef(({className:t,...a},o)=>c.jsx(Pb,{ref:o,className:ve("text-lg font-semibold",t),...a}));H1.displayName=Pb.displayName;const I1=m.forwardRef(({className:t,...a},o)=>c.jsx(Ub,{ref:o,className:ve("text-sm text-muted-foreground",t),...a}));I1.displayName=Ub.displayName;const q1=m.forwardRef(({className:t,...a},o)=>c.jsx(zb,{ref:o,className:ve(ym(),t),...a}));q1.displayName=zb.displayName;const $1=m.forwardRef(({className:t,...a},o)=>c.jsx(Lb,{ref:o,className:ve(ym({variant:"outline"}),"mt-2 sm:mt-0",t),...a}));$1.displayName=Lb.displayName;function Pz({tracks:t,onToggleMute:a,onToggleSolo:o,onDeleteTrack:s,onRenameTrack:i,onUpdateTrack:u,expandedTracks:d,onExpandedTracksChange:p}){const[h,g]=m.useState(!1),[x,y]=m.useState(null),[C,T]=m.useState(new Set),E=d??C,b=p??T,S=R=>{const A=t.find(_=>_.id===R);A&&(y({id:A.id,name:A.name}),g(!0))},w=()=>{x&&s&&s(x.id),g(!1),y(null)},j=R=>{if(typeof b=="function"){const A=E,_=new Set(A);_.has(R)?_.delete(R):_.add(R),b(_)}};return c.jsxs("div",{className:"flex flex-col",children:[t.length===0?c.jsx("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(k0,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"No tracks yet"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Add a track to start sequencing"})]})}):t.map(R=>c.jsx(kz,{track:R,onToggleMute:a,onToggleSolo:o,onRename:i,onDelete:s?S:void 0,onUpdateTrack:u,isExpanded:E.has(R.id),onToggleExpand:j},R.id)),c.jsx(zz,{open:h,onOpenChange:g,children:c.jsxs(P1,{children:[c.jsxs(U1,{children:[c.jsx(H1,{children:"Delete Track"}),c.jsxs(I1,{children:['Are you sure you want to delete track "',x?.name,'"? This will also delete all clips on this track. This action cannot be undone.']})]}),c.jsxs(B1,{children:[c.jsx($1,{children:"Cancel"}),c.jsx(q1,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function Uz({rulerMarkers:t}){return c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:t.map((a,o)=>c.jsx("div",{className:a.isMeasure?"absolute top-0 bottom-0 w-px bg-border":"absolute top-0 bottom-0 w-px bg-border/20",style:{left:`${a.x}px`,transform:"translateX(-0.5px)"}},`${a.beat}-${o}`))})}function F1({pixelsPerBeat:t,onLoopStartChange:a,onLoopEndChange:o}){const s=ne(j=>j.isLooping),i=ne(j=>j.loopStart),u=ne(j=>j.loopEnd),d=ne(j=>j.zoom),p=ne(j=>j.snapEnabled),h=ne(j=>j.gridSize),[g,x]=m.useState(!1),[y,C]=m.useState(!1),T=m.useRef(0),E=m.useRef(0),b=i*t*d,S=u*t*d,w=(j,R)=>{R.stopPropagation(),R.preventDefault(),j==="start"?(x(!0),E.current=i):(C(!0),E.current=u),T.current=R.clientX};return m.useEffect(()=>{if(!g&&!y)return;const j=A=>{const k=(A.clientX-T.current)/(t*d);let D=E.current+k;g?(D=Math.max(0,Math.min(D,u-1)),a&&a(D)):(D=Math.max(i+1,D),o&&o(D))},R=A=>{const k=(A.clientX-T.current)/(t*d);let D=E.current+k;p&&(D=Math.round(D*h)/h),g?(D=Math.max(0,Math.min(D,u-1)),a&&a(D),x(!1)):(D=Math.max(i+1,D),o&&o(D),C(!1))};return document.addEventListener("mousemove",j),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",R)}},[g,y,i,u,t,d,p,h,a,o]),s?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute top-0 bottom-0 bg-primary/10 border-l-2 border-r-2 border-primary/40 z-10 pointer-events-none",style:{left:`${b}px`,width:`${S-b}px`}}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-primary z-20 cursor-ew-resize",style:{left:`${b}px`},onMouseDown:j=>w("start",j),children:c.jsx("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-primary rounded-sm flex items-center justify-center hover:bg-primary/80 transition-colors cursor-ew-resize",title:"Drag to adjust loop start",children:c.jsx("span",{className:"text-[8px] text-primary-foreground font-bold",children:"L"})})}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-primary z-20 cursor-ew-resize",style:{left:`${S}px`},onMouseDown:j=>w("end",j),children:c.jsx("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-primary rounded-sm flex items-center justify-center hover:bg-primary/80 transition-colors cursor-ew-resize",title:"Drag to adjust loop end",children:c.jsx("span",{className:"text-[8px] text-primary-foreground font-bold",children:"R"})})})]}):null}function Bz({pixelsPerBeat:t,onSeek:a}){const o=ne($=>$.transport),s=ne($=>$.activeComposition),i=o?.position_beats??0,u=o?.is_playing??!1,d=s?.tempo??120,p=ne($=>$.zoom),h=ne($=>$.snapEnabled),g=ne($=>$.gridSize),x=ne($=>$.isLooping),y=ne($=>$.loopEnd),[C,T]=m.useState(!1),[E,b]=m.useState(null),S=m.useRef(0),w=m.useRef(0),j=m.useRef(null),R=m.useRef(null),A=m.useRef(Date.now()),_=m.useRef(i),k=m.useRef(i),D=m.useRef(i);m.useEffect(()=>{const $=Date.now();Math.abs(i-D.current)>1&&(k.current=i),_.current=i,D.current=i,A.current=$},[i]),m.useEffect(()=>{if(!u||C){if(k.current=E??i,j.current){const G=k.current*t*p;j.current.style.transform=`translateX(${G}px)`}return}const $=()=>{const q=(Date.now()-A.current)/1e3,X=d/60;let ae=_.current+q*X;x&&ae>=y&&(ae=y-.01);const L=.3;if(k.current+=(ae-k.current)*L,j.current){const H=k.current*t*p;j.current.style.transform=`translateX(${H}px)`}R.current=requestAnimationFrame($)};return R.current=requestAnimationFrame($),()=>{R.current!==null&&cancelAnimationFrame(R.current)}},[u,C,d,t,p,i,E,x,y]);const z=(E!==null?E:i)*t*p,I=$=>{$.stopPropagation(),$.preventDefault(),T(!0),w.current=i,S.current=$.clientX};return m.useEffect(()=>{if(!C)return;const $=q=>{const ae=(q.clientX-S.current)/(t*p),L=w.current+ae;b(Math.max(0,L))},G=q=>{const ae=(q.clientX-S.current)/(t*p);let L=w.current+ae;h&&(L=Math.round(L*g)/g),L=Math.max(0,L),a&&a(L,!0),T(!1),b(null)};return document.addEventListener("mousemove",$),document.addEventListener("mouseup",G),()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",G)}},[C,i,t,p,h,g,a]),c.jsx("div",{ref:j,className:"absolute top-0 bottom-0 w-1 bg-red-500 z-50 cursor-ew-resize pointer-events-auto",style:{transform:`translateX(${z}px)`,boxShadow:"0 0 8px rgba(239, 68, 68, 0.8)",willChange:"transform"},onMouseDown:I,title:"Drag to scrub",children:c.jsx("div",{className:"absolute -top-3 -left-2.5 w-0 h-0 pointer-events-none",style:{borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"12px solid #ef4444"}})})}function Hz({sampleId:t,clipDuration:a,tempo:o,samplesPerLoop:s=200}){const[i,u]=m.useState([]),[d,p]=m.useState([]),[h,g]=m.useState(!1),[x,y]=m.useState(null);return m.useEffect(()=>{if(!t){u([]),p([]),g(!1),y(null);return}let C=!1;return(async()=>{g(!0),y(null);try{const b=(await ge.samples.getById(t)).sample?.duration??0,S=Bp.getURL(`/api/samples/${t}/download`),w=await fetch(S);if(!w.ok)throw new Error(`Failed to fetch audio file: ${w.statusText}`);const j=await w.arrayBuffer(),R=new AudioContext,A=await R.decodeAudioData(j);if(await R.close(),C)return;const k=a/o*60/b,D=Math.max(1,Math.min(100,Math.ceil(k))),M=A.getChannelData(0);let z=[];if(k<1){const G=Math.floor(s*k),q=Math.floor(M.length/s);for(let X=0;X<G;X++){const ae=X*q,L=ae+q;let H=0;for(let P=ae;P<L;P++){const V=Math.abs(M[P]);V>H&&(H=V)}z.push(H)}}else{const G=Math.floor(M.length/s);for(let q=0;q<s;q++){const X=q*G,ae=X+G;let L=0;for(let H=X;H<ae;H++){const P=Math.abs(M[H]);P>L&&(L=P)}z.push(L)}}const I=[];if(k<1)I.push(...z);else for(let G=0;G<D;G++)I.push(...z);let $=[];if(A.numberOfChannels>1){const G=A.getChannelData(1);let q=[];if(k<1){const X=Math.floor(s*k),ae=Math.floor(G.length/s);for(let L=0;L<X;L++){const H=L*ae,P=H+ae;let V=0;for(let ce=H;ce<P;ce++){const U=Math.abs(G[ce]);U>V&&(V=U)}q.push(V)}}else{const X=Math.floor(G.length/s);for(let ae=0;ae<s;ae++){const L=ae*X,H=L+X;let P=0;for(let V=L;V<H;V++){const ce=Math.abs(G[V]);ce>P&&(P=ce)}q.push(P)}}if(k<1)$.push(...q);else for(let X=0;X<D;X++)$.push(...q)}C||(u(I),p($),g(!1))}catch(E){if(!C){const b=E instanceof Error?E.message:"Failed to load waveform";console.error("Failed to load waveform:",E),y(b),u([]),p([]),g(!1)}}})(),()=>{C=!0}},[t,a,o,s]),{leftData:i,rightData:d,isLoading:h,error:x}}function Iz({clip:t,trackColor:a="#3b82f6",isEditingInPianoRoll:o=!1,isEditingInSampleEditor:s=!1,pixelsPerBeat:i,isTrackExpanded:u=!1,onSelect:d,onDuplicate:p,onDelete:h,onMove:g,onResize:x,onUpdateClip:y,onOpenPianoRoll:C,onOpenSampleEditor:T,onClipDragStateChange:E}){const S=ne(W=>W.activeComposition)?.tempo??120,w=ne(W=>W.zoom),j=ne(W=>W.snapEnabled),R=ne(W=>W.gridSize),_=ne(W=>W.selectedClipId)===t.id,{leftData:k}=Hz({sampleId:t.type==="audio"?t.audio_file_path??null:null,clipDuration:t.duration,tempo:S,samplesPerLoop:200}),[D,M]=m.useState(!1),[z,I]=m.useState(null),[$,G]=m.useState(0),[q,X]=m.useState(0),[ae,L]=m.useState(0),[H,P]=m.useState(0),[V,ce]=m.useState(null);m.useEffect(()=>{E&&E(t.id,V)},[V,t.id,E]),m.useEffect(()=>{if(V&&!D&&!z){const W=Math.abs(t.start_time-V.startTime)<.01,ye=Math.abs(t.duration-V.duration)<.01;W&&ye&&ce(null)}},[t.start_time,t.duration,V,D,z]);const U=V?.startTime??t.start_time,Y=V?.duration??t.duration,Q=U*i*w,oe=Y*i*w,de=(W,ye)=>{W.stopPropagation(),G(W.clientX),X(U),L(Y),ye==="move"?M(!0):ye==="resize-left"?I("left"):ye==="resize-right"&&I("right")};m.useEffect(()=>{if(!D&&!z)return;const W=fe=>{const he=(fe.clientX-$)/(i*w);if(D){let be=Math.max(0,q+he);j&&(be=Math.round(be*R)/R),ce({startTime:be,duration:Y})}else if(z==="left"){let be=Math.max(0,q+he);j&&(be=Math.round(be*R)/R);const Ae=Math.max(.25,ae-(be-q));ce({startTime:be,duration:Ae})}else if(z==="right"){let be=Math.max(.25,ae+he);j&&(be=Math.round(be*R)/R),ce({startTime:U,duration:be})}},ye=()=>{D&&g&&V?g(t.id,V.startTime):z==="left"&&x&&g&&V?(g(t.id,V.startTime),x(t.id,V.duration)):z==="right"&&x&&V&&x(t.id,V.duration),M(!1),I(null)};return window.addEventListener("mousemove",W),window.addEventListener("mouseup",ye),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",ye)}},[D,z,$,q,ae,i,w,j,R,t.id,U,Y,V,g,x]);const pe=()=>{const W=Date.now();W-H<300?(d(null),t.type==="midi"&&C?C(t.id):t.type==="audio"&&T&&T(t.id),P(0)):(d(t.id),P(W))};return c.jsxs(c.Fragment,{children:[(D||z)&&j&&V&&c.jsx("div",{className:"absolute top-0 bottom-0 border-l-2 border-dashed border-teal-400/60 pointer-events-none z-10",style:{left:`${V.startTime*i*w}px`}}),c.jsxs("div",{className:ve("absolute top-1 bottom-1 rounded border-2 cursor-move overflow-hidden transition-all",o||s?"border-cyan-400 shadow-[0_0_20px_rgba(34,211,238,0.6)] ring-2 ring-cyan-400/50":_?"border-white shadow-lg":"border-white/40",D&&"opacity-70",z&&"opacity-70"),style:{left:`${Q}px`,width:`${oe}px`,backgroundColor:o||s?`${a}60`:`${a}40`,borderColor:o||s?"#22d3ee":a},onClick:pe,onMouseDown:W=>de(W,"move"),children:[x&&c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 cursor-ew-resize hover:bg-white/20 z-20",onMouseDown:W=>de(W,"resize-left")}),x&&c.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize hover:bg-white/20 z-20",onMouseDown:W=>de(W,"resize-right")}),t.type==="audio"&&k.length>0&&c.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none",children:c.jsx(z1,{data:k,width:oe,height:60,color:"rgba(255, 255, 255, 0.6)",backgroundColor:"transparent",showGrid:!1,glowEffect:!1,className:"w-full h-full"})}),u?c.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/40 backdrop-blur-sm border-t border-white/10 px-2 py-1 z-10 pointer-events-none",children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"text-xs font-medium text-white truncate flex-1",children:t.name}),t.type==="midi"&&t.midi_events&&c.jsxs("span",{className:"text-[10px] text-white/60 flex-shrink-0",children:[t.midi_events.length," notes"]})]})}):c.jsx("div",{className:"relative z-10 px-2 py-1 text-xs font-medium text-white truncate pointer-events-none",children:t.name}),_&&c.jsxs("div",{className:"absolute top-1 right-1 flex gap-1 z-20",children:[c.jsx(Le,{onClick:W=>{W.stopPropagation(),p(t.id)},size:"sm",variant:"ghost",className:"h-5 w-5 p-0 bg-background/80 hover:bg-background",children:c.jsx(T0,{size:10,className:"text-white"})}),c.jsx(Le,{onClick:W=>{W.stopPropagation(),h(t.id)},size:"sm",variant:"ghost",className:"h-5 w-5 p-0 bg-background/80 hover:bg-background",children:c.jsx(bs,{size:10,className:"text-white"})})]}),_&&oe>100&&y&&t.type==="audio"&&c.jsxs("div",{className:"absolute bottom-8 left-2 right-2 flex items-center gap-1 z-20 bg-background/90 rounded px-2 py-1",onClick:W=>W.stopPropagation(),onMouseDown:W=>W.stopPropagation(),children:[c.jsx(Qj,{size:12,className:"text-white flex-shrink-0"}),c.jsx(Lo,{value:[(t.audio_offset||0)*10],onValueChange:W=>{const ye=W[0]/10;y(t.id,{audio_offset:ye})},min:0,max:100,step:1,className:"flex-1"}),c.jsxs("span",{className:"text-[10px] text-white/80 w-10 text-right flex-shrink-0",children:[(t.audio_offset||0).toFixed(1),"s"]})]}),_&&oe>100&&y&&c.jsxs("div",{className:"absolute bottom-1 left-2 right-2 flex items-center gap-1 z-20 bg-background/90 rounded px-2 py-1",onClick:W=>W.stopPropagation(),onMouseDown:W=>W.stopPropagation(),children:[c.jsx(k0,{size:12,className:"text-white flex-shrink-0"}),c.jsx(Lo,{value:[t.gain*100],onValueChange:W=>{const ye=W[0]/100;y(t.id,{gain:ye})},min:0,max:200,step:1,className:"flex-1"}),c.jsxs("span",{className:"text-[10px] text-white/80 w-8 text-right flex-shrink-0",children:[Math.round(t.gain*100),"%"]})]})]})]})}function qz({track:t,clips:a,pixelsPerBeat:o,isExpanded:s=!1,onSelectClip:i,onDuplicateClip:u,onDeleteClip:d,onAddClipToTrack:p,onMoveClip:h,onResizeClip:g,onUpdateClip:x,onOpenPianoRoll:y,onOpenSampleEditor:C,onClipDragStateChange:T}){const E=ne(_=>_.zoom),b=ne(_=>_.snapEnabled),S=ne(_=>_.gridSize),w=ne(_=>_.pianoRollClipId),j=m.useRef(null),R=_=>{_.target===_.currentTarget&&(j.current={x:_.clientX,y:_.clientY,target:_.target})},A=_=>{if(!p||!j.current||j.current.target!==_.currentTarget)return;const k=Math.abs(_.clientX-j.current.x),D=Math.abs(_.clientY-j.current.y);if(k>5||D>5)return;j.current=null;const M=_.currentTarget.getBoundingClientRect(),I=(_.clientX-M.left)/(o*E),$=b?Math.round(I*S)/S:I;p(t.id,$)};return c.jsx("div",{className:ve("relative border-b border-border cursor-pointer hover:bg-muted/10 transition-all",s?"h-32":"h-16"),onMouseDown:R,onClick:A,title:"Click to add clip",children:a.filter(_=>_.track_id===t.id).map(_=>c.jsx(Iz,{clip:_,trackColor:t.color,isEditingInPianoRoll:w===_.id,isEditingInSampleEditor:!1,pixelsPerBeat:o,isTrackExpanded:s,onSelect:i,onDuplicate:u,onDelete:d,onMove:h,onResize:g,onUpdateClip:x,onOpenPianoRoll:y,onOpenSampleEditor:C,onClipDragStateChange:T},_.id))})}function Y1(){const t=ne(g=>g.clips),a=ne(g=>g.zoom),o=40,s=4,i=64,u=t.length>0?Math.max(...t.map(g=>g.start_time+g.duration)):0,d=Math.max(i,Math.ceil(u)+128),p=d*o*a+1e3,h=[];for(let g=0;g<=d;g++){const x=g*o*a,y=g%s===0,C=!0,T=Math.floor(g/s)+1;h.push({beat:g,x,isMeasure:y,isBeat:C,label:y?`${T}`:""})}return{pixelsPerBeat:o,beatsPerMeasure:s,totalBeats:d,totalWidth:p,rulerMarkers:h,zoom:a}}function $z({expandedTracks:t,onSelectClip:a,onDuplicateClip:o,onDeleteClip:s,onAddClipToTrack:i,onMoveClip:u,onResizeClip:d,onUpdateClip:p,onOpenPianoRoll:h,onOpenSampleEditor:g,onLoopStartChange:x,onLoopEndChange:y,onSeek:C,onClipDragStateChange:T}){const E=ne(M=>M.tracks),b=ne(M=>M.clips),w=ne(M=>M.transport)?.position_beats??0,{pixelsPerBeat:j,totalWidth:R,rulerMarkers:A,zoom:_}=Y1(),k=m.useRef(null),D=w*j*_;return m.useEffect(()=>{if(!k.current)return;const M=k.current,z=M.clientWidth,I=M.scrollLeft,$=D-I,G=z*.8;if($>G){const q=D-z*.5;M.scrollTo({left:Math.max(0,q),behavior:"smooth"})}else $<0&&M.scrollTo({left:Math.max(0,D-z*.2),behavior:"smooth"})},[D]),c.jsx("div",{ref:k,className:"flex-shrink-0",style:{width:`${R}px`,minWidth:`${R}px`},children:E.length===0?c.jsx("div",{className:"flex items-center justify-center h-40 text-sm text-muted-foreground",children:"No tracks. Add a track to start sequencing."}):c.jsx("div",{className:"flex-shrink-0",style:{width:`${R}px`},children:c.jsxs("div",{className:"relative",style:{width:`${R}px`},children:[c.jsx(Uz,{rulerMarkers:A}),c.jsx(F1,{pixelsPerBeat:j,onLoopStartChange:x,onLoopEndChange:y}),E.map(M=>c.jsx(qz,{track:M,clips:b,pixelsPerBeat:j,isExpanded:t?.has(M.id),onSelectClip:a,onDuplicateClip:o,onDeleteClip:s,onAddClipToTrack:i,onMoveClip:u,onResizeClip:d,onUpdateClip:p,onOpenPianoRoll:h,onOpenSampleEditor:g,onClipDragStateChange:T},M.id)),c.jsx(Bz,{pixelsPerBeat:j,onSeek:C})]})})})}function Fz({rulerMarkers:t,totalWidth:a,onSeek:o,pixelsPerBeat:s,zoom:i,snapEnabled:u,gridSize:d}){const p=h=>{if(!o)return;const g=h.currentTarget.getBoundingClientRect(),y=(h.clientX-g.left)/(s*i),C=u?Math.round(y*d)/d:y;o(Math.max(0,C),!0)};return c.jsx("div",{className:"h-8 border-b border-border bg-muted/30 flex-shrink-0 sticky top-0 z-20 cursor-pointer hover:bg-muted/50 transition-colors",onClick:p,title:"Click to seek",children:c.jsx("div",{className:"relative h-full pointer-events-none",style:{width:`${a}px`},children:t.map((h,g)=>c.jsx("div",{className:"absolute top-0 bottom-0 flex flex-col",style:{left:`${h.x}px`,transform:"translateX(-0.5px)"},children:h.isMeasure?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-muted-foreground px-1",children:h.label}),c.jsx("div",{className:"flex-1 w-px bg-border"})]}):c.jsx("div",{className:"flex-1 w-px bg-border/40 mt-4"})},`${h.beat}-${g}`))})})}function V1({cornerHeader:t,ruler:a,sidebar:o,mainContent:s,sidebarWidth:i=256,headerHeight:u=32,contentWidth:d,scrollRef:p,onScroll:h,rulerScrollDataAttr:g="data-ruler-scroll",sidebarScrollDataAttr:x="data-sidebar-scroll"}){const y=m.useRef(null),C=m.useRef(null),T=m.useRef(null),E=m.useCallback(b=>{const S=b.currentTarget.scrollTop,w=b.currentTarget.scrollLeft;T.current!==null&&cancelAnimationFrame(T.current),T.current=requestAnimationFrame(()=>{C.current&&C.current.scrollTop!==S&&(C.current.scrollTop=S),y.current&&y.current.scrollLeft!==w&&(y.current.scrollLeft=w),T.current=null}),h(b)},[h]);return m.useEffect(()=>()=>{T.current!==null&&cancelAnimationFrame(T.current)},[]),c.jsxs("div",{className:"flex-1 min-h-0",style:{display:"grid",gridTemplateColumns:`${i}px 1fr`,gridTemplateRows:`${u}px 1fr`},children:[c.jsx("div",{className:"border-r border-b border-border bg-muted/30 flex items-center px-3",children:t}),c.jsx("div",{ref:y,[g]:"",className:"border-b border-border overflow-x-auto overflow-y-hidden scrollbar-hide",style:{willChange:"scroll-position"},children:c.jsx("div",{style:{width:`${d}px`,minWidth:`${d}px`},children:a})}),c.jsx("div",{ref:C,[x]:"",className:"border-r border-border bg-background overflow-y-auto overflow-x-hidden scrollbar-hide",style:{willChange:"scroll-position"},children:o}),c.jsx("div",{ref:p,className:"overflow-auto",onScroll:E,style:{willChange:"scroll-position"},children:c.jsx("div",{style:{width:`${d}px`,minWidth:`${d}px`},children:s})})]})}function Yz(t){const{timelineScrollRef:a,onTimelineScroll:o,onToggleMute:s,onToggleSolo:i,onDeleteTrack:u,onRenameTrack:d,onUpdateTrack:p,onSelectClip:h,onDuplicateClip:g,onDeleteClip:x,onAddClipToTrack:y,onMoveClip:C,onResizeClip:T,onUpdateClip:E,onOpenPianoRoll:b,onOpenSampleEditor:S,onLoopStartChange:w,onLoopEndChange:j,onSeek:R,onClipDragStateChange:A}=t,_=ne(X=>X.tracks),k=ne(X=>X.zoom),D=ne(X=>X.snapEnabled),M=ne(X=>X.gridSize),[z,I]=m.useState(new Set),{totalWidth:$,rulerMarkers:G,pixelsPerBeat:q}=Y1();return c.jsx(V1,{cornerHeader:c.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Tracks"}),ruler:c.jsx(Fz,{rulerMarkers:G,totalWidth:$,onSeek:R,pixelsPerBeat:q,zoom:k,snapEnabled:D,gridSize:M}),sidebar:c.jsx(Pz,{tracks:_,onToggleMute:s,onToggleSolo:i,onDeleteTrack:u,onRenameTrack:d,onUpdateTrack:p,expandedTracks:z,onExpandedTracksChange:I}),mainContent:c.jsx($z,{expandedTracks:z,onSelectClip:h,onDuplicateClip:g,onDeleteClip:x,onAddClipToTrack:y,onMoveClip:C,onResizeClip:T,onUpdateClip:E,onOpenPianoRoll:b,onOpenSampleEditor:S,onLoopStartChange:w,onLoopEndChange:j,onSeek:R,onClipDragStateChange:A}),sidebarWidth:256,headerHeight:32,contentWidth:$,scrollRef:a,onScroll:o,rulerScrollDataAttr:"data-ruler-scroll",sidebarScrollDataAttr:"data-track-list"})}const Vz=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Gz({minPitch:t,maxPitch:a,noteHeight:o,instrument:s="sine"}){const[i,u]=m.useState(null),d=x=>{const y=Math.floor(x/12)-1;return`${Vz[x%12]}${y}`},p=x=>{const y=x%12;return[1,3,6,8,10].includes(y)},h=async x=>{u(x),setTimeout(()=>u(null),300);try{await ge.sequencer.previewNote({note:x,velocity:100,duration:.5,synthdef:s})}catch(y){console.error("Failed to preview note:",y)}},g=(a-t+1)*o;return c.jsx("div",{className:"w-32 flex-shrink-0 border-r border-border bg-gray-900 relative",children:c.jsx("div",{style:{height:`${g}px`,position:"relative"},children:Array.from({length:a-t+1},(x,y)=>{const C=a-y,T=p(C),E=d(C),b=i===C,S=C%12===0;return c.jsx("div",{className:ve("absolute left-0 right-0 select-none cursor-pointer transition-all border-b border-gray-700/50",T?b?"bg-gradient-to-r from-gray-600 to-gray-500 shadow-lg z-10":"bg-gradient-to-r from-gray-800 to-gray-700 hover:from-gray-700 hover:to-gray-600 z-10":b?"bg-gradient-to-r from-gray-200 to-gray-100 shadow-lg":"bg-gradient-to-r from-gray-100 to-white hover:from-gray-200 hover:to-gray-100"),style:{top:`${y*o}px`,height:`${o}px`,width:T?"70%":"100%",right:T?"0":"auto",borderRight:T?"none":"1px solid rgba(0,0,0,0.1)",boxShadow:T?"inset 0 -1px 2px rgba(0,0,0,0.5), 2px 2px 4px rgba(0,0,0,0.3)":"inset 0 -1px 1px rgba(0,0,0,0.1)"},onClick:()=>h(C),title:`Click to preview ${E}`,children:!T&&S&&c.jsx("span",{className:ve("absolute left-2 top-1/2 -translate-y-1/2 text-[10px] font-bold",b?"text-gray-800":"text-gray-500"),children:E})},C)})})})}function Xz({notes:t,selectedNotes:a,minPitch:o,maxPitch:s,clipStartTime:i,clipDuration:u,totalBeats:d,beatWidth:p,noteHeight:h,snapEnabled:g,gridSize:x,clipId:y,activeNotes:C,onAddNote:T,onMoveNote:E,onResizeNote:b,onDeleteNote:S,onSelectNote:w,onToggleSelectNote:j}){const R=m.useRef(null),[A,_]=m.useState(null),[k,D]=m.useState(null),[M,z]=m.useState(0),[I,$]=m.useState(0),[G,q]=m.useState(0),[X,ae]=m.useState(0),[L,H]=m.useState(0),[P,V]=m.useState(!1),ce=d*p,U=(s-o+1)*h,Y=i*p,Q=(i+u)*p,oe=fe=>{const me=Math.floor(fe/h);return s-me},de=fe=>fe/p,pe=fe=>{if(A!==null||k!==null)return;const me=R.current?.getBoundingClientRect();if(!me)return;const he=fe.clientX-me.left,be=fe.clientY-me.top;if(he<Y||he>=Q)return;const Ae=oe(be),ft=de(he)-i,rt=W(Ae,ft);rt!==-1?S(rt):T(Ae,ft)},W=(fe,me)=>{const he=g?1/x*.5:.1;return t.findIndex(be=>{const Ae=be.start_time,Je=Ae+be.duration;return be.note===fe&&me>=Ae-he&&me<=Je+he})},ye=(fe,me,he)=>{fe.stopPropagation();const be=t[me];z(fe.clientX),$(fe.clientY),q(be.start_time),ae(be.note),H(be.duration),V(!1),he==="move"?(_(me),fe.shiftKey?j(me):w(me)):D(me)};return m.useEffect(()=>{if(A===null&&k===null)return;const fe=he=>{if(!R.current?.getBoundingClientRect())return;const Ae=he.clientX-M,Je=he.clientY-I,ft=3;if((Math.abs(Ae)>ft||Math.abs(Je)>ft)&&V(!0),A!==null){const rt=Ae/p,st=-Math.round(Je/h),bn=Math.max(0,G+rt),at=Math.max(o,Math.min(s,X+st));E(A,bn,at)}else if(k!==null){const rt=Ae/p,st=Math.max(.0625,L+rt);b(k,st)}},me=()=>{!P&&A!==null&&k===null&&S(A),_(null),D(null),V(!1)};return document.addEventListener("mousemove",fe),document.addEventListener("mouseup",me),()=>{document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",me)}},[A,k,M,I,G,X,L,p,h,o,s,P,S,E,b]),m.useEffect(()=>{const fe=me=>{(me.key==="Delete"||me.key==="Backspace")&&a.forEach(he=>S(he))};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[a,S]),c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("div",{ref:R,className:"relative cursor-crosshair",style:{width:`${ce}px`,height:`${U}px`,backgroundImage:`
                        linear-gradient(to right, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                        linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px)
                    `,backgroundSize:`${p}px ${h}px`,backgroundColor:"#0a0a0a"},onClick:pe,children:[c.jsx("div",{className:"absolute top-0 bottom-0 bg-cyan-500/5 border-l-2 border-r-2 border-cyan-500/30 pointer-events-none",style:{left:`${Y}px`,width:`${Q-Y}px`}}),t.map((fe,me)=>{const he=(s-fe.note)*h,be=(i+fe.start_time)*p,Ae=fe.duration*p,Je=a.has(me),ft=C?.some(st=>st.clip_id===y&&st.note===fe.note)??!1,rt=.3+fe.velocity/127*.7;return c.jsxs("div",{className:ve("absolute rounded cursor-move transition-colors group",Je?"border-2 border-cyan-300 z-10":"border border-cyan-500 hover:border-cyan-300",ft&&"animate-pulse ring-2 ring-cyan-400 shadow-lg shadow-cyan-400/50"),style:{left:`${be}px`,top:`${he}px`,width:`${Ae}px`,height:`${h}px`,backgroundColor:Je?`rgba(6, 182, 212, ${rt})`:`rgba(8, 145, 178, ${rt})`,boxShadow:ft?"0 0 20px rgba(6, 182, 212, 0.8)":void 0},onMouseDown:st=>ye(st,me,"move"),title:`Velocity: ${fe.velocity}`,children:[c.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-cyan-300/40",style:{height:`${fe.velocity/127*100}%`}}),c.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize hover:bg-white/20 z-10",onMouseDown:st=>ye(st,me,"resize")})]},me)})]})})}function Kz({totalBeats:t,currentPosition:a,isPlaying:o,zoom:s,pixelsPerBeat:i,totalWidth:u,snapEnabled:d,gridSize:p,onSeek:h}){const g=m.useRef(null),[x,y]=m.useState(!1),[C,T]=m.useState(null),E=m.useRef(0),b=m.useRef(0),S=4,w=i*s,j=[],R=Math.ceil(t)+1;for(let M=0;M<=R;M++){const z=M*w,I=M%S===0,$=Math.floor(M/S)+1;j.push({beat:M,x:z,isMeasure:I,label:I?`${$}`:""})}const _=(C!==null?C:a)*w;m.useEffect(()=>{if(!g.current||!o||x)return;let M;const z=()=>{g.current&&(g.current.style.transform=`translateX(${_}px)`),M=requestAnimationFrame(z)};return M=requestAnimationFrame(z),()=>{M&&cancelAnimationFrame(M)}},[o,_,x]);const k=M=>{if(!h||x)return;const z=M.currentTarget.getBoundingClientRect(),$=(M.clientX-z.left)/w,G=d?Math.round($*p)/p:$;h(Math.max(0,G),!0)},D=M=>{M.stopPropagation(),M.preventDefault(),y(!0),b.current=a,E.current=M.clientX};return m.useEffect(()=>{if(!x)return;const M=I=>{const G=(I.clientX-E.current)/w,q=b.current+G;T(Math.max(0,q))},z=I=>{const G=(I.clientX-E.current)/w;let q=b.current+G;d&&(q=Math.round(q*p)/p),q=Math.max(0,q),h&&h(q,!0),y(!1),T(null)};return document.addEventListener("mousemove",M),document.addEventListener("mouseup",z),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",z)}},[x,a,w,d,p,h]),c.jsxs("div",{className:"relative h-8 border-b border-border bg-muted/30 flex-shrink-0 cursor-pointer hover:bg-muted/50 transition-colors",onClick:k,title:"Click to seek",style:{width:u},children:[c.jsx("div",{className:"relative h-full pointer-events-none",children:j.map((M,z)=>c.jsx("div",{className:"absolute top-0 bottom-0 flex flex-col",style:{left:`${M.x}px`,transform:"translateX(-0.5px)"},children:M.isMeasure?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-muted-foreground px-1",children:M.label}),c.jsx("div",{className:"flex-1 w-px bg-border"})]}):c.jsx("div",{className:"flex-1 w-px bg-border/40 mt-4"})},`${M.beat}-${z}`))}),c.jsx("div",{ref:g,className:"absolute top-0 bottom-0 w-1 bg-red-500 z-50 cursor-ew-resize pointer-events-auto",style:{transform:`translateX(${_}px)`,boxShadow:"0 0 8px rgba(239, 68, 68, 0.8)",willChange:"transform"},onMouseDown:D,title:"Drag to scrub",children:c.jsx("div",{className:"absolute -top-3 -left-2.5 w-0 h-0 pointer-events-none",style:{borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"12px solid #ef4444"}})})]})}function Wz(t){const{notes:a,selectedNotes:o,minPitch:s,maxPitch:i,noteHeight:u,clipStartTime:d,clipDuration:p,totalBeats:h,beatWidth:g,instrument:x,clipId:y,activeNotes:C,currentPosition:T,isPlaying:E,pixelsPerBeat:b,pianoRollScrollRef:S,onPianoRollScroll:w,onAddNote:j,onMoveNote:R,onResizeNote:A,onUpdateVelocity:_,onDeleteNote:k,onSelectNote:D,onToggleSelectNote:M,onSeek:z,onLoopStartChange:I,onLoopEndChange:$}=t,G=ne(L=>L.snapEnabled),q=ne(L=>L.gridSize),X=ne(L=>L.zoom),ae=h*g+1e3;return c.jsx(V1,{cornerHeader:c.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Notes"}),ruler:c.jsx(Kz,{totalBeats:h,currentPosition:T,isPlaying:E,zoom:X,pixelsPerBeat:b,totalWidth:ae,snapEnabled:G,gridSize:q,onSeek:z}),sidebar:c.jsx(Gz,{minPitch:s,maxPitch:i,noteHeight:u,instrument:x}),mainContent:c.jsxs("div",{className:"relative",children:[c.jsx(Xz,{notes:a,selectedNotes:o,minPitch:s,maxPitch:i,clipStartTime:d,clipDuration:p,totalBeats:h,beatWidth:g,noteHeight:u,snapEnabled:G,gridSize:q,clipId:y,activeNotes:C,onAddNote:j,onMoveNote:R,onResizeNote:A,onUpdateVelocity:_,onDeleteNote:k,onSelectNote:D,onToggleSelectNote:M}),c.jsx(F1,{pixelsPerBeat:b,onLoopStartChange:I,onLoopEndChange:$})]}),sidebarWidth:256,headerHeight:32,contentWidth:ae,scrollRef:S,onScroll:w,rulerScrollDataAttr:"data-piano-ruler-scroll",sidebarScrollDataAttr:"data-piano-keyboard"})}const Qz=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Zz({clipId:t,clipName:a,clipDuration:o,clipStartTime:s,midiEvents:i,totalBeats:u,instrument:d,activeNotes:p,currentPosition:h,isPlaying:g,pianoRollScrollRef:x,onPianoRollScroll:y,onClose:C,onUpdateNotes:T,onSeek:E,onLoopStartChange:b,onLoopEndChange:S}){const w=ne(Y=>Y.snapEnabled),j=ne(Y=>Y.gridSize),R=ne(Y=>Y.zoom),[A,_]=m.useState(new Set),[k,D]=m.useState([]),M=21,z=108,I=40,$=I*R,G=20,q=Y=>{const Q=Math.floor(Y/12)-1;return`${Qz[Y%12]}${Q}`},X=async(Y,Q)=>{const oe={note:Y,note_name:q(Y),start_time:w?Math.round(Q*j)/j:Q,duration:w?1/j:.25,velocity:100,channel:0};T(t,[...i,oe]);try{await ge.sequencer.previewNote({note:Y,velocity:100,duration:.5,synthdef:d||"sine"})}catch(de){console.error("Failed to preview note:",de)}},ae=async(Y,Q,oe)=>{const de=[...i],pe=de[Y].note;if(de[Y]={...de[Y],note:oe,note_name:q(oe),start_time:w?Math.round(Q*j)/j:Q},T(t,de),oe!==pe)try{await ge.sequencer.previewNote({note:oe,velocity:de[Y].velocity,duration:.5,synthdef:d||"sine"})}catch(W){console.error("Failed to preview note:",W)}},L=(Y,Q)=>{const oe=[...i];oe[Y]={...oe[Y],duration:Math.max(.0625,w?Math.round(Q*j)/j:Q)},T(t,oe)},H=(Y,Q)=>{const oe=[...i];oe[Y]={...oe[Y],velocity:Math.max(1,Math.min(127,Math.round(Q)))},T(t,oe)},P=Y=>{T(t,i.filter((Q,oe)=>oe!==Y)),_(new Set(Array.from(A).filter(Q=>Q!==Y)))},V=()=>{T(t,i.filter((Y,Q)=>!A.has(Q))),_(new Set)},ce=()=>{const Y=Array.from(A).map(Q=>i[Q]);D(Y)},U=()=>{if(k.length===0)return;const Q=0-Math.min(...k.map(de=>de.start_time)),oe=k.map(de=>({...de,start_time:de.start_time+Q}));T(t,[...i,...oe])};return m.useEffect(()=>{const Y=Q=>{(Q.ctrlKey||Q.metaKey)&&Q.key==="c"&&A.size>0?(Q.preventDefault(),ce()):(Q.ctrlKey||Q.metaKey)&&Q.key==="v"&&k.length>0?(Q.preventDefault(),U()):(Q.key==="Delete"||Q.key==="Backspace")&&A.size>0&&(Q.preventDefault(),V())};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[A,k,i]),c.jsxs("div",{className:"flex flex-col h-full bg-background",children:[c.jsxs("div",{className:"border-b border-border bg-muted/20 flex items-center flex-shrink-0 relative",children:[c.jsx("div",{className:"w-64 px-3 py-2 border-r border-border flex-shrink-0 bg-background absolute left-0 top-0 bottom-0 z-10",children:c.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Piano Roll"})}),c.jsxs("div",{className:"flex-1 px-4 py-2 pl-[17rem] flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-semibold",children:a}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.length," ",i.length===1?"note":"notes"]}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" Bar ",Math.floor(s/4)+1,"  ",o," beats"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Le,{onClick:V,size:"sm",variant:"ghost",disabled:A.size===0,children:[c.jsx(bs,{size:14,className:"mr-1"}),"Delete (",A.size,")"]}),c.jsx(Vn,{icon:mr,tooltip:"Close Piano Roll",onClick:C,variant:"ghost",size:"icon-sm"})]})]})]}),c.jsx(Wz,{notes:i,selectedNotes:A,minPitch:M,maxPitch:z,noteHeight:G,clipStartTime:s,clipDuration:o,totalBeats:u,beatWidth:$,instrument:d,clipId:t,activeNotes:p,currentPosition:h,isPlaying:g,pixelsPerBeat:I,pianoRollScrollRef:x,onPianoRollScroll:y,onAddNote:X,onMoveNote:ae,onResizeNote:L,onUpdateVelocity:H,onDeleteNote:P,onSelectNote:Y=>_(new Set([Y])),onToggleSelectNote:Y=>{const Q=new Set(A);Q.has(Y)?Q.delete(Y):Q.add(Y),_(Q)},onSeek:E,onLoopStartChange:b,onLoopEndChange:S})]})}function Jz(t){const{clip:a,track:o,clipDragState:s,totalBeats:i,currentPosition:u,isPlaying:d,pianoRollScrollRef:p,onPianoRollScroll:h,onClose:g,onUpdateNotes:x,onSeek:y,onLoopStartChange:C,onLoopEndChange:T}=t;if(!a)return c.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 text-center overflow-hidden min-h-0 min-w-0",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(tn,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"No MIDI Clip Selected"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Double-click a MIDI clip in the timeline above to open it in the piano roll editor."})]})});if(a.type!=="midi")return c.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 text-center overflow-hidden min-h-0 min-w-0",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(tn,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"Audio Clip Selected"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Piano roll only works with MIDI clips. The selected clip is an audio clip."})]})});const E=s?.startTime??a.start_time,b=s?.duration??a.duration,S=`${a.id}-${b}-${E}-${a.midi_events?.length||0}`;return c.jsx(Zz,{clipId:a.id,clipName:a.name,clipDuration:b,clipStartTime:E,midiEvents:a.midi_events||[],totalBeats:i,instrument:o?.instrument,activeNotes:t.activeNotes,currentPosition:u,isPlaying:d,pianoRollScrollRef:p,onPianoRollScroll:h,onClose:g,onUpdateNotes:x,onSeek:y,onLoopStartChange:C,onLoopEndChange:T},S)}function e3(t){const{pianoRollScrollRef:a,sampleEditorScrollRef:o,onPianoRollScroll:s,onSampleEditorScroll:i,onClosePianoRoll:u,onCloseSampleEditor:d,onUpdateMIDINotes:p,onUpdateClip:h,onSeek:g,timelineScrollRef:x,...y}=t,C=ne(P=>P.tracks),T=ne(P=>P.clips),E=ne(P=>P.transport),b=E?.position_beats??0,S=E?.is_playing??!1,w=ne(P=>P.pianoRollClipId),j=ne(P=>P.showPianoRoll),[R,A]=m.useState(()=>us.getSequencerSplitRatio()),[_,k]=m.useState(!1),[D,M]=m.useState(new Map),z=m.useCallback((P,V)=>{M(ce=>{const U=new Map(ce);return V===null?U.delete(P):U.set(P,V),U})},[]);m.useEffect(()=>{us.setSequencerSplitRatio(R)},[R]);const I=m.useCallback(P=>{P.preventDefault(),k(!0)},[]);m.useEffect(()=>{if(!_)return;const P=ce=>{const U=document.querySelector(".sequencer-split-container");if(!U)return;const Y=U.getBoundingClientRect(),oe=(ce.clientY-Y.top)/Y.height*100,de=Math.max(20,Math.min(80,oe));A(de)},V=()=>{k(!1)};return document.addEventListener("mousemove",P),document.addEventListener("mouseup",V),()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",V)}},[_]);const $=m.useCallback(()=>{A(50)},[]),G=T.find(P=>P.id===w),q=G?C.find(P=>P.id===G.track_id):void 0,X=w?D.get(w):null,ae=64,L=T.length>0?Math.max(...T.map(P=>P.start_time+P.duration)):0,H=Math.max(ae,Math.ceil(L)+128);return c.jsxs("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden sequencer-split-container",children:[c.jsx("div",{className:"min-h-0 flex relative overflow-hidden",style:{height:`${R}%`},children:c.jsx(Yz,{...y,timelineScrollRef:x,onUpdateClip:h,onSeek:g,onClipDragStateChange:z})}),c.jsx("div",{className:`h-1 border-t border-border bg-background hover:bg-accent cursor-row-resize flex items-center justify-center group ${_?"bg-accent":""}`,onMouseDown:I,onDoubleClick:$,title:"Drag to resize, double-click to reset",children:c.jsx("div",{className:"w-12 h-0.5 bg-border group-hover:bg-foreground/50 rounded-full"})}),c.jsx("div",{className:"min-h-0 overflow-hidden",style:{height:`${100-R}%`},children:c.jsx("div",{className:"h-full flex flex-col overflow-hidden",children:j&&c.jsx(Jz,{clip:G,track:q,clipDragState:X,totalBeats:H,activeNotes:t.activeNotes,currentPosition:b,isPlaying:S??!1,timelineScrollRef:x,pianoRollScrollRef:a,onPianoRollScroll:s,onClose:u,onUpdateNotes:p,onSeek:g,onLoopStartChange:t.onLoopStartChange,onLoopEndChange:t.onLoopEndChange})})})]})}function t3(){const t=ne(le=>le.activeComposition),a=ne(le=>le.tracks),o=ne(le=>le.clips),s=ne(le=>le.transport),i=ne(le=>le.zoom),u=ne(le=>le.snapEnabled),d=ne(le=>le.gridSize),p=ne(le=>le.play),h=ne(le=>le.stop),g=ne(le=>le.pause),x=ne(le=>le.resume),y=ne(le=>le.setTempo),C=ne(le=>le.toggleMetronome),T=ne(le=>le.seek),E=ne(le=>le.setLoopStart),b=ne(le=>le.setLoopEnd),S=ne(le=>le.setZoom),w=ne(le=>le.setSnapEnabled),j=ne(le=>le.setGridSize),R=ne(le=>le.createTrack),A=ne(le=>le.deleteTrack),_=ne(le=>le.renameTrack),k=ne(le=>le.updateTrack),D=ne(le=>le.muteTrack),M=ne(le=>le.soloTrack),z=ne(le=>le.addClip),I=ne(le=>le.updateClip),$=ne(le=>le.deleteClip),G=ne(le=>le.duplicateClip),[q,X]=m.useState(t?.tempo?.toString()||"120"),[ae,L]=m.useState(!1),[H,P]=m.useState(!1),[V,ce]=m.useState(!1),[U,Y]=m.useState(!1),Q=s?.active_notes??[],{timelineScrollRef:oe,pianoRollScrollRef:de,sampleEditorScrollRef:pe,handleTimelineScroll:W,handlePianoRollScroll:ye,handleSampleEditorScroll:fe}=yz();m.useEffect(()=>{t&&X(t.tempo.toString())},[t?.tempo]);const me=s?.is_playing??!1,he=t?.tempo??120,be=s?.metronome_enabled??!1,Ae=m.useCallback(async()=>{t&&(me?ae?(await x(),L(!1)):(await g(),L(!0)):(await p(),L(!1)))},[me,ae,t,p,g,x]),Je=m.useCallback(async()=>{await h(),L(!1)},[h]),ft=m.useCallback(()=>{ue.info("Recording not yet implemented")},[]),rt=m.useCallback(le=>{X(le)},[]),st=m.useCallback(async()=>{const le=parseFloat(q);!isNaN(le)&&le>=20&&le<=300?await y(le):X(he.toString())},[q,he,y]),bn=m.useCallback(async le=>{le.key==="Enter"&&await st()},[st]),at=m.useCallback(()=>{P(!0)},[]),et=m.useCallback(async()=>{if(!t)return;const le=`Track ${a.length+1}`;await R(le,"midi","sine"),P(!1)},[t,a.length,R]),Tt=m.useCallback(()=>{t&&(P(!1),ce(!0))},[t]),Rt=m.useCallback(le=>{if(!t)return;const it=le.name||`Track ${a.length+1}`;R(it,"audio"),ce(!1)},[t,a.length,R]),rn=m.useCallback(async le=>{const it=a.find(Pe=>Pe.id===le);it&&await D(le,!it.is_muted)},[a,D]),kt=m.useCallback(async le=>{const it=a.find(Pe=>Pe.id===le);it&&await M(le,!it.is_solo)},[a,M]),dn=m.useCallback(async(le,it)=>{await k(le,it)},[k]),Kn=m.useCallback(async(le,it)=>{if(!t)return;const Pe=a.find(ct=>ct.id===le);if(!Pe)return;const He={sequence_id:t.id,clip_type:Pe.type==="midi"?"midi":"audio",track_id:le,start_time:it,duration:4};await z(He)},[t,a,z]),Sn=m.useCallback(async le=>{t&&await G(t.id,le)},[t,G]),It=ne(le=>le.openPianoRoll),Wn=ne(le=>le.closePianoRoll),Qn=m.useCallback(le=>{It(le)},[It]),An=m.useCallback(()=>{Wn()},[Wn]),fn=m.useCallback(le=>{ue.info("Sample editor not yet implemented")},[]),wn=m.useCallback(async(le,it)=>{await I(le,{midi_events:it})},[I]),Mt=m.useCallback(async le=>{await $(le)},[$]),sn=m.useCallback(async(le,it)=>{await I(le,{start_time:it})},[I]),zt=m.useCallback(async(le,it)=>{await I(le,{duration:it})},[I]),Kt=m.useCallback(async(le,it)=>{await I(le,it)},[I]),Io=a.length>0||o.length>0;return t?c.jsxs("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Ft,{title:"TRANSPORT",showHeader:!1,children:c.jsxs("div",{className:"px-4 py-3 bg-gradient-to-r from-muted/20 to-muted/10 flex items-center justify-between",children:[c.jsx(_z,{isPlaying:me,metronomeEnabled:be,tempo:he,hasTracksOrClips:Io,onPlayPause:Ae,onStop:Je,onRecord:ft,onLoop:()=>ue.info("Loop toggle not yet implemented"),onMetronomeToggle:C,onTempoChange:rt,onTempoBlur:st,onTempoKeyDown:bn}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Le,{onClick:at,size:"sm",variant:"default",disabled:!t,children:[c.jsx(xs,{size:14,className:"mr-1"}),"Track"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Vn,{icon:CT,tooltip:"Zoom out timeline",onClick:()=>S(Math.max(.25,i-.25)),variant:"ghost",size:"icon-sm",disabled:!t||i<=.25}),c.jsxs("span",{className:"text-xs text-muted-foreground w-12 text-center",children:[Math.round(i*100),"%"]}),c.jsx(Vn,{icon:ST,tooltip:"Zoom in timeline",onClick:()=>S(Math.min(4,i+.25)),variant:"ghost",size:"icon-sm",disabled:!t||i>=4})]}),c.jsx(Vn,{icon:jj,tooltip:u?"Snap to grid: ON":"Snap to grid: OFF",onClick:()=>w(!u),variant:u?"default":"ghost",size:"icon-sm",className:u?"bg-primary/20 text-primary":"",disabled:!t}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ge,{htmlFor:"grid-size-select",className:"text-xs text-muted-foreground",children:"Grid"}),c.jsxs(Oo,{value:d.toString(),onValueChange:le=>j(parseInt(le)),disabled:!t||!u,children:[c.jsx(ko,{id:"grid-size-select",className:"w-20 h-7 text-sm",children:c.jsx(hs,{})}),c.jsxs(zo,{children:[c.jsx(en,{value:"1",children:"1/1"}),c.jsx(en,{value:"2",children:"1/2"}),c.jsx(en,{value:"4",children:"1/4"}),c.jsx(en,{value:"8",children:"1/8"}),c.jsx(en,{value:"16",children:"1/16"}),c.jsx(en,{value:"32",children:"1/32"})]})]})]})]})]})})}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(Ft,{title:"SEQUENCER",showHeader:!1,children:c.jsx(e3,{activeNotes:Q,onToggleMute:rn,onToggleSolo:kt,onDeleteTrack:A,onRenameTrack:_,onUpdateTrack:dn,onSelectClip:()=>{},onDuplicateClip:Sn,onDeleteClip:Mt,onAddClipToTrack:Kn,onMoveClip:sn,onResizeClip:zt,onUpdateClip:Kt,onOpenPianoRoll:Qn,onOpenSampleEditor:fn,onLoopStartChange:E,onLoopEndChange:b,onSeek:T,onClosePianoRoll:An,onUpdateMIDINotes:wn,onCloseSampleEditor:()=>{},timelineScrollRef:oe,pianoRollScrollRef:de,sampleEditorScrollRef:pe,onTimelineScroll:W,onPianoRollScroll:ye,onSampleEditorScroll:fe})})}),c.jsx(Mz,{isOpen:H,onClose:()=>P(!1),onSelectMIDI:et,onSelectSample:Tt}),c.jsx(Cz,{isOpen:V,onClose:()=>ce(!1),onSelectSample:Rt}),U&&t&&c.jsx(Rz,{isOpen:U,composition:t,onClose:()=>Y(!1),onSave:async()=>{ue.info("Composition settings update not yet implemented"),Y(!1)}})]}):c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx(Dz,{onCreateSequence:()=>ue.info("Use File > New to create a new composition"),onOpenSequenceManager:()=>ue.info("Use File > Open to load a composition")})})}function n3(){const t=ne(p=>p.tracks),a=ne(p=>p.showMeters),o=ne(p=>p.meterMode),s=ne(p=>p.setShowMeters),i=ne(p=>p.setMeterMode),u=t.filter(p=>!p.is_muted).length,d=t.filter(p=>p.is_solo).length;return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rp,{size:16,className:"text-primary"}),c.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[t.length," ",t.length===1?"Channel":"Channels"]})]}),u<t.length&&c.jsxs(Yn,{variant:"secondary",className:"text-[10px] font-semibold",children:[u," Active"]}),d>0&&c.jsxs(Yn,{variant:"default",className:"text-[10px] font-semibold bg-yellow-500/20 text-yellow-500 border-yellow-500/30",children:[d," Solo"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Le,{onClick:()=>s(!a),variant:a?"default":"outline",size:"sm",className:ve("gap-1.5",a&&"shadow-[0_0_10px_rgba(0,245,255,0.5)]"),children:[c.jsx(Up,{size:14}),c.jsx("span",{className:"font-semibold",children:"Meters"})]}),a&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ge,{htmlFor:"meter-mode-select",className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Mode"}),c.jsxs(Oo,{value:o,onValueChange:p=>i(p),children:[c.jsx(ko,{id:"meter-mode-select",className:"w-20 h-7 text-xs font-semibold",children:c.jsx(hs,{})}),c.jsxs(zo,{children:[c.jsx(en,{value:"peak",children:"Peak"}),c.jsx(en,{value:"rms",children:"RMS"}),c.jsx(en,{value:"both",children:"Both"})]})]})]})]})]})}function G1({value:t,onChange:a,label:o,min:s=-96,max:i=6,disabled:u=!1,className:d}){const p=m.useRef(null),[h,g]=m.useState(!1),x=R=>(R-s)/(i-s),y=R=>s+R*(i-s),C=R=>{u||(g(!0),S(R),R.target.setPointerCapture(R.pointerId))},T=R=>{!h||u||S(R)},E=R=>{h&&(g(!1),R.target.releasePointerCapture(R.pointerId))},b=R=>{if(u)return;R.preventDefault();const k=R.shiftKey?.1:1,D=-R.deltaY*.01*k,M=Math.max(s,Math.min(i,t+D));a(Math.round(M*10)/10)},S=R=>{if(!p.current)return;const A=p.current.getBoundingClientRect(),_=R.clientY-A.top;let k;if(R.shiftKey){const M=_-A.height*(1-x(t));k=x(t)-M/A.height*.1}else k=1-Math.max(0,Math.min(1,_/A.height));k=Math.max(0,Math.min(1,k));const D=y(k);a(Math.round(D*10)/10)},w=x(t),j=t>-96?`${t>0?"+":""}${t.toFixed(1)}`:"-";return c.jsxs("div",{className:ve("flex h-full flex-col items-center gap-2",d),children:[c.jsxs("div",{ref:p,className:"relative flex-1 w-9 cursor-pointer rounded-sm border border-white/20 bg-gradient-to-b from-black/60 to-black/80 select-none shadow-inner",onPointerDown:C,onPointerMove:T,onPointerUp:E,onPointerCancel:E,onWheel:b,children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s<0&&i>0&&c.jsx("div",{className:"absolute right-0 left-0 h-0.5 bg-yellow-500/60 shadow-[0_0_4px_rgba(234,179,8,0.4)]",style:{bottom:`${x(0)*100}%`}}),s<-12&&i>-12&&c.jsx("div",{className:"absolute right-0 left-0 h-px bg-white/10",style:{bottom:`${x(-12)*100}%`}})]}),c.jsx("div",{className:"absolute right-0 bottom-0 left-0 rounded-b bg-gradient-to-t from-cyan-500/70 via-cyan-400/50 to-purple-500/60 transition-all duration-100 shadow-[0_0_10px_rgba(6,182,212,0.3)]",style:{height:`${w*100}%`}}),c.jsx("div",{className:ve("absolute left-1/2 h-4 w-11 -translate-x-1/2 rounded-sm border-2 transition-all shadow-lg",h?"border-cyan-300 bg-gradient-to-b from-cyan-400 to-cyan-500 shadow-[0_0_12px_rgba(6,182,212,0.6)]":"border-gray-500 bg-gradient-to-b from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 hover:border-gray-400"),style:{bottom:`calc(${w*100}% - 8px)`},children:c.jsxs("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 flex flex-col gap-0.5 px-1.5",children:[c.jsx("div",{className:"h-px bg-white/30"}),c.jsx("div",{className:"h-px bg-white/30"}),c.jsx("div",{className:"h-px bg-white/30"})]})})]}),o&&c.jsxs("div",{className:"min-w-[3rem] text-center font-mono text-xs",children:[c.jsx("div",{className:"font-semibold text-cyan-400",children:j}),c.jsx("div",{className:"text-muted-foreground mt-1",children:o})]})]})}function a3({value:t,onChange:a,label:o,min:s=-1,max:i=1,disabled:u=!1,format:d="default",className:p}){const[h,g]=m.useState(!1),x=m.useRef(0),y=m.useRef(0),C=R=>{u||(g(!0),x.current=R.clientY,y.current=t,R.target.setPointerCapture(R.pointerId))},T=R=>{if(!h||u)return;const A=x.current-R.clientY,D=R.shiftKey?5e-4:.005,M=A*D*(i-s),z=Math.max(s,Math.min(i,y.current+M));a(Math.round(z*100)/100)},E=R=>{if(u)return;R.preventDefault();const k=R.shiftKey?.001:.01,D=-R.deltaY*k*(i-s),M=Math.max(s,Math.min(i,t+D));a(Math.round(M*100)/100)},b=R=>{h&&(g(!1),R.target.releasePointerCapture(R.pointerId))},S=(t-s)/(i-s),w=-135+S*270,j=()=>d==="pan"?Math.abs(t)<.01?"C":t<0?`L${Math.abs(t*100).toFixed(0)}`:`R${(t*100).toFixed(0)}`:d==="percent"?`${(t*100).toFixed(0)}%`:t.toFixed(2);return c.jsxs("div",{className:ve("flex flex-col items-center gap-2",p),children:[c.jsx("div",{className:"relative h-12 w-12",children:c.jsxs("svg",{className:"h-full w-full cursor-pointer select-none",viewBox:"0 0 48 48",onPointerDown:C,onPointerMove:T,onPointerUp:b,onPointerCancel:b,onWheel:E,children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"knobGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgb(6, 182, 212)"}),c.jsx("stop",{offset:"100%",stopColor:"rgb(168, 85, 247)"})]})}),c.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"3",strokeDasharray:"94.2 31.4",strokeDashoffset:"15.7",transform:"rotate(-135 24 24)"}),c.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"url(#knobGradient)",strokeWidth:"3",strokeDasharray:`${94.2*S} ${94.2*(1-S)+31.4}`,strokeDashoffset:"15.7",transform:"rotate(-135 24 24)",strokeLinecap:"round"}),c.jsx("circle",{cx:"24",cy:"24",r:"18",fill:"url(#knobBodyGradient)",stroke:h?"rgb(6, 182, 212)":"rgb(75, 85, 99)",strokeWidth:"2",className:"transition-all"}),c.jsx("line",{x1:"24",y1:"8",x2:"24",y2:"16",stroke:"rgb(6, 182, 212)",strokeWidth:"2",strokeLinecap:"round",transform:`rotate(${w} 24 24)`}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"knobBodyGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgb(55, 65, 81)"}),c.jsx("stop",{offset:"100%",stopColor:"rgb(17, 24, 39)"})]})})]})}),c.jsxs("div",{className:"min-w-[3rem] text-center font-mono text-xs",children:[c.jsx("div",{className:"font-semibold text-cyan-400",children:j()}),o&&c.jsx("div",{className:"text-muted-foreground mt-1",children:o})]})]})}function X1({peak:t,rms:a,stereo:o=!1,peakRight:s,rmsRight:i,className:u}){const d=g=>Math.max(0,Math.min(1,(g+96)/96)),p=g=>g>-3?"bg-red-500":g>-12?"bg-yellow-500":"bg-green-500",h=(g,x)=>{const y=d(g),C=x!==void 0?d(x):y;return c.jsxs("div",{className:"relative h-full w-3 rounded-sm border border-white/20 bg-black/60 shadow-inner",children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute left-0 right-0 h-px bg-red-500/40",style:{top:`${(1-d(-3))*100}%`}}),c.jsx("div",{className:"absolute left-0 right-0 h-px bg-yellow-500/30",style:{top:`${(1-d(-12))*100}%`}}),c.jsx("div",{className:"absolute left-0 right-0 h-px bg-white/10",style:{top:`${(1-d(-24))*100}%`}})]}),x!==void 0&&c.jsx("div",{className:ve("absolute right-0 bottom-0 left-0 rounded-b opacity-50 transition-all duration-100",p(x)),style:{height:`${C*100}%`}}),c.jsx("div",{className:ve("absolute right-0 bottom-0 left-0 rounded-b transition-all duration-75 shadow-[0_0_8px_currentColor]",p(g)),style:{height:`${y*100}%`}}),g>-3&&c.jsx("div",{className:"absolute top-0 right-0 left-0 h-2 rounded-t bg-red-500 animate-pulse"})]})};return c.jsxs("div",{className:ve("flex h-32 gap-1.5",u),children:[h(t,a),o&&s!==void 0&&h(s,i)]})}function Qx({variant:t,active:a,onClick:o,className:s,disabled:i=!1}){const u="h-7 px-2 text-xs font-bold uppercase tracking-wide rounded transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",d={mute:a?"bg-orange-500 text-white shadow-lg shadow-orange-500/50 hover:bg-orange-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border",solo:a?"bg-yellow-500 text-black shadow-lg shadow-yellow-500/50 hover:bg-yellow-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border",record:a?"bg-red-500 text-white shadow-lg shadow-red-500/50 hover:bg-red-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border",monitor:a?"bg-green-500 text-white shadow-lg shadow-green-500/50 hover:bg-green-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border"},p={mute:"M",solo:"S",record:"R",monitor:"Mon"};return c.jsx("button",{onClick:o,disabled:i,className:ve(u,d[t],s),children:p[t]})}function o3(t){return t===0?-60:20*Math.log10(t)}function r3(t){return t<=-60?0:Math.pow(10,t/20)}function Dp(t,a=1){return t<=-96?"-":`${t>0?"+":""}${t.toFixed(a)}`}function s3({track:t,showMeters:a}){const o=ne(y=>y.meters),s=ne(y=>y.updateTrackVolume),i=ne(y=>y.updateTrackPan),u=ne(y=>y.muteTrack),d=ne(y=>y.soloTrack),p=o3(t.volume),h=o[t.id],g=h?.peakLeft??-60,x=h?.peakRight??-60;return c.jsxs("div",{className:"flex w-56 flex-shrink-0 flex-col gap-3 rounded-lg border border-border/70 bg-gradient-to-b from-card to-card/60 p-3 shadow-lg hover:border-border transition-all",children:[c.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-border/30 pb-2.5",children:[c.jsx("div",{className:"truncate text-center text-xs font-bold uppercase tracking-wider drop-shadow-sm",style:{color:t.color},title:t.name,children:t.name}),c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:"rounded-full px-2.5 py-0.5 text-[9px] font-bold uppercase tracking-wider shadow-sm",style:{backgroundColor:`${t.color}20`,color:t.color,border:`1px solid ${t.color}40`},children:t.type})})]}),a&&c.jsx("div",{className:"flex justify-center rounded-md bg-black/30 p-2.5 shadow-inner border border-white/5",children:c.jsx(X1,{peak:g,peakRight:x,stereo:!0,className:"h-56"})}),c.jsx("div",{className:"flex justify-center rounded-md bg-background/40 p-2 border border-border/30",children:c.jsx(a3,{value:t.pan,onChange:y=>i(t.id,y),label:"Pan",min:-1,max:1,format:"pan"})}),c.jsxs("div",{className:"flex flex-1 flex-col gap-2 rounded-md bg-background/40 p-2 border border-border/30",children:[c.jsx("div",{className:"text-center text-[11px] font-mono font-bold text-cyan-400 tracking-tight",children:Dp(p)}),c.jsx("div",{className:"flex flex-1 justify-center",children:c.jsx(G1,{value:p,onChange:y=>s(t.id,r3(y)),min:-60,max:12,className:"flex-1"})})]}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx(Qx,{variant:"mute",active:t.is_muted,onClick:()=>u(t.id,!t.is_muted),className:"flex-1"}),c.jsx(Qx,{variant:"solo",active:t.is_solo,onClick:()=>d(t.id,!t.is_solo),className:"flex-1"})]})]})}function l3({master:t,showMeters:a}){const o=ne(g=>g.meters),s=ne(g=>g.updateMasterFader),i=ne(g=>g.toggleLimiter),u=ne(g=>g.setLimiterThreshold),d=o.master,p=d?.peakLeft??t.meter_peak_left,h=d?.peakRight??t.meter_peak_right;return c.jsxs("div",{className:"flex w-44 flex-shrink-0 flex-col gap-3 rounded-lg border-2 border-primary/60 bg-gradient-to-b from-primary/10 via-card to-card/80 p-4 shadow-2xl",children:[c.jsxs("div",{className:"flex flex-col items-center gap-1.5 border-b-2 border-primary/30 pb-3",children:[c.jsx("div",{className:"text-center text-sm font-black uppercase tracking-widest text-primary drop-shadow-[0_0_8px_rgba(0,245,255,0.4)]",children:t.name}),c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-primary/70",children:"Main Output"})]}),a&&c.jsx("div",{className:"flex justify-center rounded-md bg-black/40 p-3 shadow-inner border border-primary/20",children:c.jsx(X1,{peak:p,peakRight:h,stereo:!0,className:"h-56"})}),c.jsxs("div",{className:"space-y-2.5 rounded-md border-2 border-primary/30 bg-gradient-to-b from-primary/5 to-background/60 p-3 shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ge,{className:"text-[10px] font-black uppercase tracking-wider text-primary",children:"Limiter"}),c.jsx(Le,{onClick:i,variant:t.limiter_enabled?"default":"outline",size:"sm",className:ve("h-6 px-2.5 text-[10px] font-bold",t.limiter_enabled&&"shadow-[0_0_10px_rgba(0,245,255,0.5)]"),children:t.limiter_enabled?"ON":"OFF"})]}),t.limiter_enabled&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ge,{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wide",children:"Threshold"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Lo,{value:[t.limiter_threshold],onValueChange:g=>u(g[0]),min:-12,max:0,step:.1,className:"flex-1"}),c.jsx("span",{className:"w-14 text-right text-[10px] font-mono font-bold text-primary",children:Dp(t.limiter_threshold)})]})]})]}),c.jsxs("div",{className:"flex flex-1 flex-col gap-2 rounded-md bg-gradient-to-b from-background/50 to-background/30 p-3 border-2 border-primary/20",children:[c.jsx("div",{className:"text-center text-sm font-mono font-black text-primary drop-shadow-[0_0_6px_rgba(0,245,255,0.3)] tracking-tight",children:Dp(t.fader)}),c.jsx("div",{className:"flex flex-1 justify-center",children:c.jsx(G1,{value:t.fader,onChange:s,min:-60,max:12,className:"flex-1"})})]})]})}function i3(){const t=ne(s=>s.tracks),a=ne(s=>s.master),o=ne(s=>s.showMeters);return c.jsxs("div",{className:"flex h-full gap-4 overflow-x-auto overflow-y-hidden bg-gradient-to-b from-background/50 to-background p-5",children:[t.length===0&&c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-3 max-w-sm",children:[c.jsx("div",{className:"text-6xl opacity-20",children:""}),c.jsx("p",{className:"text-base font-bold text-foreground",children:"No Mixer Channels"}),c.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Add tracks in the sequencer to see them as mixer channels with faders, pan controls, and meters"})]})}),t.map(s=>c.jsx(s3,{track:s,showMeters:o},s.id)),t.length>0&&c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"w-0.5 h-full bg-gradient-to-b from-transparent via-primary/40 to-transparent"})}),a&&c.jsx(l3,{master:a,showMeters:o})]})}function c3(){const t=ne(a=>a.loadMaster);return m.useEffect(()=>{t()},[t]),c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsxs(Ft,{title:"MIXER",showHeader:!1,contentOverflow:"hidden",children:[c.jsx("div",{className:"border-b-2 border-border/70 bg-gradient-to-b from-muted/30 to-muted/10 px-4 py-2.5 flex-shrink-0 shadow-sm",children:c.jsx(n3,{})}),c.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:c.jsx(i3,{})})]})})})}function u3({parameter:t,value:a,onChange:o,disabled:s=!1}){const i=d=>t.unit==="Hz"?d>=1e3?`${(d/1e3).toFixed(1)}kHz`:`${Math.round(d)}Hz`:t.unit==="dB"?`${d.toFixed(1)}dB`:t.unit==="ms"?d>=1e3?`${(d/1e3).toFixed(2)}s`:`${Math.round(d)}ms`:t.unit==="%"?`${Math.round(d*100)}%`:t.unit==="ratio"?`${d.toFixed(1)}:1`:d.toFixed(2),u=()=>{const d=t.min??0,h=(t.max??1)-d;return h>1e3?10:h>100?1:h>10?.1:.01};return c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-[10px] font-medium text-muted-foreground",children:t.display_name}),c.jsx("span",{className:"text-[10px] font-mono font-bold text-foreground",children:i(a)})]}),c.jsx(Lo,{value:[a],onValueChange:d=>o(d[0]),min:t.min,max:t.max,step:u(),disabled:s,className:"w-full"})]})}function d3({effect:t,effectDefinition:a,onParameterChange:o,onToggleBypass:s,onDelete:i,isDragging:u=!1,isDragOver:d=!1,onDragStart:p,onDragEnd:h,onDragOver:g,onDragLeave:x,onDrop:y}){const[C,T]=m.useState(!1),E=(A,_)=>{o(t.id,A,_)},b=A=>{const _=A.target;if(_.tagName==="BUTTON"||_.closest("button")){A.preventDefault();return}A.dataTransfer.effectAllowed="move",A.dataTransfer.setData("text/plain",t.id),p?.(t.id)},S=A=>{A.preventDefault(),A.dataTransfer.dropEffect="move",g?.(t.id)},w=()=>{x?.()},j=A=>{A.preventDefault(),y?.(t.id)},R=()=>{h?.()};return c.jsxs("div",{draggable:!0,onDragStart:b,onDragOver:S,onDragLeave:w,onDrop:j,onDragEnd:R,className:ve("rounded-lg border transition-all duration-200",t.is_bypassed?"border-border/30 bg-background/5 opacity-50":"border-border/50 bg-gradient-to-b from-background/80 to-background/40 hover:border-primary/50",u&&"opacity-40 scale-95",d&&"border-primary ring-2 ring-primary/50"),children:[c.jsxs("div",{className:"p-3.5 space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("div",{className:"flex-shrink-0 pt-0.5 text-muted-foreground/40 hover:text-muted-foreground cursor-grab active:cursor-grabbing",children:c.jsx(Rj,{size:16})}),c.jsxs("div",{className:"flex-1 min-w-0 flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-semibold text-foreground leading-tight mb-1",title:t.display_name,children:t.display_name}),a&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:a.category==="Filter"?"#60a5fa":a.category==="EQ"?"#4ade80":a.category==="Dynamics"?"#facc15":a.category==="Time-Based"?"#c084fc":a.category==="Distortion"?"#f87171":"#9ca3af"}}),c.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-medium",children:a.category})]})]}),c.jsx("button",{onClick:()=>T(!C),className:"flex-shrink-0 text-muted-foreground hover:text-foreground transition-colors",title:C?"Collapse":"Expand",children:c.jsx(ys,{size:16,className:ve("transition-transform duration-200",C?"rotate-180":"")})})]})]}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("button",{onClick:()=>s(t.id),className:ve("flex-1 h-7 px-2 text-xs font-bold uppercase tracking-wide rounded transition-all duration-150",t.is_bypassed?"bg-muted text-muted-foreground hover:bg-muted/80 border border-border":"bg-orange-500 text-white shadow-lg shadow-orange-500/50 hover:bg-orange-600"),title:t.is_bypassed?"Activate":"Bypass",children:t.is_bypassed?"Off":"On"}),c.jsx("button",{onClick:()=>i(t.id),className:"h-7 px-3 rounded transition-all duration-150 bg-muted text-muted-foreground hover:bg-destructive hover:text-white border border-border hover:border-destructive flex items-center gap-1.5",title:"Delete Effect",children:c.jsx(bs,{size:14})})]})]}),C&&a&&c.jsx("div",{className:"border-t border-border/30 px-3.5 py-3.5 space-y-2.5 bg-background/20",children:a.parameters.filter(A=>A.name!=="bypass").map(A=>{const _=t.parameters[A.name]??A.default;return c.jsx(u3,{parameter:A,value:_,onChange:k=>E(A.name,k),disabled:t.is_bypassed},A.name)})})]})}function f3({effectDefinitions:t,onEffectSelected:a,disabled:o=!1}){const s=t.reduce((d,p)=>(d[p.category]||(d[p.category]=[]),d[p.category].push(p),d),{}),i=["Filter","EQ","Dynamics","Time-Based","Distortion","Utility"],u=Object.keys(s).sort((d,p)=>{const h=i.indexOf(d),g=i.indexOf(p);return h===-1&&g===-1?d.localeCompare(p):h===-1?1:g===-1?-1:h-g});return c.jsxs(Oo,{value:"",onValueChange:d=>{d&&a(d)},disabled:o,children:[c.jsx(ko,{className:"h-7 w-full text-xs border-border/50 hover:border-primary/50 transition-colors",children:c.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 w-full overflow-hidden",children:[c.jsx(xs,{size:12,className:"text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"truncate text-xs",children:"Effects"})]})}),c.jsx(zo,{className:"max-h-80 z-[9999]",align:"start",position:"popper",sideOffset:4,children:u.map(d=>c.jsxs(O1,{children:[c.jsx(k1,{className:"text-xs font-semibold text-muted-foreground",children:d}),s[d].map(p=>c.jsx(en,{value:p.name,className:"text-xs",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:p.display_name}),c.jsx("span",{className:"text-[10px] text-muted-foreground",children:p.description})]})},p.name))]},d))})]})}function p3({track:t,effectChain:a}){const o=ne(b=>b.effectDefinitions),s=ne(b=>b.addEffect),i=ne(b=>b.updateEffectParameter),u=ne(b=>b.toggleEffectBypass),d=ne(b=>b.deleteEffect),p=ne(b=>b.moveEffect),h=a?.effects||[],g=[...h].sort((b,S)=>b.slot_index-S.slot_index),x=h.length<8,[y,C]=m.useState(null),[T,E]=m.useState(null);return c.jsxs("div",{className:"flex w-56 flex-shrink-0 flex-col gap-3 rounded-lg border border-border/70 bg-gradient-to-b from-card to-card/60 p-3 shadow-lg hover:border-border transition-all",children:[c.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-border/30 pb-2.5",children:[c.jsx("div",{className:"truncate text-center text-xs font-bold uppercase tracking-wider drop-shadow-sm",style:{color:t.color},title:t.name,children:t.name}),c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:"rounded-full px-2.5 py-0.5 text-[9px] font-bold uppercase tracking-wider shadow-sm",style:{backgroundColor:`${t.color}20`,color:t.color,border:`1px solid ${t.color}40`},children:"FX CHAIN"})})]}),c.jsx("div",{className:"flex flex-col gap-2 flex-1 overflow-y-auto",children:g.length===0?c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("div",{className:"text-2xl opacity-20",children:""}),c.jsx("p",{className:"text-[9px] text-muted-foreground",children:"No Effects"})]})}):g.map(b=>{const S=o.find(w=>w.name===b.effect_name);return c.jsx(d3,{effect:b,effectDefinition:S,onParameterChange:i,onToggleBypass:u,onDelete:d,isDragging:y===b.id,isDragOver:T===b.id,onDragStart:()=>C(b.id),onDragEnd:()=>{C(null),E(null)},onDragOver:()=>E(b.id),onDragLeave:()=>E(null),onDrop:w=>{if(y&&y!==w){const j=g.find(R=>R.id===w);j&&p(y,j.slot_index)}C(null),E(null)}},b.id)})}),x&&c.jsx(f3,{effectDefinitions:o,onEffectSelected:b=>s(t.id,b),disabled:!x})]})}function m3(){return c.jsxs("div",{className:"flex w-56 flex-shrink-0 flex-col gap-3 rounded-lg border-2 border-primary/50 bg-gradient-to-b from-primary/10 to-primary/5 p-3 shadow-lg",children:[c.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-primary/30 pb-2.5",children:[c.jsx("div",{className:"truncate text-center text-xs font-bold uppercase tracking-wider text-primary drop-shadow-sm",children:"Master"}),c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:"rounded-full bg-primary/20 px-2.5 py-0.5 text-[9px] font-bold uppercase tracking-wider text-primary shadow-sm border border-primary/40",children:"FX CHAIN"})})]}),c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("div",{className:"text-2xl opacity-20",children:""}),c.jsx("p",{className:"text-[9px] text-muted-foreground",children:"Master Effects"}),c.jsx("p",{className:"text-[8px] text-muted-foreground/60",children:"Coming Soon"})]})})]})}function h3(){const t=ne(o=>o.effectChains),a=ne(o=>o.tracks);return c.jsxs("div",{className:"flex h-full gap-4 overflow-x-auto overflow-y-hidden bg-gradient-to-b from-background/50 to-background p-5",children:[a.length===0&&c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-3 max-w-sm",children:[c.jsx("div",{className:"text-6xl opacity-20",children:""}),c.jsx("p",{className:"text-base font-bold text-foreground",children:"No Effects Channels"}),c.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Add tracks in the sequencer to see their effects chains with up to 8 insert effects per track"})]})}),a.map(o=>c.jsx(p3,{track:o,effectChain:t[o.id]||null},o.id)),a.length>0&&c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"w-0.5 h-full bg-gradient-to-b from-transparent via-primary/40 to-transparent"})}),c.jsx(m3,{})]})}function g3(){const t=ne(a=>a.loadEffectDefinitions);return m.useEffect(()=>{t()},[t]),c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsx(Ft,{title:"EFFECTS",showHeader:!1,contentOverflow:"hidden",children:c.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:c.jsx(h3,{})})})})})}function v3(){const[t,a]=m.useState("chat"),[o,s]=m.useState(!1),[i,u]=m.useState(!1),[d,p]=m.useState(!0),[h,g]=m.useState(2e3),x=m.useCallback(()=>{p(T=>!T)},[]);return{state:{activeTab:t,isLoadingState:o,isSendingMessage:i,autoRefreshEnabled:d,refreshInterval:h},actions:{setActiveTab:a,setIsLoadingState:s,setIsSendingMessage:u,setAutoRefreshEnabled:p,setRefreshInterval:g,toggleAutoRefresh:x}}}const K1=m.createContext(void 0);function y3({children:t}){const[a,o]=m.useState(()=>{const _=us.getLayout();if(_){if(_.tabs&&Array.isArray(_.tabs)&&_.tabs.length>0)return{..._,poppedOutTabs:new Set};console.warn("Stored layout has no tabs, using defaults")}return console.log("Using DEFAULT_LAYOUT_STATE:",Zx),{...Zx,poppedOutTabs:new Set,maximizedPanel:null,attachments:{},xrayEnabled:!1,xraySourceTab:null,xrayTargetTab:null,xrayOpacity:.5}});m.useEffect(()=>{const _={...a,poppedOutTabs:Array.from(a.poppedOutTabs)};us.setLayout(_)},[a]),m.useEffect(()=>{const _=Me.subscribeToState(Ec.LAYOUT,D=>{o({...D,poppedOutTabs:new Set(D.poppedOutTabs)})}),k=Me.subscribeToState(Ec.POPOUT_CLOSED,D=>{console.log(` Received popout close event for tab: ${D.tabId}`),o(M=>{const z=new Set(M.poppedOutTabs);return z.delete(D.tabId),{...M,poppedOutTabs:z}})});return()=>{_(),k()}},[]);const s=m.useCallback(_=>{Me.broadcastState(Ec.LAYOUT,{..._,poppedOutTabs:Array.from(_.poppedOutTabs)})},[]),i=m.useCallback(_=>{o(k=>{const D={...k,activeTab:_};return s(D),D})},[s]),u=m.useCallback((_,k)=>{o(D=>{const M={id:`tab-${Date.now()}`,name:_,panelIds:k},z={...D,tabs:[...D.tabs,M],activeTab:M.id};return s(z),z})},[s]),d=m.useCallback(_=>{o(k=>{const D=k.tabs.filter(z=>z.id!==_),M={...k,tabs:D,activeTab:k.activeTab===_?D[0]?.id||"":k.activeTab};return s(M),M})},[s]),p=m.useCallback((_,k)=>{o(D=>{const M={...D,tabs:D.tabs.map(z=>z.id===_?{...z,name:k}:z)};return s(M),M})},[s]),h=m.useCallback((_,k,D)=>{o(M=>{const z=M.tabs.map($=>$.id===k?{...$,panelIds:$.panelIds.filter(G=>G!==_)}:$.id===D?{...$,panelIds:[...$.panelIds,_]}:$),I={...M,tabs:z};return s(I),I})},[s]),g=m.useCallback((_,k,D)=>{o(M=>{const z={...M,layouts:{...M.layouts,[_]:{...M.layouts[_],[k]:D}}};return s(z),z})},[s]),x=m.useCallback((_,k)=>{o(D=>{const M={};k.forEach(I=>{const{i:$,...G}=I;M[$]=G});const z={...D,layouts:{...D.layouts,[_]:M}};return s(z),z})},[s]),y=m.useCallback((_,k=!0)=>{const D=a.tabs.find(M=>M.id===_);D&&(k&&Me.openPopout(_,D.panelIds),o(M=>{const z=new Set(M.poppedOutTabs);z.add(_);const I={...M,poppedOutTabs:z};return s(I),I}))},[a.tabs,s]),C=m.useCallback(_=>{o(k=>{const D=new Set(k.poppedOutTabs);D.delete(_);const M={...k,poppedOutTabs:D};return s(M),M})},[s]),T=m.useCallback(_=>{o(k=>{const D={...k,maximizedPanel:_};return s(D),D})},[s]),E=m.useCallback(()=>{o(_=>{const k={..._,maximizedPanel:null};return s(k),k})},[s]),b=m.useCallback((_,k)=>{o(D=>{const M={...D,attachments:{...D.attachments,[_]:k}};return s(M),M})},[s]),S=m.useCallback(_=>{o(k=>{const{[_]:D,...M}=k.attachments,z={...k,attachments:M};return s(z),z})},[s]),w=m.useCallback(_=>{o(k=>{if(_===k.activeTab)return console.warn("Cannot x-ray the active tab"),k;const D={...k,xrayEnabled:!0,xraySourceTab:k.activeTab,xrayTargetTab:_,xrayOpacity:k.xrayEnabled?k.xrayOpacity:.5};return s(D),D})},[s]),j=m.useCallback(()=>{o(_=>{const k={..._,xrayEnabled:!1,xraySourceTab:null,xrayTargetTab:null};return s(k),k})},[s]),R=m.useCallback(_=>{o(k=>{const D={...k,xrayOpacity:Math.max(0,Math.min(1,_))};return s(D),D})},[s]),A={...a,setActiveTab:i,createTab:u,deleteTab:d,renameTab:p,movePanelToTab:h,updatePanelLayout:g,updateTabLayout:x,maximizePanel:T,minimizePanel:E,attachPanel:b,detachPanel:S,popoutTab:y,closePopout:C,enableXray:w,disableXray:j,setXrayOpacity:R};return c.jsx(K1.Provider,{value:A,children:t})}function Vl(){const t=m.useContext(K1);if(!t)throw new Error("useLayout must be used within LayoutProvider");return t}function x3(t){const{addChatMessage:a,addAnalysisEvent:o,setDawState:s,setAIContext:i,setIsSendingMessage:u,setIsLoadingState:d,activeSequenceId:p,loadSequencerTracks:h,loadSequences:g,loadTracks:x,loadEffectDefs:y}=t,C=ne(w=>w.startActivity),T=ne(w=>w.completeActivity),{activeTab:E}=Vl(),b=m.useCallback(async w=>{if(w.trim())try{u(!0);const j={role:"user",content:w,timestamp:new Date().toISOString()};a(j),o({id:`event-${Date.now()}-user`,timestamp:new Date().toISOString(),type:"user_message",content:w}),console.log("Sending message to AI backend:",w);const R=await ge.ai.chat({message:w});console.log("Received response from AI backend:",R);const A={role:"assistant",content:R.response,timestamp:new Date().toISOString(),actions_executed:R.actions_executed};a(A),R.musical_context&&(i(R.musical_context),o({id:`event-${Date.now()}-context`,timestamp:new Date().toISOString(),type:"context",content:R.musical_context})),o({id:`event-${Date.now()}-llm`,timestamp:new Date().toISOString(),type:"llm_response",content:R.response}),R.actions_executed&&R.actions_executed.forEach((_,k)=>{o({id:`event-${Date.now()}-action-${k}`,timestamp:new Date().toISOString(),type:"action_result",content:`${_.action}: ${_.message}`,metadata:_}),setTimeout(()=>{const D=C(_.action,_.message,{targetId:_.data?.track_id||_.data?.clip_id||_.data?.effect_id,targetType:_.action.includes("track")?"track":_.action.includes("clip")?"clip":_.action.includes("effect")?"effect":_.action.includes("tempo")?"tempo":_.action.includes("play")||_.action.includes("stop")?"playback":void 0,tabId:E,metadata:_.data});setTimeout(()=>{T(D,_.success)},1500)},k*100)}),R.actions_executed&&R.actions_executed.length>0&&(console.log(" AI executed actions - reloading ALL UI components..."),await g(),p&&await h(p),await x(),await y(),console.log(" UI reload complete")),ue.success("AI responded")}catch(j){console.error("Failed to send message:",j);const R={role:"assistant",content:`Error: ${j.message||"Failed to communicate with AI service. Please check that the backend is running and the Claude API key is configured."}`,timestamp:new Date().toISOString()};a(R),ue.error(`AI Error: ${j.message||"Failed to send message"}`)}finally{u(!1)}},[a,o,u,g,h,x,y,p]),S=m.useCallback(async()=>{try{d(!0);const w=await ge.ai.getState();s(w.full_state);try{const j=await ge.ai.getContext();i(j.context)}catch(j){console.error("Failed to fetch AI context:",j),i("Error loading AI context: "+j.message)}}catch(w){console.error("Failed to refresh state:",w)}finally{d(!1)}},[s,i,d]);return{handleSendMessage:b,handleRefreshState:S}}function b3({state:t,handlers:a}){const o=ne(h=>h.chatHistory),[s,i]=m.useState(""),u=m.useRef(null);m.useEffect(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[o]);const d=async()=>{!s.trim()||t.isSendingMessage||(await a.handleSendMessage(s),i(""))},p=h=>{i(h)};return c.jsxs("div",{className:"flex h-full flex-col",children:[c.jsx("div",{className:"border-b border-border/50 bg-muted/20 p-3 flex-shrink-0",children:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>p("Recompose this sequence to be more ambient and atmospheric"),children:[c.jsx(jc,{size:14,className:"mr-1"}),"Make Ambient"]}),c.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>p("Add rhythmic variation and tension to the drums"),children:[c.jsx(xT,{size:14,className:"mr-1"}),"Add Tension"]}),c.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>p("Create a melodic variation on the current theme"),children:[c.jsx(tn,{size:14,className:"mr-1"}),"Add Variation"]}),c.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>p("Explain the current musical state and suggest improvements"),children:[c.jsx(M0,{size:14,className:"mr-1"}),"Analyze & Suggest"]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.length===0&&!t.isSendingMessage?c.jsx("div",{className:"flex h-full items-center justify-center text-center",children:c.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[c.jsx(jc,{size:32,className:"mx-auto opacity-50"}),c.jsx("p",{className:"text-sm font-medium",children:"AI Music Composition Assistant"}),c.jsx("p",{className:"text-xs max-w-md",children:`Give me vague, creative commands like "make this more ambient" or "add tension". I'll autonomously recompose your sequence with reversible iterations.`})]})}):c.jsxs(c.Fragment,{children:[o.map((h,g)=>c.jsx("div",{className:`flex ${h.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:c.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${h.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:c.jsx("div",{className:"flex items-start gap-2",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-xs opacity-70 mb-1",children:h.role==="user"?"You":"AI Assistant"}),c.jsx("div",{className:"text-sm whitespace-pre-wrap",children:h.content}),h.actions_executed&&h.actions_executed.length>0&&c.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:h.actions_executed.map((x,y)=>c.jsx(Yn,{variant:x.success?"default":"destructive",className:"text-[10px]",children:x.action},y))})]})})})},g)),t.isSendingMessage&&c.jsx("div",{className:"flex justify-start animate-in fade-in slide-in-from-bottom-2 duration-300",children:c.jsx("div",{className:"max-w-[80%] rounded-lg p-3 bg-muted",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"AI is analyzing your sequence and composing..."})]})})})]}),c.jsx("div",{ref:u})]}),c.jsx("div",{className:"border-t border-border/50 bg-muted/20 p-3 flex-shrink-0",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(sa,{value:s,onChange:h=>i(h.target.value),onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),d())},placeholder:"Give me a vague, creative command...",disabled:t.isSendingMessage,className:"flex-1"}),c.jsx(Le,{onClick:d,disabled:!s.trim()||t.isSendingMessage,size:"icon",children:c.jsx(eT,{size:16})})]})})]})}function S3({state:t,actions:a,dawState:o,aiContext:s}){const i=o?o.sequence?s||"Loading AI context...":"No sequence loaded. Create a new sequence or load an existing one from the Sequencer panel.":"Loading DAW state...";return o?o.sequence?c.jsx("div",{className:"h-full overflow-y-auto p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-border/50 pb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tn,{size:16,className:"text-primary"}),c.jsx("span",{className:"text-sm font-semibold",children:"Real-Time Musical Analysis"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Le,{variant:"ghost",size:"sm",onClick:a.toggleAutoRefresh,children:c.jsxs(Yn,{variant:t.autoRefreshEnabled?"default":"outline",className:"text-[10px]",children:["Auto-refresh ",t.autoRefreshEnabled?"ON":"OFF"]})}),c.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(o.timestamp).toLocaleTimeString()})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wide",children:" What the AI Sees (Exact LLM Context)"}),c.jsx("pre",{className:"text-[11px] font-mono whitespace-pre-wrap text-foreground/90 leading-relaxed",children:i})]})]})}):c.jsx("div",{className:"flex h-full items-center justify-center p-8",children:c.jsxs("div",{className:"text-center space-y-3 max-w-md",children:[c.jsx(tn,{size:48,className:"mx-auto text-muted-foreground opacity-50"}),c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No Sequence Loaded"}),c.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Create a new sequence or load an existing one from the Sequencer panel. Once you have tracks and clips, the AI will analyze the musical content here."})]})}):c.jsx("div",{className:"flex h-full items-center justify-center p-8",children:c.jsxs("div",{className:"text-center space-y-3 max-w-md",children:[c.jsx(tn,{size:48,className:"mx-auto text-muted-foreground opacity-50"}),c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Loading DAW state..."}),c.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Connecting to backend to fetch sequence data"})]})})}function w3(){const{state:t,actions:a}=v3(),[o,s]=m.useState(null),[i,u]=m.useState(null),d=ne(T=>T.activeComposition),p=ne(T=>T.addChatMessage),h=ne(T=>T.addAnalysisEvent),g=ne(T=>T.loadCompositions),x=ne(T=>T.loadChannels),y=ne(T=>T.loadEffectDefinitions),C=x3({addChatMessage:p,addAnalysisEvent:h,setDawState:s,setAIContext:u,setIsSendingMessage:a.setIsSendingMessage,setIsLoadingState:a.setIsLoadingState,activeSequenceId:d?.id||null,loadSequencerTracks:async()=>{},loadSequences:g,loadTracks:async()=>{d?.id&&await x(d.id)},loadEffectDefs:y});return m.useEffect(()=>{(async()=>{try{a.setIsLoadingState(!0),console.log("AIPanel: Loading initial DAW state and AI context...");const E=await ge.ai.getState();console.log("AIPanel: Received state response:",E),console.log("AIPanel: Set dawState to:",E.full_state||null);try{await ge.ai.getContext(),console.log("AIPanel: Loaded AI context")}catch(b){console.error("AIPanel: Failed to load AI context:",b)}}catch(E){console.error("AIPanel: Failed to load initial state:",E)}finally{a.setIsLoadingState(!1)}})()},[]),m.useEffect(()=>{if(!t.autoRefreshEnabled||t.activeTab!=="analysis")return;const T=setInterval(()=>{C.handleRefreshState()},t.refreshInterval);return()=>clearInterval(T)},[t.autoRefreshEnabled,t.activeTab,t.refreshInterval,C]),c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsxs(Ft,{title:"AI ASSISTANT",showHeader:!1,contentOverflow:"hidden",children:[c.jsx("div",{className:"border-b-2 border-border/70 bg-gradient-to-b from-muted/30 to-muted/10 px-4 py-2.5 flex-shrink-0 shadow-sm",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Le,{variant:t.activeTab==="chat"?"default":"ghost",size:"sm",onClick:()=>a.setActiveTab("chat"),children:"CHAT"}),c.jsx(Le,{variant:t.activeTab==="analysis"?"default":"ghost",size:"sm",onClick:()=>a.setActiveTab("analysis"),children:"ANALYSIS"})]})}),c.jsxs("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:[t.activeTab==="chat"&&c.jsx(b3,{state:t,handlers:C}),t.activeTab==="analysis"&&c.jsx(S3,{state:t,actions:a,dawState:o,aiContext:i})]})]})})})}const Tl={cols:{lg:12},rowHeight:60,margin:[8,8],containerPadding:[8,8]},W1=[{id:"input",title:"INPUT",component:m.createElement(gz),closeable:!1,getSubtitle:()=>"Library  4 samples loaded",defaultLayout:{x:0,y:0,w:6,h:10}},{id:"loop-visualizer",title:"LOOP",component:m.createElement(vz),closeable:!1,getSubtitle:()=>"Active  120 BPM  4/4  Position: 8.2 beats",defaultLayout:{x:6,y:0,w:6,h:10}},{id:"sequencer",title:"SEQUENCER",component:m.createElement(t3),closeable:!1,getSubtitle:()=>"Timeline + Transport  0 tracks  0 clips",defaultLayout:{x:0,y:6,w:12,h:12}},{id:"mixer",title:"MIXER",component:m.createElement(c3),closeable:!1,getSubtitle:()=>"0 channels  Master: 0.0 dB",defaultLayout:{x:0,y:12,w:12,h:14}},{id:"effects",title:"EFFECTS",component:m.createElement(g3),closeable:!1,getSubtitle:()=>"Track FX  0 effects",defaultLayout:{x:0,y:26,w:12,h:12},snapTargets:[{panelId:"mixer",edges:["bottom"],snapDistance:20}]},{id:"ai",title:"ASSISTANT",component:m.createElement(w3),closeable:!1,getSubtitle:()=>"Chat  State Viewer  Autonomous: Off",defaultLayout:{x:0,y:38,w:12,h:16}}],C3=[{id:"compose",name:"COMPOSE",panelIds:["sequencer","mixer","effects"]},{id:"interact",name:"INTERACT",panelIds:["input","loop-visualizer","ai"]}],Ec={LAYOUT:"layout",POPOUT_CLOSED:"popout-closed"},Zx={tabs:C3,activeTab:"compose",poppedOutTabs:[],layouts:{},xrayEnabled:!1,xraySourceTab:null,xrayTargetTab:null,xrayOpacity:.5};function _p({panels:t,onLayoutChange:a,onPanelClose:o}){const s=m.useRef(null),[i,u]=m.useState({width:0,height:0}),{maximizedPanel:d,maximizePanel:p,minimizePanel:h,attachments:g,attachPanel:x,detachPanel:y}=Vl(),[C,T]=m.useState(null),[E,b]=m.useState(null),[S,w]=m.useState([]);m.useEffect(()=>{if(!s.current)return;const M=new ResizeObserver(z=>{for(const I of z){const{width:$,height:G}=I.contentRect;u({width:$,height:G})}});return M.observe(s.current),()=>M.disconnect()},[]),m.useEffect(()=>{const M=t.map((z,I)=>({i:z.id,x:z.defaultLayout?.x??I%2*6,y:z.defaultLayout?.y??Math.floor(I/2)*6,w:z.defaultLayout?.w??6,h:z.defaultLayout?.h??6,minW:3,minH:3}));w(M)},[t]);const j=S;m.useEffect(()=>{if(!j.length||!Object.keys(g).length)return;let M=!1;const z=j.map(I=>{const $=Object.entries(g).find(([G,q])=>q.attachedTo===I.i)?.[0];if($){const G=j.find(X=>X.i===$),q=g[$];if(G&&q){let X={...G};switch(q.edge){case"bottom":const ae=I.y+I.h,L=I.x,H=I.w;(G.y!==ae||G.x!==L||G.w!==H)&&(X={...G,x:L,y:ae,w:H},M=!0,console.log(` Enforcing attachment: ${$} following ${I.i}`));break;case"top":const P=I.y-G.h,V=I.x,ce=I.w;(G.y!==P||G.x!==V||G.w!==ce)&&(X={...G,x:V,y:P,w:ce},M=!0,console.log(` Enforcing attachment: ${$} following ${I.i}`));break}return I.i===$?X:I}}return I});M&&(w(z),a?.(z))},[j,g,a]);const R=m.useCallback((M,z)=>{const I=t.find($=>$.id===M);if(!I?.snapTargets)return console.log(" No snap targets for panel:",M),null;console.log(" Checking snap targets for",M,I.snapTargets);for(const $ of I.snapTargets){const G=j.find(ae=>ae.i===$.panelId);if(!G){console.log(" Target panel not found in layout:",$.panelId);continue}const q=$.snapDistance??20,X=q/Tl.rowHeight;console.log(" Snap distance:",q,"pixels =",X,"grid units");for(const ae of $.edges){let L=1/0,H={x:z.x,y:z.y};switch(ae){case"bottom":const P=G.y+G.h;L=Math.abs(z.y-P),console.log(` Bottom edge check: dragged.y=${z.y}, targetBottom=${P}, distance=${L}, SNAP_DISTANCE=${X}`),L<=X&&(H={x:G.x,y:P});break;case"top":L=Math.abs(z.y+z.h-G.y),L<=X&&(H={x:G.x,y:G.y-z.h});break;case"right":const V=G.x+G.w;L=Math.abs(z.x-V),L<=X&&(H={x:V,y:G.y});break;case"left":L=Math.abs(z.x+z.w-G.x),L<=X&&(H={x:G.x-z.w,y:G.y});break}if(L<=X)return{targetPanelId:$.panelId,edge:ae,snapPosition:H,distance:L}}}return null},[t,j]),A=m.useCallback((M,z,I,$,G,q)=>{console.log(" Drag started - panel:",I.i),b(I.i)},[]),_=m.useCallback(M=>{if(E){const z=M.find(I=>I.i===E);if(z){const I=R(E,z);I&&console.log(" Snap zone detected:",I),T(I)}}},[E,R]),k=m.useCallback(M=>{if(E&&C){const z={attachedTo:C.targetPanelId,edge:C.edge};x(E,z);const I=M.map($=>$.i===E?{...$,x:C.snapPosition.x,y:C.snapPosition.y}:$);w([...I]),a?.([...I]),console.log(` Snapped ${E} to ${C.targetPanelId} ${C.edge} edge`)}else w([...M]),a?.([...M]);b(null),T(null)},[E,C,x,a]),D=M=>{w([...M]),a?.([...M])};if(t.length===0)return c.jsx("div",{className:"flex h-full w-full items-center justify-center",children:c.jsx("p",{className:"text-muted-foreground text-sm",children:"No panels in this tab"})});if(i.height===0)return c.jsx("div",{ref:s,className:"h-full w-full"});if(d){const M=t.find(z=>z.id===d);if(M)return c.jsx("div",{ref:s,className:"h-full w-full flex flex-col",children:c.jsx(Rp,{title:M.title,subtitle:M.getSubtitle?.(),draggable:!1,closeable:M.closeable??!0,onClose:()=>o?.(M.id),isMaximized:!0,onMaximize:h,className:"flex-1",children:M.component})})}return c.jsx("div",{ref:s,className:"h-full w-full overflow-auto relative",children:c.jsx(oz,{className:"layout",layout:j,width:i.width,gridConfig:{cols:Tl.cols.lg,rowHeight:Tl.rowHeight,containerPadding:Tl.containerPadding,margin:Tl.margin},dragConfig:{handle:".drag-handle"},compactor:jm,onLayoutChange:D,onDragStart:A,onDrag:_,onDragStop:k,children:t.map(M=>{const z=g[M.id],I=C?.targetPanelId===M.id,$=E===M.id,G=!!z,q=Object.entries(g).filter(([U,Y])=>Y.attachedTo===M.id),X=q.length>0,ae=q[0]?.[0],L=ae?t.find(U=>U.id===ae):null,H=q[0]?.[1]?.edge,P=z?.edge,V=X&&L?`${M.title} + ${L.title}`:M.title,ce=X&&ae?c.jsx("button",{onClick:U=>{U.stopPropagation(),y(ae)},className:"hover:bg-primary/20 cursor-pointer touch-manipulation rounded p-2 transition-colors","aria-label":"Detach panels",title:"Detach panels",children:c.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}):null;return c.jsxs("div",{className:"grid-item-wrapper relative",style:{marginTop:P==="bottom"?"-8px":void 0,marginBottom:P==="top"?"-8px":void 0},children:[c.jsx(Rp,{title:V,subtitle:M.getSubtitle?.(),draggable:!G,closeable:M.closeable??!0,onClose:()=>o?.(M.id),isMaximized:!1,onMaximize:()=>p(M.id),showHeader:!G,headerActions:ce,className:`h-full transition-all ${P==="bottom"?"rounded-t-none border-t-0":""} ${P==="top"?"rounded-b-none border-b-0":""} ${H==="bottom"?"rounded-b-none border-b-0":""} ${H==="top"?"rounded-t-none border-t-0":""}`,children:M.component}),I&&C&&!$&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none z-50",children:[C.edge==="bottom"&&c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary animate-pulse",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/50 to-transparent h-8 -translate-y-full"}),c.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -translate-y-1/2 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-bold shadow-lg whitespace-nowrap",children:"Drop to attach below"})]}),C.edge==="top"&&c.jsxs("div",{className:"absolute top-0 left-0 right-0 h-1 bg-primary animate-pulse",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/50 to-transparent h-8 translate-y-full"}),c.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 translate-y-1/2 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-bold shadow-lg whitespace-nowrap",children:"Drop to attach above"})]})]})]},M.id)})})})}const Jx={create_track:{color:"cyan",icon:xs,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"},create_midi_clip:{color:"cyan",icon:tn,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"},modify_clip:{color:"magenta",icon:iT,bgClass:"bg-purple-500/20",borderClass:"border-purple-500",textClass:"text-purple-400",glowClass:"glow-magenta"},delete_clip:{color:"red",icon:bs,bgClass:"bg-red-500/20",borderClass:"border-red-500",textClass:"text-red-400",glowClass:"shadow-lg shadow-red-500/20"},add_effect:{color:"yellow",icon:jc,bgClass:"bg-yellow-500/20",borderClass:"border-yellow-500",textClass:"text-yellow-400",glowClass:"glow-yellow"},set_track_parameter:{color:"magenta",icon:rp,bgClass:"bg-purple-500/20",borderClass:"border-purple-500",textClass:"text-purple-400",glowClass:"glow-magenta"},set_tempo:{color:"yellow",icon:Ej,bgClass:"bg-yellow-500/20",borderClass:"border-yellow-500",textClass:"text-yellow-400",glowClass:"glow-yellow"},play_sequence:{color:"cyan",icon:$c,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"},stop_playback:{color:"red",icon:uT,bgClass:"bg-red-500/20",borderClass:"border-red-500",textClass:"text-red-400",glowClass:"shadow-lg shadow-red-500/20"},set_effect_parameter:{color:"magenta",icon:rp,bgClass:"bg-purple-500/20",borderClass:"border-purple-500",textClass:"text-purple-400",glowClass:"glow-magenta"},default:{color:"cyan",icon:_j,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"}};function E3({activity:t,onComplete:a}){const[o,s]=m.useState(!1),[i,u]=m.useState(!1),d=Jx[t.action]||Jx.default,p=d.icon;return m.useEffect(()=>{const h=setTimeout(()=>s(!0),10);return()=>clearTimeout(h)},[]),m.useEffect(()=>{if(t.status==="success"||t.status==="error"){const h=setTimeout(()=>{u(!0),setTimeout(()=>{a?.()},300)},t.duration||1500);return()=>clearTimeout(h)}},[t.status,t.duration,a]),c.jsxs("div",{className:ve("pointer-events-none fixed z-50 flex items-center gap-3 rounded-lg border-2 px-4 py-3 backdrop-blur-sm transition-all duration-300",d.bgClass,d.borderClass,d.glowClass,o&&!i&&"opacity-100 translate-y-0 scale-100",!o&&"opacity-0 translate-y-4 scale-95",i&&"opacity-0 translate-y--4 scale-95"),style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[c.jsx(p,{className:ve("h-5 w-5 flex-shrink-0",d.textClass,t.status==="in-progress"&&"animate-spin")}),c.jsx("p",{className:ve("font-mono text-sm font-medium",d.textClass),children:t.message})]})}function N3({count:t,className:a}){return t===0?null:c.jsxs("div",{className:ve("flex items-center gap-1.5 rounded-full bg-cyan-500/20 px-2 py-1 border border-cyan-500/50","glow-cyan animate-pulse",a),children:[c.jsx(jc,{className:"h-3 w-3 text-cyan-400"}),c.jsx("span",{className:"text-xs font-bold text-cyan-400",children:t})]})}function j3(){const t=ne(a=>a.activities);return t.length===0?null:c.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 flex items-center justify-center",children:c.jsx("div",{className:"flex flex-col gap-3",children:t.map((a,o)=>c.jsx("div",{style:{animationDelay:`${o*100}ms`},children:c.jsx(E3,{activity:a,onComplete:()=>{}})},a.id))})})}function T3({panels:t,tabs:a=[],activeTab:o,onTabChange:s,onTabCreate:i,onTabDelete:u,onTabPopout:d}){const[p,h]=m.useState(a[0]?.id||""),{updateTabLayout:g,poppedOutTabs:x,xrayEnabled:y,xraySourceTab:C,xrayTargetTab:T,xrayOpacity:E,enableXray:b,disableXray:S,setXrayOpacity:w}=Vl(),j=ne(q=>q.activities),R=()=>j,A=o??p,_=q=>{h(q),s?.(q)};m.useEffect(()=>{const q=X=>{if((X.metaKey||X.ctrlKey)&&X.key==="x")if(X.preventDefault(),y)S();else{const ae=a.find(L=>L.id!==A&&!x.has(L.id));ae&&b(ae.id)}};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[y,A,a,x,b,S]);const k=(q,X)=>{X.stopPropagation(),u?.(q)},D=(q,X)=>{X.stopPropagation(),d?.(q)};if(a.length===0)return c.jsx("div",{className:"flex h-full w-full items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"No tabs available"}),c.jsx("button",{onClick:()=>i?.(),className:"bg-primary/10 hover:bg-primary/20 text-primary rounded px-4 py-2 transition-colors",children:"Create First Tab"})]})});const M=a.find(q=>q.id===A),z=M?t.filter(q=>M.panelIds.includes(q.id)):[],I=y&&T?a.find(q=>q.id===T):null,$=I?t.filter(q=>I.panelIds.includes(q.id)):[],G=x.has(A);return c.jsxs("div",{className:"flex h-full w-full flex-col overflow-hidden",children:[c.jsxs("div",{className:"border-primary/10 bg-card/20 flex items-center gap-1 border-b px-2",children:[a.map(q=>{const X=x.has(q.id),ae=y&&q.id===T,L=y&&q.id===C,H=R();return c.jsxs("div",{className:`group relative flex cursor-pointer items-center gap-2 px-4 py-2.5 transition-all duration-300 ${X?"border-b-2 border-purple-500 bg-purple-500/20 text-purple-400":ae?"border-b-2 border-cyan-500 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 text-cyan-400 shadow-lg shadow-cyan-500/20":L?"border-b-2 border-purple-500/50 bg-purple-500/10 text-purple-300":q.id===A?"bg-primary/10 text-primary border-primary border-b-2":"text-muted-foreground hover:bg-card/30 hover:text-foreground"}`,onClick:()=>!X&&_(q.id),title:X?"Tab is popped out to separate window":ae?"X-Ray Target - Viewing this tab":L?"X-Ray Source - Currently active":void 0,children:[X&&c.jsx(zf,{className:"h-3.5 w-3.5 text-purple-400"}),ae&&c.jsx(Iy,{className:"h-3.5 w-3.5 text-cyan-400 animate-pulse"}),c.jsx("span",{className:"text-sm font-medium",children:q.name}),c.jsx(N3,{count:H.length}),!X&&c.jsxs("div",{className:"flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[c.jsx("button",{onClick:P=>D(q.id,P),className:"hover:bg-primary/20 rounded p-1 transition-colors",title:"Pop out to window",children:c.jsx(zf,{className:"h-3 w-3"})}),a.length>1&&c.jsx("button",{onClick:P=>k(q.id,P),className:"hover:bg-destructive/20 rounded p-1 transition-colors",title:"Close tab",children:c.jsx(mr,{className:"h-3 w-3"})})]})]},q.id)}),c.jsx("div",{className:"flex-1"}),a.length>1&&!G&&c.jsxs("div",{className:"flex items-center gap-2 border-l border-border/50 pl-3 ml-2",children:[c.jsx(Vn,{icon:Iy,tooltip:y?"Disable X-Ray Mode (X)":"Enable X-Ray Mode (X)",onClick:()=>{if(y)S();else{const q=a.find(X=>X.id!==A&&!x.has(X.id));q&&b(q.id)}},variant:y?"default":"ghost",size:"icon-sm",className:y?"bg-purple-500/20 text-purple-400 hover:bg-purple-500/30":""}),y&&c.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-2 duration-200",children:[c.jsx(Ge,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"X-RAY"}),c.jsx(Lo,{value:[E*100],onValueChange:q=>w(q[0]/100),min:0,max:100,step:5,className:"w-24"}),c.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[Math.round(E*100),"%"]})]}),y&&a.length>2&&c.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-2 duration-200",children:[c.jsx(Ge,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"View"}),c.jsx("select",{value:T||"",onChange:q=>{q.target.value&&b(q.target.value)},className:"bg-card border border-border rounded px-2 py-1 text-xs text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",children:a.filter(q=>q.id!==A&&!x.has(q.id)).map(q=>c.jsx("option",{value:q.id,children:q.name},q.id))})]})]}),c.jsx("button",{onClick:i,className:"hover:bg-card/30 rounded p-2 transition-colors",title:"New tab",children:c.jsx(xs,{className:"text-muted-foreground h-4 w-4"})})]}),c.jsx("div",{className:"flex-1 overflow-hidden relative",children:G?c.jsx("div",{className:"flex h-full w-full items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(zf,{className:"text-secondary mx-auto mb-4 h-12 w-12"}),c.jsx("h2",{className:"text-secondary mb-2 text-xl font-bold",children:"Tab Popped Out"}),c.jsx("p",{className:"text-muted-foreground",children:"This tab is currently open in a separate window"})]})}):c.jsxs(c.Fragment,{children:[y&&$.length>0&&c.jsx("div",{className:"absolute inset-0 transition-all duration-300",style:{opacity:E,zIndex:E>0?1:0,pointerEvents:E>0?"auto":"none",transform:`
                                        perspective(1200px)
                                        rotateX(${(1-E)*-12}deg)
                                        rotateY(${(1-E)*5}deg)
                                        scale(${.92+E*.08})
                                        translateZ(${(E-1)*80}px)
                                    `,transformOrigin:"center center",transformStyle:"preserve-3d"},children:c.jsx(_p,{panels:$,onLayoutChange:q=>{T&&g(T,q)},onPanelClose:q=>{console.log("Panel closed:",q)}})}),c.jsx("div",{className:"absolute inset-0 transition-all duration-300",style:{opacity:y?1-E:1,zIndex:y&&E>0?0:1,pointerEvents:y&&E>0?"none":"auto",transform:y?`
                                    perspective(1200px)
                                    rotateX(${E*8}deg)
                                    rotateY(${E*-3}deg)
                                    scale(${1-E*.05})
                                    translateZ(${E*40}px)
                                `:"none",transformOrigin:"center center",transformStyle:"preserve-3d"},children:c.jsx(_p,{panels:z,onLayoutChange:q=>{g(A,q)},onPanelClose:q=>{console.log("Panel closed:",q)}})})]})})]})}function R3(){const t=ne(E=>E.activeComposition),a=ne(E=>E.compositions),o=ne(E=>E.loadComposition),s=ne(E=>E.loadCompositions),i=ne(E=>E.createComposition),[u,d]=m.useState(""),[p,h]=m.useState(!1),[g,x]=m.useState(!0);m.useEffect(()=>{(async()=>{try{await s();const b=us.getActiveSequenceId();b&&(console.log(`Auto-loading last active composition: ${b}`),await o(b))}catch(b){console.error("Failed to initialize compositions:",b)}finally{x(!1)}})()},[]);const y=!t&&!g,C=async()=>{if(u.trim()){h(!0);try{await i(u.trim()),d("")}catch(E){console.error("Failed to create composition:",E)}finally{h(!1)}}},T=async E=>{await o(E)};return c.jsx(Mm,{open:y,onOpenChange:()=>{},children:c.jsxs(Dm,{className:"sm:max-w-[600px]",showCloseButton:!1,children:[c.jsxs(_m,{children:[c.jsxs(Am,{className:"flex items-center gap-2 text-2xl",children:[c.jsx(tn,{className:"h-6 w-6"}),"Welcome to Sonic Claude"]}),c.jsx(Om,{children:"Create a new composition or load an existing one to get started"})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Ge,{className:"text-sm font-semibold uppercase tracking-wide",children:[c.jsx(xs,{className:"inline h-4 w-4 mr-1"}),"Create New Composition"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(sa,{placeholder:"Enter composition name...",value:u,onChange:E=>d(E.target.value),onKeyDown:E=>{E.key==="Enter"&&C()},disabled:p}),c.jsx(Le,{onClick:C,disabled:!u.trim()||p,children:"Create"})]})]}),a.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Ge,{className:"text-sm font-semibold uppercase tracking-wide",children:[c.jsx(R0,{className:"inline h-4 w-4 mr-1"}),"Load Existing Composition"]}),c.jsx("div",{className:"h-[300px] rounded-md border overflow-y-auto",children:c.jsx("div",{className:"p-2 space-y-2",children:a.map(E=>c.jsx(Le,{variant:"outline",className:"w-full justify-start h-auto py-3 px-4",onClick:()=>T(E.id),children:c.jsxs("div",{className:"flex flex-col items-start gap-1 w-full",children:[c.jsx("div",{className:"font-semibold",children:E.name}),c.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[c.jsx(op,{className:"h-3 w-3"}),Np(E.updated_at)]})]})},E.id))})})]}),a.length===0&&c.jsx("div",{className:"text-center text-sm text-muted-foreground py-8",children:"No existing compositions found. Create your first one above!"})]})]})})}const M3=3e3;function D3(){const t=m.useRef(void 0),a=m.useRef(!1);m.useEffect(()=>{const o=ne.subscribe(s=>s.hasUnsavedChanges,async(s,i)=>{!s||i===s||(t.current&&clearTimeout(t.current),t.current=window.setTimeout(async()=>{const u=ne.getState(),{activeComposition:d}=u;if(!(!d||a.current))try{a.current=!0,console.log(" Autosaving composition:",d.id),await ge.compositions.saveComposition(d.id,!1,!0),ne.setState({hasUnsavedChanges:!1}),console.log(" Autosave complete")}catch(p){console.error(" Autosave failed:",p),ue.error("Autosave failed")}finally{a.current=!1}},M3))});return()=>{o(),t.current&&clearTimeout(t.current)}},[])}function _3(){const{tabs:t,activeTab:a,setActiveTab:o,createTab:s,deleteTab:i,popoutTab:u}=Vl();D3();const d=ne(y=>y.analytics),p=ne(y=>y.activeSynths),h=d!==null,g=d?.cpu_usage||0,x=Object.keys(p).length;return c.jsxs("div",{className:"bg-background flex h-screen w-screen flex-col overflow-hidden",children:[c.jsx(R3,{}),c.jsx(d1,{isEngineRunning:h,cpuUsage:g,activeSynths:x}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(T3,{panels:W1,tabs:t,activeTab:a,onTabChange:o,onTabCreate:()=>{s("NEW TAB",[])},onTabDelete:i,onTabPopout:u})}),c.jsx(j3,{})]})}function A3(){const[t]=$N(),a=t.get("tab"),o=t.get("panels"),{tabs:s,updateTabLayout:i,closePopout:u,popoutTab:d}=Vl(),p=ne(b=>b.analytics),h=ne(b=>b.activeSynths),g=p!==null,x=p?.cpu_usage||0,y=Object.keys(h).length,C=o?o.split(","):[],T=s.find(b=>b.id===a),E=W1.filter(b=>C.includes(b.id));return m.useEffect(()=>{a&&(console.log(` Popout window registering tab: ${a}`),d(a,!1))},[a,d]),m.useEffect(()=>{const b=new BroadcastChannel("sonic-claude-sync"),S=()=>{a&&(console.log(` Popout window closing, broadcasting close event for tab: ${a}`),b.postMessage({key:Ec.POPOUT_CLOSED,value:{tabId:a},timestamp:Date.now()}),u(a))};return window.addEventListener("pagehide",S),()=>{window.removeEventListener("pagehide",S),b.close()}},[a,u]),m.useEffect(()=>{T&&(document.title=`Sonic Claude - ${T.name}`)},[T]),!a||!T?c.jsx("div",{className:"bg-background flex h-screen w-screen items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-primary mb-2 text-2xl font-bold",children:"Invalid Popout"}),c.jsx("p",{className:"text-muted-foreground",children:"Tab not found"})]})}):c.jsxs("div",{className:"bg-background flex h-screen w-screen flex-col overflow-hidden",children:[c.jsx(d1,{isEngineRunning:g,cpuUsage:x,activeSynths:y}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(_p,{panels:E,onLayoutChange:b=>{a&&i(a,b)},onPanelClose:b=>{console.log("Panel closed in popout:",b)}})})]})}var ba=(t=>(t.CONNECTING="CONNECTING",t.CONNECTED="CONNECTED",t.DISCONNECTED="DISCONNECTED",t.RECONNECTING="RECONNECTING",t.FAILED="FAILED",t))(ba||{});class e0 extends Error{constructor(a,o,s){super(a),this.endpoint=o,this.code=s,this.name="WebSocketError"}}class O3{ws=null;endpoint;fullURL;state="DISCONNECTED";messageHandlers=new Set;stateChangeHandlers=new Set;reconnectAttempts=0;reconnectTimeout;currentReconnectDelay;isCleaningUp=!1;options;constructor(a,o={}){this.endpoint=a,this.fullURL=Bp.getWSURL(a),this.options={autoReconnect:o.autoReconnect??!0,reconnectDelay:o.reconnectDelay??1e3,maxReconnectDelay:o.maxReconnectDelay??3e4,backoffMultiplier:o.backoffMultiplier??1.5,maxReconnectAttempts:o.maxReconnectAttempts??1/0,debug:o.debug??!1},this.currentReconnectDelay=this.options.reconnectDelay}connect(){if(!this.isCleaningUp){if(this.ws?.readyState===WebSocket.OPEN||this.ws?.readyState===WebSocket.CONNECTING){this.log("Already connected or connecting");return}try{this.setState("CONNECTING"),this.ws=new WebSocket(this.fullURL),this.ws.onopen=()=>this.handleOpen(),this.ws.onmessage=a=>this.handleMessage(a),this.ws.onerror=a=>this.handleError(a),this.ws.onclose=a=>this.handleClose(a),this.log(`Connecting to ${this.endpoint}`)}catch(a){this.handleConnectionError(a)}}}disconnect(){this.isCleaningUp=!0,this.clearReconnectTimeout(),this.ws&&(this.ws.close(),this.ws=null),this.setState("DISCONNECTED"),this.log("Disconnected")}onMessage(a){return this.messageHandlers.add(a),()=>this.messageHandlers.delete(a)}onStateChange(a){return this.stateChangeHandlers.add(a),()=>this.stateChangeHandlers.delete(a)}getState(){return this.state}isConnected(){return this.state==="CONNECTED"}send(a){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)throw new e0("Cannot send message: WebSocket not connected",this.endpoint);try{const o=typeof a=="string"?a:JSON.stringify(a);this.ws.send(o),this.log("Sent message:",a)}catch(o){throw new e0(`Failed to send message: ${o instanceof Error?o.message:"Unknown error"}`,this.endpoint)}}handleOpen(){this.setState("CONNECTED"),this.reconnectAttempts=0,this.currentReconnectDelay=this.options.reconnectDelay,this.log(" Connected")}handleMessage(a){if(!this.isCleaningUp)try{const o=JSON.parse(a.data);this.messageHandlers.forEach(s=>s(o))}catch(o){console.error(`Failed to parse WebSocket message from ${this.endpoint}:`,o)}}handleError(a){this.isCleaningUp||this.ws?.readyState!==WebSocket.CLOSED&&this.log(" WebSocket error")}handleClose(a){this.isCleaningUp||(this.setState("DISCONNECTED"),this.log(`Closed (code: ${a.code}, reason: ${a.reason||"none"})`),this.options.autoReconnect&&this.reconnectAttempts<this.options.maxReconnectAttempts?this.scheduleReconnect():this.reconnectAttempts>=this.options.maxReconnectAttempts&&(this.setState("FAILED"),this.log(" Max reconnect attempts reached")))}handleConnectionError(a){this.setState("FAILED"),console.error(`Failed to create WebSocket connection to ${this.endpoint}:`,a)}scheduleReconnect(){this.clearReconnectTimeout(),this.setState("RECONNECTING"),this.reconnectAttempts++,this.log(`Reconnecting in ${this.currentReconnectDelay}ms (attempt ${this.reconnectAttempts})`),this.reconnectTimeout=window.setTimeout(()=>{this.isCleaningUp||(this.connect(),this.currentReconnectDelay=Math.min(this.currentReconnectDelay*this.options.backoffMultiplier,this.options.maxReconnectDelay))},this.currentReconnectDelay)}clearReconnectTimeout(){this.reconnectTimeout!==void 0&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0)}setState(a){this.state!==a&&(this.state=a,this.stateChangeHandlers.forEach(o=>o(a)))}log(...a){this.options.debug&&console.log(`[WebSocket:${this.endpoint}]`,...a)}}class k3{connections=new Map;getConnection(a,o){if(this.connections.has(a))return this.connections.get(a);const s=new O3(a,o);return this.connections.set(a,s),s.connect(),s}disconnect(a){const o=this.connections.get(a);o&&(o.disconnect(),this.connections.delete(a))}disconnectAll(){this.connections.forEach(a=>{a.disconnect()}),this.connections.clear()}getConnectionState(a){const o=this.connections.get(a);return o?o.getState():null}isConnected(a){const o=this.connections.get(a);return o?o.isConnected():!1}getActiveConnections(){return Array.from(this.connections.keys()).filter(a=>{const o=this.connections.get(a);return o&&o.isConnected()})}getHealthStatus(){const a={total:this.connections.size,connected:0,connecting:0,disconnected:0,reconnecting:0,failed:0};return this.connections.forEach(o=>{switch(o.getState()){case ba.CONNECTED:a.connected++;break;case ba.CONNECTING:a.connecting++;break;case ba.DISCONNECTED:a.disconnected++;break;case ba.RECONNECTING:a.reconnecting++;break;case ba.FAILED:a.failed++;break}}),a}}const Ap=new k3;function km(t,a){const[o,s]=m.useState(null),[i,u]=m.useState(ba.DISCONNECTED),d=m.useRef(Ap.getConnection(t,a));m.useEffect(()=>{const x=d.current,y=x.onMessage(T=>{s(T)}),C=x.onStateChange(T=>{u(T)});return u(x.getState()),()=>{y(),C()}},[t]);const p=m.useCallback(x=>{d.current.send(x)},[]),h=m.useCallback(()=>{d.current.connect()},[]),g=m.useCallback(()=>{Ap.disconnect(t)},[t]);return{data:o,state:i,isConnected:i===ba.CONNECTED,send:p,reconnect:h,disconnect:g}}function Q1(t,a,o){const[s,i]=m.useState(ba.DISCONNECTED),u=m.useRef(Ap.getConnection(t,o)),d=m.useRef(a);return m.useEffect(()=>{d.current=a},[a]),m.useEffect(()=>{const p=u.current,h=p.onMessage(x=>{d.current(x)}),g=p.onStateChange(x=>{i(x)});return i(p.getState()),()=>{h(),g()}},[t]),{state:s,isConnected:s===ba.CONNECTED}}function z3(){const{data:t,isConnected:a}=km("/api/ws/transport",{debug:!1});return{transport:t||{type:"transport",is_playing:!1,position_beats:0,position_seconds:0,tempo:120,time_signature_num:4,time_signature_den:4},isConnected:a}}function L3(){const[t,a]=m.useState({}),{isConnected:o}=Q1("/api/ws/meters",s=>{s.type==="meters"&&a(i=>({...i,[s.track_id]:{peakLeft:s.peak_left,peakRight:s.peak_right,rmsLeft:s.rms_left,rmsRight:s.rms_right}}))},{debug:!1});return{meters:t,isConnected:o}}function P3(){const[t,a]=m.useState([]),{isConnected:o}=Q1("/api/ws/spectrum",s=>{s.type==="spectrum"&&Array.isArray(s.magnitudes)&&a(s.magnitudes)},{debug:!1});return{spectrum:t,isConnected:o}}function U3(){const{data:t,isConnected:a}=km("/api/ws/waveform",{debug:!1});return{waveform:t||null,isConnected:a}}function B3(){const{data:t,isConnected:a}=km("/ws/analytics",{debug:!1});return{analytics:t||null,isConnected:a}}function H3(){const{transport:t}=z3(),{meters:a}=L3(),{spectrum:o}=P3(),{waveform:s}=U3(),{analytics:i}=B3(),u=ne(x=>x.setTransport),d=ne(x=>x.setMeters),p=ne(x=>x.setSpectrum),h=ne(x=>x.setWaveform),g=ne(x=>x.setAnalytics);return m.useEffect(()=>{t&&u(t)},[t,u]),m.useEffect(()=>{a&&Object.keys(a).length>0&&d(a)},[a,d]),m.useEffect(()=>{o&&o.length>0&&p(o)},[o,p]),m.useEffect(()=>{s&&h(s)},[s,h]),m.useEffect(()=>{i&&g(i)},[i,g]),null}const I3={success:uj,error:ij,info:M0,warning:O0},q3={success:"border-primary/50 bg-primary/10 text-primary",error:"border-destructive/50 bg-destructive/10 text-destructive",info:"border-border bg-card/50 text-foreground",warning:"border-yellow-500/50 bg-yellow-500/10 text-yellow-500"};function $3({type:t="info",message:a,onClose:o}){const s=I3[t];return c.jsxs("div",{className:ve("pointer-events-auto flex items-center gap-3 rounded-md border-2 px-4 py-3 shadow-lg backdrop-blur-sm transition-all",q3[t]),children:[c.jsx(s,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("p",{className:"flex-1 font-mono text-sm",children:a}),c.jsx("button",{onClick:o,className:"hover:bg-background/20 flex-shrink-0 rounded p-1 transition-colors",children:c.jsx(mr,{className:"h-4 w-4"})})]})}function F3({toasts:t,onRemove:a}){return c.jsx("div",{className:"pointer-events-none fixed right-4 bottom-4 z-50 flex w-96 flex-col gap-2",children:t.map(o=>c.jsx($3,{...o,onClose:()=>a(o.id)},o.id))})}const Y3=m.createContext(void 0);function V3({children:t}){const[a,o]=m.useState([]),s=m.useCallback((d,p="info",h=3e3)=>{const g=`toast-${Date.now()}-${Math.random()}`,x={id:g,message:d,type:p,duration:h};return o(y=>[...y,x]),h>0&&setTimeout(()=>{o(y=>y.filter(C=>C.id!==g))},h),g},[]),i=m.useCallback(d=>{o(p=>p.filter(h=>h.id!==d))},[]),u=m.useMemo(()=>({success:(d,p)=>s(d,"success",p),error:(d,p)=>s(d,"error",p),info:(d,p)=>s(d,"info",p),warning:(d,p)=>s(d,"warning",p)}),[s]);return c.jsxs(Y3.Provider,{value:{toasts:a,toast:u,removeToast:i},children:[t,c.jsx(F3,{toasts:a,onRemove:i})]})}gE.createRoot(document.getElementById("root")).render(c.jsx(m.StrictMode,{children:c.jsx(UN,{children:c.jsx(xz,{delayDuration:300,children:c.jsxs(V3,{children:[c.jsx(H3,{}),c.jsx(y3,{children:c.jsxs(pN,{children:[c.jsx(tp,{path:"/",element:c.jsx(_3,{})}),c.jsx(tp,{path:"/popout",element:c.jsx(A3,{})})]})})]})})})}));
