function lE(t,a){for(var r=0;r<a.length;r++){const s=a[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const u=Object.getOwnPropertyDescriptor(s,i);u&&Object.defineProperty(t,i,u.get?u:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(i){if(i.ep)return;i.ep=!0;const u=r(i);fetch(i.href,u)}})();function t0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jf={exports:{}},gl={};var Ey;function iE(){if(Ey)return gl;Ey=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(s,i,u){var d=null;if(u!==void 0&&(d=""+u),i.key!==void 0&&(d=""+i.key),"key"in i){u={};for(var m in i)m!=="key"&&(u[m]=i[m])}else u=i;return i=u.ref,{$$typeof:t,type:s,key:d,ref:i!==void 0?i:null,props:u}}return gl.Fragment=a,gl.jsx=r,gl.jsxs=r,gl}var Ny;function cE(){return Ny||(Ny=1,jf.exports=iE()),jf.exports}var c=cE(),Tf={exports:{}},Oe={};var jy;function uE(){if(jy)return Oe;jy=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),C=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=C&&P[C]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function w(P,Y,Q){this.props=P,this.context=Y,this.refs=S,this.updater=Q||E}w.prototype.isReactComponent={},w.prototype.setState=function(P,Y){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Y,"setState")},w.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function j(){}j.prototype=w.prototype;function R(P,Y,Q){this.props=P,this.context=Y,this.refs=S,this.updater=Q||E}var A=R.prototype=new j;A.constructor=R,b(A,w.prototype),A.isPureReactComponent=!0;var _=Array.isArray;function k(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function z(P,Y,Q){var re=Q.ref;return{$$typeof:t,type:P,key:Y,ref:re!==void 0?re:null,props:Q}}function I(P,Y){return z(P.type,Y,P.props)}function $(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function V(P){var Y={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Q){return Y[Q]})}var q=/\/+/g;function X(P,Y){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):Y.toString(36)}function ae(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(k,k):(P.status="pending",P.then(function(Y){P.status==="pending"&&(P.status="fulfilled",P.value=Y)},function(Y){P.status==="pending"&&(P.status="rejected",P.reason=Y)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function L(P,Y,Q,re,ue){var me=typeof P;(me==="undefined"||me==="boolean")&&(P=null);var W=!1;if(P===null)W=!0;else switch(me){case"bigint":case"string":case"number":W=!0;break;case"object":switch(P.$$typeof){case t:case a:W=!0;break;case x:return W=P._init,L(W(P._payload),Y,Q,re,ue)}}if(W)return ue=ue(P),W=re===""?"."+X(P,0):re,_(ue)?(Q="",W!=null&&(Q=W.replace(q,"$&/")+"/"),L(ue,Y,Q,"",function(he){return he})):ue!=null&&($(ue)&&(ue=I(ue,Q+(ue.key==null||P&&P.key===ue.key?"":(""+ue.key).replace(q,"$&/")+"/")+W)),Y.push(ue)),1;W=0;var ye=re===""?".":re+":";if(_(P))for(var fe=0;fe<P.length;fe++)re=P[fe],me=ye+X(re,fe),W+=L(re,Y,Q,me,ue);else if(fe=T(P),typeof fe=="function")for(P=fe.call(P),fe=0;!(re=P.next()).done;)re=re.value,me=ye+X(re,fe++),W+=L(re,Y,Q,me,ue);else if(me==="object"){if(typeof P.then=="function")return L(ae(P),Y,Q,re,ue);throw Y=String(P),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return W}function H(P,Y,Q){if(P==null)return P;var re=[],ue=0;return L(P,re,"","",function(me){return Y.call(Q,me,ue++)}),re}function U(P){if(P._status===-1){var Y=P._result;Y=Y(),Y.then(function(Q){(P._status===0||P._status===-1)&&(P._status=1,P._result=Q)},function(Q){(P._status===0||P._status===-1)&&(P._status=2,P._result=Q)}),P._status===-1&&(P._status=0,P._result=Y)}if(P._status===1)return P._result.default;throw P._result}var G=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ce={map:H,forEach:function(P,Y,Q){H(P,function(){Y.apply(this,arguments)},Q)},count:function(P){var Y=0;return H(P,function(){Y++}),Y},toArray:function(P){return H(P,function(Y){return Y})||[]},only:function(P){if(!$(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Oe.Activity=y,Oe.Children=ce,Oe.Component=w,Oe.Fragment=r,Oe.Profiler=i,Oe.PureComponent=R,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},Oe.cache=function(P){return function(){return P.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(P,Y,Q){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var re=b({},P.props),ue=P.key;if(Y!=null)for(me in Y.key!==void 0&&(ue=""+Y.key),Y)!M.call(Y,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Y.ref===void 0||(re[me]=Y[me]);var me=arguments.length-2;if(me===1)re.children=Q;else if(1<me){for(var W=Array(me),ye=0;ye<me;ye++)W[ye]=arguments[ye+2];re.children=W}return z(P.type,ue,re)},Oe.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Oe.createElement=function(P,Y,Q){var re,ue={},me=null;if(Y!=null)for(re in Y.key!==void 0&&(me=""+Y.key),Y)M.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ue[re]=Y[re]);var W=arguments.length-2;if(W===1)ue.children=Q;else if(1<W){for(var ye=Array(W),fe=0;fe<W;fe++)ye[fe]=arguments[fe+2];ue.children=ye}if(P&&P.defaultProps)for(re in W=P.defaultProps,W)ue[re]===void 0&&(ue[re]=W[re]);return z(P,me,ue)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(P){return{$$typeof:m,render:P}},Oe.isValidElement=$,Oe.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:U}},Oe.memo=function(P,Y){return{$$typeof:g,type:P,compare:Y===void 0?null:Y}},Oe.startTransition=function(P){var Y=D.T,Q={};D.T=Q;try{var re=P(),ue=D.S;ue!==null&&ue(Q,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(k,G)}catch(me){G(me)}finally{Y!==null&&Q.types!==null&&(Y.types=Q.types),D.T=Y}},Oe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Oe.use=function(P){return D.H.use(P)},Oe.useActionState=function(P,Y,Q){return D.H.useActionState(P,Y,Q)},Oe.useCallback=function(P,Y){return D.H.useCallback(P,Y)},Oe.useContext=function(P){return D.H.useContext(P)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(P,Y){return D.H.useDeferredValue(P,Y)},Oe.useEffect=function(P,Y){return D.H.useEffect(P,Y)},Oe.useEffectEvent=function(P){return D.H.useEffectEvent(P)},Oe.useId=function(){return D.H.useId()},Oe.useImperativeHandle=function(P,Y,Q){return D.H.useImperativeHandle(P,Y,Q)},Oe.useInsertionEffect=function(P,Y){return D.H.useInsertionEffect(P,Y)},Oe.useLayoutEffect=function(P,Y){return D.H.useLayoutEffect(P,Y)},Oe.useMemo=function(P,Y){return D.H.useMemo(P,Y)},Oe.useOptimistic=function(P,Y){return D.H.useOptimistic(P,Y)},Oe.useReducer=function(P,Y,Q){return D.H.useReducer(P,Y,Q)},Oe.useRef=function(P){return D.H.useRef(P)},Oe.useState=function(P){return D.H.useState(P)},Oe.useSyncExternalStore=function(P,Y,Q){return D.H.useSyncExternalStore(P,Y,Q)},Oe.useTransition=function(){return D.H.useTransition()},Oe.version="19.2.4",Oe}var Ty;function Lr(){return Ty||(Ty=1,Tf.exports=uE()),Tf.exports}var h=Lr();const wt=t0(h),n0=lE({__proto__:null,default:wt},[h]);var Rf={exports:{}},vl={},Mf={exports:{}},Df={};var Ry;function dE(){return Ry||(Ry=1,(function(t){function a(L,H){var U=L.length;L.push(H);e:for(;0<U;){var G=U-1>>>1,ce=L[G];if(0<i(ce,H))L[G]=H,L[U]=ce,U=G;else break e}}function r(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var H=L[0],U=L.pop();if(U!==H){L[0]=U;e:for(var G=0,ce=L.length,P=ce>>>1;G<P;){var Y=2*(G+1)-1,Q=L[Y],re=Y+1,ue=L[re];if(0>i(Q,U))re<ce&&0>i(ue,Q)?(L[G]=ue,L[re]=U,G=re):(L[G]=Q,L[Y]=U,G=Y);else if(re<ce&&0>i(ue,U))L[G]=ue,L[re]=U,G=re;else break e}}return H}function i(L,H){var U=L.sortIndex-H.sortIndex;return U!==0?U:L.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();t.unstable_now=function(){return d.now()-m}}var p=[],g=[],x=1,y=null,C=3,T=!1,E=!1,b=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function A(L){for(var H=r(g);H!==null;){if(H.callback===null)s(g);else if(H.startTime<=L)s(g),H.sortIndex=H.expirationTime,a(p,H);else break;H=r(g)}}function _(L){if(b=!1,A(L),!E)if(r(p)!==null)E=!0,k||(k=!0,V());else{var H=r(g);H!==null&&ae(_,H.startTime-L)}}var k=!1,D=-1,M=5,z=-1;function I(){return S?!0:!(t.unstable_now()-z<M)}function $(){if(S=!1,k){var L=t.unstable_now();z=L;var H=!0;try{e:{E=!1,b&&(b=!1,j(D),D=-1),T=!0;var U=C;try{t:{for(A(L),y=r(p);y!==null&&!(y.expirationTime>L&&I());){var G=y.callback;if(typeof G=="function"){y.callback=null,C=y.priorityLevel;var ce=G(y.expirationTime<=L);if(L=t.unstable_now(),typeof ce=="function"){y.callback=ce,A(L),H=!0;break t}y===r(p)&&s(p),A(L)}else s(p);y=r(p)}if(y!==null)H=!0;else{var P=r(g);P!==null&&ae(_,P.startTime-L),H=!1}}break e}finally{y=null,C=U,T=!1}H=void 0}}finally{H?V():k=!1}}}var V;if(typeof R=="function")V=function(){R($)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=$,V=function(){X.postMessage(null)}}else V=function(){w($,0)};function ae(L,H){D=w(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(L){switch(C){case 1:case 2:case 3:var H=3;break;default:H=C}var U=C;C=H;try{return L()}finally{C=U}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=C;C=L;try{return H()}finally{C=U}},t.unstable_scheduleCallback=function(L,H,U){var G=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,L){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=U+ce,L={id:x++,callback:H,priorityLevel:L,startTime:U,expirationTime:ce,sortIndex:-1},U>G?(L.sortIndex=U,a(g,L),r(p)===null&&L===r(g)&&(b?(j(D),D=-1):b=!0,ae(_,U-G))):(L.sortIndex=ce,a(p,L),E||T||(E=!0,k||(k=!0,V()))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var H=C;return function(){var U=C;C=H;try{return L.apply(this,arguments)}finally{C=U}}}})(Df)),Df}var My;function fE(){return My||(My=1,Mf.exports=dE()),Mf.exports}var _f={exports:{}},nn={};var Dy;function mE(){if(Dy)return nn;Dy=1;var t=Lr();function a(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function u(p,g,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:p,containerInfo:g,implementation:x}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return u(p,g,null,x)},nn.flushSync=function(p){var g=d.T,x=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=g,s.p=x,s.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var x=g.as,y=m(x,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:C,fetchPriority:T}):x==="script"&&s.d.X(p,{crossOrigin:y,integrity:C,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,y=m(x,g.crossOrigin);s.d.L(p,x,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var x=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,x){return d.H.useFormState(p,g,x)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var _y;function Hc(){if(_y)return _f.exports;_y=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),_f.exports=mE(),_f.exports}var Ay;function pE(){if(Ay)return vl;Ay=1;var t=fE(),a=Lr(),r=Hc();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,l=n;;){var f=o.return;if(f===null)break;var v=f.alternate;if(v===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===o)return p(f),e;if(v===l)return p(f),n;v=v.sibling}throw Error(s(188))}if(o.return!==l.return)o=f,l=v;else{for(var N=!1,O=f.child;O;){if(O===o){N=!0,o=f,l=v;break}if(O===l){N=!0,l=f,o=v;break}O=O.sibling}if(!N){for(O=v.child;O;){if(O===o){N=!0,o=v,l=f;break}if(O===l){N=!0,l=v,o=f;break}O=O.sibling}if(!N)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,C=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),R=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var q=Symbol.for("react.client.reference");function X(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case k:return"SuspenseList";case z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case R:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case A:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:X(e.type)||"Memo";case M:n=e._payload,e=e._init;try{return X(e(n))}catch{}}return null}var ae=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},G=[],ce=-1;function P(e){return{current:e}}function Y(e){0>ce||(e.current=G[ce],G[ce]=null,ce--)}function Q(e,n){ce++,G[ce]=e.current,e.current=n}var re=P(null),ue=P(null),me=P(null),W=P(null);function ye(e,n){switch(Q(me,n),Q(ue,e),Q(re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Gv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Gv(n),e=Xv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(re),Q(re,e)}function fe(){Y(re),Y(ue),Y(me)}function he(e){e.memoizedState!==null&&Q(W,e);var n=re.current,o=Xv(n,e.type);n!==o&&(Q(ue,e),Q(re,o))}function pe(e){ue.current===e&&(Y(re),Y(ue)),W.current===e&&(Y(W),fl._currentValue=U)}var be,Ae;function Je(e){if(be===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);be=n&&n[1]||"",Ae=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+e+Ae}var ut=!1;function st(e,n){if(!e||ut)return"";ut=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var ee=te}Reflect.construct(e,[],le)}else{try{le.call()}catch(te){ee=te}e.call(le.prototype)}}else{try{throw Error()}catch(te){ee=te}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=l.DetermineComponentFrameRoot(),N=v[0],O=v[1];if(N&&O){var B=N.split(`
`),J=O.split(`
`);for(f=l=0;l<B.length&&!B[l].includes("DetermineComponentFrameRoot");)l++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(l===B.length||f===J.length)for(l=B.length-1,f=J.length-1;1<=l&&0<=f&&B[l]!==J[f];)f--;for(;1<=l&&0<=f;l--,f--)if(B[l]!==J[f]){if(l!==1||f!==1)do if(l--,f--,0>f||B[l]!==J[f]){var oe=`
`+B[l].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=l&&0<=f);break}}}finally{ut=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Je(o):""}function dt(e,n){switch(e.tag){case 26:case 27:case 5:return Je(e.type);case 16:return Je("Lazy");case 13:return e.child!==n&&n!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return Je("Activity");default:return""}}function yn(e){try{var n="",o=null;do n+=dt(e,o),o=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var rt=Object.prototype.hasOwnProperty,tt=t.unstable_scheduleCallback,Mt=t.unstable_cancelCallback,Nt=t.unstable_shouldYield,tn=t.unstable_requestPaint,kt=t.unstable_now,cn=t.unstable_getCurrentPriorityLevel,Xn=t.unstable_ImmediatePriority,xn=t.unstable_UserBlockingPriority,$t=t.unstable_NormalPriority,ua=t.unstable_LowPriority,Kn=t.unstable_IdlePriority,Dn=t.log,un=t.unstable_setDisableYieldValue,_n=null,ie=null;function et(e){if(typeof Dn=="function"&&un(e),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(_n,e)}catch{}}var yt=Math.clz32?Math.clz32:vo,Xt=Math.log,Hr=Math.LN2;function vo(e){return e>>>=0,e===0?32:31-(Xt(e)/Hr|0)|0}var bn=256,Ta=262144,Ke=4194304;function Ie(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gt(e,n,o){var l=e.pendingLanes;if(l===0)return 0;var f=0,v=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var O=l&134217727;return O!==0?(l=O&~v,l!==0?f=Ie(l):(N&=O,N!==0?f=Ie(N):o||(o=O&~e,o!==0&&(f=Ie(o))))):(O=l&~v,O!==0?f=Ie(O):N!==0?f=Ie(N):o||(o=l&~e,o!==0&&(f=Ie(o)))),f===0?0:n!==0&&n!==f&&(n&v)===0&&(v=f&-f,o=n&-n,v>=o||v===32&&(o&4194048)!==0)?n:f}function Ze(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ft(){var e=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),e}function Yt(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Dt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dn(e,n,o,l,f,v){var N=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var O=e.entanglements,B=e.expirationTimes,J=e.hiddenUpdates;for(o=N&~o;0<o;){var oe=31-yt(o),le=1<<oe;O[oe]=0,B[oe]=-1;var ee=J[oe];if(ee!==null)for(J[oe]=null,oe=0;oe<ee.length;oe++){var te=ee[oe];te!==null&&(te.lane&=-536870913)}o&=~le}l!==0&&on(e,l,0),v!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=v&~(N&~n))}function on(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-yt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|o&261930}function Wn(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var l=31-yt(o),f=1<<l;f&n|e[l]&n&&(e[l]|=n),o&=~f}}function Qn(e,n){var o=n&-n;return o=(o&42)!==0?1:Ee(o),(o&(e.suspendedLanes|n))!==0?0:o}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ze(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Te(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:vy(e.type))}function We(e,n){var o=H.p;try{return H.p=e,n()}finally{H.p=o}}var $e=Math.random().toString(36).slice(2),_e="__reactFiber$"+$e,Be="__reactProps$"+$e,xt="__reactContainer$"+$e,ft="__reactEvents$"+$e,Vt="__reactListeners$"+$e,yo="__reactHandles$"+$e,An="__reactResources$"+$e,Zn="__reactMarker$"+$e;function tr(e){delete e[_e],delete e[Be],delete e[ft],delete e[Vt],delete e[yo]}function lt(e){var n=e[_e];if(n)return n;for(var o=e.parentNode;o;){if(n=o[xt]||o[_e]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=ty(e);e!==null;){if(o=e[_e])return o;e=ty(e)}return n}e=o,o=e.parentNode}return null}function da(e){if(e=e[_e]||e[xt]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Jn(e){var n=e[An];return n||(n=e[An]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function jt(e){e[Zn]=!0}var zp=new Set,Lp={};function qr(e,n){xo(e,n),xo(e+"Capture",n)}function xo(e,n){for(Lp[e]=n,e=0;e<n.length;e++)zp.add(n[e])}var Z1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pp={},Up={};function J1(e){return rt.call(Up,e)?!0:rt.call(Pp,e)?!1:Z1.test(e)?Up[e]=!0:(Pp[e]=!0,!1)}function Gl(e,n,o){if(J1(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Xl(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Ra(e,n,o,l){if(l===null)e.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+l)}}function On(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bp(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function eC(e,n,o){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,v=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(N){o=""+N,v.call(this,N)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(N){o=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function yu(e){if(!e._valueTracker){var n=Bp(e)?"checked":"value";e._valueTracker=eC(e,n,""+e[n])}}function Hp(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),l="";return e&&(l=Bp(e)?e.checked?"true":"false":e.value),e=l,e!==o?(n.setValue(e),!0):!1}function Kl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tC=/[\n"\\]/g;function kn(e){return e.replace(tC,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xu(e,n,o,l,f,v,N,O){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+On(n)):e.value!==""+On(n)&&(e.value=""+On(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?bu(e,N,On(n)):o!=null?bu(e,N,On(o)):l!=null&&e.removeAttribute("value"),f==null&&v!=null&&(e.defaultChecked=!!v),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+On(O):e.removeAttribute("name")}function qp(e,n,o,l,f,v,N,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),n!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||n!=null)){yu(e);return}o=o!=null?""+On(o):"",n=n!=null?""+On(n):o,O||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=O?e.checked:!!l,e.defaultChecked=!!l,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),yu(e)}function bu(e,n,o){n==="number"&&Kl(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function bo(e,n,o,l){if(e=e.options,n){n={};for(var f=0;f<o.length;f++)n["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=n.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&l&&(e[o].defaultSelected=!0)}else{for(o=""+On(o),n=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Ip(e,n,o){if(n!=null&&(n=""+On(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+On(o):""}function $p(e,n,o,l){if(n==null){if(l!=null){if(o!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),n=o}o=On(n),e.defaultValue=o,l=e.textContent,l===o&&l!==""&&l!==null&&(e.value=l),yu(e)}function So(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var nC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fp(e,n,o){var l=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,o):typeof o!="number"||o===0||nC.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Yp(e,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&o[f]!==l&&Fp(e,f,l)}else for(var v in n)n.hasOwnProperty(v)&&Fp(e,v,n[v])}function Su(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(e){return rC.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ma(){}var wu=null;function Cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wo=null,Co=null;function Vp(e){var n=da(e);if(n&&(e=n.stateNode)){var o=e[Be]||null;e:switch(e=n.stateNode,n.type){case"input":if(xu(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+kn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var l=o[n];if(l!==e&&l.form===e.form){var f=l[Be]||null;if(!f)throw Error(s(90));xu(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<o.length;n++)l=o[n],l.form===e.form&&Hp(l)}break e;case"textarea":Ip(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&bo(e,!!o.multiple,n,!1)}}}var Eu=!1;function Gp(e,n,o){if(Eu)return e(n,o);Eu=!0;try{var l=e(n);return l}finally{if(Eu=!1,(wo!==null||Co!==null)&&(Pi(),wo&&(n=wo,e=Co,Co=wo=null,Vp(n),e)))for(n=0;n<e.length;n++)Vp(e[n])}}function Ms(e,n){var o=e.stateNode;if(o===null)return null;var l=o[Be]||null;if(l===null)return null;o=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nu=!1;if(Da)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Nu=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Nu=!1}var nr=null,ju=null,Ql=null;function Xp(){if(Ql)return Ql;var e,n=ju,o=n.length,l,f="value"in nr?nr.value:nr.textContent,v=f.length;for(e=0;e<o&&n[e]===f[e];e++);var N=o-e;for(l=1;l<=N&&n[o-l]===f[v-l];l++);return Ql=f.slice(e,1<l?1-l:void 0)}function Zl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Jl(){return!0}function Kp(){return!1}function fn(e){function n(o,l,f,v,N){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=v,this.target=N,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(o=e[O],this[O]=o?o(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Jl:Kp,this.isPropagationStopped=Kp,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),n}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=fn(Ir),_s=y({},Ir,{view:0,detail:0}),oC=fn(_s),Tu,Ru,As,ti=y({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(Tu=e.screenX-As.screenX,Ru=e.screenY-As.screenY):Ru=Tu=0,As=e),Tu)},movementY:function(e){return"movementY"in e?e.movementY:Ru}}),Wp=fn(ti),sC=y({},ti,{dataTransfer:0}),lC=fn(sC),iC=y({},_s,{relatedTarget:0}),Mu=fn(iC),cC=y({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),uC=fn(cC),dC=y({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fC=fn(dC),mC=y({},Ir,{data:0}),Qp=fn(mC),pC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vC(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gC[e])?!!n[e]:!1}function Du(){return vC}var yC=y({},_s,{key:function(e){if(e.key){var n=pC[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xC=fn(yC),bC=y({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zp=fn(bC),SC=y({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),wC=fn(SC),CC=y({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),EC=fn(CC),NC=y({},ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jC=fn(NC),TC=y({},Ir,{newState:0,oldState:0}),RC=fn(TC),MC=[9,13,27,32],_u=Da&&"CompositionEvent"in window,Os=null;Da&&"documentMode"in document&&(Os=document.documentMode);var DC=Da&&"TextEvent"in window&&!Os,Jp=Da&&(!_u||Os&&8<Os&&11>=Os),eh=" ",th=!1;function nh(e,n){switch(e){case"keyup":return MC.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Eo=!1;function _C(e,n){switch(e){case"compositionend":return ah(n);case"keypress":return n.which!==32?null:(th=!0,eh);case"textInput":return e=n.data,e===eh&&th?null:e;default:return null}}function AC(e,n){if(Eo)return e==="compositionend"||!_u&&nh(e,n)?(e=Xp(),Ql=ju=nr=null,Eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Jp&&n.locale!=="ko"?null:n.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!OC[e.type]:n==="textarea"}function oh(e,n,o,l){wo?Co?Co.push(l):Co=[l]:wo=l,n=Fi(n,"onChange"),0<n.length&&(o=new ei("onChange","change",null,o,l),e.push({event:o,listeners:n}))}var ks=null,zs=null;function kC(e){qv(e,0)}function ni(e){var n=fa(e);if(Hp(n))return e}function sh(e,n){if(e==="change")return n}var lh=!1;if(Da){var Au;if(Da){var Ou="oninput"in document;if(!Ou){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),Ou=typeof ih.oninput=="function"}Au=Ou}else Au=!1;lh=Au&&(!document.documentMode||9<document.documentMode)}function ch(){ks&&(ks.detachEvent("onpropertychange",uh),zs=ks=null)}function uh(e){if(e.propertyName==="value"&&ni(zs)){var n=[];oh(n,zs,e,Cu(e)),Gp(kC,n)}}function zC(e,n,o){e==="focusin"?(ch(),ks=n,zs=o,ks.attachEvent("onpropertychange",uh)):e==="focusout"&&ch()}function LC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ni(zs)}function PC(e,n){if(e==="click")return ni(n)}function UC(e,n){if(e==="input"||e==="change")return ni(n)}function BC(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:BC;function Ls(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!rt.call(n,f)||!Sn(e[f],n[f]))return!1}return!0}function dh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fh(e,n){var o=dh(e);e=0;for(var l;o;){if(o.nodeType===3){if(l=e+o.textContent.length,e<=n&&l>=n)return{node:o,offset:n-e};e=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=dh(o)}}function mh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ph(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Kl(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Kl(e.document)}return n}function ku(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var HC=Da&&"documentMode"in document&&11>=document.documentMode,No=null,zu=null,Ps=null,Lu=!1;function hh(e,n,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lu||No==null||No!==Kl(l)||(l=No,"selectionStart"in l&&ku(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ps&&Ls(Ps,l)||(Ps=l,l=Fi(zu,"onSelect"),0<l.length&&(n=new ei("onSelect","select",null,n,o),e.push({event:n,listeners:l}),n.target=No)))}function $r(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var jo={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Pu={},gh={};Da&&(gh=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Fr(e){if(Pu[e])return Pu[e];if(!jo[e])return e;var n=jo[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in gh)return Pu[e]=n[o];return e}var vh=Fr("animationend"),yh=Fr("animationiteration"),xh=Fr("animationstart"),qC=Fr("transitionrun"),IC=Fr("transitionstart"),$C=Fr("transitioncancel"),bh=Fr("transitionend"),Sh=new Map,Uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uu.push("scrollEnd");function ea(e,n){Sh.set(e,n),qr(n,[e])}var ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],To=0,Bu=0;function ri(){for(var e=To,n=Bu=To=0;n<e;){var o=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var f=zn[n];zn[n++]=null;var v=zn[n];if(zn[n++]=null,l!==null&&f!==null){var N=l.pending;N===null?f.next=f:(f.next=N.next,N.next=f),l.pending=f}v!==0&&wh(o,f,v)}}function oi(e,n,o,l){zn[To++]=e,zn[To++]=n,zn[To++]=o,zn[To++]=l,Bu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Hu(e,n,o,l){return oi(e,n,o,l),si(e)}function Yr(e,n){return oi(e,null,null,n),si(e)}function wh(e,n,o){e.lanes|=o;var l=e.alternate;l!==null&&(l.lanes|=o);for(var f=!1,v=e.return;v!==null;)v.childLanes|=o,l=v.alternate,l!==null&&(l.childLanes|=o),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(f=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,f&&n!==null&&(f=31-yt(o),e=v.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=o|536870912),v):null}function si(e){if(50<ol)throw ol=0,Kd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ro={};function FC(e,n,o,l){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,o,l){return new FC(e,n,o,l)}function qu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _a(e,n){var o=e.alternate;return o===null?(o=wn(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Ch(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function li(e,n,o,l,f,v){var N=0;if(l=e,typeof e=="function")qu(e)&&(N=1);else if(typeof e=="string")N=K2(e,o,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case z:return e=wn(31,o,n,f),e.elementType=z,e.lanes=v,e;case b:return Vr(o.children,f,v,n);case S:N=8,f|=24;break;case w:return e=wn(12,o,n,f|2),e.elementType=w,e.lanes=v,e;case _:return e=wn(13,o,n,f),e.elementType=_,e.lanes=v,e;case k:return e=wn(19,o,n,f),e.elementType=k,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:N=10;break e;case j:N=9;break e;case A:N=11;break e;case D:N=14;break e;case M:N=16,l=null;break e}N=29,o=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=wn(N,o,n,f),n.elementType=e,n.type=l,n.lanes=v,n}function Vr(e,n,o,l){return e=wn(7,e,l,n),e.lanes=o,e}function Iu(e,n,o){return e=wn(6,e,null,n),e.lanes=o,e}function Eh(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function $u(e,n,o){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Nh=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var o=Nh.get(e);return o!==void 0?o:(n={value:e,source:n,stack:yn(n)},Nh.set(e,n),n)}return{value:e,source:n,stack:yn(n)}}var Mo=[],Do=0,ii=null,Us=0,Pn=[],Un=0,ar=null,ma=1,pa="";function Aa(e,n){Mo[Do++]=Us,Mo[Do++]=ii,ii=e,Us=n}function jh(e,n,o){Pn[Un++]=ma,Pn[Un++]=pa,Pn[Un++]=ar,ar=e;var l=ma;e=pa;var f=32-yt(l)-1;l&=~(1<<f),o+=1;var v=32-yt(n)+f;if(30<v){var N=f-f%5;v=(l&(1<<N)-1).toString(32),l>>=N,f-=N,ma=1<<32-yt(n)+f|o<<f|l,pa=v+e}else ma=1<<v|o<<f|l,pa=e}function Fu(e){e.return!==null&&(Aa(e,1),jh(e,1,0))}function Yu(e){for(;e===ii;)ii=Mo[--Do],Mo[Do]=null,Us=Mo[--Do],Mo[Do]=null;for(;e===ar;)ar=Pn[--Un],Pn[Un]=null,pa=Pn[--Un],Pn[Un]=null,ma=Pn[--Un],Pn[Un]=null}function Th(e,n){Pn[Un++]=ma,Pn[Un++]=pa,Pn[Un++]=ar,ma=n.id,pa=n.overflow,ar=e}var Kt=null,bt=null,Qe=!1,rr=null,Bn=!1,Vu=Error(s(519));function or(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bs(Ln(n,e)),Vu}function Rh(e){var n=e.stateNode,o=e.type,l=e.memoizedProps;switch(n[_e]=e,n[Be]=l,o){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(o=0;o<ll.length;o++)Ye(ll[o],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Ye("invalid",n),qp(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ye("invalid",n);break;case"textarea":Ye("invalid",n),$p(n,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||l.suppressHydrationWarning===!0||Yv(n.textContent,o)?(l.popover!=null&&(Ye("beforetoggle",n),Ye("toggle",n)),l.onScroll!=null&&Ye("scroll",n),l.onScrollEnd!=null&&Ye("scrollend",n),l.onClick!=null&&(n.onclick=Ma),n=!0):n=!1,n||or(e,!0)}function Mh(e){for(Kt=e.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Kt=Kt.return}}function _o(e){if(e!==Kt)return!1;if(!Qe)return Mh(e),Qe=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||df(e.type,e.memoizedProps)),o=!o),o&&bt&&or(e),Mh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));bt=ey(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));bt=ey(e)}else n===27?(n=bt,xr(e.type)?(e=gf,gf=null,bt=e):bt=n):bt=Kt?qn(e.stateNode.nextSibling):null;return!0}function Gr(){bt=Kt=null,Qe=!1}function Gu(){var e=rr;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),rr=null),e}function Bs(e){rr===null?rr=[e]:rr.push(e)}var Xu=P(null),Xr=null,Oa=null;function sr(e,n,o){Q(Xu,n._currentValue),n._currentValue=o}function ka(e){e._currentValue=Xu.current,Y(Xu)}function Ku(e,n,o){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===o)break;e=e.return}}function Wu(e,n,o,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var v=f.dependencies;if(v!==null){var N=f.child;v=v.firstContext;e:for(;v!==null;){var O=v;v=f;for(var B=0;B<n.length;B++)if(O.context===n[B]){v.lanes|=o,O=v.alternate,O!==null&&(O.lanes|=o),Ku(v.return,o,e),l||(N=null);break e}v=O.next}}else if(f.tag===18){if(N=f.return,N===null)throw Error(s(341));N.lanes|=o,v=N.alternate,v!==null&&(v.lanes|=o),Ku(N,o,e),N=null}else N=f.child;if(N!==null)N.return=f;else for(N=f;N!==null;){if(N===e){N=null;break}if(f=N.sibling,f!==null){f.return=N.return,N=f;break}N=N.return}f=N}}function Ao(e,n,o,l){e=null;for(var f=n,v=!1;f!==null;){if(!v){if((f.flags&524288)!==0)v=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var N=f.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var O=f.type;Sn(f.pendingProps.value,N.value)||(e!==null?e.push(O):e=[O])}}else if(f===W.current){if(N=f.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}f=f.return}e!==null&&Wu(n,e,o,l),n.flags|=262144}function ci(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Kr(e){Xr=e,Oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Wt(e){return Dh(Xr,e)}function ui(e,n){return Xr===null&&Kr(e),Dh(e,n)}function Dh(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Oa===null){if(e===null)throw Error(s(308));Oa=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Oa=Oa.next=n;return o}var YC=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},VC=t.unstable_scheduleCallback,GC=t.unstable_NormalPriority,Lt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new YC,data:new Map,refCount:0}}function Hs(e){e.refCount--,e.refCount===0&&VC(GC,function(){e.controller.abort()})}var qs=null,Zu=0,Oo=0,ko=null;function XC(e,n){if(qs===null){var o=qs=[];Zu=0,Oo=tf(),ko={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Zu++,n.then(_h,_h),n}function _h(){if(--Zu===0&&qs!==null){ko!==null&&(ko.status="fulfilled");var e=qs;qs=null,Oo=0,ko=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function KC(e,n){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<o.length;f++)(0,o[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var Ah=L.S;L.S=function(e,n){hv=kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&XC(e,n),Ah!==null&&Ah(e,n)};var Wr=P(null);function Ju(){var e=Wr.current;return e!==null?e:vt.pooledCache}function di(e,n){n===null?Q(Wr,Wr.current):Q(Wr,n.pool)}function Oh(){var e=Ju();return e===null?null:{parent:Lt._currentValue,pool:e}}var zo=Error(s(460)),ed=Error(s(474)),fi=Error(s(542)),mi={then:function(){}};function kh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zh(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Ma,Ma),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ph(e),e;default:if(typeof n.status=="string")n.then(Ma,Ma);else{if(e=vt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ph(e),e}throw Zr=n,zo}}function Qr(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Zr=o,zo):o}}var Zr=null;function Lh(){if(Zr===null)throw Error(s(459));var e=Zr;return Zr=null,e}function Ph(e){if(e===zo||e===fi)throw Error(s(483))}var Lo=null,Is=0;function pi(e){var n=Is;return Is+=1,Lo===null&&(Lo=[]),zh(Lo,e,n)}function $s(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function hi(e,n){throw n.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Uh(e){function n(K,F){if(e){var Z=K.deletions;Z===null?(K.deletions=[F],K.flags|=16):Z.push(F)}}function o(K,F){if(!e)return null;for(;F!==null;)n(K,F),F=F.sibling;return null}function l(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function f(K,F){return K=_a(K,F),K.index=0,K.sibling=null,K}function v(K,F,Z){return K.index=Z,e?(Z=K.alternate,Z!==null?(Z=Z.index,Z<F?(K.flags|=67108866,F):Z):(K.flags|=67108866,F)):(K.flags|=1048576,F)}function N(K){return e&&K.alternate===null&&(K.flags|=67108866),K}function O(K,F,Z,se){return F===null||F.tag!==6?(F=Iu(Z,K.mode,se),F.return=K,F):(F=f(F,Z),F.return=K,F)}function B(K,F,Z,se){var je=Z.type;return je===b?oe(K,F,Z.props.children,se,Z.key):F!==null&&(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===M&&Qr(je)===F.type)?(F=f(F,Z.props),$s(F,Z),F.return=K,F):(F=li(Z.type,Z.key,Z.props,null,K.mode,se),$s(F,Z),F.return=K,F)}function J(K,F,Z,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==Z.containerInfo||F.stateNode.implementation!==Z.implementation?(F=$u(Z,K.mode,se),F.return=K,F):(F=f(F,Z.children||[]),F.return=K,F)}function oe(K,F,Z,se,je){return F===null||F.tag!==7?(F=Vr(Z,K.mode,se,je),F.return=K,F):(F=f(F,Z),F.return=K,F)}function le(K,F,Z){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Iu(""+F,K.mode,Z),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return Z=li(F.type,F.key,F.props,null,K.mode,Z),$s(Z,F),Z.return=K,Z;case E:return F=$u(F,K.mode,Z),F.return=K,F;case M:return F=Qr(F),le(K,F,Z)}if(ae(F)||V(F))return F=Vr(F,K.mode,Z,null),F.return=K,F;if(typeof F.then=="function")return le(K,pi(F),Z);if(F.$$typeof===R)return le(K,ui(K,F),Z);hi(K,F)}return null}function ee(K,F,Z,se){var je=F!==null?F.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return je!==null?null:O(K,F,""+Z,se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return Z.key===je?B(K,F,Z,se):null;case E:return Z.key===je?J(K,F,Z,se):null;case M:return Z=Qr(Z),ee(K,F,Z,se)}if(ae(Z)||V(Z))return je!==null?null:oe(K,F,Z,se,null);if(typeof Z.then=="function")return ee(K,F,pi(Z),se);if(Z.$$typeof===R)return ee(K,F,ui(K,Z),se);hi(K,Z)}return null}function te(K,F,Z,se,je){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return K=K.get(Z)||null,O(F,K,""+se,je);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return K=K.get(se.key===null?Z:se.key)||null,B(F,K,se,je);case E:return K=K.get(se.key===null?Z:se.key)||null,J(F,K,se,je);case M:return se=Qr(se),te(K,F,Z,se,je)}if(ae(se)||V(se))return K=K.get(Z)||null,oe(F,K,se,je,null);if(typeof se.then=="function")return te(K,F,Z,pi(se),je);if(se.$$typeof===R)return te(K,F,Z,ui(F,se),je);hi(F,se)}return null}function Se(K,F,Z,se){for(var je=null,nt=null,Ne=F,Ue=F=0,Xe=null;Ne!==null&&Ue<Z.length;Ue++){Ne.index>Ue?(Xe=Ne,Ne=null):Xe=Ne.sibling;var at=ee(K,Ne,Z[Ue],se);if(at===null){Ne===null&&(Ne=Xe);break}e&&Ne&&at.alternate===null&&n(K,Ne),F=v(at,F,Ue),nt===null?je=at:nt.sibling=at,nt=at,Ne=Xe}if(Ue===Z.length)return o(K,Ne),Qe&&Aa(K,Ue),je;if(Ne===null){for(;Ue<Z.length;Ue++)Ne=le(K,Z[Ue],se),Ne!==null&&(F=v(Ne,F,Ue),nt===null?je=Ne:nt.sibling=Ne,nt=Ne);return Qe&&Aa(K,Ue),je}for(Ne=l(Ne);Ue<Z.length;Ue++)Xe=te(Ne,K,Ue,Z[Ue],se),Xe!==null&&(e&&Xe.alternate!==null&&Ne.delete(Xe.key===null?Ue:Xe.key),F=v(Xe,F,Ue),nt===null?je=Xe:nt.sibling=Xe,nt=Xe);return e&&Ne.forEach(function(Er){return n(K,Er)}),Qe&&Aa(K,Ue),je}function Re(K,F,Z,se){if(Z==null)throw Error(s(151));for(var je=null,nt=null,Ne=F,Ue=F=0,Xe=null,at=Z.next();Ne!==null&&!at.done;Ue++,at=Z.next()){Ne.index>Ue?(Xe=Ne,Ne=null):Xe=Ne.sibling;var Er=ee(K,Ne,at.value,se);if(Er===null){Ne===null&&(Ne=Xe);break}e&&Ne&&Er.alternate===null&&n(K,Ne),F=v(Er,F,Ue),nt===null?je=Er:nt.sibling=Er,nt=Er,Ne=Xe}if(at.done)return o(K,Ne),Qe&&Aa(K,Ue),je;if(Ne===null){for(;!at.done;Ue++,at=Z.next())at=le(K,at.value,se),at!==null&&(F=v(at,F,Ue),nt===null?je=at:nt.sibling=at,nt=at);return Qe&&Aa(K,Ue),je}for(Ne=l(Ne);!at.done;Ue++,at=Z.next())at=te(Ne,K,Ue,at.value,se),at!==null&&(e&&at.alternate!==null&&Ne.delete(at.key===null?Ue:at.key),F=v(at,F,Ue),nt===null?je=at:nt.sibling=at,nt=at);return e&&Ne.forEach(function(sE){return n(K,sE)}),Qe&&Aa(K,Ue),je}function ht(K,F,Z,se){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:e:{for(var je=Z.key;F!==null;){if(F.key===je){if(je=Z.type,je===b){if(F.tag===7){o(K,F.sibling),se=f(F,Z.props.children),se.return=K,K=se;break e}}else if(F.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===M&&Qr(je)===F.type){o(K,F.sibling),se=f(F,Z.props),$s(se,Z),se.return=K,K=se;break e}o(K,F);break}else n(K,F);F=F.sibling}Z.type===b?(se=Vr(Z.props.children,K.mode,se,Z.key),se.return=K,K=se):(se=li(Z.type,Z.key,Z.props,null,K.mode,se),$s(se,Z),se.return=K,K=se)}return N(K);case E:e:{for(je=Z.key;F!==null;){if(F.key===je)if(F.tag===4&&F.stateNode.containerInfo===Z.containerInfo&&F.stateNode.implementation===Z.implementation){o(K,F.sibling),se=f(F,Z.children||[]),se.return=K,K=se;break e}else{o(K,F);break}else n(K,F);F=F.sibling}se=$u(Z,K.mode,se),se.return=K,K=se}return N(K);case M:return Z=Qr(Z),ht(K,F,Z,se)}if(ae(Z))return Se(K,F,Z,se);if(V(Z)){if(je=V(Z),typeof je!="function")throw Error(s(150));return Z=je.call(Z),Re(K,F,Z,se)}if(typeof Z.then=="function")return ht(K,F,pi(Z),se);if(Z.$$typeof===R)return ht(K,F,ui(K,Z),se);hi(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,F!==null&&F.tag===6?(o(K,F.sibling),se=f(F,Z),se.return=K,K=se):(o(K,F),se=Iu(Z,K.mode,se),se.return=K,K=se),N(K)):o(K,F)}return function(K,F,Z,se){try{Is=0;var je=ht(K,F,Z,se);return Lo=null,je}catch(Ne){if(Ne===zo||Ne===fi)throw Ne;var nt=wn(29,Ne,null,K.mode);return nt.lanes=se,nt.return=K,nt}}}var Jr=Uh(!0),Bh=Uh(!1),lr=!1;function td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function cr(e,n,o){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ot&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=si(e),wh(e,null,o),n}return oi(e,l,n,o),si(e)}function Fs(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,Wn(e,o)}}function ad(e,n){var o=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?f=v=N:v=v.next=N,o=o.next}while(o!==null);v===null?f=v=n:v=v.next=n}else f=v=n;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:l.shared,callbacks:l.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var rd=!1;function Ys(){if(rd){var e=ko;if(e!==null)throw e}}function Vs(e,n,o,l){rd=!1;var f=e.updateQueue;lr=!1;var v=f.firstBaseUpdate,N=f.lastBaseUpdate,O=f.shared.pending;if(O!==null){f.shared.pending=null;var B=O,J=B.next;B.next=null,N===null?v=J:N.next=J,N=B;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==N&&(O===null?oe.firstBaseUpdate=J:O.next=J,oe.lastBaseUpdate=B))}if(v!==null){var le=f.baseState;N=0,oe=J=B=null,O=v;do{var ee=O.lane&-536870913,te=ee!==O.lane;if(te?(Ge&ee)===ee:(l&ee)===ee){ee!==0&&ee===Oo&&(rd=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Se=e,Re=O;ee=n;var ht=o;switch(Re.tag){case 1:if(Se=Re.payload,typeof Se=="function"){le=Se.call(ht,le,ee);break e}le=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Re.payload,ee=typeof Se=="function"?Se.call(ht,le,ee):Se,ee==null)break e;le=y({},le,ee);break e;case 2:lr=!0}}ee=O.callback,ee!==null&&(e.flags|=64,te&&(e.flags|=8192),te=f.callbacks,te===null?f.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(J=oe=te,B=le):oe=oe.next=te,N|=ee;if(O=O.next,O===null){if(O=f.shared.pending,O===null)break;te=O,O=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);oe===null&&(B=le),f.baseState=B,f.firstBaseUpdate=J,f.lastBaseUpdate=oe,v===null&&(f.shared.lanes=0),pr|=N,e.lanes=N,e.memoizedState=le}}function Hh(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function qh(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Hh(o[e],n)}var Po=P(null),gi=P(0);function Ih(e,n){e=$a,Q(gi,e),Q(Po,n),$a=e|n.baseLanes}function od(){Q(gi,$a),Q(Po,Po.current)}function sd(){$a=gi.current,Y(Po),Y(gi)}var Cn=P(null),Hn=null;function ur(e){var n=e.alternate;Q(_t,_t.current&1),Q(Cn,e),Hn===null&&(n===null||Po.current!==null||n.memoizedState!==null)&&(Hn=e)}function ld(e){Q(_t,_t.current),Q(Cn,e),Hn===null&&(Hn=e)}function $h(e){e.tag===22?(Q(_t,_t.current),Q(Cn,e),Hn===null&&(Hn=e)):dr()}function dr(){Q(_t,_t.current),Q(Cn,Cn.current)}function En(e){Y(Cn),Hn===e&&(Hn=null),Y(_t)}var _t=P(0);function vi(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||pf(o)||hf(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var za=0,Pe=null,mt=null,Pt=null,yi=!1,Uo=!1,eo=!1,xi=0,Gs=0,Bo=null,WC=0;function Tt(){throw Error(s(321))}function id(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Sn(e[o],n[o]))return!1;return!0}function cd(e,n,o,l,f,v){return za=v,Pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?jg:Ed,eo=!1,v=o(l,f),eo=!1,Uo&&(v=Yh(n,o,l,f)),Fh(e),v}function Fh(e){L.H=Ws;var n=mt!==null&&mt.next!==null;if(za=0,Pt=mt=Pe=null,yi=!1,Gs=0,Bo=null,n)throw Error(s(300));e===null||Ut||(e=e.dependencies,e!==null&&ci(e)&&(Ut=!0))}function Yh(e,n,o,l){Pe=e;var f=0;do{if(Uo&&(Bo=null),Gs=0,Uo=!1,25<=f)throw Error(s(301));if(f+=1,Pt=mt=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}L.H=Tg,v=n(o,l)}while(Uo);return v}function QC(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?Xs(n):n,e=e.useState()[0],(mt!==null?mt.memoizedState:null)!==e&&(Pe.flags|=1024),n}function ud(){var e=xi!==0;return xi=0,e}function dd(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function fd(e){if(yi){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}yi=!1}za=0,Pt=mt=Pe=null,Uo=!1,Gs=xi=0,Bo=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Pe.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function At(){if(mt===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var n=Pt===null?Pe.memoizedState:Pt.next;if(n!==null)Pt=n,mt=e;else{if(e===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Pt===null?Pe.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function bi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(e){var n=Gs;return Gs+=1,Bo===null&&(Bo=[]),e=zh(Bo,e,n),n=Pe,(Pt===null?n.memoizedState:Pt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?jg:Ed),e}function Si(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xs(e);if(e.$$typeof===R)return Wt(e)}throw Error(s(438,String(e)))}function md(e){var n=null,o=Pe.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=bi(),Pe.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),l=0;l<e;l++)o[l]=I;return n.index++,o}function La(e,n){return typeof n=="function"?n(e):n}function wi(e){var n=At();return pd(n,mt,e)}function pd(e,n,o){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var f=e.baseQueue,v=l.pending;if(v!==null){if(f!==null){var N=f.next;f.next=v.next,v.next=N}n.baseQueue=f=v,l.pending=null}if(v=e.baseState,f===null)e.memoizedState=v;else{n=f.next;var O=N=null,B=null,J=n,oe=!1;do{var le=J.lane&-536870913;if(le!==J.lane?(Ge&le)===le:(za&le)===le){var ee=J.revertLane;if(ee===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),le===Oo&&(oe=!0);else if((za&ee)===ee){J=J.next,ee===Oo&&(oe=!0);continue}else le={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(O=B=le,N=v):B=B.next=le,Pe.lanes|=ee,pr|=ee;le=J.action,eo&&o(v,le),v=J.hasEagerState?J.eagerState:o(v,le)}else ee={lane:le,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(O=B=ee,N=v):B=B.next=ee,Pe.lanes|=le,pr|=le;J=J.next}while(J!==null&&J!==n);if(B===null?N=v:B.next=O,!Sn(v,e.memoizedState)&&(Ut=!0,oe&&(o=ko,o!==null)))throw o;e.memoizedState=v,e.baseState=N,e.baseQueue=B,l.lastRenderedState=v}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function hd(e){var n=At(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=o.dispatch,f=o.pending,v=n.memoizedState;if(f!==null){o.pending=null;var N=f=f.next;do v=e(v,N.action),N=N.next;while(N!==f);Sn(v,n.memoizedState)||(Ut=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),o.lastRenderedState=v}return[v,l]}function Vh(e,n,o){var l=Pe,f=At(),v=Qe;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=n();var N=!Sn((mt||f).memoizedState,o);if(N&&(f.memoizedState=o,Ut=!0),f=f.queue,yd(Kh.bind(null,l,f,e),[e]),f.getSnapshot!==n||N||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Ho(9,{destroy:void 0},Xh.bind(null,l,f,o,n),null),vt===null)throw Error(s(349));v||(za&127)!==0||Gh(l,n,o)}return o}function Gh(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Pe.updateQueue,n===null?(n=bi(),Pe.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Xh(e,n,o,l){n.value=o,n.getSnapshot=l,Wh(n)&&Qh(e)}function Kh(e,n,o){return o(function(){Wh(n)&&Qh(e)})}function Wh(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Sn(e,o)}catch{return!0}}function Qh(e){var n=Yr(e,2);n!==null&&vn(n,e,2)}function gd(e){var n=sn();if(typeof e=="function"){var o=e;if(e=o(),eo){et(!0);try{o()}finally{et(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},n}function Zh(e,n,o,l){return e.baseState=o,pd(e,mt,typeof l=="function"?l:La)}function ZC(e,n,o,l,f){if(Ni(e))throw Error(s(485));if(e=n.action,e!==null){var v={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){v.listeners.push(N)}};L.T!==null?o(!0):v.isTransition=!1,l(v),o=n.pending,o===null?(v.next=n.pending=v,Jh(n,v)):(v.next=o.next,n.pending=o.next=v)}}function Jh(e,n){var o=n.action,l=n.payload,f=e.state;if(n.isTransition){var v=L.T,N={};L.T=N;try{var O=o(f,l),B=L.S;B!==null&&B(N,O),eg(e,n,O)}catch(J){vd(e,n,J)}finally{v!==null&&N.types!==null&&(v.types=N.types),L.T=v}}else try{v=o(f,l),eg(e,n,v)}catch(J){vd(e,n,J)}}function eg(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){tg(e,n,l)},function(l){return vd(e,n,l)}):tg(e,n,o)}function tg(e,n,o){n.status="fulfilled",n.value=o,ng(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Jh(e,o)))}function vd(e,n,o){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=o,ng(n),n=n.next;while(n!==l)}e.action=null}function ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ag(e,n){return n}function rg(e,n){if(Qe){var o=vt.formState;if(o!==null){e:{var l=Pe;if(Qe){if(bt){t:{for(var f=bt,v=Bn;f.nodeType!==8;){if(!v){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}v=f.data,f=v==="F!"||v==="F"?f:null}if(f){bt=qn(f.nextSibling),l=f.data==="F!";break e}}or(l)}l=!1}l&&(n=o[0])}}return o=sn(),o.memoizedState=o.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},o.queue=l,o=Cg.bind(null,Pe,l),l.dispatch=o,l=gd(!1),v=Cd.bind(null,Pe,!1,l.queue),l=sn(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,o=ZC.bind(null,Pe,f,v,o),f.dispatch=o,l.memoizedState=e,[n,o,!1]}function og(e){var n=At();return sg(n,mt,e)}function sg(e,n,o){if(n=pd(e,n,ag)[0],e=wi(La)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xs(n)}catch(N){throw N===zo?fi:N}else l=n;n=At();var f=n.queue,v=f.dispatch;return o!==n.memoizedState&&(Pe.flags|=2048,Ho(9,{destroy:void 0},JC.bind(null,f,o),null)),[l,v,e]}function JC(e,n){e.action=n}function lg(e){var n=At(),o=mt;if(o!==null)return sg(n,o,e);At(),n=n.memoizedState,o=At();var l=o.queue.dispatch;return o.memoizedState=e,[n,l,!1]}function Ho(e,n,o,l){return e={tag:e,create:o,deps:l,inst:n,next:null},n=Pe.updateQueue,n===null&&(n=bi(),Pe.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(l=o.next,o.next=e,e.next=l,n.lastEffect=e),e}function ig(){return At().memoizedState}function Ci(e,n,o,l){var f=sn();Pe.flags|=e,f.memoizedState=Ho(1|n,{destroy:void 0},o,l===void 0?null:l)}function Ei(e,n,o,l){var f=At();l=l===void 0?null:l;var v=f.memoizedState.inst;mt!==null&&l!==null&&id(l,mt.memoizedState.deps)?f.memoizedState=Ho(n,v,o,l):(Pe.flags|=e,f.memoizedState=Ho(1|n,v,o,l))}function cg(e,n){Ci(8390656,8,e,n)}function yd(e,n){Ei(2048,8,e,n)}function e2(e){Pe.flags|=4;var n=Pe.updateQueue;if(n===null)n=bi(),Pe.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function ug(e){var n=At().memoizedState;return e2({ref:n,nextImpl:e}),function(){if((ot&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function dg(e,n){return Ei(4,2,e,n)}function fg(e,n){return Ei(4,4,e,n)}function mg(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pg(e,n,o){o=o!=null?o.concat([e]):null,Ei(4,4,mg.bind(null,n,e),o)}function xd(){}function hg(e,n){var o=At();n=n===void 0?null:n;var l=o.memoizedState;return n!==null&&id(n,l[1])?l[0]:(o.memoizedState=[e,n],e)}function gg(e,n){var o=At();n=n===void 0?null:n;var l=o.memoizedState;if(n!==null&&id(n,l[1]))return l[0];if(l=e(),eo){et(!0);try{e()}finally{et(!1)}}return o.memoizedState=[l,n],l}function bd(e,n,o){return o===void 0||(za&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=vv(),Pe.lanes|=e,pr|=e,o)}function vg(e,n,o,l){return Sn(o,n)?o:Po.current!==null?(e=bd(e,o,l),Sn(e,n)||(Ut=!0),e):(za&42)===0||(za&1073741824)!==0&&(Ge&261930)===0?(Ut=!0,e.memoizedState=o):(e=vv(),Pe.lanes|=e,pr|=e,n)}function yg(e,n,o,l,f){var v=H.p;H.p=v!==0&&8>v?v:8;var N=L.T,O={};L.T=O,Cd(e,!1,n,o);try{var B=f(),J=L.S;if(J!==null&&J(O,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var oe=KC(B,l);Ks(e,n,oe,Tn(e))}else Ks(e,n,l,Tn(e))}catch(le){Ks(e,n,{then:function(){},status:"rejected",reason:le},Tn())}finally{H.p=v,N!==null&&O.types!==null&&(N.types=O.types),L.T=N}}function t2(){}function Sd(e,n,o,l){if(e.tag!==5)throw Error(s(476));var f=xg(e).queue;yg(e,f,n,U,o===null?t2:function(){return bg(e),o(l)})}function xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:U},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bg(e){var n=xg(e);n.next===null&&(n=e.alternate.memoizedState),Ks(e,n.next.queue,{},Tn())}function wd(){return Wt(fl)}function Sg(){return At().memoizedState}function wg(){return At().memoizedState}function n2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Tn();e=ir(o);var l=cr(n,e,o);l!==null&&(vn(l,n,o),Fs(l,n,o)),n={cache:Qu()},e.payload=n;return}n=n.return}}function a2(e,n,o){var l=Tn();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ni(e)?Eg(n,o):(o=Hu(e,n,o,l),o!==null&&(vn(o,e,l),Ng(o,n,l)))}function Cg(e,n,o){var l=Tn();Ks(e,n,o,l)}function Ks(e,n,o,l){var f={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ni(e))Eg(n,f);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var N=n.lastRenderedState,O=v(N,o);if(f.hasEagerState=!0,f.eagerState=O,Sn(O,N))return oi(e,n,f,0),vt===null&&ri(),!1}catch{}if(o=Hu(e,n,f,l),o!==null)return vn(o,e,l),Ng(o,n,l),!0}return!1}function Cd(e,n,o,l){if(l={lane:2,revertLane:tf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ni(e)){if(n)throw Error(s(479))}else n=Hu(e,o,l,2),n!==null&&vn(n,e,2)}function Ni(e){var n=e.alternate;return e===Pe||n!==null&&n===Pe}function Eg(e,n){Uo=yi=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Ng(e,n,o){if((o&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,Wn(e,o)}}var Ws={readContext:Wt,use:Si,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Ws.useEffectEvent=Tt;var jg={readContext:Wt,use:Si,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:Wt,useEffect:cg,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Ci(4194308,4,mg.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Ci(4194308,4,e,n)},useInsertionEffect:function(e,n){Ci(4,2,e,n)},useMemo:function(e,n){var o=sn();n=n===void 0?null:n;var l=e();if(eo){et(!0);try{e()}finally{et(!1)}}return o.memoizedState=[l,n],l},useReducer:function(e,n,o){var l=sn();if(o!==void 0){var f=o(n);if(eo){et(!0);try{o(n)}finally{et(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=a2.bind(null,Pe,e),[l.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=gd(e);var n=e.queue,o=Cg.bind(null,Pe,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:xd,useDeferredValue:function(e,n){var o=sn();return bd(o,e,n)},useTransition:function(){var e=gd(!1);return e=yg.bind(null,Pe,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var l=Pe,f=sn();if(Qe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),vt===null)throw Error(s(349));(Ge&127)!==0||Gh(l,n,o)}f.memoizedState=o;var v={value:o,getSnapshot:n};return f.queue=v,cg(Kh.bind(null,l,v,e),[e]),l.flags|=2048,Ho(9,{destroy:void 0},Xh.bind(null,l,v,o,n),null),o},useId:function(){var e=sn(),n=vt.identifierPrefix;if(Qe){var o=pa,l=ma;o=(l&~(1<<32-yt(l)-1)).toString(32)+o,n="_"+n+"R_"+o,o=xi++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=WC++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wd,useFormState:rg,useActionState:rg,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Cd.bind(null,Pe,!0,o),o.dispatch=n,[e,n]},useMemoCache:md,useCacheRefresh:function(){return sn().memoizedState=n2.bind(null,Pe)},useEffectEvent:function(e){var n=sn(),o={impl:e};return n.memoizedState=o,function(){if((ot&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Ed={readContext:Wt,use:Si,useCallback:hg,useContext:Wt,useEffect:yd,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:fg,useMemo:gg,useReducer:wi,useRef:ig,useState:function(){return wi(La)},useDebugValue:xd,useDeferredValue:function(e,n){var o=At();return vg(o,mt.memoizedState,e,n)},useTransition:function(){var e=wi(La)[0],n=At().memoizedState;return[typeof e=="boolean"?e:Xs(e),n]},useSyncExternalStore:Vh,useId:Sg,useHostTransitionStatus:wd,useFormState:og,useActionState:og,useOptimistic:function(e,n){var o=At();return Zh(o,mt,e,n)},useMemoCache:md,useCacheRefresh:wg};Ed.useEffectEvent=ug;var Tg={readContext:Wt,use:Si,useCallback:hg,useContext:Wt,useEffect:yd,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:fg,useMemo:gg,useReducer:hd,useRef:ig,useState:function(){return hd(La)},useDebugValue:xd,useDeferredValue:function(e,n){var o=At();return mt===null?bd(o,e,n):vg(o,mt.memoizedState,e,n)},useTransition:function(){var e=hd(La)[0],n=At().memoizedState;return[typeof e=="boolean"?e:Xs(e),n]},useSyncExternalStore:Vh,useId:Sg,useHostTransitionStatus:wd,useFormState:lg,useActionState:lg,useOptimistic:function(e,n){var o=At();return mt!==null?Zh(o,mt,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:md,useCacheRefresh:wg};Tg.useEffectEvent=ug;function Nd(e,n,o,l){n=e.memoizedState,o=o(l,n),o=o==null?n:y({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var jd={enqueueSetState:function(e,n,o){e=e._reactInternals;var l=Tn(),f=ir(l);f.payload=n,o!=null&&(f.callback=o),n=cr(e,f,l),n!==null&&(vn(n,e,l),Fs(n,e,l))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var l=Tn(),f=ir(l);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=cr(e,f,l),n!==null&&(vn(n,e,l),Fs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Tn(),l=ir(o);l.tag=2,n!=null&&(l.callback=n),n=cr(e,l,o),n!==null&&(vn(n,e,o),Fs(n,e,o))}};function Rg(e,n,o,l,f,v,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,v,N):n.prototype&&n.prototype.isPureReactComponent?!Ls(o,l)||!Ls(f,v):!0}function Mg(e,n,o,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,l),n.state!==e&&jd.enqueueReplaceState(n,n.state,null)}function to(e,n){var o=n;if("ref"in n){o={};for(var l in n)l!=="ref"&&(o[l]=n[l])}if(e=e.defaultProps){o===n&&(o=y({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function Dg(e){ai(e)}function _g(e){console.error(e)}function Ag(e){ai(e)}function ji(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(e,n,o){try{var l=e.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Td(e,n,o){return o=ir(o),o.tag=3,o.payload={element:null},o.callback=function(){ji(e,n)},o}function kg(e){return e=ir(e),e.tag=3,e}function zg(e,n,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var v=l.value;e.payload=function(){return f(v)},e.callback=function(){Og(n,o,l)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){Og(n,o,l),typeof f!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function r2(e,n,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=o.alternate,n!==null&&Ao(n,o,f,!0),o=Cn.current,o!==null){switch(o.tag){case 31:case 13:return Hn===null?Ui():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===mi?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([l]):n.add(l),Zd(e,l,f)),!1;case 22:return o.flags|=65536,l===mi?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([l]):o.add(l)),Zd(e,l,f)),!1}throw Error(s(435,o.tag))}return Zd(e,l,f),Ui(),!1}if(Qe)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==Vu&&(e=Error(s(422),{cause:l}),Bs(Ln(e,o)))):(l!==Vu&&(n=Error(s(423),{cause:l}),Bs(Ln(n,o))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Ln(l,o),f=Td(e.stateNode,l,f),ad(e,f),Rt!==4&&(Rt=2)),!1;var v=Error(s(520),{cause:l});if(v=Ln(v,o),rl===null?rl=[v]:rl.push(v),Rt!==4&&(Rt=2),n===null)return!0;l=Ln(l,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=Td(o.stateNode,l,e),ad(o,e),!1;case 1:if(n=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(hr===null||!hr.has(v))))return o.flags|=65536,f&=-f,o.lanes|=f,f=kg(f),zg(f,e,o,l),ad(o,f),!1}o=o.return}while(o!==null);return!1}var Rd=Error(s(461)),Ut=!1;function Qt(e,n,o,l){n.child=e===null?Bh(n,null,o,l):Jr(n,e.child,o,l)}function Lg(e,n,o,l,f){o=o.render;var v=n.ref;if("ref"in l){var N={};for(var O in l)O!=="ref"&&(N[O]=l[O])}else N=l;return Kr(n),l=cd(e,n,o,N,v,f),O=ud(),e!==null&&!Ut?(dd(e,n,f),Pa(e,n,f)):(Qe&&O&&Fu(n),n.flags|=1,Qt(e,n,l,f),n.child)}function Pg(e,n,o,l,f){if(e===null){var v=o.type;return typeof v=="function"&&!qu(v)&&v.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=v,Ug(e,n,v,l,f)):(e=li(o.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,!Ld(e,f)){var N=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ls,o(N,l)&&e.ref===n.ref)return Pa(e,n,f)}return n.flags|=1,e=_a(v,l),e.ref=n.ref,e.return=n,n.child=e}function Ug(e,n,o,l,f){if(e!==null){var v=e.memoizedProps;if(Ls(v,l)&&e.ref===n.ref)if(Ut=!1,n.pendingProps=l=v,Ld(e,f))(e.flags&131072)!==0&&(Ut=!0);else return n.lanes=e.lanes,Pa(e,n,f)}return Md(e,n,o,l,f)}function Bg(e,n,o,l){var f=l.children,v=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,e!==null){for(l=n.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~v}else l=0,n.child=null;return Hg(e,n,v,o,l)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&di(n,v!==null?v.cachePool:null),v!==null?Ih(n,v):od(),$h(n);else return l=n.lanes=536870912,Hg(e,n,v!==null?v.baseLanes|o:o,o,l)}else v!==null?(di(n,v.cachePool),Ih(n,v),dr(),n.memoizedState=null):(e!==null&&di(n,null),od(),dr());return Qt(e,n,f,o),n.child}function Qs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hg(e,n,o,l,f){var v=Ju();return v=v===null?null:{parent:Lt._currentValue,pool:v},n.memoizedState={baseLanes:o,cachePool:v},e!==null&&di(n,null),od(),$h(n),e!==null&&Ao(e,n,l,!0),n.childLanes=f,null}function Ti(e,n){return n=Mi({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function qg(e,n,o){return Jr(n,e.child,null,o),e=Ti(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function o2(e,n,o){var l=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Qe){if(l.mode==="hidden")return e=Ti(n,l),n.lanes=536870912,Qs(null,e);if(ld(n),(e=bt)?(e=Jv(e,Bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ar!==null?{id:ma,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},o=Eh(e),o.return=n,n.child=o,Kt=n,bt=null)):e=null,e===null)throw or(n);return n.lanes=536870912,null}return Ti(n,l)}var v=e.memoizedState;if(v!==null){var N=v.dehydrated;if(ld(n),f)if(n.flags&256)n.flags&=-257,n=qg(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ut||Ao(e,n,o,!1),f=(o&e.childLanes)!==0,Ut||f){if(l=vt,l!==null&&(N=Qn(l,o),N!==0&&N!==v.retryLane))throw v.retryLane=N,Yr(e,N),vn(l,e,N),Rd;Ui(),n=qg(e,n,o)}else e=v.treeContext,bt=qn(N.nextSibling),Kt=n,Qe=!0,rr=null,Bn=!1,e!==null&&Th(n,e),n=Ti(n,l),n.flags|=4096;return n}return e=_a(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ri(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Md(e,n,o,l,f){return Kr(n),o=cd(e,n,o,l,void 0,f),l=ud(),e!==null&&!Ut?(dd(e,n,f),Pa(e,n,f)):(Qe&&l&&Fu(n),n.flags|=1,Qt(e,n,o,f),n.child)}function Ig(e,n,o,l,f,v){return Kr(n),n.updateQueue=null,o=Yh(n,l,o,f),Fh(e),l=ud(),e!==null&&!Ut?(dd(e,n,v),Pa(e,n,v)):(Qe&&l&&Fu(n),n.flags|=1,Qt(e,n,o,v),n.child)}function $g(e,n,o,l,f){if(Kr(n),n.stateNode===null){var v=Ro,N=o.contextType;typeof N=="object"&&N!==null&&(v=Wt(N)),v=new o(l,v),n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=jd,n.stateNode=v,v._reactInternals=n,v=n.stateNode,v.props=l,v.state=n.memoizedState,v.refs={},td(n),N=o.contextType,v.context=typeof N=="object"&&N!==null?Wt(N):Ro,v.state=n.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(Nd(n,o,N,l),v.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(N=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),N!==v.state&&jd.enqueueReplaceState(v,v.state,null),Vs(n,l,v,f),Ys(),v.state=n.memoizedState),typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){v=n.stateNode;var O=n.memoizedProps,B=to(o,O);v.props=B;var J=v.context,oe=o.contextType;N=Ro,typeof oe=="object"&&oe!==null&&(N=Wt(oe));var le=o.getDerivedStateFromProps;oe=typeof le=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,oe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||J!==N)&&Mg(n,v,l,N),lr=!1;var ee=n.memoizedState;v.state=ee,Vs(n,l,v,f),Ys(),J=n.memoizedState,O||ee!==J||lr?(typeof le=="function"&&(Nd(n,o,le,l),J=n.memoizedState),(B=lr||Rg(n,o,B,l,ee,J,N))?(oe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(n.flags|=4194308)):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=J),v.props=l,v.state=J,v.context=N,l=B):(typeof v.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{v=n.stateNode,nd(e,n),N=n.memoizedProps,oe=to(o,N),v.props=oe,le=n.pendingProps,ee=v.context,J=o.contextType,B=Ro,typeof J=="object"&&J!==null&&(B=Wt(J)),O=o.getDerivedStateFromProps,(J=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(N!==le||ee!==B)&&Mg(n,v,l,B),lr=!1,ee=n.memoizedState,v.state=ee,Vs(n,l,v,f),Ys();var te=n.memoizedState;N!==le||ee!==te||lr||e!==null&&e.dependencies!==null&&ci(e.dependencies)?(typeof O=="function"&&(Nd(n,o,O,l),te=n.memoizedState),(oe=lr||Rg(n,o,oe,l,ee,te,B)||e!==null&&e.dependencies!==null&&ci(e.dependencies))?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,te,B),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,te,B)),typeof v.componentDidUpdate=="function"&&(n.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof v.componentDidUpdate!="function"||N===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=te),v.props=l,v.state=te,v.context=B,l=oe):(typeof v.componentDidUpdate!="function"||N===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),l=!1)}return v=l,Ri(e,n),l=(n.flags&128)!==0,v||l?(v=n.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:v.render(),n.flags|=1,e!==null&&l?(n.child=Jr(n,e.child,null,f),n.child=Jr(n,null,o,f)):Qt(e,n,o,f),n.memoizedState=v.state,e=n.child):e=Pa(e,n,f),e}function Fg(e,n,o,l){return Gr(),n.flags|=256,Qt(e,n,o,l),n.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(e){return{baseLanes:e,cachePool:Oh()}}function Ad(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=jn),e}function Yg(e,n,o){var l=n.pendingProps,f=!1,v=(n.flags&128)!==0,N;if((N=v)||(N=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),N&&(f=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qe){if(f?ur(n):dr(),(e=bt)?(e=Jv(e,Bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ar!==null?{id:ma,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},o=Eh(e),o.return=n,n.child=o,Kt=n,bt=null)):e=null,e===null)throw or(n);return hf(e)?n.lanes=32:n.lanes=536870912,null}var O=l.children;return l=l.fallback,f?(dr(),f=n.mode,O=Mi({mode:"hidden",children:O},f),l=Vr(l,f,o,null),O.return=n,l.return=n,O.sibling=l,n.child=O,l=n.child,l.memoizedState=_d(o),l.childLanes=Ad(e,N,o),n.memoizedState=Dd,Qs(null,l)):(ur(n),Od(n,O))}var B=e.memoizedState;if(B!==null&&(O=B.dehydrated,O!==null)){if(v)n.flags&256?(ur(n),n.flags&=-257,n=kd(e,n,o)):n.memoizedState!==null?(dr(),n.child=e.child,n.flags|=128,n=null):(dr(),O=l.fallback,f=n.mode,l=Mi({mode:"visible",children:l.children},f),O=Vr(O,f,o,null),O.flags|=2,l.return=n,O.return=n,l.sibling=O,n.child=l,Jr(n,e.child,null,o),l=n.child,l.memoizedState=_d(o),l.childLanes=Ad(e,N,o),n.memoizedState=Dd,n=Qs(null,l));else if(ur(n),hf(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var J=N.dgst;N=J,l=Error(s(419)),l.stack="",l.digest=N,Bs({value:l,source:null,stack:null}),n=kd(e,n,o)}else if(Ut||Ao(e,n,o,!1),N=(o&e.childLanes)!==0,Ut||N){if(N=vt,N!==null&&(l=Qn(N,o),l!==0&&l!==B.retryLane))throw B.retryLane=l,Yr(e,l),vn(N,e,l),Rd;pf(O)||Ui(),n=kd(e,n,o)}else pf(O)?(n.flags|=192,n.child=e.child,n=null):(e=B.treeContext,bt=qn(O.nextSibling),Kt=n,Qe=!0,rr=null,Bn=!1,e!==null&&Th(n,e),n=Od(n,l.children),n.flags|=4096);return n}return f?(dr(),O=l.fallback,f=n.mode,B=e.child,J=B.sibling,l=_a(B,{mode:"hidden",children:l.children}),l.subtreeFlags=B.subtreeFlags&65011712,J!==null?O=_a(J,O):(O=Vr(O,f,o,null),O.flags|=2),O.return=n,l.return=n,l.sibling=O,n.child=l,Qs(null,l),l=n.child,O=e.child.memoizedState,O===null?O=_d(o):(f=O.cachePool,f!==null?(B=Lt._currentValue,f=f.parent!==B?{parent:B,pool:B}:f):f=Oh(),O={baseLanes:O.baseLanes|o,cachePool:f}),l.memoizedState=O,l.childLanes=Ad(e,N,o),n.memoizedState=Dd,Qs(e.child,l)):(ur(n),o=e.child,e=o.sibling,o=_a(o,{mode:"visible",children:l.children}),o.return=n,o.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=o,n.memoizedState=null,o)}function Od(e,n){return n=Mi({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Mi(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function kd(e,n,o){return Jr(n,e.child,null,o),e=Od(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Vg(e,n,o){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ku(e.return,n,o)}function zd(e,n,o,l,f,v){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f,treeForkCount:v}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=l,N.tail=o,N.tailMode=f,N.treeForkCount=v)}function Gg(e,n,o){var l=n.pendingProps,f=l.revealOrder,v=l.tail;l=l.children;var N=_t.current,O=(N&2)!==0;if(O?(N=N&1|2,n.flags|=128):N&=1,Q(_t,N),Qt(e,n,l,o),l=Qe?Us:0,!O&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vg(e,o,n);else if(e.tag===19)Vg(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=n.child,f=null;o!==null;)e=o.alternate,e!==null&&vi(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=n.child,n.child=null):(f=o.sibling,o.sibling=null),zd(n,!1,f,o,v,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&vi(e)===null){n.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}zd(n,!0,o,null,v,l);break;case"together":zd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Pa(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),pr|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Ao(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=_a(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=_a(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Ld(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ci(e)))}function s2(e,n,o){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),sr(n,Lt,e.memoizedState.cache),Gr();break;case 27:case 5:he(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:sr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ld(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Yg(e,n,o):(ur(n),e=Pa(e,n,o),e!==null?e.sibling:null);ur(n);break;case 19:var f=(e.flags&128)!==0;if(l=(o&n.childLanes)!==0,l||(Ao(e,n,o,!1),l=(o&n.childLanes)!==0),f){if(l)return Gg(e,n,o);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(_t,_t.current),l)break;return null;case 22:return n.lanes=0,Bg(e,n,o,n.pendingProps);case 24:sr(n,Lt,e.memoizedState.cache)}return Pa(e,n,o)}function Xg(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ut=!0;else{if(!Ld(e,o)&&(n.flags&128)===0)return Ut=!1,s2(e,n,o);Ut=(e.flags&131072)!==0}else Ut=!1,Qe&&(n.flags&1048576)!==0&&jh(n,Us,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Qr(n.elementType),n.type=e,typeof e=="function")qu(e)?(l=to(e,l),n.tag=1,n=$g(null,n,e,l,o)):(n.tag=0,n=Md(null,n,e,l,o));else{if(e!=null){var f=e.$$typeof;if(f===A){n.tag=11,n=Lg(null,n,e,l,o);break e}else if(f===D){n.tag=14,n=Pg(null,n,e,l,o);break e}}throw n=X(e)||e,Error(s(306,n,""))}}return n;case 0:return Md(e,n,n.type,n.pendingProps,o);case 1:return l=n.type,f=to(l,n.pendingProps),$g(e,n,l,f,o);case 3:e:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var v=n.memoizedState;f=v.element,nd(e,n),Vs(n,l,null,o);var N=n.memoizedState;if(l=N.cache,sr(n,Lt,l),l!==v.cache&&Wu(n,[Lt],o,!0),Ys(),l=N.element,v.isDehydrated)if(v={element:l,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){n=Fg(e,n,l,o);break e}else if(l!==f){f=Ln(Error(s(424)),n),Bs(f),n=Fg(e,n,l,o);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,bt=qn(e.firstChild),Kt=n,Qe=!0,rr=null,Bn=!0,o=Bh(n,null,l,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Gr(),l===f){n=Pa(e,n,o);break e}Qt(e,n,l,o)}n=n.child}return n;case 26:return Ri(e,n),e===null?(o=oy(n.type,null,n.pendingProps,null))?n.memoizedState=o:Qe||(o=n.type,e=n.pendingProps,l=Yi(me.current).createElement(o),l[_e]=n,l[Be]=e,Zt(l,o,e),jt(l),n.stateNode=l):n.memoizedState=oy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return he(n),e===null&&Qe&&(l=n.stateNode=ny(n.type,n.pendingProps,me.current),Kt=n,Bn=!0,f=bt,xr(n.type)?(gf=f,bt=qn(l.firstChild)):bt=f),Qt(e,n,n.pendingProps.children,o),Ri(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qe&&((f=l=bt)&&(l=L2(l,n.type,n.pendingProps,Bn),l!==null?(n.stateNode=l,Kt=n,bt=qn(l.firstChild),Bn=!1,f=!0):f=!1),f||or(n)),he(n),f=n.type,v=n.pendingProps,N=e!==null?e.memoizedProps:null,l=v.children,df(f,v)?l=null:N!==null&&df(f,N)&&(n.flags|=32),n.memoizedState!==null&&(f=cd(e,n,QC,null,null,o),fl._currentValue=f),Ri(e,n),Qt(e,n,l,o),n.child;case 6:return e===null&&Qe&&((e=o=bt)&&(o=P2(o,n.pendingProps,Bn),o!==null?(n.stateNode=o,Kt=n,bt=null,e=!0):e=!1),e||or(n)),null;case 13:return Yg(e,n,o);case 4:return ye(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Jr(n,null,l,o):Qt(e,n,l,o),n.child;case 11:return Lg(e,n,n.type,n.pendingProps,o);case 7:return Qt(e,n,n.pendingProps,o),n.child;case 8:return Qt(e,n,n.pendingProps.children,o),n.child;case 12:return Qt(e,n,n.pendingProps.children,o),n.child;case 10:return l=n.pendingProps,sr(n,n.type,l.value),Qt(e,n,l.children,o),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Kr(n),f=Wt(f),l=l(f),n.flags|=1,Qt(e,n,l,o),n.child;case 14:return Pg(e,n,n.type,n.pendingProps,o);case 15:return Ug(e,n,n.type,n.pendingProps,o);case 19:return Gg(e,n,o);case 31:return o2(e,n,o);case 22:return Bg(e,n,o,n.pendingProps);case 24:return Kr(n),l=Wt(Lt),e===null?(f=Ju(),f===null&&(f=vt,v=Qu(),f.pooledCache=v,v.refCount++,v!==null&&(f.pooledCacheLanes|=o),f=v),n.memoizedState={parent:l,cache:f},td(n),sr(n,Lt,f)):((e.lanes&o)!==0&&(nd(e,n),Vs(n,null,null,o),Ys()),f=e.memoizedState,v=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),sr(n,Lt,l)):(l=v.cache,sr(n,Lt,l),l!==f.cache&&Wu(n,[Lt],o,!0))),Qt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ua(e){e.flags|=4}function Pd(e,n,o,l,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Sv())e.flags|=8192;else throw Zr=mi,ed}else e.flags&=-16777217}function Kg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!uy(n))if(Sv())e.flags|=8192;else throw Zr=mi,ed}function Di(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ft():536870912,e.lanes|=n,Fo|=n)}function Zs(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function St(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,l=0;if(n)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=o,n}function l2(e,n,o){var l=n.pendingProps;switch(Yu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return St(n),null;case 3:return o=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ka(Lt),fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(_o(n)?Ua(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gu())),St(n),null;case 26:var f=n.type,v=n.memoizedState;return e===null?(Ua(n),v!==null?(St(n),Kg(n,v)):(St(n),Pd(n,f,null,l,o))):v?v!==e.memoizedState?(Ua(n),St(n),Kg(n,v)):(St(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ua(n),St(n),Pd(n,f,e,l,o)),null;case 27:if(pe(n),o=me.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ua(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return St(n),null}e=re.current,_o(n)?Rh(n):(e=ny(f,l,o),n.stateNode=e,Ua(n))}return St(n),null;case 5:if(pe(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ua(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return St(n),null}if(v=re.current,_o(n))Rh(n);else{var N=Yi(me.current);switch(v){case 1:v=N.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:v=N.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":v=N.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":v=N.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":v=N.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof l.is=="string"?N.createElement("select",{is:l.is}):N.createElement("select"),l.multiple?v.multiple=!0:l.size&&(v.size=l.size);break;default:v=typeof l.is=="string"?N.createElement(f,{is:l.is}):N.createElement(f)}}v[_e]=n,v[Be]=l;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)v.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=v;e:switch(Zt(v,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ua(n)}}return St(n),Pd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ua(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=me.current,_o(n)){if(e=n.stateNode,o=n.memoizedProps,l=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[_e]=n,e=!!(e.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||Yv(e.nodeValue,o)),e||or(n,!0)}else e=Yi(e).createTextNode(l),e[_e]=n,n.stateNode=e}return St(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(l=_o(n),o!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[_e]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),e=!1}else o=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(s(558))}return St(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=_o(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[_e]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),f=!1}else f=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=o,n):(o=l!==null,e=e!==null&&e.memoizedState!==null,o&&(l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==f&&(l.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Di(n,n.updateQueue),St(n),null);case 4:return fe(),e===null&&of(n.stateNode.containerInfo),St(n),null;case 10:return ka(n.type),St(n),null;case 19:if(Y(_t),l=n.memoizedState,l===null)return St(n),null;if(f=(n.flags&128)!==0,v=l.rendering,v===null)if(f)Zs(l,!1);else{if(Rt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(v=vi(e),v!==null){for(n.flags|=128,Zs(l,!1),e=v.updateQueue,n.updateQueue=e,Di(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Ch(o,e),o=o.sibling;return Q(_t,_t.current&1|2),Qe&&Aa(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&kt()>zi&&(n.flags|=128,f=!0,Zs(l,!1),n.lanes=4194304)}else{if(!f)if(e=vi(v),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Di(n,e),Zs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!v.alternate&&!Qe)return St(n),null}else 2*kt()-l.renderingStartTime>zi&&o!==536870912&&(n.flags|=128,f=!0,Zs(l,!1),n.lanes=4194304);l.isBackwards?(v.sibling=n.child,n.child=v):(e=l.last,e!==null?e.sibling=v:n.child=v,l.last=v)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=kt(),e.sibling=null,o=_t.current,Q(_t,f?o&1|2:o&1),Qe&&Aa(n,l.treeForkCount),e):(St(n),null);case 22:case 23:return En(n),sd(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(o&536870912)!==0&&(n.flags&128)===0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),o=n.updateQueue,o!==null&&Di(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==o&&(n.flags|=2048),e!==null&&Y(Wr),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ka(Lt),St(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function i2(e,n){switch(Yu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ka(Lt),fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return pe(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(s(340));Gr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Gr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(_t),null;case 4:return fe(),null;case 10:return ka(n.type),null;case 22:case 23:return En(n),sd(),e!==null&&Y(Wr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ka(Lt),null;case 25:return null;default:return null}}function Wg(e,n){switch(Yu(n),n.tag){case 3:ka(Lt),fe();break;case 26:case 27:case 5:pe(n);break;case 4:fe();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:Y(_t);break;case 10:ka(n.type);break;case 22:case 23:En(n),sd(),e!==null&&Y(Wr);break;case 24:ka(Lt)}}function Js(e,n){try{var o=n.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&e)===e){l=void 0;var v=o.create,N=o.inst;l=v(),N.destroy=l}o=o.next}while(o!==f)}}catch(O){ct(n,n.return,O)}}function fr(e,n,o){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&e)===e){var N=l.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,f=n;var B=o,J=O;try{J()}catch(oe){ct(f,B,oe)}}}l=l.next}while(l!==v)}}catch(oe){ct(n,n.return,oe)}}function Qg(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{qh(n,o)}catch(l){ct(e,e.return,l)}}}function Zg(e,n,o){o.props=to(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(l){ct(e,n,l)}}function el(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof o=="function"?e.refCleanup=o(l):o.current=l}}catch(f){ct(e,n,f)}}function ha(e,n){var o=e.ref,l=e.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){ct(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ct(e,n,f)}else o.current=null}function Jg(e){var n=e.type,o=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){ct(e,e.return,f)}}function Ud(e,n,o){try{var l=e.stateNode;D2(l,e.type,o,n),l[Be]=n}catch(f){ct(e,e.return,f)}}function ev(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xr(e.type)||e.tag===4}function Bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ev(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hd(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Ma));else if(l!==4&&(l===27&&xr(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Hd(e,n,o),e=e.sibling;e!==null;)Hd(e,n,o),e=e.sibling}function _i(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(l!==4&&(l===27&&xr(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(_i(e,n,o),e=e.sibling;e!==null;)_i(e,n,o),e=e.sibling}function tv(e){var n=e.stateNode,o=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Zt(n,l,o),n[_e]=e,n[Be]=o}catch(v){ct(e,e.return,v)}}var Ba=!1,Bt=!1,qd=!1,nv=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function c2(e,n){if(e=e.containerInfo,cf=Zi,e=ph(e),ku(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,v=l.focusNode;l=l.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var N=0,O=-1,B=-1,J=0,oe=0,le=e,ee=null;t:for(;;){for(var te;le!==o||f!==0&&le.nodeType!==3||(O=N+f),le!==v||l!==0&&le.nodeType!==3||(B=N+l),le.nodeType===3&&(N+=le.nodeValue.length),(te=le.firstChild)!==null;)ee=le,le=te;for(;;){if(le===e)break t;if(ee===o&&++J===f&&(O=N),ee===v&&++oe===l&&(B=N),(te=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=te}o=O===-1||B===-1?null:{start:O,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(uf={focusedElem:e,selectionRange:o},Zi=!1,Gt=n;Gt!==null;)if(n=Gt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Gt=e;else for(;Gt!==null;){switch(n=Gt,v=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,o=n,f=v.memoizedProps,v=v.memoizedState,l=o.stateNode;try{var Se=to(o.type,f);e=l.getSnapshotBeforeUpdate(Se,v),l.__reactInternalSnapshotBeforeUpdate=e}catch(Re){ct(o,o.return,Re)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)mf(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Gt=e;break}Gt=n.return}}function av(e,n,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:qa(e,o),l&4&&Js(5,o);break;case 1:if(qa(e,o),l&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(N){ct(o,o.return,N)}else{var f=to(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){ct(o,o.return,N)}}l&64&&Qg(o),l&512&&el(o,o.return);break;case 3:if(qa(e,o),l&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{qh(e,n)}catch(N){ct(o,o.return,N)}}break;case 27:n===null&&l&4&&tv(o);case 26:case 5:qa(e,o),n===null&&l&4&&Jg(o),l&512&&el(o,o.return);break;case 12:qa(e,o);break;case 31:qa(e,o),l&4&&sv(e,o);break;case 13:qa(e,o),l&4&&lv(e,o),l&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=y2.bind(null,o),U2(e,o))));break;case 22:if(l=o.memoizedState!==null||Ba,!l){n=n!==null&&n.memoizedState!==null||Bt,f=Ba;var v=Bt;Ba=l,(Bt=n)&&!v?Ia(e,o,(o.subtreeFlags&8772)!==0):qa(e,o),Ba=f,Bt=v}break;case 30:break;default:qa(e,o)}}function rv(e){var n=e.alternate;n!==null&&(e.alternate=null,rv(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&tr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ct=null,mn=!1;function Ha(e,n,o){for(o=o.child;o!==null;)ov(e,n,o),o=o.sibling}function ov(e,n,o){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(_n,o)}catch{}switch(o.tag){case 26:Bt||ha(o,n),Ha(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||ha(o,n);var l=Ct,f=mn;xr(o.type)&&(Ct=o.stateNode,mn=!1),Ha(e,n,o),cl(o.stateNode),Ct=l,mn=f;break;case 5:Bt||ha(o,n);case 6:if(l=Ct,f=mn,Ct=null,Ha(e,n,o),Ct=l,mn=f,Ct!==null)if(mn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(o.stateNode)}catch(v){ct(o,n,v)}else try{Ct.removeChild(o.stateNode)}catch(v){ct(o,n,v)}break;case 18:Ct!==null&&(mn?(e=Ct,Qv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Zo(e)):Qv(Ct,o.stateNode));break;case 4:l=Ct,f=mn,Ct=o.stateNode.containerInfo,mn=!0,Ha(e,n,o),Ct=l,mn=f;break;case 0:case 11:case 14:case 15:fr(2,o,n),Bt||fr(4,o,n),Ha(e,n,o);break;case 1:Bt||(ha(o,n),l=o.stateNode,typeof l.componentWillUnmount=="function"&&Zg(o,n,l)),Ha(e,n,o);break;case 21:Ha(e,n,o);break;case 22:Bt=(l=Bt)||o.memoizedState!==null,Ha(e,n,o),Bt=l;break;default:Ha(e,n,o)}}function sv(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zo(e)}catch(o){ct(n,n.return,o)}}}function lv(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zo(e)}catch(o){ct(n,n.return,o)}}function u2(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new nv),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new nv),n;default:throw Error(s(435,e.tag))}}function Ai(e,n){var o=u2(e);n.forEach(function(l){if(!o.has(l)){o.add(l);var f=x2.bind(null,e,l);l.then(f,f)}})}function pn(e,n){var o=n.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],v=e,N=n,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(xr(O.type)){Ct=O.stateNode,mn=!1;break e}break;case 5:Ct=O.stateNode,mn=!1;break e;case 3:case 4:Ct=O.stateNode.containerInfo,mn=!0;break e}O=O.return}if(Ct===null)throw Error(s(160));ov(v,N,f),Ct=null,mn=!1,v=f.alternate,v!==null&&(v.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)iv(n,e),n=n.sibling}var ta=null;function iv(e,n){var o=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(n,e),hn(e),l&4&&(fr(3,e,e.return),Js(3,e),fr(5,e,e.return));break;case 1:pn(n,e),hn(e),l&512&&(Bt||o===null||ha(o,o.return)),l&64&&Ba&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=ta;if(pn(n,e),hn(e),l&512&&(Bt||o===null||ha(o,o.return)),l&4){var v=o!==null?o.memoizedState:null;if(l=e.memoizedState,o===null)if(l===null)if(e.stateNode===null){e:{l=e.type,o=e.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":v=f.getElementsByTagName("title")[0],(!v||v[Zn]||v[_e]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=f.createElement(l),f.head.insertBefore(v,f.querySelector("head > title"))),Zt(v,l,o),v[_e]=e,jt(v),l=v;break e;case"link":var N=iy("link","href",f).get(l+(o.href||""));if(N){for(var O=0;O<N.length;O++)if(v=N[O],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(O,1);break t}}v=f.createElement(l),Zt(v,l,o),f.head.appendChild(v);break;case"meta":if(N=iy("meta","content",f).get(l+(o.content||""))){for(O=0;O<N.length;O++)if(v=N[O],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(O,1);break t}}v=f.createElement(l),Zt(v,l,o),f.head.appendChild(v);break;default:throw Error(s(468,l))}v[_e]=e,jt(v),l=v}e.stateNode=l}else cy(f,e.type,e.stateNode);else e.stateNode=ly(f,l,e.memoizedProps);else v!==l?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,l===null?cy(f,e.type,e.stateNode):ly(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ud(e,e.memoizedProps,o.memoizedProps)}break;case 27:pn(n,e),hn(e),l&512&&(Bt||o===null||ha(o,o.return)),o!==null&&l&4&&Ud(e,e.memoizedProps,o.memoizedProps);break;case 5:if(pn(n,e),hn(e),l&512&&(Bt||o===null||ha(o,o.return)),e.flags&32){f=e.stateNode;try{So(f,"")}catch(Se){ct(e,e.return,Se)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Ud(e,f,o!==null?o.memoizedProps:f)),l&1024&&(qd=!0);break;case 6:if(pn(n,e),hn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,o=e.stateNode;try{o.nodeValue=l}catch(Se){ct(e,e.return,Se)}}break;case 3:if(Xi=null,f=ta,ta=Vi(n.containerInfo),pn(n,e),ta=f,hn(e),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Zo(n.containerInfo)}catch(Se){ct(e,e.return,Se)}qd&&(qd=!1,cv(e));break;case 4:l=ta,ta=Vi(e.stateNode.containerInfo),pn(n,e),hn(e),ta=l;break;case 12:pn(n,e),hn(e);break;case 31:pn(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ai(e,l)));break;case 13:pn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ki=kt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ai(e,l)));break;case 22:f=e.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,J=Ba,oe=Bt;if(Ba=J||f,Bt=oe||B,pn(n,e),Bt=oe,Ba=J,hn(e),l&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(o===null||B||Ba||Bt||no(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){B=o=n;try{if(v=B.stateNode,f)N=v.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=B.stateNode;var le=B.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;O.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Se){ct(B,B.return,Se)}}}else if(n.tag===6){if(o===null){B=n;try{B.stateNode.nodeValue=f?"":B.memoizedProps}catch(Se){ct(B,B.return,Se)}}}else if(n.tag===18){if(o===null){B=n;try{var te=B.stateNode;f?Zv(te,!0):Zv(B.stateNode,!1)}catch(Se){ct(B,B.return,Se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,Ai(e,o))));break;case 19:pn(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ai(e,l)));break;case 30:break;case 21:break;default:pn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var o,l=e.return;l!==null;){if(ev(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,v=Bd(e);_i(e,v,f);break;case 5:var N=o.stateNode;o.flags&32&&(So(N,""),o.flags&=-33);var O=Bd(e);_i(e,O,N);break;case 3:case 4:var B=o.stateNode.containerInfo,J=Bd(e);Hd(e,J,B);break;default:throw Error(s(161))}}catch(oe){ct(e,e.return,oe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)av(e,n.alternate,n),n=n.sibling}function no(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:fr(4,n,n.return),no(n);break;case 1:ha(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Zg(n,n.return,o),no(n);break;case 27:cl(n.stateNode);case 26:case 5:ha(n,n.return),no(n);break;case 22:n.memoizedState===null&&no(n);break;case 30:no(n);break;default:no(n)}e=e.sibling}}function Ia(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,v=n,N=v.flags;switch(v.tag){case 0:case 11:case 15:Ia(f,v,o),Js(4,v);break;case 1:if(Ia(f,v,o),l=v,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){ct(l,l.return,J)}if(l=v,f=l.updateQueue,f!==null){var O=l.stateNode;try{var B=f.shared.hiddenCallbacks;if(B!==null)for(f.shared.hiddenCallbacks=null,f=0;f<B.length;f++)Hh(B[f],O)}catch(J){ct(l,l.return,J)}}o&&N&64&&Qg(v),el(v,v.return);break;case 27:tv(v);case 26:case 5:Ia(f,v,o),o&&l===null&&N&4&&Jg(v),el(v,v.return);break;case 12:Ia(f,v,o);break;case 31:Ia(f,v,o),o&&N&4&&sv(f,v);break;case 13:Ia(f,v,o),o&&N&4&&lv(f,v);break;case 22:v.memoizedState===null&&Ia(f,v,o),el(v,v.return);break;case 30:break;default:Ia(f,v,o)}n=n.sibling}}function Id(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Hs(o))}function $d(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hs(e))}function na(e,n,o,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uv(e,n,o,l),n=n.sibling}function uv(e,n,o,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:na(e,n,o,l),f&2048&&Js(9,n);break;case 1:na(e,n,o,l);break;case 3:na(e,n,o,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hs(e)));break;case 12:if(f&2048){na(e,n,o,l),e=n.stateNode;try{var v=n.memoizedProps,N=v.id,O=v.onPostCommit;typeof O=="function"&&O(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(B){ct(n,n.return,B)}}else na(e,n,o,l);break;case 31:na(e,n,o,l);break;case 13:na(e,n,o,l);break;case 23:break;case 22:v=n.stateNode,N=n.alternate,n.memoizedState!==null?v._visibility&2?na(e,n,o,l):tl(e,n):v._visibility&2?na(e,n,o,l):(v._visibility|=2,qo(e,n,o,l,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Id(N,n);break;case 24:na(e,n,o,l),f&2048&&$d(n.alternate,n);break;default:na(e,n,o,l)}}function qo(e,n,o,l,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var v=e,N=n,O=o,B=l,J=N.flags;switch(N.tag){case 0:case 11:case 15:qo(v,N,O,B,f),Js(8,N);break;case 23:break;case 22:var oe=N.stateNode;N.memoizedState!==null?oe._visibility&2?qo(v,N,O,B,f):tl(v,N):(oe._visibility|=2,qo(v,N,O,B,f)),f&&J&2048&&Id(N.alternate,N);break;case 24:qo(v,N,O,B,f),f&&J&2048&&$d(N.alternate,N);break;default:qo(v,N,O,B,f)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,l=n,f=l.flags;switch(l.tag){case 22:tl(o,l),f&2048&&Id(l.alternate,l);break;case 24:tl(o,l),f&2048&&$d(l.alternate,l);break;default:tl(o,l)}n=n.sibling}}var nl=8192;function Io(e,n,o){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)dv(e,n,o),e=e.sibling}function dv(e,n,o){switch(e.tag){case 26:Io(e,n,o),e.flags&nl&&e.memoizedState!==null&&W2(o,ta,e.memoizedState,e.memoizedProps);break;case 5:Io(e,n,o);break;case 3:case 4:var l=ta;ta=Vi(e.stateNode.containerInfo),Io(e,n,o),ta=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=nl,nl=16777216,Io(e,n,o),nl=l):Io(e,n,o));break;default:Io(e,n,o)}}function fv(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];Gt=l,pv(l,e)}fv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mv(e),e=e.sibling}function mv(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&fr(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Oi(e)):al(e);break;default:al(e)}}function Oi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];Gt=l,pv(l,e)}fv(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:fr(8,n,n.return),Oi(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Oi(n));break;default:Oi(n)}e=e.sibling}}function pv(e,n){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:fr(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hs(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Gt=l;else e:for(o=e;Gt!==null;){l=Gt;var f=l.sibling,v=l.return;if(rv(l),l===o){Gt=null;break e}if(f!==null){f.return=v,Gt=f;break e}Gt=v}}}var d2={getCacheForType:function(e){var n=Wt(Lt),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return Wt(Lt).controller.signal}},f2=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Fe=null,Ge=0,it=0,Nn=null,mr=!1,$o=!1,Fd=!1,$a=0,Rt=0,pr=0,ao=0,Yd=0,jn=0,Fo=0,rl=null,gn=null,Vd=!1,ki=0,hv=0,zi=1/0,Li=null,hr=null,qt=0,gr=null,Yo=null,Fa=0,Gd=0,Xd=null,gv=null,ol=0,Kd=null;function Tn(){return(ot&2)!==0&&Ge!==0?Ge&-Ge:L.T!==null?tf():Te()}function vv(){if(jn===0)if((Ge&536870912)===0||Qe){var e=Ta;Ta<<=1,(Ta&3932160)===0&&(Ta=262144),jn=e}else jn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),jn}function vn(e,n,o){(e===vt&&(it===2||it===9)||e.cancelPendingCommit!==null)&&(Vo(e,0),vr(e,Ge,jn,!1)),Dt(e,o),((ot&2)===0||e!==vt)&&(e===vt&&((ot&2)===0&&(ao|=o),Rt===4&&vr(e,Ge,jn,!1)),ga(e))}function yv(e,n,o){if((ot&6)!==0)throw Error(s(327));var l=!o&&(n&127)===0&&(n&e.expiredLanes)===0||Ze(e,n),f=l?h2(e,n):Qd(e,n,!0),v=l;do{if(f===0){$o&&!l&&vr(e,n,0,!1);break}else{if(o=e.current.alternate,v&&!m2(o)){f=Qd(e,n,!1),v=!1;continue}if(f===2){if(v=n,e.errorRecoveryDisabledLanes&v)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var O=e;f=rl;var B=O.current.memoizedState.isDehydrated;if(B&&(Vo(O,N).flags|=256),N=Qd(O,N,!1),N!==2){if(Fd&&!B){O.errorRecoveryDisabledLanes|=v,ao|=v,f=4;break e}v=gn,gn=f,v!==null&&(gn===null?gn=v:gn.push.apply(gn,v))}f=N}if(v=!1,f!==2)continue}}if(f===1){Vo(e,0),vr(e,n,0,!0);break}e:{switch(l=e,v=f,v){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:vr(l,n,jn,!mr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=ki+300-kt(),10<f)){if(vr(l,n,jn,!mr),gt(l,0,!0)!==0)break e;Fa=n,l.timeoutHandle=Kv(xv.bind(null,l,o,gn,Li,Vd,n,jn,ao,Fo,mr,v,"Throttled",-0,0),f);break e}xv(l,o,gn,Li,Vd,n,jn,ao,Fo,mr,v,null,-0,0)}}break}while(!0);ga(e)}function xv(e,n,o,l,f,v,N,O,B,J,oe,le,ee,te){if(e.timeoutHandle=-1,le=n.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ma},dv(n,v,le);var Se=(v&62914560)===v?ki-kt():(v&4194048)===v?hv-kt():0;if(Se=Q2(le,Se),Se!==null){Fa=v,e.cancelPendingCommit=Se(Tv.bind(null,e,n,v,o,l,f,N,O,B,oe,le,null,ee,te)),vr(e,v,N,!J);return}}Tv(e,n,v,o,l,f,N,O,B)}function m2(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],v=f.getSnapshot;f=f.value;try{if(!Sn(v(),f))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vr(e,n,o,l){n&=~Yd,n&=~ao,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var v=31-yt(f),N=1<<v;l[v]=-1,f&=~N}o!==0&&on(e,o,n)}function Pi(){return(ot&6)===0?(sl(0),!1):!0}function Wd(){if(Fe!==null){if(it===0)var e=Fe.return;else e=Fe,Oa=Xr=null,fd(e),Lo=null,Is=0,e=Fe;for(;e!==null;)Wg(e.alternate,e),e=e.return;Fe=null}}function Vo(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,O2(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Fa=0,Wd(),vt=e,Fe=o=_a(e.current,null),Ge=n,it=0,Nn=null,mr=!1,$o=Ze(e,n),Fd=!1,Fo=jn=Yd=ao=pr=Rt=0,gn=rl=null,Vd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-yt(l),v=1<<f;n|=e[f],l&=~v}return $a=n,ri(),o}function bv(e,n){Pe=null,L.H=Ws,n===zo||n===fi?(n=Lh(),it=3):n===ed?(n=Lh(),it=4):it=n===Rd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Fe===null&&(Rt=1,ji(e,Ln(n,e.current)))}function Sv(){var e=Cn.current;return e===null?!0:(Ge&4194048)===Ge?Hn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Hn:!1}function wv(){var e=L.H;return L.H=Ws,e===null?Ws:e}function Cv(){var e=L.A;return L.A=d2,e}function Ui(){Rt=4,mr||(Ge&4194048)!==Ge&&Cn.current!==null||($o=!0),(pr&134217727)===0&&(ao&134217727)===0||vt===null||vr(vt,Ge,jn,!1)}function Qd(e,n,o){var l=ot;ot|=2;var f=wv(),v=Cv();(vt!==e||Ge!==n)&&(Li=null,Vo(e,n)),n=!1;var N=Rt;e:do try{if(it!==0&&Fe!==null){var O=Fe,B=Nn;switch(it){case 8:Wd(),N=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var J=it;if(it=0,Nn=null,Go(e,O,B,J),o&&$o){N=0;break e}break;default:J=it,it=0,Nn=null,Go(e,O,B,J)}}p2(),N=Rt;break}catch(oe){bv(e,oe)}while(!0);return n&&e.shellSuspendCounter++,Oa=Xr=null,ot=l,L.H=f,L.A=v,Fe===null&&(vt=null,Ge=0,ri()),N}function p2(){for(;Fe!==null;)Ev(Fe)}function h2(e,n){var o=ot;ot|=2;var l=wv(),f=Cv();vt!==e||Ge!==n?(Li=null,zi=kt()+500,Vo(e,n)):$o=Ze(e,n);e:do try{if(it!==0&&Fe!==null){n=Fe;var v=Nn;t:switch(it){case 1:it=0,Nn=null,Go(e,n,v,1);break;case 2:case 9:if(kh(v)){it=0,Nn=null,Nv(n);break}n=function(){it!==2&&it!==9||vt!==e||(it=7),ga(e)},v.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:kh(v)?(it=0,Nn=null,Nv(n)):(it=0,Nn=null,Go(e,n,v,7));break;case 5:var N=null;switch(Fe.tag){case 26:N=Fe.memoizedState;case 5:case 27:var O=Fe;if(N?uy(N):O.stateNode.complete){it=0,Nn=null;var B=O.sibling;if(B!==null)Fe=B;else{var J=O.return;J!==null?(Fe=J,Bi(J)):Fe=null}break t}}it=0,Nn=null,Go(e,n,v,5);break;case 6:it=0,Nn=null,Go(e,n,v,6);break;case 8:Wd(),Rt=6;break e;default:throw Error(s(462))}}g2();break}catch(oe){bv(e,oe)}while(!0);return Oa=Xr=null,L.H=l,L.A=f,ot=o,Fe!==null?0:(vt=null,Ge=0,ri(),Rt)}function g2(){for(;Fe!==null&&!Nt();)Ev(Fe)}function Ev(e){var n=Xg(e.alternate,e,$a);e.memoizedProps=e.pendingProps,n===null?Bi(e):Fe=n}function Nv(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Ig(o,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=Ig(o,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:fd(n);default:Wg(o,n),n=Fe=Ch(n,$a),n=Xg(o,n,$a)}e.memoizedProps=e.pendingProps,n===null?Bi(e):Fe=n}function Go(e,n,o,l){Oa=Xr=null,fd(n),Lo=null,Is=0;var f=n.return;try{if(r2(e,f,n,o,Ge)){Rt=1,ji(e,Ln(o,e.current)),Fe=null;return}}catch(v){if(f!==null)throw Fe=f,v;Rt=1,ji(e,Ln(o,e.current)),Fe=null;return}n.flags&32768?(Qe||l===1?e=!0:$o||(Ge&536870912)!==0?e=!1:(mr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jv(n,e)):Bi(n)}function Bi(e){var n=e;do{if((n.flags&32768)!==0){jv(n,mr);return}e=n.return;var o=l2(n.alternate,n,$a);if(o!==null){Fe=o;return}if(n=n.sibling,n!==null){Fe=n;return}Fe=n=e}while(n!==null);Rt===0&&(Rt=5)}function jv(e,n){do{var o=i2(e.alternate,e);if(o!==null){o.flags&=32767,Fe=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=o}while(e!==null);Rt=6,Fe=null}function Tv(e,n,o,l,f,v,N,O,B){e.cancelPendingCommit=null;do Hi();while(qt!==0);if((ot&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(v=n.lanes|n.childLanes,v|=Bu,dn(e,o,v,N,O,B),e===vt&&(Fe=vt=null,Ge=0),Yo=n,gr=e,Fa=o,Gd=v,Xd=f,gv=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,b2($t,function(){return Av(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,f=H.p,H.p=2,N=ot,ot|=4;try{c2(e,n,o)}finally{ot=N,H.p=f,L.T=l}}qt=1,Rv(),Mv(),Dv()}}function Rv(){if(qt===1){qt=0;var e=gr,n=Yo,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var l=H.p;H.p=2;var f=ot;ot|=4;try{iv(n,e);var v=uf,N=ph(e.containerInfo),O=v.focusedElem,B=v.selectionRange;if(N!==O&&O&&O.ownerDocument&&mh(O.ownerDocument.documentElement,O)){if(B!==null&&ku(O)){var J=B.start,oe=B.end;if(oe===void 0&&(oe=J),"selectionStart"in O)O.selectionStart=J,O.selectionEnd=Math.min(oe,O.value.length);else{var le=O.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Se=O.textContent.length,Re=Math.min(B.start,Se),ht=B.end===void 0?Re:Math.min(B.end,Se);!te.extend&&Re>ht&&(N=ht,ht=Re,Re=N);var K=fh(O,Re),F=fh(O,ht);if(K&&F&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var Z=le.createRange();Z.setStart(K.node,K.offset),te.removeAllRanges(),Re>ht?(te.addRange(Z),te.extend(F.node,F.offset)):(Z.setEnd(F.node,F.offset),te.addRange(Z))}}}}for(le=[],te=O;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<le.length;O++){var se=le[O];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Zi=!!cf,uf=cf=null}finally{ot=f,H.p=l,L.T=o}}e.current=n,qt=2}}function Mv(){if(qt===2){qt=0;var e=gr,n=Yo,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var l=H.p;H.p=2;var f=ot;ot|=4;try{av(e,n.alternate,n)}finally{ot=f,H.p=l,L.T=o}}qt=3}}function Dv(){if(qt===4||qt===3){qt=0,tn();var e=gr,n=Yo,o=Fa,l=gv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qt=5:(qt=0,Yo=gr=null,_v(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(hr=null),ze(o),n=n.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(_n,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,f=H.p,H.p=2,L.T=null;try{for(var v=e.onRecoverableError,N=0;N<l.length;N++){var O=l[N];v(O.value,{componentStack:O.stack})}}finally{L.T=n,H.p=f}}(Fa&3)!==0&&Hi(),ga(e),f=e.pendingLanes,(o&261930)!==0&&(f&42)!==0?e===Kd?ol++:(ol=0,Kd=e):ol=0,sl(0)}}function _v(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Hs(n)))}function Hi(){return Rv(),Mv(),Dv(),Av()}function Av(){if(qt!==5)return!1;var e=gr,n=Gd;Gd=0;var o=ze(Fa),l=L.T,f=H.p;try{H.p=32>o?32:o,L.T=null,o=Xd,Xd=null;var v=gr,N=Fa;if(qt=0,Yo=gr=null,Fa=0,(ot&6)!==0)throw Error(s(331));var O=ot;if(ot|=4,mv(v.current),uv(v,v.current,N,o),ot=O,sl(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(_n,v)}catch{}return!0}finally{H.p=f,L.T=l,_v(e,n)}}function Ov(e,n,o){n=Ln(o,n),n=Td(e.stateNode,n,2),e=cr(e,n,2),e!==null&&(Dt(e,2),ga(e))}function ct(e,n,o){if(e.tag===3)Ov(e,e,o);else for(;n!==null;){if(n.tag===3){Ov(n,e,o);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){e=Ln(o,e),o=kg(2),l=cr(n,o,2),l!==null&&(zg(o,l,n,e),Dt(l,2),ga(l));break}}n=n.return}}function Zd(e,n,o){var l=e.pingCache;if(l===null){l=e.pingCache=new f2;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(o)||(Fd=!0,f.add(o),e=v2.bind(null,e,n,o),n.then(e,e))}function v2(e,n,o){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,vt===e&&(Ge&o)===o&&(Rt===4||Rt===3&&(Ge&62914560)===Ge&&300>kt()-ki?(ot&2)===0&&Vo(e,0):Yd|=o,Fo===Ge&&(Fo=0)),ga(e)}function kv(e,n){n===0&&(n=Ft()),e=Yr(e,n),e!==null&&(Dt(e,n),ga(e))}function y2(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),kv(e,o)}function x2(e,n){var o=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),kv(e,o)}function b2(e,n){return tt(e,n)}var qi=null,Xo=null,Jd=!1,Ii=!1,ef=!1,yr=0;function ga(e){e!==Xo&&e.next===null&&(Xo===null?qi=Xo=e:Xo=Xo.next=e),Ii=!0,Jd||(Jd=!0,w2())}function sl(e,n){if(!ef&&Ii){ef=!0;do for(var o=!1,l=qi;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var v=0;else{var N=l.suspendedLanes,O=l.pingedLanes;v=(1<<31-yt(42|e)+1)-1,v&=f&~(N&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Uv(l,v))}else v=Ge,v=gt(l,l===vt?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(v&3)===0||Ze(l,v)||(o=!0,Uv(l,v));l=l.next}while(o);ef=!1}}function S2(){zv()}function zv(){Ii=Jd=!1;var e=0;yr!==0&&A2()&&(e=yr);for(var n=kt(),o=null,l=qi;l!==null;){var f=l.next,v=Lv(l,n);v===0?(l.next=null,o===null?qi=f:o.next=f,f===null&&(Xo=o)):(o=l,(e!==0||(v&3)!==0)&&(Ii=!0)),l=f}qt!==0&&qt!==5||sl(e),yr!==0&&(yr=0)}function Lv(e,n){for(var o=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var N=31-yt(v),O=1<<N,B=f[N];B===-1?((O&o)===0||(O&l)!==0)&&(f[N]=zt(O,n)):B<=n&&(e.expiredLanes|=O),v&=~O}if(n=vt,o=Ge,o=gt(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,o===0||e===n&&(it===2||it===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Mt(l),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Ze(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(l!==null&&Mt(l),ze(o)){case 2:case 8:o=xn;break;case 32:o=$t;break;case 268435456:o=Kn;break;default:o=$t}return l=Pv.bind(null,e),o=tt(o,l),e.callbackPriority=n,e.callbackNode=o,n}return l!==null&&l!==null&&Mt(l),e.callbackPriority=2,e.callbackNode=null,2}function Pv(e,n){if(qt!==0&&qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Hi()&&e.callbackNode!==o)return null;var l=Ge;return l=gt(e,e===vt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yv(e,l,n),Lv(e,kt()),e.callbackNode!=null&&e.callbackNode===o?Pv.bind(null,e):null)}function Uv(e,n){if(Hi())return null;yv(e,n,!0)}function w2(){k2(function(){(ot&6)!==0?tt(Xn,S2):zv()})}function tf(){if(yr===0){var e=Oo;e===0&&(e=bn,bn<<=1,(bn&261888)===0&&(bn=256)),yr=e}return yr}function Bv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wl(""+e)}function Hv(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function C2(e,n,o,l,f){if(n==="submit"&&o&&o.stateNode===f){var v=Bv((f[Be]||null).action),N=l.submitter;N&&(n=(n=N[Be]||null)?Bv(n.formAction):N.getAttribute("formAction"),n!==null&&(v=n,N=null));var O=new ei("action","action",null,l,f);e.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yr!==0){var B=N?Hv(f,N):new FormData(f);Sd(o,{pending:!0,data:B,method:f.method,action:v},null,B)}}else typeof v=="function"&&(O.preventDefault(),B=N?Hv(f,N):new FormData(f),Sd(o,{pending:!0,data:B,method:f.method,action:v},v,B))},currentTarget:f}]})}}for(var nf=0;nf<Uu.length;nf++){var af=Uu[nf],E2=af.toLowerCase(),N2=af[0].toUpperCase()+af.slice(1);ea(E2,"on"+N2)}ea(vh,"onAnimationEnd"),ea(yh,"onAnimationIteration"),ea(xh,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(qC,"onTransitionRun"),ea(IC,"onTransitionStart"),ea($C,"onTransitionCancel"),ea(bh,"onTransitionEnd"),xo("onMouseEnter",["mouseout","mouseover"]),xo("onMouseLeave",["mouseout","mouseover"]),xo("onPointerEnter",["pointerout","pointerover"]),xo("onPointerLeave",["pointerout","pointerover"]),qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function qv(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var l=e[o],f=l.event;l=l.listeners;e:{var v=void 0;if(n)for(var N=l.length-1;0<=N;N--){var O=l[N],B=O.instance,J=O.currentTarget;if(O=O.listener,B!==v&&f.isPropagationStopped())break e;v=O,f.currentTarget=J;try{v(f)}catch(oe){ai(oe)}f.currentTarget=null,v=B}else for(N=0;N<l.length;N++){if(O=l[N],B=O.instance,J=O.currentTarget,O=O.listener,B!==v&&f.isPropagationStopped())break e;v=O,f.currentTarget=J;try{v(f)}catch(oe){ai(oe)}f.currentTarget=null,v=B}}}}function Ye(e,n){var o=n[ft];o===void 0&&(o=n[ft]=new Set);var l=e+"__bubble";o.has(l)||(Iv(n,e,2,!1),o.add(l))}function rf(e,n,o){var l=0;n&&(l|=4),Iv(o,e,l,n)}var $i="_reactListening"+Math.random().toString(36).slice(2);function of(e){if(!e[$i]){e[$i]=!0,zp.forEach(function(o){o!=="selectionchange"&&(j2.has(o)||rf(o,!1,e),rf(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[$i]||(n[$i]=!0,rf("selectionchange",!1,n))}}function Iv(e,n,o,l){switch(vy(n)){case 2:var f=eE;break;case 8:f=tE;break;default:f=Sf}o=f.bind(null,n,o,e),f=void 0,!Nu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,o,{capture:!0,passive:f}):e.addEventListener(n,o,!0):f!==void 0?e.addEventListener(n,o,{passive:f}):e.addEventListener(n,o,!1)}function sf(e,n,o,l,f){var v=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var N=l.tag;if(N===3||N===4){var O=l.stateNode.containerInfo;if(O===f)break;if(N===4)for(N=l.return;N!==null;){var B=N.tag;if((B===3||B===4)&&N.stateNode.containerInfo===f)return;N=N.return}for(;O!==null;){if(N=lt(O),N===null)return;if(B=N.tag,B===5||B===6||B===26||B===27){l=v=N;continue e}O=O.parentNode}}l=l.return}Gp(function(){var J=v,oe=Cu(o),le=[];e:{var ee=Sh.get(e);if(ee!==void 0){var te=ei,Se=e;switch(e){case"keypress":if(Zl(o)===0)break e;case"keydown":case"keyup":te=xC;break;case"focusin":Se="focus",te=Mu;break;case"focusout":Se="blur",te=Mu;break;case"beforeblur":case"afterblur":te=Mu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=lC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=wC;break;case vh:case yh:case xh:te=uC;break;case bh:te=EC;break;case"scroll":case"scrollend":te=oC;break;case"wheel":te=jC;break;case"copy":case"cut":case"paste":te=fC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Zp;break;case"toggle":case"beforetoggle":te=RC}var Re=(n&4)!==0,ht=!Re&&(e==="scroll"||e==="scrollend"),K=Re?ee!==null?ee+"Capture":null:ee;Re=[];for(var F=J,Z;F!==null;){var se=F;if(Z=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Z===null||K===null||(se=Ms(F,K),se!=null&&Re.push(il(F,se,Z))),ht)break;F=F.return}0<Re.length&&(ee=new te(ee,Se,null,o,oe),le.push({event:ee,listeners:Re}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",ee&&o!==wu&&(Se=o.relatedTarget||o.fromElement)&&(lt(Se)||Se[xt]))break e;if((te||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Se=o.relatedTarget||o.toElement,te=J,Se=Se?lt(Se):null,Se!==null&&(ht=u(Se),Re=Se.tag,Se!==ht||Re!==5&&Re!==27&&Re!==6)&&(Se=null)):(te=null,Se=J),te!==Se)){if(Re=Wp,se="onMouseLeave",K="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(Re=Zp,se="onPointerLeave",K="onPointerEnter",F="pointer"),ht=te==null?ee:fa(te),Z=Se==null?ee:fa(Se),ee=new Re(se,F+"leave",te,o,oe),ee.target=ht,ee.relatedTarget=Z,se=null,lt(oe)===J&&(Re=new Re(K,F+"enter",Se,o,oe),Re.target=Z,Re.relatedTarget=ht,se=Re),ht=se,te&&Se)t:{for(Re=T2,K=te,F=Se,Z=0,se=K;se;se=Re(se))Z++;se=0;for(var je=F;je;je=Re(je))se++;for(;0<Z-se;)K=Re(K),Z--;for(;0<se-Z;)F=Re(F),se--;for(;Z--;){if(K===F||F!==null&&K===F.alternate){Re=K;break t}K=Re(K),F=Re(F)}Re=null}else Re=null;te!==null&&$v(le,ee,te,Re,!1),Se!==null&&ht!==null&&$v(le,ht,Se,Re,!0)}}e:{if(ee=J?fa(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var nt=sh;else if(rh(ee))if(lh)nt=UC;else{nt=LC;var Ne=zC}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Su(J.elementType)&&(nt=sh):nt=PC;if(nt&&(nt=nt(e,J))){oh(le,nt,o,oe);break e}Ne&&Ne(e,ee,J),e==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&bu(ee,"number",ee.value)}switch(Ne=J?fa(J):window,e){case"focusin":(rh(Ne)||Ne.contentEditable==="true")&&(No=Ne,zu=J,Ps=null);break;case"focusout":Ps=zu=No=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,hh(le,o,oe);break;case"selectionchange":if(HC)break;case"keydown":case"keyup":hh(le,o,oe)}var Ue;if(_u)e:{switch(e){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Eo?nh(e,o)&&(Xe="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Xe="onCompositionStart");Xe&&(Jp&&o.locale!=="ko"&&(Eo||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Eo&&(Ue=Xp()):(nr=oe,ju="value"in nr?nr.value:nr.textContent,Eo=!0)),Ne=Fi(J,Xe),0<Ne.length&&(Xe=new Qp(Xe,e,null,o,oe),le.push({event:Xe,listeners:Ne}),Ue?Xe.data=Ue:(Ue=ah(o),Ue!==null&&(Xe.data=Ue)))),(Ue=DC?_C(e,o):AC(e,o))&&(Xe=Fi(J,"onBeforeInput"),0<Xe.length&&(Ne=new Qp("onBeforeInput","beforeinput",null,o,oe),le.push({event:Ne,listeners:Xe}),Ne.data=Ue)),C2(le,e,J,o,oe)}qv(le,n)})}function il(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Fi(e,n){for(var o=n+"Capture",l=[];e!==null;){var f=e,v=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||v===null||(f=Ms(e,o),f!=null&&l.unshift(il(e,f,v)),f=Ms(e,n),f!=null&&l.push(il(e,f,v))),e.tag===3)return l;e=e.return}return[]}function T2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $v(e,n,o,l,f){for(var v=n._reactName,N=[];o!==null&&o!==l;){var O=o,B=O.alternate,J=O.stateNode;if(O=O.tag,B!==null&&B===l)break;O!==5&&O!==26&&O!==27||J===null||(B=J,f?(J=Ms(o,v),J!=null&&N.unshift(il(o,J,B))):f||(J=Ms(o,v),J!=null&&N.push(il(o,J,B)))),o=o.return}N.length!==0&&e.push({event:n,listeners:N})}var R2=/\r\n?/g,M2=/\u0000|\uFFFD/g;function Fv(e){return(typeof e=="string"?e:""+e).replace(R2,`
`).replace(M2,"")}function Yv(e,n){return n=Fv(n),Fv(e)===n}function pt(e,n,o,l,f,v){switch(o){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||So(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&So(e,""+l);break;case"className":Xl(e,"class",l);break;case"tabIndex":Xl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(e,o,l);break;case"style":Yp(e,l,v);break;case"data":if(n!=="object"){Xl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(o);break}l=Wl(""+l),e.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(n!=="input"&&pt(e,n,"name",f.name,f,null),pt(e,n,"formEncType",f.formEncType,f,null),pt(e,n,"formMethod",f.formMethod,f,null),pt(e,n,"formTarget",f.formTarget,f,null)):(pt(e,n,"encType",f.encType,f,null),pt(e,n,"method",f.method,f,null),pt(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(o);break}l=Wl(""+l),e.setAttribute(o,l);break;case"onClick":l!=null&&(e.onclick=Ma);break;case"onScroll":l!=null&&Ye("scroll",e);break;case"onScrollEnd":l!=null&&Ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}o=Wl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(o,""+l):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":l===!0?e.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(o,l):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(o,l):e.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(o):e.setAttribute(o,l);break;case"popover":Ye("beforetoggle",e),Ye("toggle",e),Gl(e,"popover",l);break;case"xlinkActuate":Ra(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ra(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ra(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ra(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ra(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ra(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=aC.get(o)||o,Gl(e,o,l))}}function lf(e,n,o,l,f,v){switch(o){case"style":Yp(e,l,v);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof l=="string"?So(e,l):(typeof l=="number"||typeof l=="bigint")&&So(e,""+l);break;case"onScroll":l!=null&&Ye("scroll",e);break;case"onScrollEnd":l!=null&&Ye("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lp.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),n=o.slice(2,f?o.length-7:void 0),v=e[Be]||null,v=v!=null?v[o]:null,typeof v=="function"&&e.removeEventListener(n,v,f),typeof l=="function")){typeof v!="function"&&v!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,l,f);break e}o in e?e[o]=l:l===!0?e.setAttribute(o,""):Gl(e,o,l)}}}function Zt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",e),Ye("load",e);var l=!1,f=!1,v;for(v in o)if(o.hasOwnProperty(v)){var N=o[v];if(N!=null)switch(v){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:pt(e,n,v,N,o,null)}}f&&pt(e,n,"srcSet",o.srcSet,o,null),l&&pt(e,n,"src",o.src,o,null);return;case"input":Ye("invalid",e);var O=v=N=f=null,B=null,J=null;for(l in o)if(o.hasOwnProperty(l)){var oe=o[l];if(oe!=null)switch(l){case"name":f=oe;break;case"type":N=oe;break;case"checked":B=oe;break;case"defaultChecked":J=oe;break;case"value":v=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,n));break;default:pt(e,n,l,oe,o,null)}}qp(e,v,O,B,J,N,f,!1);return;case"select":Ye("invalid",e),l=N=v=null;for(f in o)if(o.hasOwnProperty(f)&&(O=o[f],O!=null))switch(f){case"value":v=O;break;case"defaultValue":N=O;break;case"multiple":l=O;default:pt(e,n,f,O,o,null)}n=v,o=N,e.multiple=!!l,n!=null?bo(e,!!l,n,!1):o!=null&&bo(e,!!l,o,!0);return;case"textarea":Ye("invalid",e),v=f=l=null;for(N in o)if(o.hasOwnProperty(N)&&(O=o[N],O!=null))switch(N){case"value":l=O;break;case"defaultValue":f=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:pt(e,n,N,O,o,null)}$p(e,l,f,v);return;case"option":for(B in o)o.hasOwnProperty(B)&&(l=o[B],l!=null)&&(B==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":pt(e,n,B,l,o,null));return;case"dialog":Ye("beforetoggle",e),Ye("toggle",e),Ye("cancel",e),Ye("close",e);break;case"iframe":case"object":Ye("load",e);break;case"video":case"audio":for(l=0;l<ll.length;l++)Ye(ll[l],e);break;case"image":Ye("error",e),Ye("load",e);break;case"details":Ye("toggle",e);break;case"embed":case"source":case"link":Ye("error",e),Ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(l=o[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:pt(e,n,J,l,o,null)}return;default:if(Su(n)){for(oe in o)o.hasOwnProperty(oe)&&(l=o[oe],l!==void 0&&lf(e,n,oe,l,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(l=o[O],l!=null&&pt(e,n,O,l,o,null))}function D2(e,n,o,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,v=null,N=null,O=null,B=null,J=null,oe=null;for(te in o){var le=o[te];if(o.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=le;default:l.hasOwnProperty(te)||pt(e,n,te,null,l,le)}}for(var ee in l){var te=l[ee];if(le=o[ee],l.hasOwnProperty(ee)&&(te!=null||le!=null))switch(ee){case"type":v=te;break;case"name":f=te;break;case"checked":J=te;break;case"defaultChecked":oe=te;break;case"value":N=te;break;case"defaultValue":O=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,n));break;default:te!==le&&pt(e,n,ee,te,l,le)}}xu(e,N,O,B,J,oe,v,f);return;case"select":te=N=O=ee=null;for(v in o)if(B=o[v],o.hasOwnProperty(v)&&B!=null)switch(v){case"value":break;case"multiple":te=B;default:l.hasOwnProperty(v)||pt(e,n,v,null,l,B)}for(f in l)if(v=l[f],B=o[f],l.hasOwnProperty(f)&&(v!=null||B!=null))switch(f){case"value":ee=v;break;case"defaultValue":O=v;break;case"multiple":N=v;default:v!==B&&pt(e,n,f,v,l,B)}n=O,o=N,l=te,ee!=null?bo(e,!!o,ee,!1):!!l!=!!o&&(n!=null?bo(e,!!o,n,!0):bo(e,!!o,o?[]:"",!1));return;case"textarea":te=ee=null;for(O in o)if(f=o[O],o.hasOwnProperty(O)&&f!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:pt(e,n,O,null,l,f)}for(N in l)if(f=l[N],v=o[N],l.hasOwnProperty(N)&&(f!=null||v!=null))switch(N){case"value":ee=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==v&&pt(e,n,N,f,l,v)}Ip(e,ee,te);return;case"option":for(var Se in o)ee=o[Se],o.hasOwnProperty(Se)&&ee!=null&&!l.hasOwnProperty(Se)&&(Se==="selected"?e.selected=!1:pt(e,n,Se,null,l,ee));for(B in l)ee=l[B],te=o[B],l.hasOwnProperty(B)&&ee!==te&&(ee!=null||te!=null)&&(B==="selected"?e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":pt(e,n,B,ee,l,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)ee=o[Re],o.hasOwnProperty(Re)&&ee!=null&&!l.hasOwnProperty(Re)&&pt(e,n,Re,null,l,ee);for(J in l)if(ee=l[J],te=o[J],l.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,n));break;default:pt(e,n,J,ee,l,te)}return;default:if(Su(n)){for(var ht in o)ee=o[ht],o.hasOwnProperty(ht)&&ee!==void 0&&!l.hasOwnProperty(ht)&&lf(e,n,ht,void 0,l,ee);for(oe in l)ee=l[oe],te=o[oe],!l.hasOwnProperty(oe)||ee===te||ee===void 0&&te===void 0||lf(e,n,oe,ee,l,te);return}}for(var K in o)ee=o[K],o.hasOwnProperty(K)&&ee!=null&&!l.hasOwnProperty(K)&&pt(e,n,K,null,l,ee);for(le in l)ee=l[le],te=o[le],!l.hasOwnProperty(le)||ee===te||ee==null&&te==null||pt(e,n,le,ee,l,te)}function Vv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var f=o[l],v=f.transferSize,N=f.initiatorType,O=f.duration;if(v&&O&&Vv(N)){for(N=0,O=f.responseEnd,l+=1;l<o.length;l++){var B=o[l],J=B.startTime;if(J>O)break;var oe=B.transferSize,le=B.initiatorType;oe&&Vv(le)&&(B=B.responseEnd,N+=oe*(B<O?1:(O-J)/(B-J)))}if(--l,n+=8*(v+N)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cf=null,uf=null;function Yi(e){return e.nodeType===9?e:e.ownerDocument}function Gv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function df(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ff=null;function A2(){var e=window.event;return e&&e.type==="popstate"?e===ff?!1:(ff=e,!0):(ff=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,O2=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,k2=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(e){return Wv.resolve(null).then(e).catch(z2)}:Kv;function z2(e){setTimeout(function(){throw e})}function xr(e){return e==="head"}function Qv(e,n){var o=n,l=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(l===0){e.removeChild(f),Zo(n);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")cl(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,cl(o);for(var v=o.firstChild;v;){var N=v.nextSibling,O=v.nodeName;v[Zn]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=N}}else o==="body"&&cl(e.ownerDocument.body);o=f}while(o);Zo(n)}function Zv(e,n){var o=e;e=0;do{var l=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=l}while(o)}function mf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mf(o),tr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function L2(e,n,o,l){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Zn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var v=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function P2(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=qn(e.nextSibling),e===null))return null;return e}function Jv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function pf(e){return e.data==="$?"||e.data==="$~"}function hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function U2(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var l=function(){n(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gf=null;function ey(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return qn(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function ty(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function ny(e,n,o){switch(n=Yi(o),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);tr(e)}var In=new Map,ay=new Set;function Vi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ya=H.d;H.d={f:B2,r:H2,D:q2,C:I2,L:$2,m:F2,X:V2,S:Y2,M:G2};function B2(){var e=Ya.f(),n=Pi();return e||n}function H2(e){var n=da(e);n!==null&&n.tag===5&&n.type==="form"?bg(n):Ya.r(e)}var Ko=typeof document>"u"?null:document;function ry(e,n,o){var l=Ko;if(l&&typeof n=="string"&&n){var f=kn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),ay.has(f)||(ay.add(f),e={rel:e,crossOrigin:o,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),Zt(n,"link",e),jt(n),l.head.appendChild(n)))}}function q2(e){Ya.D(e),ry("dns-prefetch",e,null)}function I2(e,n){Ya.C(e,n),ry("preconnect",e,n)}function $2(e,n,o){Ya.L(e,n,o);var l=Ko;if(l&&e&&n){var f='link[rel="preload"][as="'+kn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+kn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+kn(o.imageSizes)+'"]')):f+='[href="'+kn(e)+'"]';var v=f;switch(n){case"style":v=Wo(e);break;case"script":v=Qo(e)}In.has(v)||(e=y({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),In.set(v,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(ul(v))||n==="script"&&l.querySelector(dl(v))||(n=l.createElement("link"),Zt(n,"link",e),jt(n),l.head.appendChild(n)))}}function F2(e,n){Ya.m(e,n);var o=Ko;if(o&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+kn(l)+'"][href="'+kn(e)+'"]',v=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Qo(e)}if(!In.has(v)&&(e=y({rel:"modulepreload",href:e},n),In.set(v,e),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(dl(v)))return}l=o.createElement("link"),Zt(l,"link",e),jt(l),o.head.appendChild(l)}}}function Y2(e,n,o){Ya.S(e,n,o);var l=Ko;if(l&&e){var f=Jn(l).hoistableStyles,v=Wo(e);n=n||"default";var N=f.get(v);if(!N){var O={loading:0,preload:null};if(N=l.querySelector(ul(v)))O.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},o),(o=In.get(v))&&vf(e,o);var B=N=l.createElement("link");jt(B),Zt(B,"link",e),B._p=new Promise(function(J,oe){B.onload=J,B.onerror=oe}),B.addEventListener("load",function(){O.loading|=1}),B.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Gi(N,n,l)}N={type:"stylesheet",instance:N,count:1,state:O},f.set(v,N)}}}function V2(e,n){Ya.X(e,n);var o=Ko;if(o&&e){var l=Jn(o).hoistableScripts,f=Qo(e),v=l.get(f);v||(v=o.querySelector(dl(f)),v||(e=y({src:e,async:!0},n),(n=In.get(f))&&yf(e,n),v=o.createElement("script"),jt(v),Zt(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(f,v))}}function G2(e,n){Ya.M(e,n);var o=Ko;if(o&&e){var l=Jn(o).hoistableScripts,f=Qo(e),v=l.get(f);v||(v=o.querySelector(dl(f)),v||(e=y({src:e,async:!0,type:"module"},n),(n=In.get(f))&&yf(e,n),v=o.createElement("script"),jt(v),Zt(v,"link",e),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(f,v))}}function oy(e,n,o,l){var f=(f=me.current)?Vi(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Wo(o.href),o=Jn(f).hoistableStyles,l=o.get(n),l||(l={type:"style",instance:null,count:0,state:null},o.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Wo(o.href);var v=Jn(f).hoistableStyles,N=v.get(e);if(N||(f=f.ownerDocument||f,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,N),(v=f.querySelector(ul(e)))&&!v._p&&(N.instance=v,N.state.loading=5),In.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},In.set(e,o),v||X2(f,e,o,N.state))),n&&l===null)throw Error(s(528,""));return N}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qo(o),o=Jn(f).hoistableScripts,l=o.get(n),l||(l={type:"script",instance:null,count:0,state:null},o.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Wo(e){return'href="'+kn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function sy(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function X2(e,n,o,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Zt(n,"link",o),jt(n),e.head.appendChild(n))}function Qo(e){return'[src="'+kn(e)+'"]'}function dl(e){return"script[async]"+e}function ly(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+kn(o.href)+'"]');if(l)return n.instance=l,jt(l),l;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),jt(l),Zt(l,"style",f),Gi(l,o.precedence,e),n.instance=l;case"stylesheet":f=Wo(o.href);var v=e.querySelector(ul(f));if(v)return n.state.loading|=4,n.instance=v,jt(v),v;l=sy(o),(f=In.get(f))&&vf(l,f),v=(e.ownerDocument||e).createElement("link"),jt(v);var N=v;return N._p=new Promise(function(O,B){N.onload=O,N.onerror=B}),Zt(v,"link",l),n.state.loading|=4,Gi(v,o.precedence,e),n.instance=v;case"script":return v=Qo(o.src),(f=e.querySelector(dl(v)))?(n.instance=f,jt(f),f):(l=o,(f=In.get(v))&&(l=y({},o),yf(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),jt(f),Zt(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Gi(l,o.precedence,e));return n.instance}function Gi(e,n,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,v=f,N=0;N<l.length;N++){var O=l[N];if(O.dataset.precedence===n)v=O;else if(v!==f)break}v?v.parentNode.insertBefore(e,v.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function vf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Xi=null;function iy(e,n,o){if(Xi===null){var l=new Map,f=Xi=new Map;f.set(o,l)}else f=Xi,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(e))return l;for(l.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var v=o[f];if(!(v[Zn]||v[_e]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var N=v.getAttribute(n)||"";N=e+N;var O=l.get(N);O?O.push(v):l.set(N,[v])}}return l}function cy(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function K2(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function W2(e,n,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Wo(l.href),v=n.querySelector(ul(f));if(v){n=v._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ki.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=v,jt(v);return}v=n.ownerDocument||n,l=sy(l),(f=In.get(f))&&vf(l,f),v=v.createElement("link"),jt(v);var N=v;N._p=new Promise(function(O,B){N.onload=O,N.onerror=B}),Zt(v,"link",l),o.instance=v}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ki.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var xf=0;function Q2(e,n){return e.stylesheets&&e.count===0&&Qi(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var l=setTimeout(function(){if(e.stylesheets&&Qi(e,e.stylesheets),e.unsuspend){var v=e.unsuspend;e.unsuspend=null,v()}},6e4+n);0<e.imgBytes&&xf===0&&(xf=62500*_2());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qi(e,e.stylesheets),e.unsuspend)){var v=e.unsuspend;e.unsuspend=null,v()}},(e.imgBytes>xf?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Ki(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wi=null;function Qi(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wi=new Map,n.forEach(Z2,e),Wi=null,Ki.call(e))}function Z2(e,n){if(!(n.state.loading&4)){var o=Wi.get(e);if(o)var l=o.get(null);else{o=new Map,Wi.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<f.length;v++){var N=f[v];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),l=N)}l&&o.set(null,l)}f=n.instance,N=f.getAttribute("data-precedence"),v=o.get(N)||l,v===l&&o.set(null,f),o.set(N,f),this.count++,l=Ki.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),v?v.parentNode.insertBefore(f,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:R,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function J2(e,n,o,l,f,v,N,O,B){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.hiddenUpdates=Yt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=v,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function dy(e,n,o,l,f,v,N,O,B,J,oe,le){return e=new J2(e,n,o,N,B,J,oe,le,O),n=1,v===!0&&(n|=24),v=wn(3,null,null,n),e.current=v,v.stateNode=e,n=Qu(),n.refCount++,e.pooledCache=n,n.refCount++,v.memoizedState={element:l,isDehydrated:o,cache:n},td(v),e}function fy(e){return e?(e=Ro,e):Ro}function my(e,n,o,l,f,v){f=fy(f),l.context===null?l.context=f:l.pendingContext=f,l=ir(n),l.payload={element:o},v=v===void 0?null:v,v!==null&&(l.callback=v),o=cr(e,l,n),o!==null&&(vn(o,e,n),Fs(o,e,n))}function py(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function bf(e,n){py(e,n),(e=e.alternate)&&py(e,n)}function hy(e){if(e.tag===13||e.tag===31){var n=Yr(e,67108864);n!==null&&vn(n,e,67108864),bf(e,67108864)}}function gy(e){if(e.tag===13||e.tag===31){var n=Tn();n=Ee(n);var o=Yr(e,n);o!==null&&vn(o,e,n),bf(e,n)}}var Zi=!0;function eE(e,n,o,l){var f=L.T;L.T=null;var v=H.p;try{H.p=2,Sf(e,n,o,l)}finally{H.p=v,L.T=f}}function tE(e,n,o,l){var f=L.T;L.T=null;var v=H.p;try{H.p=8,Sf(e,n,o,l)}finally{H.p=v,L.T=f}}function Sf(e,n,o,l){if(Zi){var f=wf(l);if(f===null)sf(e,n,l,Ji,o),yy(e,l);else if(aE(f,e,n,o,l))l.stopPropagation();else if(yy(e,l),n&4&&-1<nE.indexOf(e)){for(;f!==null;){var v=da(f);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var N=Ie(v.pendingLanes);if(N!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var B=1<<31-yt(N);O.entanglements[1]|=B,N&=~B}ga(v),(ot&6)===0&&(zi=kt()+500,sl(0))}}break;case 31:case 13:O=Yr(v,2),O!==null&&vn(O,v,2),Pi(),bf(v,2)}if(v=wf(l),v===null&&sf(e,n,l,Ji,o),v===f)break;f=v}f!==null&&l.stopPropagation()}else sf(e,n,l,null,o)}}function wf(e){return e=Cu(e),Cf(e)}var Ji=null;function Cf(e){if(Ji=null,e=lt(e),e!==null){var n=u(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=d(n),e!==null)return e;e=null}else if(o===31){if(e=m(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ji=e,null}function vy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cn()){case Xn:return 2;case xn:return 8;case $t:case ua:return 32;case Kn:return 268435456;default:return 32}default:return 32}}var Ef=!1,br=null,Sr=null,wr=null,ml=new Map,pl=new Map,Cr=[],nE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(e,n){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function hl(e,n,o,l,f,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:o,eventSystemFlags:l,nativeEvent:v,targetContainers:[f]},n!==null&&(n=da(n),n!==null&&hy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function aE(e,n,o,l,f){switch(n){case"focusin":return br=hl(br,e,n,o,l,f),!0;case"dragenter":return Sr=hl(Sr,e,n,o,l,f),!0;case"mouseover":return wr=hl(wr,e,n,o,l,f),!0;case"pointerover":var v=f.pointerId;return ml.set(v,hl(ml.get(v)||null,e,n,o,l,f)),!0;case"gotpointercapture":return v=f.pointerId,pl.set(v,hl(pl.get(v)||null,e,n,o,l,f)),!0}return!1}function xy(e){var n=lt(e.target);if(n!==null){var o=u(n);if(o!==null){if(n=o.tag,n===13){if(n=d(o),n!==null){e.blockedOn=n,We(e.priority,function(){gy(o)});return}}else if(n===31){if(n=m(o),n!==null){e.blockedOn=n,We(e.priority,function(){gy(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=wf(e.nativeEvent);if(o===null){o=e.nativeEvent;var l=new o.constructor(o.type,o);wu=l,o.target.dispatchEvent(l),wu=null}else return n=da(o),n!==null&&hy(n),e.blockedOn=o,!1;n.shift()}return!0}function by(e,n,o){ec(e)&&o.delete(n)}function rE(){Ef=!1,br!==null&&ec(br)&&(br=null),Sr!==null&&ec(Sr)&&(Sr=null),wr!==null&&ec(wr)&&(wr=null),ml.forEach(by),pl.forEach(by)}function tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ef||(Ef=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rE)))}var nc=null;function Sy(e){nc!==e&&(nc=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var n=0;n<e.length;n+=3){var o=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(Cf(l||o)===null)continue;break}var v=da(o);v!==null&&(e.splice(n,3),n-=3,Sd(v,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function Zo(e){function n(B){return tc(B,e)}br!==null&&tc(br,e),Sr!==null&&tc(Sr,e),wr!==null&&tc(wr,e),ml.forEach(n),pl.forEach(n);for(var o=0;o<Cr.length;o++){var l=Cr[o];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Cr.length&&(o=Cr[0],o.blockedOn===null);)xy(o),o.blockedOn===null&&Cr.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],v=o[l+1],N=f[Be]||null;if(typeof v=="function")N||Sy(o);else if(N){var O=null;if(v&&v.hasAttribute("formAction")){if(f=v,N=v[Be]||null)O=N.formAction;else if(Cf(f)!==null)continue}else O=N.action;typeof O=="function"?o[l+1]=O:(o.splice(l,3),l-=3),Sy(o)}}}function wy(){function e(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(N){return f=N})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Nf(e){this._internalRoot=e}ac.prototype.render=Nf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,l=Tn();my(o,l,e,n,null,null)},ac.prototype.unmount=Nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;my(e.current,2,null,e,null,null),Pi(),n[xt]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=Te();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Cr.length&&n!==0&&n<Cr[o].priority;o++);Cr.splice(o,0,e),o===0&&xy(e)}};var Cy=a.version;if(Cy!=="19.2.4")throw Error(s(527,Cy,"19.2.4"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var oE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{_n=rc.inject(oE),ie=rc}catch{}}return vl.createRoot=function(e,n){if(!i(e))throw Error(s(299));var o=!1,l="",f=Dg,v=_g,N=Ag;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=dy(e,1,!1,null,null,o,l,null,f,v,N,wy),e[xt]=n.current,of(e),new Nf(n)},vl.hydrateRoot=function(e,n,o){if(!i(e))throw Error(s(299));var l=!1,f="",v=Dg,N=_g,O=Ag,B=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),n=dy(e,1,!0,n,o??null,l,f,B,v,N,O,wy),n.context=fy(null),o=n.current,l=Tn(),l=Ee(l),f=ir(l),f.callback=null,cr(o,f,l),o=l,n.current.lanes=o,Dt(n,o),ga(n),e[xt]=n.current,of(e),new ac(n)},vl.version="19.2.4",vl}var Oy;function hE(){if(Oy)return Rf.exports;Oy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),Rf.exports=pE(),Rf.exports}var gE=hE();var ky="popstate";function vE(t={}){function a(s,i){let{pathname:u,search:d,hash:m}=s.location;return em("",{pathname:u,search:d,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:Dl(i)}return xE(a,r,null,t)}function Et(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function oa(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function yE(){return Math.random().toString(36).substring(2,10)}function zy(t,a){return{usr:t.state,key:t.key,idx:a}}function em(t,a,r=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?gs(a):a,state:r,key:a&&a.key||s||yE()}}function Dl({pathname:t="/",search:a="",hash:r=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function gs(t){let a={};if(t){let r=t.indexOf("#");r>=0&&(a.hash=t.substring(r),t=t.substring(0,r));let s=t.indexOf("?");s>=0&&(a.search=t.substring(s),t=t.substring(0,s)),t&&(a.pathname=t)}return a}function xE(t,a,r,s={}){let{window:i=document.defaultView,v5Compat:u=!1}=s,d=i.history,m="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function y(){m="POP";let S=x(),w=S==null?null:S-g;g=S,p&&p({action:m,location:b.location,delta:w})}function C(S,w){m="PUSH";let j=em(b.location,S,w);g=x()+1;let R=zy(j,g),A=b.createHref(j);try{d.pushState(R,"",A)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(A)}u&&p&&p({action:m,location:b.location,delta:1})}function T(S,w){m="REPLACE";let j=em(b.location,S,w);g=x();let R=zy(j,g),A=b.createHref(j);d.replaceState(R,"",A),u&&p&&p({action:m,location:b.location,delta:0})}function E(S){return bE(S)}let b={get action(){return m},get location(){return t(i,d)},listen(S){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(ky,y),p=S,()=>{i.removeEventListener(ky,y),p=null}},createHref(S){return a(i,S)},createURL:E,encodeLocation(S){let w=E(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:C,replace:T,go(S){return d.go(S)}};return b}function bE(t,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Et(r,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Dl(t);return s=s.replace(/ $/,"%20"),!a&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function a0(t,a,r="/"){return SE(t,a,r,!1)}function SE(t,a,r,s){let i=typeof a=="string"?gs(a):a,u=Wa(i.pathname||"/",r);if(u==null)return null;let d=r0(t);wE(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=OE(u);m=_E(d[p],g,s)}return m}function r0(t,a=[],r=[],s="",i=!1){let u=(d,m,p=i,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&p)return;Et(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let y=Ka([s,x.relativePath]),C=r.concat(x);d.children&&d.children.length>0&&(Et(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),r0(d.children,a,C,y,p)),!(d.path==null&&!d.index)&&a.push({path:y,score:ME(y,d.index),routesMeta:C})};return t.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let p of o0(d.path))u(d,m,!0,p)}),a}function o0(t){let a=t.split("/");if(a.length===0)return[];let[r,...s]=a,i=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return i?[u,""]:[u];let d=o0(s.join("/")),m=[];return m.push(...d.map(p=>p===""?u:[u,p].join("/"))),i&&m.push(...d),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function wE(t){t.sort((a,r)=>a.score!==r.score?r.score-a.score:DE(a.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var CE=/^:[\w-]+$/,EE=3,NE=2,jE=1,TE=10,RE=-2,Ly=t=>t==="*";function ME(t,a){let r=t.split("/"),s=r.length;return r.some(Ly)&&(s+=RE),a&&(s+=NE),r.filter(i=>!Ly(i)).reduce((i,u)=>i+(CE.test(u)?EE:u===""?jE:TE),s)}function DE(t,a){return t.length===a.length&&t.slice(0,-1).every((s,i)=>s===a[i])?t[t.length-1]-a[a.length-1]:0}function _E(t,a,r=!1){let{routesMeta:s}=t,i={},u="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,x=u==="/"?a:a.slice(u.length)||"/",y=Nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),C=p.route;if(!y&&g&&r&&!s[s.length-1].route.index&&(y=Nc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(i,y.params),d.push({params:i,pathname:Ka([u,y.pathname]),pathnameBase:PE(Ka([u,y.pathnameBase])),route:C}),y.pathnameBase!=="/"&&(u=Ka([u,y.pathnameBase]))}return d}function Nc(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=AE(t.path,t.caseSensitive,t.end),i=a.match(r);if(!i)return null;let u=i[0],d=u.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:s.reduce((g,{paramName:x,isOptional:y},C)=>{if(x==="*"){let E=m[C]||"";d=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const T=m[C];return y&&!T?g[x]=void 0:g[x]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:t}}function AE(t,a=!1,r=!0){oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,a?void 0:"i"),s]}function OE(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return oa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Wa(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function zE(t,a="/"){let{pathname:r,search:s="",hash:i=""}=typeof t=="string"?gs(t):t,u;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?u=Py(r.substring(1),"/"):u=Py(r,a)):u=a,{pathname:u,search:UE(s),hash:BE(i)}}function Py(t,a){let r=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Af(t,a,r,s){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LE(t){return t.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function s0(t){let a=LE(t);return a.map((r,s)=>s===a.length-1?r.pathname:r.pathnameBase)}function l0(t,a,r,s=!1){let i;typeof t=="string"?i=gs(t):(i={...t},Et(!i.pathname||!i.pathname.includes("?"),Af("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),Af("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),Af("#","search","hash",i)));let u=t===""||i.pathname==="",d=u?"/":i.pathname,m;if(d==null)m=r;else{let y=a.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),y-=1;i.pathname=C.join("/")}m=y>=0?a[y]:"/"}let p=zE(i,m),g=d&&d!=="/"&&d.endsWith("/"),x=(u||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var Ka=t=>t.join("/").replace(/\/\/+/g,"/"),PE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,HE=class{constructor(t,a,r,s=!1){this.status=t,this.statusText=a||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function qE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function IE(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var i0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function c0(t,a){let r=t;if(typeof r!="string"||!kE.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let s=r,i=!1;if(i0)try{let u=new URL(window.location.href),d=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=Wa(d.pathname,a);d.origin===u.origin&&m!=null?r=m+d.search+d.hash:i=!0}catch{oa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u0=["POST","PUT","PATCH","DELETE"];new Set(u0);var $E=["GET",...u0];new Set($E);var vs=h.createContext(null);vs.displayName="DataRouter";var qc=h.createContext(null);qc.displayName="DataRouterState";var FE=h.createContext(!1),d0=h.createContext({isTransitioning:!1});d0.displayName="ViewTransition";var YE=h.createContext(new Map);YE.displayName="Fetchers";var VE=h.createContext(null);VE.displayName="Await";var Gn=h.createContext(null);Gn.displayName="Navigation";var zl=h.createContext(null);zl.displayName="Location";var Ja=h.createContext({outlet:null,matches:[],isDataRoute:!1});Ja.displayName="Route";var Om=h.createContext(null);Om.displayName="RouteError";var f0="REACT_ROUTER_ERROR",GE="REDIRECT",XE="ROUTE_ERROR_RESPONSE";function KE(t){if(t.startsWith(`${f0}:${GE}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function WE(t){if(t.startsWith(`${f0}:${XE}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new HE(a.status,a.statusText,a.data)}catch{}}function QE(t,{relative:a}={}){Et(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=h.useContext(Gn),{hash:i,pathname:u,search:d}=Pl(t,{relative:a}),m=u;return r!=="/"&&(m=u==="/"?r:Ka([r,u])),s.createHref({pathname:m,search:d,hash:i})}function Ll(){return h.useContext(zl)!=null}function Pr(){return Et(Ll(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(zl).location}var m0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p0(t){h.useContext(Gn).static||h.useLayoutEffect(t)}function h0(){let{isDataRoute:t}=h.useContext(Ja);return t?uN():ZE()}function ZE(){Et(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=h.useContext(vs),{basename:a,navigator:r}=h.useContext(Gn),{matches:s}=h.useContext(Ja),{pathname:i}=Pr(),u=JSON.stringify(s0(s)),d=h.useRef(!1);return p0(()=>{d.current=!0}),h.useCallback((p,g={})=>{if(oa(d.current,m0),!d.current)return;if(typeof p=="number"){r.go(p);return}let x=l0(p,JSON.parse(u),i,g.relative==="path");t==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:Ka([a,x.pathname])),(g.replace?r.replace:r.push)(x,g.state,g)},[a,r,u,i,t])}h.createContext(null);function Pl(t,{relative:a}={}){let{matches:r}=h.useContext(Ja),{pathname:s}=Pr(),i=JSON.stringify(s0(r));return h.useMemo(()=>l0(t,JSON.parse(i),s,a==="path"),[t,i,s,a])}function JE(t,a){return g0(t,a)}function g0(t,a,r,s,i){Et(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=h.useContext(Gn),{matches:d}=h.useContext(Ja),m=d[d.length-1],p=m?m.params:{},g=m?m.pathname:"/",x=m?m.pathnameBase:"/",y=m&&m.route;{let j=y&&y.path||"";y0(g,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let C=Pr(),T;if(a){let j=typeof a=="string"?gs(a):a;Et(x==="/"||j.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=C;let E=T.pathname||"/",b=E;if(x!=="/"){let j=x.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=a0(t,{pathname:b});oa(y||S!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),oa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=rN(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Ka([x,u.encodeLocation?u.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?x:Ka([x,u.encodeLocation?u.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),d,r,s,i);return a&&w?h.createElement(zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},w):w}function eN(){let t=cN(),a=qE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:u},"ErrorBoundary")," or"," ",h.createElement("code",{style:u},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},a),r?h.createElement("pre",{style:i},r):null,d)}var tN=h.createElement(eN,null),v0=class extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=WE(t.digest);r&&(t=r)}let a=t!==void 0?h.createElement(Ja.Provider,{value:this.props.routeContext},h.createElement(Om.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?h.createElement(nN,{error:t},a):a}};v0.contextType=FE;var Of=new WeakMap;function nN({children:t,error:a}){let{basename:r}=h.useContext(Gn);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let s=KE(a.digest);if(s){let i=Of.get(a);if(i)throw i;let u=c0(s.location,r);if(i0&&!Of.get(a))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Of.set(a,d),d}return h.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function aN({routeContext:t,match:a,children:r}){let s=h.useContext(vs);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),h.createElement(Ja.Provider,{value:t},r)}function rN(t,a=[],r=null,s=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,d=r?.errors;if(d!=null){let x=u.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);Et(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let m=!1,p=-1;if(r)for(let x=0;x<u.length;x++){let y=u[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=x),y.route.id){let{loaderData:C,errors:T}=r,E=y.route.loader&&!C.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||E){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=r&&s?(x,y)=>{s(x,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:IE(r.matches),errorInfo:y})}:void 0;return u.reduceRight((x,y,C)=>{let T,E=!1,b=null,S=null;r&&(T=d&&y.route.id?d[y.route.id]:void 0,b=y.route.errorElement||tN,m&&(p<0&&C===0?(y0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):p===C&&(E=!0,S=y.route.hydrateFallbackElement||null)));let w=a.concat(u.slice(0,C+1)),j=()=>{let R;return T?R=b:E?R=S:y.route.Component?R=h.createElement(y.route.Component,null):y.route.element?R=y.route.element:R=x,h.createElement(aN,{match:y,routeContext:{outlet:x,matches:w,isDataRoute:r!=null},children:R})};return r&&(y.route.ErrorBoundary||y.route.errorElement||C===0)?h.createElement(v0,{location:r.location,revalidation:r.revalidation,component:b,error:T,children:j(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:g}):j()},null)}function km(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oN(t){let a=h.useContext(vs);return Et(a,km(t)),a}function sN(t){let a=h.useContext(qc);return Et(a,km(t)),a}function lN(t){let a=h.useContext(Ja);return Et(a,km(t)),a}function zm(t){let a=lN(t),r=a.matches[a.matches.length-1];return Et(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function iN(){return zm("useRouteId")}function cN(){let t=h.useContext(Om),a=sN("useRouteError"),r=zm("useRouteError");return t!==void 0?t:a.errors?.[r]}function uN(){let{router:t}=oN("useNavigate"),a=zm("useNavigate"),r=h.useRef(!1);return p0(()=>{r.current=!0}),h.useCallback(async(i,u={})=>{oa(r.current,m0),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:a,...u}))},[t,a])}var Uy={};function y0(t,a,r){!a&&!Uy[t]&&(Uy[t]=!0,oa(!1,r))}h.memo(dN);function dN({routes:t,future:a,state:r,onError:s}){return g0(t,void 0,r,s,a)}function tm(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fN({basename:t="/",children:a=null,location:r,navigationType:s="POP",navigator:i,static:u=!1,unstable_useTransitions:d}){Et(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=t.replace(/^\/*/,"/"),p=h.useMemo(()=>({basename:m,navigator:i,static:u,unstable_useTransitions:d,future:{}}),[m,i,u,d]);typeof r=="string"&&(r=gs(r));let{pathname:g="/",search:x="",hash:y="",state:C=null,key:T="default"}=r,E=h.useMemo(()=>{let b=Wa(g,m);return b==null?null:{location:{pathname:b,search:x,hash:y,state:C,key:T},navigationType:s}},[m,g,x,y,C,T,s]);return oa(E!=null,`<Router basename="${m}"> is not able to match the URL "${g}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:h.createElement(Gn.Provider,{value:p},h.createElement(zl.Provider,{children:a,value:E}))}function mN({children:t,location:a}){return JE(nm(t),a)}function nm(t,a=[]){let r=[];return h.Children.forEach(t,(s,i)=>{if(!h.isValidElement(s))return;let u=[...a,i];if(s.type===h.Fragment){r.push.apply(r,nm(s.props.children,u));return}Et(s.type===tm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=nm(s.props.children,u)),r.push(d)}),r}var xc="get",bc="application/x-www-form-urlencoded";function Ic(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function pN(t){return Ic(t)&&t.tagName.toLowerCase()==="button"}function hN(t){return Ic(t)&&t.tagName.toLowerCase()==="form"}function gN(t){return Ic(t)&&t.tagName.toLowerCase()==="input"}function vN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yN(t,a){return t.button===0&&(!a||a==="_self")&&!vN(t)}function am(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,r)=>{let s=t[r];return a.concat(Array.isArray(s)?s.map(i=>[r,i]):[[r,s]])},[]))}function xN(t,a){let r=am(t);return a&&a.forEach((s,i)=>{r.has(i)||a.getAll(i).forEach(u=>{r.append(i,u)})}),r}var oc=null;function bN(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var SN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kf(t){return t!=null&&!SN.has(t)?(oa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bc}"`),null):t}function wN(t,a){let r,s,i,u,d;if(hN(t)){let m=t.getAttribute("action");s=m?Wa(m,a):null,r=t.getAttribute("method")||xc,i=kf(t.getAttribute("enctype"))||bc,u=new FormData(t)}else if(pN(t)||gN(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||m.getAttribute("action");if(s=p?Wa(p,a):null,r=t.getAttribute("formmethod")||m.getAttribute("method")||xc,i=kf(t.getAttribute("formenctype"))||kf(m.getAttribute("enctype"))||bc,u=new FormData(m,t),!bN()){let{name:g,type:x,value:y}=t;if(x==="image"){let C=g?`${g}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else g&&u.append(g,y)}}else{if(Ic(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=xc,s=null,i=bc,d=t}return u&&i==="text/plain"&&(d=u,u=void 0),{action:s,method:r.toLowerCase(),encType:i,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lm(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function CN(t,a,r,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:a&&Wa(i.pathname,a)==="/"?i.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function EN(t,a){if(t.id in a)return a[t.id];try{let r=await import(t.module);return a[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jN(t,a,r){let s=await Promise.all(t.map(async i=>{let u=a.routes[i.route.id];if(u){let d=await EN(u,r);return d.links?d.links():[]}return[]}));return DN(s.flat(1).filter(NN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function By(t,a,r,s,i,u){let d=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,m=(p,g)=>r[g].pathname!==p.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==p.params["*"];return u==="assets"?a.filter((p,g)=>d(p,g)||m(p,g)):u==="data"?a.filter((p,g)=>{let x=s.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function TN(t,a,{includeHydrateFallback:r}={}){return RN(t.map(s=>{let i=a.routes[s.route.id];if(!i)return[];let u=[i.module];return i.clientActionModule&&(u=u.concat(i.clientActionModule)),i.clientLoaderModule&&(u=u.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(u=u.concat(i.hydrateFallbackModule)),i.imports&&(u=u.concat(i.imports)),u}).flat(1))}function RN(t){return[...new Set(t)]}function MN(t){let a={},r=Object.keys(t).sort();for(let s of r)a[s]=t[s];return a}function DN(t,a){let r=new Set;return new Set(a),t.reduce((s,i)=>{let u=JSON.stringify(MN(i));return r.has(u)||(r.add(u),s.push({key:u,link:i})),s},[])}function x0(){let t=h.useContext(vs);return Lm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _N(){let t=h.useContext(qc);return Lm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pm=h.createContext(void 0);Pm.displayName="FrameworkContext";function b0(){let t=h.useContext(Pm);return Lm(t,"You must render this element inside a <HydratedRouter> element"),t}function AN(t,a){let r=h.useContext(Pm),[s,i]=h.useState(!1),[u,d]=h.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=a,C=h.useRef(null);h.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let b=w=>{w.forEach(j=>{d(j.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return C.current&&S.observe(C.current),()=>{S.disconnect()}}},[t]),h.useEffect(()=>{if(s){let b=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(b)}}},[s]);let T=()=>{i(!0)},E=()=>{i(!1),d(!1)};return r?t!=="intent"?[u,C,{}]:[u,C,{onFocus:yl(m,T),onBlur:yl(p,E),onMouseEnter:yl(g,T),onMouseLeave:yl(x,E),onTouchStart:yl(y,T)}]:[!1,C,{}]}function yl(t,a){return r=>{t&&t(r),r.defaultPrevented||a(r)}}function ON({page:t,...a}){let{router:r}=x0(),s=h.useMemo(()=>a0(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?h.createElement(zN,{page:t,matches:s,...a}):null}function kN(t){let{manifest:a,routeModules:r}=b0(),[s,i]=h.useState([]);return h.useEffect(()=>{let u=!1;return jN(t,a,r).then(d=>{u||i(d)}),()=>{u=!0}},[t,a,r]),s}function zN({page:t,matches:a,...r}){let s=Pr(),{future:i,manifest:u,routeModules:d}=b0(),{basename:m}=x0(),{loaderData:p,matches:g}=_N(),x=h.useMemo(()=>By(t,a,g,u,s,"data"),[t,a,g,u,s]),y=h.useMemo(()=>By(t,a,g,u,s,"assets"),[t,a,g,u,s]),C=h.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,S=!1;if(a.forEach(j=>{let R=u.routes[j.route.id];!R||!R.hasLoader||(!x.some(A=>A.route.id===j.route.id)&&j.route.id in p&&d[j.route.id]?.shouldRevalidate||R.hasClientLoader?S=!0:b.add(j.route.id))}),b.size===0)return[];let w=CN(t,m,i.unstable_trailingSlashAwareDataRequests,"data");return S&&b.size>0&&w.searchParams.set("_routes",a.filter(j=>b.has(j.route.id)).map(j=>j.route.id).join(",")),[w.pathname+w.search]},[m,i.unstable_trailingSlashAwareDataRequests,p,s,u,x,a,t,d]),T=h.useMemo(()=>TN(y,u),[y,u]),E=kN(y);return h.createElement(h.Fragment,null,C.map(b=>h.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),T.map(b=>h.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),E.map(({key:b,link:S})=>h.createElement("link",{key:b,nonce:r.nonce,...S,crossOrigin:S.crossOrigin??r.crossOrigin})))}function LN(...t){return a=>{t.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var PN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PN&&(window.__reactRouterVersion="7.13.0")}catch{}function UN({basename:t,children:a,unstable_useTransitions:r,window:s}){let i=h.useRef();i.current==null&&(i.current=vE({window:s,v5Compat:!0}));let u=i.current,[d,m]=h.useState({action:u.action,location:u.location}),p=h.useCallback(g=>{r===!1?m(g):h.startTransition(()=>m(g))},[r]);return h.useLayoutEffect(()=>u.listen(p),[u,p]),h.createElement(fN,{basename:t,children:a,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:r})}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w0=h.forwardRef(function({onClick:a,discover:r="render",prefetch:s="none",relative:i,reloadDocument:u,replace:d,state:m,target:p,to:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:C,...T},E){let{basename:b,unstable_useTransitions:S}=h.useContext(Gn),w=typeof g=="string"&&S0.test(g),j=c0(g,b);g=j.to;let R=QE(g,{relative:i}),[A,_,k]=AN(s,T),D=IN(g,{replace:d,state:m,target:p,preventScrollReset:x,relative:i,viewTransition:y,unstable_defaultShouldRevalidate:C,unstable_useTransitions:S});function M(I){a&&a(I),I.defaultPrevented||D(I)}let z=h.createElement("a",{...T,...k,href:j.absoluteURL||R,onClick:j.isExternal||u?a:M,ref:LN(E,_),target:p,"data-discover":!w&&r==="render"?"true":void 0});return A&&!w?h.createElement(h.Fragment,null,z,h.createElement(ON,{page:R})):z});w0.displayName="Link";var BN=h.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:s="",end:i=!1,style:u,to:d,viewTransition:m,children:p,...g},x){let y=Pl(d,{relative:g.relative}),C=Pr(),T=h.useContext(qc),{navigator:E,basename:b}=h.useContext(Gn),S=T!=null&&XN(y)&&m===!0,w=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,j=C.pathname,R=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;r||(j=j.toLowerCase(),R=R?R.toLowerCase():null,w=w.toLowerCase()),R&&b&&(R=Wa(R,b)||R);const A=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let _=j===w||!i&&j.startsWith(w)&&j.charAt(A)==="/",k=R!=null&&(R===w||!i&&R.startsWith(w)&&R.charAt(w.length)==="/"),D={isActive:_,isPending:k,isTransitioning:S},M=_?a:void 0,z;typeof s=="function"?z=s(D):z=[s,_?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(D):u;return h.createElement(w0,{...g,"aria-current":M,className:z,ref:x,style:I,to:d,viewTransition:m},typeof p=="function"?p(D):p)});BN.displayName="NavLink";var HN=h.forwardRef(({discover:t="render",fetcherKey:a,navigate:r,reloadDocument:s,replace:i,state:u,method:d=xc,action:m,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:C,...T},E)=>{let{unstable_useTransitions:b}=h.useContext(Gn),S=VN(),w=GN(m,{relative:g}),j=d.toLowerCase()==="get"?"get":"post",R=typeof m=="string"&&S0.test(m),A=_=>{if(p&&p(_),_.defaultPrevented)return;_.preventDefault();let k=_.nativeEvent.submitter,D=k?.getAttribute("formmethod")||d,M=()=>S(k||_.currentTarget,{fetcherKey:a,method:D,navigate:r,replace:i,state:u,relative:g,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:C});b&&r!==!1?h.startTransition(()=>M()):M()};return h.createElement("form",{ref:E,method:j,action:w,onSubmit:s?p:A,...T,"data-discover":!R&&t==="render"?"true":void 0})});HN.displayName="Form";function qN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(t){let a=h.useContext(vs);return Et(a,qN(t)),a}function IN(t,{target:a,replace:r,state:s,preventScrollReset:i,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=h0(),x=Pr(),y=Pl(t,{relative:u});return h.useCallback(C=>{if(yN(C,a)){C.preventDefault();let T=r!==void 0?r:Dl(x)===Dl(y),E=()=>g(t,{replace:T,state:s,preventScrollReset:i,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:m});p?h.startTransition(()=>E()):E()}},[x,g,y,r,s,a,t,i,u,d,m,p])}function $N(t){oa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=h.useRef(am(t)),r=h.useRef(!1),s=Pr(),i=h.useMemo(()=>xN(s.search,r.current?null:a.current),[s.search]),u=h0(),d=h.useCallback((m,p)=>{const g=am(typeof m=="function"?m(new URLSearchParams(i)):m);r.current=!0,u("?"+g,p)},[u,i]);return[i,d]}var FN=0,YN=()=>`__${String(++FN)}__`;function VN(){let{router:t}=C0("useSubmit"),{basename:a}=h.useContext(Gn),r=iN(),s=t.fetch,i=t.navigate;return h.useCallback(async(u,d={})=>{let{action:m,method:p,encType:g,formData:x,body:y}=wN(u,a);if(d.navigate===!1){let C=d.fetcherKey||YN();await s(C,r,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||p,formEncType:d.encType||g,flushSync:d.flushSync})}else await i(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:y,formMethod:d.method||p,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,i,a,r])}function GN(t,{relative:a}={}){let{basename:r}=h.useContext(Gn),s=h.useContext(Ja);Et(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),u={...Pl(t||".",{relative:a})},d=Pr();if(t==null){u.search=d.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(y=>y).forEach(y=>m.append("index",y));let x=m.toString();u.search=x?`?${x}`:""}}return(!t||t===".")&&i.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Ka([r,u.pathname])),Dl(u)}function XN(t,{relative:a}={}){let r=h.useContext(d0);Et(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=C0("useViewTransitionState"),i=Pl(t,{relative:a});if(!r.isTransitioning)return!1;let u=Wa(r.currentLocation.pathname,s)||r.currentLocation.pathname,d=Wa(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Nc(i.pathname,d)!=null||Nc(i.pathname,u)!=null}var Ul=Hc();const KN=t0(Ul);const E0=(...t)=>t.filter((a,r,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===r).join(" ").trim();const WN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const QN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,s)=>s?s.toUpperCase():r.toLowerCase());const Hy=t=>{const a=QN(t);return a.charAt(0).toUpperCase()+a.slice(1)};var ZN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JN=t=>{for(const a in t)if(a.startsWith("aria-")||a==="role"||a==="title")return!0;return!1};const ej=h.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:u,iconNode:d,...m},p)=>h.createElement("svg",{ref:p,...ZN,width:a,height:a,stroke:t,strokeWidth:s?Number(r)*24/Number(a):r,className:E0("lucide",i),...!u&&!JN(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,x])=>h.createElement(g,x)),...Array.isArray(u)?u:[u]]));const De=(t,a)=>{const r=h.forwardRef(({className:s,...i},u)=>h.createElement(ej,{ref:u,iconNode:a,className:E0(`lucide-${WN(Hy(t))}`,`lucide-${t}`,s),...i}));return r.displayName=Hy(t),r};const tj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Um=De("activity",tj);const nj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],aj=De("chart-column",nj);const rj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],N0=De("check",rj);const oj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ys=De("chevron-down",oj);const sj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],j0=De("chevron-up",sj);const lj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ij=De("circle-alert",lj);const cj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uj=De("circle-check-big",cj);const dj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fj=De("circle",dj);const mj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rm=De("clock",mj);const pj=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],T0=De("copy",pj);const hj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]],gj=De("disc-3",hj);const vj=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],yj=De("ellipsis-vertical",vj);const xj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zf=De("external-link",xj);const bj=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],R0=De("folder-open",bj);const Sj=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],wj=De("folder",Sj);const Cj=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Ej=De("gauge",Cj);const Nj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],jj=De("grid-3x3",Nj);const Tj=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Rj=De("grip-vertical",Tj);const Mj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],M0=De("info",Mj);const Dj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_j=De("loader-circle",Dj);const Aj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Oj=De("maximize-2",Aj);const kj=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],zj=De("mic",kj);const Lj=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Pj=De("minimize-2",Lj);const Uj=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],en=De("music",Uj);const Bj=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],D0=De("pause",Bj);const Hj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_0=De("pen",Hj);const qj=[["path",{d:"M18.5 8c-1.4 0-2.6-.8-3.2-2A6.87 6.87 0 0 0 2 9v11a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-8.5C22 9.6 20.4 8 18.5 8",key:"lag0yf"}],["path",{d:"M2 14h20",key:"myj16y"}],["path",{d:"M6 14v4",key:"9ng0ue"}],["path",{d:"M10 14v4",key:"1v8uk5"}],["path",{d:"M14 14v4",key:"1tqops"}],["path",{d:"M18 14v4",key:"18uqwm"}]],Ij=De("piano",qj);const $j=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$c=De("play",$j);const Fj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xs=De("plus",Fj);const Yj=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Vj=De("repeat",Yj);const Gj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xj=De("save",Gj);const Kj=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],qy=De("scan",Kj);const Wj=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Qj=De("scissors",Wj);const Zj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],A0=De("search",Zj);const Jj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],eT=De("send",Jj);const tT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nT=De("settings",tT);const aT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],rT=De("skip-back",aT);const oT=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],om=De("sliders-vertical",oT);const sT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jc=De("sparkles",sT);const lT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],iT=De("square-pen",lT);const cT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],uT=De("square",cT);const dT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bs=De("trash-2",dT);const fT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],O0=De("triangle-alert",fT);const mT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pT=De("upload",mT);const hT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],k0=De("volume-2",hT);const gT=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Iy=De("waves",gT);const vT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mo=De("x",vT);const yT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xT=De("zap",yT);const bT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ST=De("zoom-in",bT);const wT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],CT=De("zoom-out",wT),$y=t=>{let a;const r=new Set,s=(g,x)=>{const y=typeof g=="function"?g(a):g;if(!Object.is(y,a)){const C=a;a=x??(typeof y!="object"||y===null)?y:Object.assign({},a,y),r.forEach(T=>T(a,C))}},i=()=>a,m={setState:s,getState:i,getInitialState:()=>p,subscribe:g=>(r.add(g),()=>r.delete(g))},p=a=t(s,i,m);return m},ET=(t=>t?$y(t):$y),NT=t=>t;function jT(t,a=NT){const r=wt.useSyncExternalStore(t.subscribe,wt.useCallback(()=>a(t.getState()),[t,a]),wt.useCallback(()=>a(t.getInitialState()),[t,a]));return wt.useDebugValue(r),r}const TT=t=>{const a=ET(t),r=s=>jT(a,s);return Object.assign(r,a),r},RT=(t=>TT),MT=t=>(a,r,s)=>{const i=s.subscribe;return s.subscribe=((d,m,p)=>{let g=d;if(m){const x=p?.equalityFn||Object.is;let y=d(s.getState());g=C=>{const T=d(C);if(!x(y,T)){const E=y;m(y=T,E)}},p?.fireImmediately&&m(y,y)}return i(g)}),t(a,r,s)},DT=MT,Fy="http://localhost:8000",Yy="ws://localhost:8000",Bm={baseURL:Fy,wsBaseURL:Yy,endpoints:{audioEngine:"/audio-engine",api:{sequencer:"/api/sequencer",mixer:"/api/mixer",effects:"/api/effects",audio:"/api/audio",samples:"/api/samples",compositions:"/api/compositions",ai:"/api/ai"},ws:{spectrum:"/api/ws/spectrum",waveform:"/api/ws/waveform",meters:"/api/ws/meters",transport:"/api/ws/transport"}},getURL(t){return`${Fy}${t}`},getWSURL(t){return`${Yy}${t}`}},_T=Bm.baseURL;class Lf extends Error{constructor(a,r,s){super(a),this.status=r,this.endpoint=s,this.name="APIError"}}class po{baseURL;constructor(a=_T){this.baseURL=a}async request(a,r){const s=`${this.baseURL}${a}`;try{const i=await fetch(s,{...r,headers:{"Content-Type":"application/json",...r?.headers}});if(!i.ok){let u=i.statusText;try{const d=await i.json();u=d.detail||d.message||u}catch{}throw new Lf(u,i.status,a)}return i.status===204?{}:i.json()}catch(i){throw i instanceof Lf?i:new Lf(i instanceof Error?i.message:"Network error",0,a)}}async get(a,r){let s=a;if(r&&Object.keys(r).length>0){const i=new URLSearchParams(Object.entries(r).filter(([u,d])=>d!=null).map(([u,d])=>[u,String(d)])).toString();s=`${a}?${i}`}return this.request(s,{method:"GET"})}async post(a,r){return this.request(a,{method:"POST",body:r?JSON.stringify(r):void 0})}async put(a,r){return this.request(a,{method:"PUT",body:r?JSON.stringify(r):void 0})}async patch(a,r){return this.request(a,{method:"PATCH",body:r?JSON.stringify(r):void 0})}async delete(a){return this.request(a,{method:"DELETE"})}}class AT extends po{async create(a){return this.post("/api/compositions/",a)}async list(){return this.get("/api/compositions/")}async getById(a,r=!1){return this.get(`/api/compositions/${a}`,{use_autosave:r})}async update(a,r){return this.put(`/api/compositions/${a}`,r)}async saveComposition(a,r=!0,s=!1,i){return this.post(`/api/compositions/${a}/save`,{composition_id:a,create_history:r,is_autosave:s,metadata:i})}async deleteComposition(a){return super.delete(`/api/compositions/${a}`)}async loadAll(){return this.post("/api/compositions/load-all",{})}async getChatHistory(a){return this.get(`/api/compositions/${a}/chat-history`)}async listHistory(a){return this.get(`/api/compositions/${a}/history`)}async restoreVersion(a,r){return this.post(`/api/compositions/${a}/restore/${r}`,{})}async recoverFromAutosave(a){return this.post(`/api/compositions/${a}/recover-autosave`,{})}}class OT extends po{async createSequence(a){return this.post("/api/sequencer/sequences",a)}async getSequences(){return this.get("/api/sequencer/sequences")}async getSequence(a){return this.get(`/api/sequencer/sequences/${a}`)}async updateSequence(a,r){return this.patch(`/api/sequencer/sequences/${a}`,r)}async deleteSequence(a){return this.delete(`/api/sequencer/sequences/${a}`)}async play(a,r){return this.post(`/api/sequencer/sequences/${a}/play`,r||{})}async stop(a){return this.post(`/api/sequencer/sequences/${a}/stop`,{})}async pause(a){return this.post(`/api/sequencer/sequences/${a}/pause`,{})}async resume(a){return this.post(`/api/sequencer/sequences/${a}/resume`,{})}async setTempo(a,r){return this.post(`/api/sequencer/sequences/${a}/tempo`,r)}async seek(a,r){return this.post(`/api/sequencer/sequences/${a}/seek`,r)}async getState(a){return this.get(`/api/sequencer/sequences/${a}/state`)}async addClip(a){const{sequence_id:r,...s}=a;return this.post(`/api/sequencer/sequences/${r}/clips`,s)}async getClip(a){return this.get(`/api/sequencer/clips/${a}`)}async updateClip(a,r){return this.patch(`/api/sequencer/clips/${a}`,r)}async deleteClip(a){return this.delete(`/api/sequencer/clips/${a}`)}async duplicateClip(a,r){return this.post(`/api/sequencer/sequences/${a}/clips/${r}/duplicate`,{})}async createTrack(a){return this.post("/api/sequencer/tracks",a)}async getTrack(a){return this.get(`/api/sequencer/tracks/${a}`)}async updateTrack(a,r){return this.put(`/api/sequencer/tracks/${a}`,r)}async renameTrack(a,r){return this.post(`/api/sequencer/tracks/${a}/rename`,r)}async muteTrack(a,r){return this.post(`/api/sequencer/tracks/${a}/mute`,r)}async soloTrack(a,r){return this.post(`/api/sequencer/tracks/${a}/solo`,r)}async deleteTrack(a){return this.delete(`/api/sequencer/tracks/${a}`)}async getSynthDefs(){return this.get("/api/sequencer/synthdefs")}async toggleMetronome(){return this.post("/api/sequencer/metronome/toggle",{})}async setMetronomeVolume(a){return this.post("/api/sequencer/metronome/volume",a)}async previewNote(a){return this.post("/api/sequencer/preview",a)}}class kT extends po{async getChannels(){return this.get("/api/mixer/channels")}async createChannel(a){return this.post("/api/mixer/channels",a)}async getChannel(a){return this.get(`/api/mixer/channels/${a}`)}async updateChannel(a,r){return this.patch(`/api/mixer/channels/${a}`,r)}async deleteChannel(a){return this.delete(`/api/mixer/channels/${a}`)}async getMaster(){return this.get("/api/mixer/master")}async updateMaster(a){return this.patch("/api/mixer/master",a)}}class zT extends po{async getDefinitions(){return(await this.get("/api/effects/definitions")).effects}async getCategories(){return this.get("/api/effects/categories")}async getEffectsByCategory(a){return(await this.get(`/api/effects/categories/${a}`)).effects}async getTrackEffectChain(a){return this.get(`/api/effects/track/${a}`)}async addEffect(a){return this.post(`/api/effects/track/${a.track_id}`,a)}async getEffect(a){return this.get(`/api/effects/${a}`)}async updateEffect(a,r){return this.patch(`/api/effects/${a}`,r)}async deleteEffect(a){return this.delete(`/api/effects/${a}`)}async moveEffect(a,r){return this.post(`/api/effects/${a}/move`,r)}async clearTrackEffects(a){return this.post(`/api/effects/track/${a}/clear`,{})}}class LT extends po{async createSynth(a){return this.post("/api/audio/synthesis/synths",a)}async getActiveSynths(){return this.get("/api/audio/synthesis/synths")}async getSynth(a){return this.get(`/api/audio/synthesis/synths/${a}`)}async setSynthParam(a,r){return this.put(`/api/audio/synthesis/synths/${a}`,r)}async deleteSynth(a,r=!0){return this.delete(`/api/audio/synthesis/synths/${a}?release=${r}`)}async deleteAllSynths(){return this.delete("/api/audio/synthesis/synths")}async setInputDevice(a){return this.post("/api/audio/input/device",a)}async stopInput(){return this.post("/api/audio/input/stop",{})}async setInputGain(a){return this.post("/api/audio/input/gain",a)}async getInputStatus(){return this.get("/api/audio/input/status")}}class PT extends po{async chat(a){return this.post("/api/ai/chat",a)}async getState(a={}){return this.post("/api/ai/state",a)}async getContext(){return this.get("/api/ai/context")}async executeAction(a){return this.post("/api/ai/action",a)}async executeBatchActions(a){return this.post("/api/ai/actions/batch",a)}}class UT extends po{async upload(a,r,s="Uncategorized"){const i=new FormData;i.append("file",a),i.append("name",r),i.append("category",s);const u=await fetch(`${this.baseURL}/api/samples/upload`,{method:"POST",body:i});if(!u.ok){const d=await u.json();throw new Error(d.detail||"Upload failed")}return u.json()}async getAll(){return this.get("/api/samples/")}async getById(a){return this.get(`/api/samples/${a}`)}async download(a){const r=await fetch(`${this.baseURL}/api/samples/${a}/download`);if(!r.ok)throw new Error("Download failed");return r.blob()}async update(a,r){const s=new URLSearchParams;return r.name!==void 0&&s.append("name",r.name),r.category!==void 0&&s.append("category",r.category),this.patch(`/api/samples/${a}?${s.toString()}`,{})}async deleteSample(a){return super.delete(`/api/samples/${a}`)}async updateDuration(a,r){const s=new FormData;s.append("duration",r.toString());const i=await fetch(`${this.baseURL}/api/samples/${a}/duration`,{method:"POST",body:s});if(!i.ok){const u=await i.json();throw new Error(u.detail||"Update duration failed")}return i.json()}}class BT{compositions;sequencer;mixer;effects;audio;ai;samples;constructor(a){this.compositions=new AT(a),this.sequencer=new OT(a),this.mixer=new kT(a),this.effects=new zT(a),this.audio=new LT(a),this.ai=new PT(a),this.samples=new UT(a)}}const ge=new BT;function HT(t){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",a.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Array(12).fill(0);let sm=1;class qT{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{const r=this.subscribers.indexOf(a);this.subscribers.splice(r,1)}),this.publish=a=>{this.subscribers.forEach(r=>r(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var r;const{message:s,...i}=a,u=typeof a?.id=="number"||((r=a.id)==null?void 0:r.length)>0?a.id:sm++,d=this.toasts.find(p=>p.id===u),m=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),d?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...a,id:u,title:s}),{...p,...a,id:u,dismissible:m,title:s}):p):this.addToast({title:s,...i,dismissible:m,id:u}),u},this.dismiss=a=>(a?(this.dismissedToasts.add(a),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:a,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),a),this.message=(a,r)=>this.create({...r,message:a}),this.error=(a,r)=>this.create({...r,message:a,type:"error"}),this.success=(a,r)=>this.create({...r,type:"success",message:a}),this.info=(a,r)=>this.create({...r,type:"info",message:a}),this.warning=(a,r)=>this.create({...r,type:"warning",message:a}),this.loading=(a,r)=>this.create({...r,type:"loading",message:a}),this.promise=(a,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:a,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(a instanceof Function?a():a);let u=s!==void 0,d;const m=i.then(async g=>{if(d=["resolve",g],wt.isValidElement(g))u=!1,this.create({id:s,type:"default",message:g});else if($T(g)&&!g.ok){u=!1;const y=typeof r.error=="function"?await r.error(`HTTP error! status: ${g.status}`):r.error,C=typeof r.description=="function"?await r.description(`HTTP error! status: ${g.status}`):r.description,E=typeof y=="object"&&!wt.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:C,...E})}else if(g instanceof Error){u=!1;const y=typeof r.error=="function"?await r.error(g):r.error,C=typeof r.description=="function"?await r.description(g):r.description,E=typeof y=="object"&&!wt.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:C,...E})}else if(r.success!==void 0){u=!1;const y=typeof r.success=="function"?await r.success(g):r.success,C=typeof r.description=="function"?await r.description(g):r.description,E=typeof y=="object"&&!wt.isValidElement(y)?y:{message:y};this.create({id:s,type:"success",description:C,...E})}}).catch(async g=>{if(d=["reject",g],r.error!==void 0){u=!1;const x=typeof r.error=="function"?await r.error(g):r.error,y=typeof r.description=="function"?await r.description(g):r.description,T=typeof x=="object"&&!wt.isValidElement(x)?x:{message:x};this.create({id:s,type:"error",description:y,...T})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),p=()=>new Promise((g,x)=>m.then(()=>d[0]==="reject"?x(d[1]):g(d[1])).catch(x));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(a,r)=>{const s=r?.id||sm++;return this.create({jsx:a(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const $n=new qT,IT=(t,a)=>{const r=a?.id||sm++;return $n.addToast({title:t,...a,id:r}),r},$T=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",FT=IT,YT=()=>$n.toasts,VT=()=>$n.getActiveToasts(),de=Object.assign(FT,{success:$n.success,info:$n.info,warning:$n.warning,error:$n.error,custom:$n.custom,message:$n.message,promise:$n.promise,dismiss:$n.dismiss,loading:$n.loading},{getHistory:YT,getToasts:VT});HT("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");class GT{channel;listeners=new Map;constructor(){this.channel=new BroadcastChannel("sonic-claude-sync"),this.setupMessageHandler(),console.log(" WindowManager initialized")}setupMessageHandler(){this.channel.onmessage=a=>{const{key:r,value:s}=a.data,i=this.listeners.get(r);i&&i.forEach(u=>u(s))}}broadcastState(a,r){const s={key:a,value:r,timestamp:Date.now()};this.channel.postMessage(s)}subscribeToState(a,r){return this.listeners.has(a)||this.listeners.set(a,new Set),this.listeners.get(a).add(r),()=>{const s=this.listeners.get(a);s&&(s.delete(r),s.size===0&&this.listeners.delete(a))}}openPopout(a,r){const u=window.screenX+50,d=window.screenY+50,m=`width=1200,height=800,left=${u},top=${d},resizable=yes,scrollbars=yes`,p=`/popout?tab=${a}&panels=${r.join(",")}`,g=window.open(p,`popout-${a}`,m);return g&&(console.log(` Opened popout for tab: ${a}`),this.broadcastState("popout-opened",{tabId:a,panelIds:r})),g}cleanup(){this.channel.close(),console.log(" WindowManager cleaned up")}}const Me=new GT;window.addEventListener("beforeunload",()=>{Me.cleanup()});const an={LAYOUT:"sonic-claude-layout-v2",WINDOW_STATE:"sonic-claude-window-state",ACTIVE_SEQUENCE_ID:"sonic-claude-active-sequence",SEQUENCER_SPLIT_RATIO:"sonic-claude-sequencer-split",ACTIVE_COMPOSITION_ID:"sonic-claude-active-composition",SETTINGS:"sonic-claude-settings",LAST_SESSION:"sonic-claude-last-session"};class XT{get(a,r){try{const s=localStorage.getItem(a);return s?JSON.parse(s):r}catch(s){return console.error(`Failed to parse localStorage key "${a}":`,s),r}}set(a,r){try{localStorage.setItem(a,JSON.stringify(r))}catch(s){console.error(`Failed to save to localStorage key "${a}":`,s)}}remove(a){try{localStorage.removeItem(a)}catch(r){console.error(`Failed to remove localStorage key "${a}":`,r)}}getLastSession(){return this.get(an.LAST_SESSION,null)}saveSession(a){this.set(an.LAST_SESSION,a)}clearSession(){this.remove(an.LAST_SESSION)}getActiveSequenceId(){return this.get(an.ACTIVE_SEQUENCE_ID,null)}setActiveSequenceId(a){a===null?this.remove(an.ACTIVE_SEQUENCE_ID):this.set(an.ACTIVE_SEQUENCE_ID,a)}getActiveCompositionId(){return this.get(an.ACTIVE_COMPOSITION_ID,null)}setActiveCompositionId(a){a===null?this.remove(an.ACTIVE_COMPOSITION_ID):this.set(an.ACTIVE_COMPOSITION_ID,a)}getSequencerSplitRatio(){return this.get(an.SEQUENCER_SPLIT_RATIO,60)}setSequencerSplitRatio(a){this.set(an.SEQUENCER_SPLIT_RATIO,a)}getLayout(){return this.get(an.LAYOUT,null)}setLayout(a){this.set(an.LAYOUT,a)}getSettings(){return this.get(an.SETTINGS,null)}setSettings(a){this.set(an.SETTINGS,a)}clearAll(){Object.values(an).forEach(a=>{this.remove(a)}),console.log(" Cleared all Sonic Claude state from localStorage")}}const us=new XT,ne=RT()(DT((t,a)=>({transport:null,meters:{},spectrum:[],waveform:null,analytics:null,activeComposition:null,compositions:[],hasUnsavedChanges:!1,tracks:[],clips:[],synthDefs:[],channels:[],master:null,effectDefinitions:[],effectChains:{},samples:[],sampleAssignments:{},activeSynths:{},zoom:.5,snapEnabled:!0,gridSize:16,isLooping:!0,loopStart:0,loopEnd:16,selectedClipId:null,showSampleBrowser:!1,showSequenceManager:!1,showSequenceSettings:!1,showPianoRoll:!1,pianoRollClipId:null,showMeters:!0,meterMode:"both",selectedChannelId:null,selectedEffectId:null,showEffectBrowser:!1,chatHistory:[],analysisEvents:[],dawStateSnapshot:null,aiContext:null,activities:[],activityHistory:[],isAIActive:!1,setTransport:r=>t({transport:r}),setMeters:r=>t({meters:r}),setSpectrum:r=>t({spectrum:r}),setWaveform:r=>t({waveform:r}),setAnalytics:r=>t({analytics:r}),play:async()=>{try{const{activeComposition:r}=a();if(!r){de.error("No active composition");return}await ge.sequencer.play(r.id,{})}catch(r){console.error("Failed to play:",r),de.error("Failed to play")}},stop:async()=>{try{const{activeComposition:r}=a();r&&await ge.sequencer.stop(r.id)}catch(r){console.error("Failed to stop playback:",r),de.error("Failed to stop playback")}},pause:async()=>{try{const{activeComposition:r}=a();r&&await ge.sequencer.pause(r.id)}catch(r){console.error("Failed to pause playback:",r),de.error("Failed to pause playback")}},resume:async()=>{try{const{activeComposition:r}=a();r&&await ge.sequencer.resume(r.id)}catch(r){console.error("Failed to resume playback:",r),de.error("Failed to resume playback")}},setTempo:async r=>{try{const{activeComposition:s}=a();s&&(await ge.sequencer.setTempo(s.id,{tempo:r}),t(i=>({activeComposition:i.activeComposition?{...i.activeComposition,tempo:r}:null,hasUnsavedChanges:!0})))}catch(s){console.error("Failed to set tempo:",s),de.error("Failed to set tempo")}},toggleMetronome:async()=>{try{await ge.sequencer.toggleMetronome()}catch(r){console.error("Failed to toggle metronome:",r),de.error("Failed to toggle metronome")}},seek:async(r,s=!1)=>{try{const{activeComposition:i}=a();if(!i)return;await ge.sequencer.seek(i.id,{position:r,trigger_audio:s})}catch(i){console.error("Failed to seek:",i),de.error("Failed to seek")}},createTrack:async(r,s,i)=>{try{const{activeComposition:u}=a();if(!u){de.error("No active composition");return}const d=await ge.sequencer.createTrack({sequence_id:u.id,name:r,type:s,instrument:i});t(m=>({tracks:[...m.tracks,d],hasUnsavedChanges:!0})),Me.broadcastState("tracks",a().tracks),de.success(`Created track: ${r}`)}catch(u){console.error("Failed to create track:",u),de.error("Failed to create track")}},deleteTrack:async r=>{try{await ge.sequencer.deleteTrack(r),t(s=>({tracks:s.tracks.filter(i=>i.id!==r),clips:s.clips.filter(i=>i.track_id!==r),hasUnsavedChanges:!0})),Me.broadcastState("tracks",a().tracks),Me.broadcastState("clips",a().clips),de.success("Track deleted")}catch(s){console.error("Failed to delete track:",s),de.error("Failed to delete track")}},renameTrack:async(r,s)=>{try{await ge.sequencer.updateTrack(r,{name:s}),t(i=>({tracks:i.tracks.map(u=>u.id===r?{...u,name:s}:u),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to rename track:",i),de.error("Failed to rename track")}},updateTrack:async(r,s)=>{try{await ge.sequencer.updateTrack(r,s),t(i=>({tracks:i.tracks.map(u=>u.id===r?{...u,...s}:u),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to update track:",i),de.error("Failed to update track")}},updateTrackVolume:async(r,s)=>{try{await ge.sequencer.updateTrack(r,{volume:s}),t(i=>({tracks:i.tracks.map(u=>u.id===r?{...u,volume:s}:u),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to update track volume:",i),de.error("Failed to update track volume")}},updateTrackPan:async(r,s)=>{try{await ge.sequencer.updateTrack(r,{pan:s}),t(i=>({tracks:i.tracks.map(u=>u.id===r?{...u,pan:s}:u),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to update track pan:",i),de.error("Failed to update track pan")}},muteTrack:async(r,s)=>{try{await ge.sequencer.muteTrack(r,{muted:s}),t(i=>({tracks:i.tracks.map(u=>u.id===r?{...u,is_muted:s}:u),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to mute track:",i),de.error("Failed to mute track")}},soloTrack:async(r,s)=>{try{await ge.sequencer.soloTrack(r,{soloed:s}),t(i=>({tracks:i.tracks.map(u=>u.id===r?{...u,is_solo:s}:u),hasUnsavedChanges:!0}))}catch(i){console.error("Failed to solo track:",i),de.error("Failed to solo track")}},addClip:async r=>{try{const s=await ge.sequencer.addClip(r);t(i=>({clips:[...i.clips,s]})),Me.broadcastState("clips",a().clips)}catch(s){console.error("Failed to add clip:",s),de.error("Failed to add clip")}},updateClip:async(r,s)=>{try{const i=await ge.sequencer.updateClip(r,s);t(u=>({clips:u.clips.map(d=>d.id===r?i:d)})),Me.broadcastState("clips",a().clips)}catch(i){console.error("Failed to update clip:",i),de.error("Failed to update clip")}},deleteClip:async r=>{try{await ge.sequencer.deleteClip(r),t(s=>({clips:s.clips.filter(i=>i.id!==r)})),Me.broadcastState("clips",a().clips)}catch(s){console.error("Failed to delete clip:",s),de.error("Failed to delete clip")}},duplicateClip:async(r,s)=>{try{const i=await ge.sequencer.duplicateClip(r,s);t(u=>({clips:[...u.clips,i]})),Me.broadcastState("clips",a().clips),de.success("Clip duplicated")}catch(i){console.error("Failed to duplicate clip:",i),de.error("Failed to duplicate clip")}},loadSynthDefs:async()=>{try{const r=await ge.sequencer.getSynthDefs();t({synthDefs:r})}catch(r){console.error("Failed to load synth defs:",r),de.error("Failed to load synth defs")}},loadChannels:async()=>{try{const r=await ge.mixer.getChannels();t({channels:r}),Me.broadcastState("channels",r)}catch(r){console.error("Failed to load channels:",r),de.error("Failed to load channels")}},loadMixerState:async r=>{try{const s=r.channels||[],i=r.master||null;t({channels:s,master:i}),Me.broadcastState("channels",s),Me.broadcastState("master",i)}catch(s){throw console.error("Failed to load mixer state:",s),de.error("Failed to load mixer state"),s}},updateChannelVolume:async(r,s)=>{try{const i=await ge.mixer.updateChannel(r,{fader:s});t(u=>({channels:u.channels.map(d=>d.id===r?i:d)})),Me.broadcastState("channels",a().channels)}catch(i){console.error("Failed to update channel volume:",i),de.error("Failed to update channel volume")}},updateChannelPan:async(r,s)=>{try{const i=await ge.mixer.updateChannel(r,{pan:s});t(u=>({channels:u.channels.map(d=>d.id===r?i:d)})),Me.broadcastState("channels",a().channels)}catch(i){console.error("Failed to update channel pan:",i),de.error("Failed to update channel pan")}},toggleChannelMute:async r=>{try{const s=a().channels.find(u=>u.id===r);if(!s)return;const i=await ge.mixer.updateChannel(r,{mute:!s.mute});t(u=>({channels:u.channels.map(d=>d.id===r?i:d)})),Me.broadcastState("channels",a().channels)}catch(s){console.error("Failed to toggle channel mute:",s),de.error("Failed to toggle channel mute")}},toggleChannelSolo:async r=>{try{const s=a().channels.find(u=>u.id===r);if(!s)return;const i=await ge.mixer.updateChannel(r,{solo:!s.solo});t(u=>({channels:u.channels.map(d=>d.id===r?i:d)})),Me.broadcastState("channels",a().channels)}catch(s){console.error("Failed to toggle channel solo:",s),de.error("Failed to toggle channel solo")}},loadMaster:async()=>{try{const r=await ge.mixer.getMaster();t({master:r}),Me.broadcastState("master",r)}catch(r){console.error("Failed to load master channel:",r),de.error("Failed to load master channel")}},updateMasterFader:async r=>{try{const s=await ge.mixer.updateMaster({fader:r});t({master:s}),Me.broadcastState("master",s)}catch(s){console.error("Failed to update master fader:",s),de.error("Failed to update master fader")}},toggleMasterMute:async()=>{try{const{master:r}=a();if(!r)return;const s=await ge.mixer.updateMaster({mute:!r.mute});t({master:s}),Me.broadcastState("master",s)}catch(r){console.error("Failed to toggle master mute:",r),de.error("Failed to toggle master mute")}},toggleLimiter:async()=>{try{const{master:r}=a();if(!r)return;const s=await ge.mixer.updateMaster({limiter_enabled:!r.limiter_enabled});t({master:s}),Me.broadcastState("master",s)}catch(r){console.error("Failed to toggle limiter:",r),de.error("Failed to toggle limiter")}},setLimiterThreshold:async r=>{try{const s=await ge.mixer.updateMaster({limiter_threshold:r});t({master:s}),Me.broadcastState("master",s)}catch(s){console.error("Failed to set limiter threshold:",s),de.error("Failed to set limiter threshold")}},loadEffectDefinitions:async()=>{try{const r=await ge.effects.getDefinitions();t({effectDefinitions:r}),Me.broadcastState("effectDefinitions",r)}catch(r){console.error("Failed to load effect definitions:",r),de.error("Failed to load effect definitions")}},loadEffectChain:async r=>{try{const s=await ge.effects.getTrackEffectChain(r);t(i=>({effectChains:{...i.effectChains,[r]:s}})),Me.broadcastState("effectChains",a().effectChains)}catch(s){console.error("Failed to load effect chain:",s),de.error("Failed to load effect chain")}},loadEffectChains:async r=>{try{const s={};for(const i of r)s[i.track_id]=i;t({effectChains:s}),Me.broadcastState("effectChains",s)}catch(s){throw console.error("Failed to load effect chains:",s),de.error("Failed to load effect chains"),s}},addEffect:async(r,s,i)=>{try{const u=await ge.effects.addEffect({track_id:r,effect_name:s,slot_index:i});t(d=>{const m=d.effectChains[r]||{track_id:r,effects:[]},p=[...m.effects,u],g={...m,effects:p};return{effectChains:{...d.effectChains,[r]:g}}}),Me.broadcastState("effectChains",a().effectChains),de.success(`Added effect: ${s}`)}catch(u){console.error("Failed to add effect:",u),de.error("Failed to add effect")}},deleteEffect:async r=>{try{await ge.effects.deleteEffect(r),t(s=>{const i={...s.effectChains};return Object.keys(i).forEach(u=>{i[u]={...i[u],effects:i[u].effects.filter(d=>d.id!==r)}}),{effectChains:i}}),Me.broadcastState("effectChains",a().effectChains),de.success("Effect deleted")}catch(s){console.error("Failed to delete effect:",s),de.error("Failed to delete effect")}},moveEffect:async(r,s)=>{try{await ge.effects.moveEffect(r,{new_slot_index:s}),t(i=>{const u={...i.effectChains};return Object.keys(u).forEach(d=>{const m=u[d].effects.findIndex(p=>p.id===r);if(m!==-1){const p=[...u[d].effects],[g]=p.splice(m,1);p.splice(s,0,g),u[d]={...u[d],effects:p}}}),{effectChains:u}})}catch(i){console.error("Failed to move effect:",i),de.error("Failed to move effect")}},toggleEffectBypass:async r=>{try{let s=!1;const{effectChains:i}=a();Object.values(i).forEach(u=>{const d=u.effects.find(m=>m.id===r);d&&(s=d.is_bypassed)}),await ge.effects.updateEffect(r,{bypassed:!s}),t(u=>{const d={...u.effectChains};return Object.keys(d).forEach(m=>{d[m]={...d[m],effects:d[m].effects.map(p=>p.id===r?{...p,bypassed:!s}:p)}}),{effectChains:d}})}catch(s){console.error("Failed to toggle effect bypass:",s),de.error("Failed to toggle effect bypass")}},updateEffectParameter:async(r,s,i)=>{try{await ge.effects.updateEffect(r,{parameters:{[s]:i}}),t(u=>{const d={...u.effectChains};return Object.keys(d).forEach(m=>{d[m]={...d[m],effects:d[m].effects.map(p=>p.id===r?{...p,parameters:{...p.parameters,[s]:i}}:p)}}),{effectChains:d}})}catch(u){console.error("Failed to update effect parameter:",u),de.error("Failed to update effect parameter")}},loadSamples:async()=>{try{const r=await ge.samples.getAll();t({samples:r.samples}),Me.broadcastState("samples",r.samples)}catch(r){console.error("Failed to load samples:",r),de.error("Failed to load samples")}},uploadSample:async(r,s,i="Uncategorized")=>{try{await ge.samples.upload(r,s,i),await a().loadSamples(),de.success(`Uploaded sample: ${s}`)}catch(u){console.error("Failed to upload sample:",u),de.error("Failed to upload sample")}},deleteSample:async r=>{try{await ge.samples.deleteSample(r),await a().loadSamples(),de.success("Sample deleted")}catch(s){console.error("Failed to delete sample:",s),de.error("Failed to delete sample")}},updateSample:async(r,s,i)=>{try{await ge.samples.update(r,{name:s,category:i}),await a().loadSamples(),de.success("Sample updated")}catch(u){console.error("Failed to update sample:",u),de.error("Failed to update sample")}},loadSampleAssignments:async r=>{try{t({sampleAssignments:r}),Me.broadcastState("sampleAssignments",r)}catch(s){throw console.error("Failed to load sample assignments:",s),de.error("Failed to load sample assignments"),s}},assignSample:(r,s)=>{t(i=>{const u={...i.sampleAssignments,[r]:s};return Me.broadcastState("sampleAssignments",u),{sampleAssignments:u}})},unassignSample:r=>{t(s=>{const i={...s.sampleAssignments};return delete i[r],Me.broadcastState("sampleAssignments",i),{sampleAssignments:i}})},createSynth:async(r,s,i,u)=>{try{const d=await ge.audio.createSynth({synthdef:r,params:s,group:i,bus:u??void 0}),m={id:d.synth_id,synthdef:r,group:i??d.group,bus:u??null};return t(p=>({activeSynths:{...p.activeSynths,[m.id]:m}})),m}catch(d){throw console.error("Failed to create synth:",d),de.error("Failed to create synth"),d}},setSynthParam:async(r,s,i)=>{try{await ge.audio.setSynthParam(r,{param:s,value:i})}catch(u){console.error("Failed to set synth param:",u),de.error("Failed to set synth param")}},releaseSynth:async r=>{try{await ge.audio.deleteSynth(r,!0)}catch(s){console.error("Failed to release synth:",s),de.error("Failed to release synth")}},freeSynth:async(r,s=!1)=>{try{await ge.audio.deleteSynth(r,!s),t(i=>{const u={...i.activeSynths};return delete u[r],{activeSynths:u}})}catch(i){console.error("Failed to free synth:",i),de.error("Failed to free synth")}},freeAllSynths:async()=>{try{await ge.audio.deleteAllSynths(),t({activeSynths:{}})}catch(r){console.error("Failed to free all synths:",r),de.error("Failed to free all synths")}},previewNote:async(r,s=100,i=1,u="default")=>{try{await ge.sequencer.previewNote({note:r,velocity:s,duration:i,synthdef:u})}catch(d){console.error("Failed to preview note:",d),de.error("Failed to preview note")}},loadCompositions:async()=>{try{const r=await ge.compositions.list();t({compositions:r.compositions})}catch(r){console.error("Failed to load compositions:",r),de.error("Failed to load compositions")}},createComposition:async(r,s=120,i="4/4")=>{try{const u=await ge.compositions.create({name:r,tempo:s,time_signature:i});await a().loadComposition(u.composition_id),await a().loadCompositions(),de.success(`Created composition: ${r}`)}catch(u){throw console.error("Failed to create composition:",u),de.error("Failed to create composition"),u}},loadComposition:async r=>{try{const s=await ge.compositions.getById(r),i=s.tracks||[],u=s.clips||[],d=s.mixer_state?.channels||[],m=s.mixer_state?.master||null,p=s.track_effects||[],g={};p.forEach(y=>{g[y.track_id]=y});const x=s.sample_assignments||{};t({activeComposition:s,tracks:i,clips:u,channels:d,master:m,effectChains:g,sampleAssignments:x,hasUnsavedChanges:!1,isLooping:s.loop_enabled??!1,loopStart:s.loop_start??0,loopEnd:s.loop_end??16}),us.setActiveSequenceId(r),Me.broadcastState("activeComposition",s),Me.broadcastState("tracks",i),Me.broadcastState("clips",u),Me.broadcastState("channels",d),Me.broadcastState("master",m),Me.broadcastState("effectChains",g),Me.broadcastState("sampleAssignments",x),de.success(`Loaded composition: ${s.name}`)}catch(s){throw console.error("Failed to load composition:",s),de.error("Failed to load composition"),s}},saveComposition:async(r=!0,s=!1)=>{try{const{activeComposition:i}=a();if(!i)throw new Error("No active composition to save");await ge.compositions.saveComposition(i.id,r,s),t({hasUnsavedChanges:!1}),s||de.success(`Saved composition: ${i.name}`),await a().loadCompositions()}catch(i){throw console.error("Failed to save composition:",i),s||de.error("Failed to save composition"),i}},updateCompositionMetadata:async(r,s,i)=>{try{const{activeComposition:u}=a();if(!u)throw new Error("No active composition");await ge.compositions.update(u.id,{name:r,tempo:s,time_signature:i});const d={...u};r&&(d.name=r),s&&(d.tempo=s),i&&(d.time_signature=i),t({activeComposition:d,hasUnsavedChanges:!0}),de.success("Composition updated")}catch(u){throw console.error("Failed to update composition:",u),de.error("Failed to update composition"),u}},deleteComposition:async r=>{try{await ge.compositions.deleteComposition(r);const{activeComposition:s}=a();s?.id===r&&t({activeComposition:null,tracks:[],clips:[],channels:[],master:null,effectChains:{},sampleAssignments:{}}),await a().loadCompositions(),de.success("Composition deleted")}catch(s){throw console.error("Failed to delete composition:",s),de.error("Failed to delete composition"),s}},markCompositionChanged:()=>{t({hasUnsavedChanges:!0})},markCompositionSaved:()=>{t({hasUnsavedChanges:!1})},setZoom:r=>t({zoom:r}),setSnapEnabled:r=>t({snapEnabled:r}),setGridSize:r=>t({gridSize:r}),setIsLooping:async r=>{t({isLooping:r});const{activeComposition:s}=a();if(s){const i={...s,loop_enabled:r};t({activeComposition:i,hasUnsavedChanges:!0});try{await ge.sequencer.updateSequence(s.id,{loop_enabled:r})}catch(u){console.error("Failed to update loop enabled:",u)}}},setLoopStart:async r=>{t({loopStart:r});const{activeComposition:s}=a();if(s){const i={...s,loop_start:r};t({activeComposition:i,hasUnsavedChanges:!0});try{await ge.sequencer.updateSequence(s.id,{loop_start:r})}catch(u){console.error("Failed to update loop start:",u)}}},setLoopEnd:async r=>{t({loopEnd:r});const{activeComposition:s}=a();if(s){const i={...s,loop_end:r};t({activeComposition:i,hasUnsavedChanges:!0});try{await ge.sequencer.updateSequence(s.id,{loop_end:r})}catch(u){console.error("Failed to update loop end:",u)}}},setSelectedClipId:r=>t({selectedClipId:r}),setShowSampleBrowser:r=>t({showSampleBrowser:r}),setShowSequenceManager:r=>t({showSequenceManager:r}),setShowSequenceSettings:r=>t({showSequenceSettings:r}),openPianoRoll:r=>t({showPianoRoll:!0,pianoRollClipId:r}),closePianoRoll:()=>t({showPianoRoll:!1,pianoRollClipId:null}),setShowMeters:r=>t({showMeters:r}),setMeterMode:r=>t({meterMode:r}),setSelectedChannelId:r=>t({selectedChannelId:r}),setSelectedEffectId:r=>t({selectedEffectId:r}),setShowEffectBrowser:r=>t({showEffectBrowser:r}),addChatMessage:r=>{t(s=>({chatHistory:[...s.chatHistory,r]})),Me.broadcastState("chatHistory",a().chatHistory)},clearChatHistory:()=>{t({chatHistory:[]}),Me.broadcastState("chatHistory",[])},addAnalysisEvent:r=>{t(s=>({analysisEvents:[...s.analysisEvents,r]})),Me.broadcastState("analysisEvents",a().analysisEvents)},clearAnalysisEvents:()=>{t({analysisEvents:[]}),Me.broadcastState("analysisEvents",[])},setDAWStateSnapshot:r=>{t({dawStateSnapshot:r}),Me.broadcastState("dawStateSnapshot",r)},setAIContext:r=>{t({aiContext:r}),Me.broadcastState("aiContext",r)},startActivity:(r,s,i={})=>{const u=`activity-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,d={id:u,action:r,status:"in-progress",message:s,timestamp:Date.now(),duration:i.duration,targetId:i.targetId,targetType:i.targetType,tabId:i.tabId,metadata:i.metadata};return t(m=>({activities:[...m.activities,d],isAIActive:!0})),Me.broadcastState("ai-activity",{activities:a().activities,activityHistory:a().activityHistory,isAIActive:!0}),u},completeActivity:(r,s,i)=>{t(u=>{const d=u.activities.find(x=>x.id===r);if(!d)return u;const m={...d,status:s?"success":"error",message:i||d.message},p=u.activities.filter(x=>x.id!==r),g=[m,...u.activityHistory].slice(0,50);return{activities:p,activityHistory:g,isAIActive:p.length>0}}),Me.broadcastState("ai-activity",{activities:a().activities,activityHistory:a().activityHistory,isAIActive:a().isAIActive}),setTimeout(()=>{t(u=>({activityHistory:u.activityHistory.filter(d=>d.id!==r)}))},5e3)},updateActivity:(r,s)=>{t(i=>({activities:i.activities.map(u=>u.id===r?{...u,...s}:u)})),Me.broadcastState("ai-activity",{activities:a().activities,activityHistory:a().activityHistory,isAIActive:a().isAIActive})},clearActivities:()=>{t({activities:[],isAIActive:!1}),Me.broadcastState("ai-activity",{activities:[],activityHistory:a().activityHistory,isAIActive:!1})},clearActivityHistory:()=>{t({activityHistory:[]}),Me.broadcastState("ai-activity",{activities:a().activities,activityHistory:[],isAIActive:a().isAIActive})},getActivitiesForTarget:r=>a().activities.filter(s=>s.targetId===r),getActivitiesForTab:r=>a().activities.filter(s=>s.tabId===r),getActivityById:r=>a().activities.find(s=>s.id===r)})));function Vy(t,a){if(typeof t=="function")return t(a);t!=null&&(t.current=a)}function Fc(...t){return a=>{let r=!1;const s=t.map(i=>{const u=Vy(i,a);return!r&&typeof u=="function"&&(r=!0),u});if(r)return()=>{for(let i=0;i<s.length;i++){const u=s[i];typeof u=="function"?u():Vy(t[i],null)}}}}function qe(...t){return h.useCallback(Fc(...t),t)}function lo(t){const a=KT(t),r=h.forwardRef((s,i)=>{const{children:u,...d}=s,m=h.Children.toArray(u),p=m.find(WT);if(p){const g=p.props.children,x=m.map(y=>y===p?h.Children.count(g)>1?h.Children.only(null):h.isValidElement(g)?g.props.children:null:y);return c.jsx(a,{...d,ref:i,children:h.isValidElement(g)?h.cloneElement(g,void 0,x):null})}return c.jsx(a,{...d,ref:i,children:u})});return r.displayName=`${t}.Slot`,r}var z0=lo("Slot");function KT(t){const a=h.forwardRef((r,s)=>{const{children:i,...u}=r;if(h.isValidElement(i)){const d=ZT(i),m=QT(u,i.props);return i.type!==h.Fragment&&(m.ref=s?Fc(s,d):d),h.cloneElement(i,m)}return h.Children.count(i)>1?h.Children.only(null):null});return a.displayName=`${t}.SlotClone`,a}var L0=Symbol("radix.slottable");function P0(t){const a=({children:r})=>c.jsx(c.Fragment,{children:r});return a.displayName=`${t}.Slottable`,a.__radixId=L0,a}function WT(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===L0}function QT(t,a){const r={...a};for(const s in a){const i=t[s],u=a[s];/^on[A-Z]/.test(s)?i&&u?r[s]=(...m)=>{const p=u(...m);return i(...m),p}:i&&(r[s]=i):s==="style"?r[s]={...i,...u}:s==="className"&&(r[s]=[i,u].filter(Boolean).join(" "))}return{...t,...r}}function ZT(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var JT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=JT.reduce((t,a)=>{const r=lo(`Primitive.${a}`),s=h.forwardRef((i,u)=>{const{asChild:d,...m}=i,p=d?r:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(p,{...m,ref:u})});return s.displayName=`Primitive.${a}`,{...t,[a]:s}},{});function U0(t,a){t&&Ul.flushSync(()=>t.dispatchEvent(a))}var B0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eR="VisuallyHidden",H0=h.forwardRef((t,a)=>c.jsx(ke.span,{...t,ref:a,style:{...B0,...t.style}}));H0.displayName=eR;var tR=H0;function nR(t,a){const r=h.createContext(a),s=u=>{const{children:d,...m}=u,p=h.useMemo(()=>m,Object.values(m));return c.jsx(r.Provider,{value:p,children:d})};s.displayName=t+"Provider";function i(u){const d=h.useContext(r);if(d)return d;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${t}\``)}return[s,i]}function ia(t,a=[]){let r=[];function s(u,d){const m=h.createContext(d),p=r.length;r=[...r,d];const g=y=>{const{scope:C,children:T,...E}=y,b=C?.[t]?.[p]||m,S=h.useMemo(()=>E,Object.values(E));return c.jsx(b.Provider,{value:S,children:T})};g.displayName=u+"Provider";function x(y,C){const T=C?.[t]?.[p]||m,E=h.useContext(T);if(E)return E;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${u}\``)}return[g,x]}const i=()=>{const u=r.map(d=>h.createContext(d));return function(m){const p=m?.[t]||u;return h.useMemo(()=>({[`__scope${t}`]:{...m,[t]:p}}),[m,p])}};return i.scopeName=t,[s,aR(i,...a)]}function aR(...t){const a=t[0];if(t.length===1)return a;const r=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(u){const d=s.reduce((m,{useScope:p,scopeName:g})=>{const y=p(u)[`__scope${g}`];return{...m,...y}},{});return h.useMemo(()=>({[`__scope${a.scopeName}`]:d}),[d])}};return r.scopeName=a.scopeName,r}function Yc(t){const a=t+"CollectionProvider",[r,s]=ia(a),[i,u]=r(a,{collectionRef:{current:null},itemMap:new Map}),d=b=>{const{scope:S,children:w}=b,j=wt.useRef(null),R=wt.useRef(new Map).current;return c.jsx(i,{scope:S,itemMap:R,collectionRef:j,children:w})};d.displayName=a;const m=t+"CollectionSlot",p=lo(m),g=wt.forwardRef((b,S)=>{const{scope:w,children:j}=b,R=u(m,w),A=qe(S,R.collectionRef);return c.jsx(p,{ref:A,children:j})});g.displayName=m;const x=t+"CollectionItemSlot",y="data-radix-collection-item",C=lo(x),T=wt.forwardRef((b,S)=>{const{scope:w,children:j,...R}=b,A=wt.useRef(null),_=qe(S,A),k=u(x,w);return wt.useEffect(()=>(k.itemMap.set(A,{ref:A,...R}),()=>{k.itemMap.delete(A)})),c.jsx(C,{[y]:"",ref:_,children:j})});T.displayName=x;function E(b){const S=u(t+"CollectionConsumer",b);return wt.useCallback(()=>{const j=S.collectionRef.current;if(!j)return[];const R=Array.from(j.querySelectorAll(`[${y}]`));return Array.from(S.itemMap.values()).sort((k,D)=>R.indexOf(k.ref.current)-R.indexOf(D.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:d,Slot:g,ItemSlot:T},E,s]}function xe(t,a,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return a?.(i)}}var rn=globalThis?.document?h.useLayoutEffect:()=>{},rR=n0[" useInsertionEffect ".trim().toString()]||rn;function Mr({prop:t,defaultProp:a,onChange:r=()=>{},caller:s}){const[i,u,d]=oR({defaultProp:a,onChange:r}),m=t!==void 0,p=m?t:i;{const x=h.useRef(t!==void 0);h.useEffect(()=>{const y=x.current;y!==m&&console.warn(`${s} is changing from ${y?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=m},[m,s])}const g=h.useCallback(x=>{if(m){const y=sR(x)?x(t):x;y!==t&&d.current?.(y)}else u(x)},[m,t,u,d]);return[p,g]}function oR({defaultProp:t,onChange:a}){const[r,s]=h.useState(t),i=h.useRef(r),u=h.useRef(a);return rR(()=>{u.current=a},[a]),h.useEffect(()=>{i.current!==r&&(u.current?.(r),i.current=r)},[r,i]),[r,s,u]}function sR(t){return typeof t=="function"}function lR(t,a){return h.useReducer((r,s)=>a[r][s]??r,t)}var Na=t=>{const{present:a,children:r}=t,s=iR(a),i=typeof r=="function"?r({present:s.isPresent}):h.Children.only(r),u=qe(s.ref,cR(i));return typeof r=="function"||s.isPresent?h.cloneElement(i,{ref:u}):null};Na.displayName="Presence";function iR(t){const[a,r]=h.useState(),s=h.useRef(null),i=h.useRef(t),u=h.useRef("none"),d=t?"mounted":"unmounted",[m,p]=lR(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const g=sc(s.current);u.current=m==="mounted"?g:"none"},[m]),rn(()=>{const g=s.current,x=i.current;if(x!==t){const C=u.current,T=sc(g);t?p("MOUNT"):T==="none"||g?.display==="none"?p("UNMOUNT"):p(x&&C!==T?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,p]),rn(()=>{if(a){let g;const x=a.ownerDocument.defaultView??window,y=T=>{const b=sc(s.current).includes(CSS.escape(T.animationName));if(T.target===a&&b&&(p("ANIMATION_END"),!i.current)){const S=a.style.animationFillMode;a.style.animationFillMode="forwards",g=x.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=S)})}},C=T=>{T.target===a&&(u.current=sc(s.current))};return a.addEventListener("animationstart",C),a.addEventListener("animationcancel",y),a.addEventListener("animationend",y),()=>{x.clearTimeout(g),a.removeEventListener("animationstart",C),a.removeEventListener("animationcancel",y),a.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[a,p]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:h.useCallback(g=>{s.current=g?getComputedStyle(g):null,r(g)},[])}}function sc(t){return t?.animationName||"none"}function cR(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var uR=n0[" useId ".trim().toString()]||(()=>{}),dR=0;function Sa(t){const[a,r]=h.useState(uR());return rn(()=>{r(s=>s??String(dR++))},[t]),a?`radix-${a}`:""}var fR=h.createContext(void 0);function Vc(t){const a=h.useContext(fR);return t||a||"ltr"}function Ca(t){const a=h.useRef(t);return h.useEffect(()=>{a.current=t}),h.useMemo(()=>(...r)=>a.current?.(...r),[])}function mR(t,a=globalThis?.document){const r=Ca(t);h.useEffect(()=>{const s=i=>{i.key==="Escape"&&r(i)};return a.addEventListener("keydown",s,{capture:!0}),()=>a.removeEventListener("keydown",s,{capture:!0})},[r,a])}var pR="DismissableLayer",lm="dismissableLayer.update",hR="dismissableLayer.pointerDownOutside",gR="dismissableLayer.focusOutside",Gy,q0=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bl=h.forwardRef((t,a)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:d,onDismiss:m,...p}=t,g=h.useContext(q0),[x,y]=h.useState(null),C=x?.ownerDocument??globalThis?.document,[,T]=h.useState({}),E=qe(a,D=>y(D)),b=Array.from(g.layers),[S]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(S),j=x?b.indexOf(x):-1,R=g.layersWithOutsidePointerEventsDisabled.size>0,A=j>=w,_=xR(D=>{const M=D.target,z=[...g.branches].some(I=>I.contains(M));!A||z||(i?.(D),d?.(D),D.defaultPrevented||m?.())},C),k=bR(D=>{const M=D.target;[...g.branches].some(I=>I.contains(M))||(u?.(D),d?.(D),D.defaultPrevented||m?.())},C);return mR(D=>{j===g.layers.size-1&&(s?.(D),!D.defaultPrevented&&m&&(D.preventDefault(),m()))},C),h.useEffect(()=>{if(x)return r&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Gy=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),Xy(),()=>{r&&g.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=Gy)}},[x,C,r,g]),h.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),Xy())},[x,g]),h.useEffect(()=>{const D=()=>T({});return document.addEventListener(lm,D),()=>document.removeEventListener(lm,D)},[]),c.jsx(ke.div,{...p,ref:E,style:{pointerEvents:R?A?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,_.onPointerDownCapture)})});Bl.displayName=pR;var vR="DismissableLayerBranch",yR=h.forwardRef((t,a)=>{const r=h.useContext(q0),s=h.useRef(null),i=qe(a,s);return h.useEffect(()=>{const u=s.current;if(u)return r.branches.add(u),()=>{r.branches.delete(u)}},[r.branches]),c.jsx(ke.div,{...t,ref:i})});yR.displayName=vR;function xR(t,a=globalThis?.document){const r=Ca(t),s=h.useRef(!1),i=h.useRef(()=>{});return h.useEffect(()=>{const u=m=>{if(m.target&&!s.current){let p=function(){I0(hR,r,g,{discrete:!0})};const g={originalEvent:m};m.pointerType==="touch"?(a.removeEventListener("click",i.current),i.current=p,a.addEventListener("click",i.current,{once:!0})):p()}else a.removeEventListener("click",i.current);s.current=!1},d=window.setTimeout(()=>{a.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(d),a.removeEventListener("pointerdown",u),a.removeEventListener("click",i.current)}},[a,r]),{onPointerDownCapture:()=>s.current=!0}}function bR(t,a=globalThis?.document){const r=Ca(t),s=h.useRef(!1);return h.useEffect(()=>{const i=u=>{u.target&&!s.current&&I0(gR,r,{originalEvent:u},{discrete:!1})};return a.addEventListener("focusin",i),()=>a.removeEventListener("focusin",i)},[a,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Xy(){const t=new CustomEvent(lm);document.dispatchEvent(t)}function I0(t,a,r,{discrete:s}){const i=r.originalEvent.target,u=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});a&&i.addEventListener(t,a,{once:!0}),s?U0(i,u):i.dispatchEvent(u)}var Pf="focusScope.autoFocusOnMount",Uf="focusScope.autoFocusOnUnmount",Ky={bubbles:!1,cancelable:!0},SR="FocusScope",Gc=h.forwardRef((t,a)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:u,...d}=t,[m,p]=h.useState(null),g=Ca(i),x=Ca(u),y=h.useRef(null),C=qe(a,b=>p(b)),T=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let b=function(R){if(T.paused||!m)return;const A=R.target;m.contains(A)?y.current=A:Rr(y.current,{select:!0})},S=function(R){if(T.paused||!m)return;const A=R.relatedTarget;A!==null&&(m.contains(A)||Rr(y.current,{select:!0}))},w=function(R){if(document.activeElement===document.body)for(const _ of R)_.removedNodes.length>0&&Rr(m)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const j=new MutationObserver(w);return m&&j.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),j.disconnect()}}},[s,m,T.paused]),h.useEffect(()=>{if(m){Qy.add(T);const b=document.activeElement;if(!m.contains(b)){const w=new CustomEvent(Pf,Ky);m.addEventListener(Pf,g),m.dispatchEvent(w),w.defaultPrevented||(wR(TR($0(m)),{select:!0}),document.activeElement===b&&Rr(m))}return()=>{m.removeEventListener(Pf,g),setTimeout(()=>{const w=new CustomEvent(Uf,Ky);m.addEventListener(Uf,x),m.dispatchEvent(w),w.defaultPrevented||Rr(b??document.body,{select:!0}),m.removeEventListener(Uf,x),Qy.remove(T)},0)}}},[m,g,x,T]);const E=h.useCallback(b=>{if(!r&&!s||T.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,w=document.activeElement;if(S&&w){const j=b.currentTarget,[R,A]=CR(j);R&&A?!b.shiftKey&&w===A?(b.preventDefault(),r&&Rr(R,{select:!0})):b.shiftKey&&w===R&&(b.preventDefault(),r&&Rr(A,{select:!0})):w===j&&b.preventDefault()}},[r,s,T.paused]);return c.jsx(ke.div,{tabIndex:-1,...d,ref:C,onKeyDown:E})});Gc.displayName=SR;function wR(t,{select:a=!1}={}){const r=document.activeElement;for(const s of t)if(Rr(s,{select:a}),document.activeElement!==r)return}function CR(t){const a=$0(t),r=Wy(a,t),s=Wy(a.reverse(),t);return[r,s]}function $0(t){const a=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)a.push(r.currentNode);return a}function Wy(t,a){for(const r of t)if(!ER(r,{upTo:a}))return r}function ER(t,{upTo:a}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(a!==void 0&&t===a)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function NR(t){return t instanceof HTMLInputElement&&"select"in t}function Rr(t,{select:a=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&NR(t)&&a&&t.select()}}var Qy=jR();function jR(){let t=[];return{add(a){const r=t[0];a!==r&&r?.pause(),t=Zy(t,a),t.unshift(a)},remove(a){t=Zy(t,a),t[0]?.resume()}}}function Zy(t,a){const r=[...t],s=r.indexOf(a);return s!==-1&&r.splice(s,1),r}function TR(t){return t.filter(a=>a.tagName!=="A")}var RR="Portal",Hl=h.forwardRef((t,a)=>{const{container:r,...s}=t,[i,u]=h.useState(!1);rn(()=>u(!0),[]);const d=r||i&&globalThis?.document?.body;return d?KN.createPortal(c.jsx(ke.div,{...s,ref:a}),d):null});Hl.displayName=RR;var Bf=0;function Hm(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Jy()),document.body.insertAdjacentElement("beforeend",t[1]??Jy()),Bf++,()=>{Bf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Bf--}},[])}function Jy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ya=function(){return ya=Object.assign||function(a){for(var r,s=1,i=arguments.length;s<i;s++){r=arguments[s];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(a[u]=r[u])}return a},ya.apply(this,arguments)};function F0(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)a.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}function MR(t,a,r){if(r||arguments.length===2)for(var s=0,i=a.length,u;s<i;s++)(u||!(s in a))&&(u||(u=Array.prototype.slice.call(a,0,s)),u[s]=a[s]);return t.concat(u||Array.prototype.slice.call(a))}var Sc="right-scroll-bar-position",wc="width-before-scroll-bar",DR="with-scroll-bars-hidden",_R="--removed-body-scroll-bar-size";function Hf(t,a){return typeof t=="function"?t(a):t&&(t.current=a),t}function AR(t,a){var r=h.useState(function(){return{value:t,callback:a,facade:{get current(){return r.value},set current(s){var i=r.value;i!==s&&(r.value=s,r.callback(s,i))}}}})[0];return r.callback=a,r.facade}var OR=typeof window<"u"?h.useLayoutEffect:h.useEffect,ex=new WeakMap;function kR(t,a){var r=AR(null,function(s){return t.forEach(function(i){return Hf(i,s)})});return OR(function(){var s=ex.get(r);if(s){var i=new Set(s),u=new Set(t),d=r.current;i.forEach(function(m){u.has(m)||Hf(m,null)}),u.forEach(function(m){i.has(m)||Hf(m,d)})}ex.set(r,t)},[t]),r}function zR(t){return t}function LR(t,a){a===void 0&&(a=zR);var r=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(u){var d=a(u,s);return r.push(d),function(){r=r.filter(function(m){return m!==d})}},assignSyncMedium:function(u){for(s=!0;r.length;){var d=r;r=[],d.forEach(u)}r={push:function(m){return u(m)},filter:function(){return r}}},assignMedium:function(u){s=!0;var d=[];if(r.length){var m=r;r=[],m.forEach(u),d=r}var p=function(){var x=d;d=[],x.forEach(u)},g=function(){return Promise.resolve().then(p)};g(),r={push:function(x){d.push(x),g()},filter:function(x){return d=d.filter(x),r}}}};return i}function PR(t){t===void 0&&(t={});var a=LR(null);return a.options=ya({async:!0,ssr:!1},t),a}var Y0=function(t){var a=t.sideCar,r=F0(t,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=a.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,ya({},r))};Y0.isSideCarExport=!0;function UR(t,a){return t.useMedium(a),Y0}var V0=PR(),qf=function(){},Xc=h.forwardRef(function(t,a){var r=h.useRef(null),s=h.useState({onScrollCapture:qf,onWheelCapture:qf,onTouchMoveCapture:qf}),i=s[0],u=s[1],d=t.forwardProps,m=t.children,p=t.className,g=t.removeScrollBar,x=t.enabled,y=t.shards,C=t.sideCar,T=t.noRelative,E=t.noIsolation,b=t.inert,S=t.allowPinchZoom,w=t.as,j=w===void 0?"div":w,R=t.gapMode,A=F0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=C,k=kR([r,a]),D=ya(ya({},A),i);return h.createElement(h.Fragment,null,x&&h.createElement(_,{sideCar:V0,removeScrollBar:g,shards:y,noRelative:T,noIsolation:E,inert:b,setCallbacks:u,allowPinchZoom:!!S,lockRef:r,gapMode:R}),d?h.cloneElement(h.Children.only(m),ya(ya({},D),{ref:k})):h.createElement(j,ya({},D,{className:p,ref:k}),m))});Xc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xc.classNames={fullWidth:wc,zeroRight:Sc};var BR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HR(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var a=BR();return a&&t.setAttribute("nonce",a),t}function qR(t,a){t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a))}function IR(t){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(t)}var $R=function(){var t=0,a=null;return{add:function(r){t==0&&(a=HR())&&(qR(a,r),IR(a)),t++},remove:function(){t--,!t&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},FR=function(){var t=$R();return function(a,r){h.useEffect(function(){return t.add(a),function(){t.remove()}},[a&&r])}},G0=function(){var t=FR(),a=function(r){var s=r.styles,i=r.dynamic;return t(s,i),null};return a},YR={left:0,top:0,right:0,gap:0},If=function(t){return parseInt(t||"",10)||0},VR=function(t){var a=window.getComputedStyle(document.body),r=a[t==="padding"?"paddingLeft":"marginLeft"],s=a[t==="padding"?"paddingTop":"marginTop"],i=a[t==="padding"?"paddingRight":"marginRight"];return[If(r),If(s),If(i)]},GR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return YR;var a=VR(t),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,s-r+a[2]-a[0])}},XR=G0(),ls="data-scroll-locked",KR=function(t,a,r,s){var i=t.left,u=t.top,d=t.right,m=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(DR,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(m,"px ").concat(s,`;
  }
  body[`).concat(ls,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sc,` {
    right: `).concat(m,"px ").concat(s,`;
  }
  
  .`).concat(wc,` {
    margin-right: `).concat(m,"px ").concat(s,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(wc," .").concat(wc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ls,`] {
    `).concat(_R,": ").concat(m,`px;
  }
`)},tx=function(){var t=parseInt(document.body.getAttribute(ls)||"0",10);return isFinite(t)?t:0},WR=function(){h.useEffect(function(){return document.body.setAttribute(ls,(tx()+1).toString()),function(){var t=tx()-1;t<=0?document.body.removeAttribute(ls):document.body.setAttribute(ls,t.toString())}},[])},QR=function(t){var a=t.noRelative,r=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;WR();var u=h.useMemo(function(){return GR(i)},[i]);return h.createElement(XR,{styles:KR(u,!a,i,r?"":"!important")})},im=!1;if(typeof window<"u")try{var lc=Object.defineProperty({},"passive",{get:function(){return im=!0,!0}});window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{im=!1}var Jo=im?{passive:!1}:!1,ZR=function(t){return t.tagName==="TEXTAREA"},X0=function(t,a){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[a]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZR(t)&&r[a]==="visible")},JR=function(t){return X0(t,"overflowY")},eM=function(t){return X0(t,"overflowX")},nx=function(t,a){var r=a.ownerDocument,s=a;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=K0(t,s);if(i){var u=W0(t,s),d=u[1],m=u[2];if(d>m)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},tM=function(t){var a=t.scrollTop,r=t.scrollHeight,s=t.clientHeight;return[a,r,s]},nM=function(t){var a=t.scrollLeft,r=t.scrollWidth,s=t.clientWidth;return[a,r,s]},K0=function(t,a){return t==="v"?JR(a):eM(a)},W0=function(t,a){return t==="v"?tM(a):nM(a)},aM=function(t,a){return t==="h"&&a==="rtl"?-1:1},rM=function(t,a,r,s,i){var u=aM(t,window.getComputedStyle(a).direction),d=u*s,m=r.target,p=a.contains(m),g=!1,x=d>0,y=0,C=0;do{if(!m)break;var T=W0(t,m),E=T[0],b=T[1],S=T[2],w=b-S-u*E;(E||w)&&K0(t,m)&&(y+=w,C+=E);var j=m.parentNode;m=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!p&&m!==document.body||p&&(a.contains(m)||a===m));return(x&&Math.abs(y)<1||!x&&Math.abs(C)<1)&&(g=!0),g},ic=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ax=function(t){return[t.deltaX,t.deltaY]},rx=function(t){return t&&"current"in t?t.current:t},oM=function(t,a){return t[0]===a[0]&&t[1]===a[1]},sM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lM=0,es=[];function iM(t){var a=h.useRef([]),r=h.useRef([0,0]),s=h.useRef(),i=h.useState(lM++)[0],u=h.useState(G0)[0],d=h.useRef(t);h.useEffect(function(){d.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=MR([t.lockRef.current],(t.shards||[]).map(rx),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var m=h.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!d.current.allowPinchZoom;var w=ic(b),j=r.current,R="deltaX"in b?b.deltaX:j[0]-w[0],A="deltaY"in b?b.deltaY:j[1]-w[1],_,k=b.target,D=Math.abs(R)>Math.abs(A)?"h":"v";if("touches"in b&&D==="h"&&k.type==="range")return!1;var M=window.getSelection(),z=M&&M.anchorNode,I=z?z===k||z.contains(k):!1;if(I)return!1;var $=nx(D,k);if(!$)return!0;if($?_=D:(_=D==="v"?"h":"v",$=nx(D,k)),!$)return!1;if(!s.current&&"changedTouches"in b&&(R||A)&&(s.current=_),!_)return!0;var V=s.current||_;return rM(V,S,b,V==="h"?R:A)},[]),p=h.useCallback(function(b){var S=b;if(!(!es.length||es[es.length-1]!==u)){var w="deltaY"in S?ax(S):ic(S),j=a.current.filter(function(_){return _.name===S.type&&(_.target===S.target||S.target===_.shadowParent)&&oM(_.delta,w)})[0];if(j&&j.should){S.cancelable&&S.preventDefault();return}if(!j){var R=(d.current.shards||[]).map(rx).filter(Boolean).filter(function(_){return _.contains(S.target)}),A=R.length>0?m(S,R[0]):!d.current.noIsolation;A&&S.cancelable&&S.preventDefault()}}},[]),g=h.useCallback(function(b,S,w,j){var R={name:b,delta:S,target:w,should:j,shadowParent:cM(w)};a.current.push(R),setTimeout(function(){a.current=a.current.filter(function(A){return A!==R})},1)},[]),x=h.useCallback(function(b){r.current=ic(b),s.current=void 0},[]),y=h.useCallback(function(b){g(b.type,ax(b),b.target,m(b,t.lockRef.current))},[]),C=h.useCallback(function(b){g(b.type,ic(b),b.target,m(b,t.lockRef.current))},[]);h.useEffect(function(){return es.push(u),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:C}),document.addEventListener("wheel",p,Jo),document.addEventListener("touchmove",p,Jo),document.addEventListener("touchstart",x,Jo),function(){es=es.filter(function(b){return b!==u}),document.removeEventListener("wheel",p,Jo),document.removeEventListener("touchmove",p,Jo),document.removeEventListener("touchstart",x,Jo)}},[]);var T=t.removeScrollBar,E=t.inert;return h.createElement(h.Fragment,null,E?h.createElement(u,{styles:sM(i)}):null,T?h.createElement(QR,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cM(t){for(var a=null;t!==null;)t instanceof ShadowRoot&&(a=t.host,t=t.host),t=t.parentNode;return a}const uM=UR(V0,iM);var Kc=h.forwardRef(function(t,a){return h.createElement(Xc,ya({},t,{ref:a,sideCar:uM}))});Kc.classNames=Xc.classNames;var dM=function(t){if(typeof document>"u")return null;var a=Array.isArray(t)?t[0]:t;return a.ownerDocument.body},ts=new WeakMap,cc=new WeakMap,uc={},$f=0,Q0=function(t){return t&&(t.host||Q0(t.parentNode))},fM=function(t,a){return a.map(function(r){if(t.contains(r))return r;var s=Q0(r);return s&&t.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},mM=function(t,a,r,s){var i=fM(a,Array.isArray(t)?t:[t]);uc[r]||(uc[r]=new WeakMap);var u=uc[r],d=[],m=new Set,p=new Set(i),g=function(y){!y||m.has(y)||(m.add(y),g(y.parentNode))};i.forEach(g);var x=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(C){if(m.has(C))x(C);else try{var T=C.getAttribute(s),E=T!==null&&T!=="false",b=(ts.get(C)||0)+1,S=(u.get(C)||0)+1;ts.set(C,b),u.set(C,S),d.push(C),b===1&&E&&cc.set(C,!0),S===1&&C.setAttribute(r,"true"),E||C.setAttribute(s,"true")}catch(w){console.error("aria-hidden: cannot operate on ",C,w)}})};return x(a),m.clear(),$f++,function(){d.forEach(function(y){var C=ts.get(y)-1,T=u.get(y)-1;ts.set(y,C),u.set(y,T),C||(cc.has(y)||y.removeAttribute(s),cc.delete(y)),T||y.removeAttribute(r)}),$f--,$f||(ts=new WeakMap,ts=new WeakMap,cc=new WeakMap,uc={})}},qm=function(t,a,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=dM(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),mM(s,i,r,"aria-hidden")):function(){return null}},Wc="Dialog",[Z0,J0]=ia(Wc),[pM,ca]=Z0(Wc),eb=t=>{const{__scopeDialog:a,children:r,open:s,defaultOpen:i,onOpenChange:u,modal:d=!0}=t,m=h.useRef(null),p=h.useRef(null),[g,x]=Mr({prop:s,defaultProp:i??!1,onChange:u,caller:Wc});return c.jsx(pM,{scope:a,triggerRef:m,contentRef:p,contentId:Sa(),titleId:Sa(),descriptionId:Sa(),open:g,onOpenChange:x,onOpenToggle:h.useCallback(()=>x(y=>!y),[x]),modal:d,children:r})};eb.displayName=Wc;var tb="DialogTrigger",nb=h.forwardRef((t,a)=>{const{__scopeDialog:r,...s}=t,i=ca(tb,r),u=qe(a,i.triggerRef);return c.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Fm(i.open),...s,ref:u,onClick:xe(t.onClick,i.onOpenToggle)})});nb.displayName=tb;var Im="DialogPortal",[hM,ab]=Z0(Im,{forceMount:void 0}),rb=t=>{const{__scopeDialog:a,forceMount:r,children:s,container:i}=t,u=ca(Im,a);return c.jsx(hM,{scope:a,forceMount:r,children:h.Children.map(s,d=>c.jsx(Na,{present:r||u.open,children:c.jsx(Hl,{asChild:!0,container:i,children:d})}))})};rb.displayName=Im;var Tc="DialogOverlay",ob=h.forwardRef((t,a)=>{const r=ab(Tc,t.__scopeDialog),{forceMount:s=r.forceMount,...i}=t,u=ca(Tc,t.__scopeDialog);return u.modal?c.jsx(Na,{present:s||u.open,children:c.jsx(vM,{...i,ref:a})}):null});ob.displayName=Tc;var gM=lo("DialogOverlay.RemoveScroll"),vM=h.forwardRef((t,a)=>{const{__scopeDialog:r,...s}=t,i=ca(Tc,r);return c.jsx(Kc,{as:gM,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(ke.div,{"data-state":Fm(i.open),...s,ref:a,style:{pointerEvents:"auto",...s.style}})})}),io="DialogContent",sb=h.forwardRef((t,a)=>{const r=ab(io,t.__scopeDialog),{forceMount:s=r.forceMount,...i}=t,u=ca(io,t.__scopeDialog);return c.jsx(Na,{present:s||u.open,children:u.modal?c.jsx(yM,{...i,ref:a}):c.jsx(xM,{...i,ref:a})})});sb.displayName=io;var yM=h.forwardRef((t,a)=>{const r=ca(io,t.__scopeDialog),s=h.useRef(null),i=qe(a,r.contentRef,s);return h.useEffect(()=>{const u=s.current;if(u)return qm(u)},[]),c.jsx(lb,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,u=>{u.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,u=>{const d=u.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0;(d.button===2||m)&&u.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,u=>u.preventDefault())})}),xM=h.forwardRef((t,a)=>{const r=ca(io,t.__scopeDialog),s=h.useRef(!1),i=h.useRef(!1);return c.jsx(lb,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{t.onCloseAutoFocus?.(u),u.defaultPrevented||(s.current||r.triggerRef.current?.focus(),u.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:u=>{t.onInteractOutside?.(u),u.defaultPrevented||(s.current=!0,u.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const d=u.target;r.triggerRef.current?.contains(d)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&i.current&&u.preventDefault()}})}),lb=h.forwardRef((t,a)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:u,...d}=t,m=ca(io,r),p=h.useRef(null),g=qe(a,p);return Hm(),c.jsxs(c.Fragment,{children:[c.jsx(Gc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:u,children:c.jsx(Bl,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":Fm(m.open),...d,ref:g,onDismiss:()=>m.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(SM,{titleId:m.titleId}),c.jsx(CM,{contentRef:p,descriptionId:m.descriptionId})]})]})}),$m="DialogTitle",ib=h.forwardRef((t,a)=>{const{__scopeDialog:r,...s}=t,i=ca($m,r);return c.jsx(ke.h2,{id:i.titleId,...s,ref:a})});ib.displayName=$m;var cb="DialogDescription",ub=h.forwardRef((t,a)=>{const{__scopeDialog:r,...s}=t,i=ca(cb,r);return c.jsx(ke.p,{id:i.descriptionId,...s,ref:a})});ub.displayName=cb;var db="DialogClose",fb=h.forwardRef((t,a)=>{const{__scopeDialog:r,...s}=t,i=ca(db,r);return c.jsx(ke.button,{type:"button",...s,ref:a,onClick:xe(t.onClick,()=>i.onOpenChange(!1))})});fb.displayName=db;function Fm(t){return t?"open":"closed"}var mb="DialogTitleWarning",[bM,pb]=nR(mb,{contentName:io,titleName:$m,docsSlug:"dialog"}),SM=({titleId:t})=>{const a=pb(mb),r=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},wM="DialogDescriptionWarning",CM=({contentRef:t,descriptionId:a})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pb(wM).contentName}}.`;return h.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");a&&i&&(document.getElementById(a)||console.warn(s))},[s,t,a]),null},hb=eb,EM=nb,gb=rb,vb=ob,yb=sb,xb=ib,bb=ub,Qc=fb,Sb="AlertDialog",[NM]=ia(Sb,[J0]),er=J0(),wb=t=>{const{__scopeAlertDialog:a,...r}=t,s=er(a);return c.jsx(hb,{...s,...r,modal:!0})};wb.displayName=Sb;var jM="AlertDialogTrigger",TM=h.forwardRef((t,a)=>{const{__scopeAlertDialog:r,...s}=t,i=er(r);return c.jsx(EM,{...i,...s,ref:a})});TM.displayName=jM;var RM="AlertDialogPortal",Cb=t=>{const{__scopeAlertDialog:a,...r}=t,s=er(a);return c.jsx(gb,{...s,...r})};Cb.displayName=RM;var MM="AlertDialogOverlay",Eb=h.forwardRef((t,a)=>{const{__scopeAlertDialog:r,...s}=t,i=er(r);return c.jsx(vb,{...i,...s,ref:a})});Eb.displayName=MM;var is="AlertDialogContent",[DM,_M]=NM(is),AM=P0("AlertDialogContent"),Nb=h.forwardRef((t,a)=>{const{__scopeAlertDialog:r,children:s,...i}=t,u=er(r),d=h.useRef(null),m=qe(a,d),p=h.useRef(null);return c.jsx(bM,{contentName:is,titleName:jb,docsSlug:"alert-dialog",children:c.jsx(DM,{scope:r,cancelRef:p,children:c.jsxs(yb,{role:"alertdialog",...u,...i,ref:m,onOpenAutoFocus:xe(i.onOpenAutoFocus,g=>{g.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[c.jsx(AM,{children:s}),c.jsx(kM,{contentRef:d})]})})})});Nb.displayName=is;var jb="AlertDialogTitle",Tb=h.forwardRef((t,a)=>{const{__scopeAlertDialog:r,...s}=t,i=er(r);return c.jsx(xb,{...i,...s,ref:a})});Tb.displayName=jb;var Rb="AlertDialogDescription",Mb=h.forwardRef((t,a)=>{const{__scopeAlertDialog:r,...s}=t,i=er(r);return c.jsx(bb,{...i,...s,ref:a})});Mb.displayName=Rb;var OM="AlertDialogAction",Db=h.forwardRef((t,a)=>{const{__scopeAlertDialog:r,...s}=t,i=er(r);return c.jsx(Qc,{...i,...s,ref:a})});Db.displayName=OM;var _b="AlertDialogCancel",Ab=h.forwardRef((t,a)=>{const{__scopeAlertDialog:r,...s}=t,{cancelRef:i}=_M(_b,r),u=er(r),d=qe(a,i);return c.jsx(Qc,{...u,...s,ref:d})});Ab.displayName=_b;var kM=({contentRef:t})=>{const a=`\`${is}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${is}\` by passing a \`${Rb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${is}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},zM=wb,LM=Cb,Ob=Eb,kb=Nb,zb=Db,Lb=Ab,Pb=Tb,Ub=Mb;function Ym(t){const a=h.useRef({value:t,previous:t});return h.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}function Vm(t){const[a,r]=h.useState(void 0);return rn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const u=i[0];let d,m;if("borderBoxSize"in u){const p=u.borderBoxSize,g=Array.isArray(p)?p[0]:p;d=g.inlineSize,m=g.blockSize}else d=t.offsetWidth,m=t.offsetHeight;r({width:d,height:m})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),a}const PM=["top","right","bottom","left"],Dr=Math.min,Rn=Math.max,Rc=Math.round,dc=Math.floor,wa=t=>({x:t,y:t}),UM={left:"right",right:"left",bottom:"top",top:"bottom"},BM={start:"end",end:"start"};function cm(t,a,r){return Rn(t,Dr(a,r))}function Qa(t,a){return typeof t=="function"?t(a):t}function Za(t){return t.split("-")[0]}function Ss(t){return t.split("-")[1]}function Gm(t){return t==="x"?"y":"x"}function Xm(t){return t==="y"?"height":"width"}const HM=new Set(["top","bottom"]);function ba(t){return HM.has(Za(t))?"y":"x"}function Km(t){return Gm(ba(t))}function qM(t,a,r){r===void 0&&(r=!1);const s=Ss(t),i=Km(t),u=Xm(i);let d=i==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return a.reference[u]>a.floating[u]&&(d=Mc(d)),[d,Mc(d)]}function IM(t){const a=Mc(t);return[um(t),a,um(a)]}function um(t){return t.replace(/start|end/g,a=>BM[a])}const ox=["left","right"],sx=["right","left"],$M=["top","bottom"],FM=["bottom","top"];function YM(t,a,r){switch(t){case"top":case"bottom":return r?a?sx:ox:a?ox:sx;case"left":case"right":return a?$M:FM;default:return[]}}function VM(t,a,r,s){const i=Ss(t);let u=YM(Za(t),r==="start",s);return i&&(u=u.map(d=>d+"-"+i),a&&(u=u.concat(u.map(um)))),u}function Mc(t){return t.replace(/left|right|bottom|top/g,a=>UM[a])}function GM(t){return{top:0,right:0,bottom:0,left:0,...t}}function Bb(t){return typeof t!="number"?GM(t):{top:t,right:t,bottom:t,left:t}}function Dc(t){const{x:a,y:r,width:s,height:i}=t;return{width:s,height:i,top:r,left:a,right:a+s,bottom:r+i,x:a,y:r}}function lx(t,a,r){let{reference:s,floating:i}=t;const u=ba(a),d=Km(a),m=Xm(d),p=Za(a),g=u==="y",x=s.x+s.width/2-i.width/2,y=s.y+s.height/2-i.height/2,C=s[m]/2-i[m]/2;let T;switch(p){case"top":T={x,y:s.y-i.height};break;case"bottom":T={x,y:s.y+s.height};break;case"right":T={x:s.x+s.width,y};break;case"left":T={x:s.x-i.width,y};break;default:T={x:s.x,y:s.y}}switch(Ss(a)){case"start":T[d]-=C*(r&&g?-1:1);break;case"end":T[d]+=C*(r&&g?-1:1);break}return T}async function XM(t,a){var r;a===void 0&&(a={});const{x:s,y:i,platform:u,rects:d,elements:m,strategy:p}=t,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:C=!1,padding:T=0}=Qa(a,t),E=Bb(T),S=m[C?y==="floating"?"reference":"floating":y],w=Dc(await u.getClippingRect({element:(r=await(u.isElement==null?void 0:u.isElement(S)))==null||r?S:S.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(m.floating)),boundary:g,rootBoundary:x,strategy:p})),j=y==="floating"?{x:s,y:i,width:d.floating.width,height:d.floating.height}:d.reference,R=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m.floating)),A=await(u.isElement==null?void 0:u.isElement(R))?await(u.getScale==null?void 0:u.getScale(R))||{x:1,y:1}:{x:1,y:1},_=Dc(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:j,offsetParent:R,strategy:p}):j);return{top:(w.top-_.top+E.top)/A.y,bottom:(_.bottom-w.bottom+E.bottom)/A.y,left:(w.left-_.left+E.left)/A.x,right:(_.right-w.right+E.right)/A.x}}const KM=async(t,a,r)=>{const{placement:s="bottom",strategy:i="absolute",middleware:u=[],platform:d}=r,m=u.filter(Boolean),p=await(d.isRTL==null?void 0:d.isRTL(a));let g=await d.getElementRects({reference:t,floating:a,strategy:i}),{x,y}=lx(g,s,p),C=s,T={},E=0;for(let S=0;S<m.length;S++){var b;const{name:w,fn:j}=m[S],{x:R,y:A,data:_,reset:k}=await j({x,y,initialPlacement:s,placement:C,strategy:i,middlewareData:T,rects:g,platform:{...d,detectOverflow:(b=d.detectOverflow)!=null?b:XM},elements:{reference:t,floating:a}});x=R??x,y=A??y,T={...T,[w]:{...T[w],..._}},k&&E<=50&&(E++,typeof k=="object"&&(k.placement&&(C=k.placement),k.rects&&(g=k.rects===!0?await d.getElementRects({reference:t,floating:a,strategy:i}):k.rects),{x,y}=lx(g,C,p)),S=-1)}return{x,y,placement:C,strategy:i,middlewareData:T}},WM=t=>({name:"arrow",options:t,async fn(a){const{x:r,y:s,placement:i,rects:u,platform:d,elements:m,middlewareData:p}=a,{element:g,padding:x=0}=Qa(t,a)||{};if(g==null)return{};const y=Bb(x),C={x:r,y:s},T=Km(i),E=Xm(T),b=await d.getDimensions(g),S=T==="y",w=S?"top":"left",j=S?"bottom":"right",R=S?"clientHeight":"clientWidth",A=u.reference[E]+u.reference[T]-C[T]-u.floating[E],_=C[T]-u.reference[T],k=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let D=k?k[R]:0;(!D||!await(d.isElement==null?void 0:d.isElement(k)))&&(D=m.floating[R]||u.floating[E]);const M=A/2-_/2,z=D/2-b[E]/2-1,I=Dr(y[w],z),$=Dr(y[j],z),V=I,q=D-b[E]-$,X=D/2-b[E]/2+M,ae=cm(V,X,q),L=!p.arrow&&Ss(i)!=null&&X!==ae&&u.reference[E]/2-(X<V?I:$)-b[E]/2<0,H=L?X<V?X-V:X-q:0;return{[T]:C[T]+H,data:{[T]:ae,centerOffset:X-ae-H,...L&&{alignmentOffset:H}},reset:L}}}),QM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var r,s;const{placement:i,middlewareData:u,rects:d,initialPlacement:m,platform:p,elements:g}=a,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:C,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:b=!0,...S}=Qa(t,a);if((r=u.arrow)!=null&&r.alignmentOffset)return{};const w=Za(i),j=ba(m),R=Za(m)===m,A=await(p.isRTL==null?void 0:p.isRTL(g.floating)),_=C||(R||!b?[Mc(m)]:IM(m)),k=E!=="none";!C&&k&&_.push(...VM(m,b,E,A));const D=[m,..._],M=await p.detectOverflow(a,S),z=[];let I=((s=u.flip)==null?void 0:s.overflows)||[];if(x&&z.push(M[w]),y){const X=qM(i,d,A);z.push(M[X[0]],M[X[1]])}if(I=[...I,{placement:i,overflows:z}],!z.every(X=>X<=0)){var $,V;const X=((($=u.flip)==null?void 0:$.index)||0)+1,ae=D[X];if(ae&&(!(y==="alignment"?j!==ba(ae):!1)||I.every(U=>ba(U.placement)===j?U.overflows[0]>0:!0)))return{data:{index:X,overflows:I},reset:{placement:ae}};let L=(V=I.filter(H=>H.overflows[0]<=0).sort((H,U)=>H.overflows[1]-U.overflows[1])[0])==null?void 0:V.placement;if(!L)switch(T){case"bestFit":{var q;const H=(q=I.filter(U=>{if(k){const G=ba(U.placement);return G===j||G==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(G=>G>0).reduce((G,ce)=>G+ce,0)]).sort((U,G)=>U[1]-G[1])[0])==null?void 0:q[0];H&&(L=H);break}case"initialPlacement":L=m;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function ix(t,a){return{top:t.top-a.height,right:t.right-a.width,bottom:t.bottom-a.height,left:t.left-a.width}}function cx(t){return PM.some(a=>t[a]>=0)}const ZM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(a){const{rects:r,platform:s}=a,{strategy:i="referenceHidden",...u}=Qa(t,a);switch(i){case"referenceHidden":{const d=await s.detectOverflow(a,{...u,elementContext:"reference"}),m=ix(d,r.reference);return{data:{referenceHiddenOffsets:m,referenceHidden:cx(m)}}}case"escaped":{const d=await s.detectOverflow(a,{...u,altBoundary:!0}),m=ix(d,r.floating);return{data:{escapedOffsets:m,escaped:cx(m)}}}default:return{}}}}},Hb=new Set(["left","top"]);async function JM(t,a){const{placement:r,platform:s,elements:i}=t,u=await(s.isRTL==null?void 0:s.isRTL(i.floating)),d=Za(r),m=Ss(r),p=ba(r)==="y",g=Hb.has(d)?-1:1,x=u&&p?-1:1,y=Qa(a,t);let{mainAxis:C,crossAxis:T,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return m&&typeof E=="number"&&(T=m==="end"?E*-1:E),p?{x:T*x,y:C*g}:{x:C*g,y:T*x}}const eD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var r,s;const{x:i,y:u,placement:d,middlewareData:m}=a,p=await JM(a,t);return d===((r=m.offset)==null?void 0:r.placement)&&(s=m.arrow)!=null&&s.alignmentOffset?{}:{x:i+p.x,y:u+p.y,data:{...p,placement:d}}}}},tD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(a){const{x:r,y:s,placement:i,platform:u}=a,{mainAxis:d=!0,crossAxis:m=!1,limiter:p={fn:w=>{let{x:j,y:R}=w;return{x:j,y:R}}},...g}=Qa(t,a),x={x:r,y:s},y=await u.detectOverflow(a,g),C=ba(Za(i)),T=Gm(C);let E=x[T],b=x[C];if(d){const w=T==="y"?"top":"left",j=T==="y"?"bottom":"right",R=E+y[w],A=E-y[j];E=cm(R,E,A)}if(m){const w=C==="y"?"top":"left",j=C==="y"?"bottom":"right",R=b+y[w],A=b-y[j];b=cm(R,b,A)}const S=p.fn({...a,[T]:E,[C]:b});return{...S,data:{x:S.x-r,y:S.y-s,enabled:{[T]:d,[C]:m}}}}}},nD=function(t){return t===void 0&&(t={}),{options:t,fn(a){const{x:r,y:s,placement:i,rects:u,middlewareData:d}=a,{offset:m=0,mainAxis:p=!0,crossAxis:g=!0}=Qa(t,a),x={x:r,y:s},y=ba(i),C=Gm(y);let T=x[C],E=x[y];const b=Qa(m,a),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(p){const R=C==="y"?"height":"width",A=u.reference[C]-u.floating[R]+S.mainAxis,_=u.reference[C]+u.reference[R]-S.mainAxis;T<A?T=A:T>_&&(T=_)}if(g){var w,j;const R=C==="y"?"width":"height",A=Hb.has(Za(i)),_=u.reference[y]-u.floating[R]+(A&&((w=d.offset)==null?void 0:w[y])||0)+(A?0:S.crossAxis),k=u.reference[y]+u.reference[R]+(A?0:((j=d.offset)==null?void 0:j[y])||0)-(A?S.crossAxis:0);E<_?E=_:E>k&&(E=k)}return{[C]:T,[y]:E}}}},aD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(a){var r,s;const{placement:i,rects:u,platform:d,elements:m}=a,{apply:p=()=>{},...g}=Qa(t,a),x=await d.detectOverflow(a,g),y=Za(i),C=Ss(i),T=ba(i)==="y",{width:E,height:b}=u.floating;let S,w;y==="top"||y==="bottom"?(S=y,w=C===(await(d.isRTL==null?void 0:d.isRTL(m.floating))?"start":"end")?"left":"right"):(w=y,S=C==="end"?"top":"bottom");const j=b-x.top-x.bottom,R=E-x.left-x.right,A=Dr(b-x[S],j),_=Dr(E-x[w],R),k=!a.middlewareData.shift;let D=A,M=_;if((r=a.middlewareData.shift)!=null&&r.enabled.x&&(M=R),(s=a.middlewareData.shift)!=null&&s.enabled.y&&(D=j),k&&!C){const I=Rn(x.left,0),$=Rn(x.right,0),V=Rn(x.top,0),q=Rn(x.bottom,0);T?M=E-2*(I!==0||$!==0?I+$:Rn(x.left,x.right)):D=b-2*(V!==0||q!==0?V+q:Rn(x.top,x.bottom))}await p({...a,availableWidth:M,availableHeight:D});const z=await d.getDimensions(m.floating);return E!==z.width||b!==z.height?{reset:{rects:!0}}:{}}}};function Zc(){return typeof window<"u"}function ws(t){return qb(t)?(t.nodeName||"").toLowerCase():"#document"}function Mn(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function ja(t){var a;return(a=(qb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function qb(t){return Zc()?t instanceof Node||t instanceof Mn(t).Node:!1}function sa(t){return Zc()?t instanceof Element||t instanceof Mn(t).Element:!1}function Ea(t){return Zc()?t instanceof HTMLElement||t instanceof Mn(t).HTMLElement:!1}function ux(t){return!Zc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mn(t).ShadowRoot}const rD=new Set(["inline","contents"]);function ql(t){const{overflow:a,overflowX:r,overflowY:s,display:i}=la(t);return/auto|scroll|overlay|hidden|clip/.test(a+s+r)&&!rD.has(i)}const oD=new Set(["table","td","th"]);function sD(t){return oD.has(ws(t))}const lD=[":popover-open",":modal"];function Jc(t){return lD.some(a=>{try{return t.matches(a)}catch{return!1}})}const iD=["transform","translate","scale","rotate","perspective"],cD=["transform","translate","scale","rotate","perspective","filter"],uD=["paint","layout","strict","content"];function Wm(t){const a=Qm(),r=sa(t)?la(t):t;return iD.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!a&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!a&&(r.filter?r.filter!=="none":!1)||cD.some(s=>(r.willChange||"").includes(s))||uD.some(s=>(r.contain||"").includes(s))}function dD(t){let a=_r(t);for(;Ea(a)&&!ds(a);){if(Wm(a))return a;if(Jc(a))return null;a=_r(a)}return null}function Qm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fD=new Set(["html","body","#document"]);function ds(t){return fD.has(ws(t))}function la(t){return Mn(t).getComputedStyle(t)}function eu(t){return sa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _r(t){if(ws(t)==="html")return t;const a=t.assignedSlot||t.parentNode||ux(t)&&t.host||ja(t);return ux(a)?a.host:a}function Ib(t){const a=_r(t);return ds(a)?t.ownerDocument?t.ownerDocument.body:t.body:Ea(a)&&ql(a)?a:Ib(a)}function _l(t,a,r){var s;a===void 0&&(a=[]),r===void 0&&(r=!0);const i=Ib(t),u=i===((s=t.ownerDocument)==null?void 0:s.body),d=Mn(i);if(u){const m=dm(d);return a.concat(d,d.visualViewport||[],ql(i)?i:[],m&&r?_l(m):[])}return a.concat(i,_l(i,[],r))}function dm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $b(t){const a=la(t);let r=parseFloat(a.width)||0,s=parseFloat(a.height)||0;const i=Ea(t),u=i?t.offsetWidth:r,d=i?t.offsetHeight:s,m=Rc(r)!==u||Rc(s)!==d;return m&&(r=u,s=d),{width:r,height:s,$:m}}function Zm(t){return sa(t)?t:t.contextElement}function cs(t){const a=Zm(t);if(!Ea(a))return wa(1);const r=a.getBoundingClientRect(),{width:s,height:i,$:u}=$b(a);let d=(u?Rc(r.width):r.width)/s,m=(u?Rc(r.height):r.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!m||!Number.isFinite(m))&&(m=1),{x:d,y:m}}const mD=wa(0);function Fb(t){const a=Mn(t);return!Qm()||!a.visualViewport?mD:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function pD(t,a,r){return a===void 0&&(a=!1),!r||a&&r!==Mn(t)?!1:a}function co(t,a,r,s){a===void 0&&(a=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),u=Zm(t);let d=wa(1);a&&(s?sa(s)&&(d=cs(s)):d=cs(t));const m=pD(u,r,s)?Fb(u):wa(0);let p=(i.left+m.x)/d.x,g=(i.top+m.y)/d.y,x=i.width/d.x,y=i.height/d.y;if(u){const C=Mn(u),T=s&&sa(s)?Mn(s):s;let E=C,b=dm(E);for(;b&&s&&T!==E;){const S=cs(b),w=b.getBoundingClientRect(),j=la(b),R=w.left+(b.clientLeft+parseFloat(j.paddingLeft))*S.x,A=w.top+(b.clientTop+parseFloat(j.paddingTop))*S.y;p*=S.x,g*=S.y,x*=S.x,y*=S.y,p+=R,g+=A,E=Mn(b),b=dm(E)}}return Dc({width:x,height:y,x:p,y:g})}function tu(t,a){const r=eu(t).scrollLeft;return a?a.left+r:co(ja(t)).left+r}function Yb(t,a){const r=t.getBoundingClientRect(),s=r.left+a.scrollLeft-tu(t,r),i=r.top+a.scrollTop;return{x:s,y:i}}function hD(t){let{elements:a,rect:r,offsetParent:s,strategy:i}=t;const u=i==="fixed",d=ja(s),m=a?Jc(a.floating):!1;if(s===d||m&&u)return r;let p={scrollLeft:0,scrollTop:0},g=wa(1);const x=wa(0),y=Ea(s);if((y||!y&&!u)&&((ws(s)!=="body"||ql(d))&&(p=eu(s)),Ea(s))){const T=co(s);g=cs(s),x.x=T.x+s.clientLeft,x.y=T.y+s.clientTop}const C=d&&!y&&!u?Yb(d,p):wa(0);return{width:r.width*g.x,height:r.height*g.y,x:r.x*g.x-p.scrollLeft*g.x+x.x+C.x,y:r.y*g.y-p.scrollTop*g.y+x.y+C.y}}function gD(t){return Array.from(t.getClientRects())}function vD(t){const a=ja(t),r=eu(t),s=t.ownerDocument.body,i=Rn(a.scrollWidth,a.clientWidth,s.scrollWidth,s.clientWidth),u=Rn(a.scrollHeight,a.clientHeight,s.scrollHeight,s.clientHeight);let d=-r.scrollLeft+tu(t);const m=-r.scrollTop;return la(s).direction==="rtl"&&(d+=Rn(a.clientWidth,s.clientWidth)-i),{width:i,height:u,x:d,y:m}}const dx=25;function yD(t,a){const r=Mn(t),s=ja(t),i=r.visualViewport;let u=s.clientWidth,d=s.clientHeight,m=0,p=0;if(i){u=i.width,d=i.height;const x=Qm();(!x||x&&a==="fixed")&&(m=i.offsetLeft,p=i.offsetTop)}const g=tu(s);if(g<=0){const x=s.ownerDocument,y=x.body,C=getComputedStyle(y),T=x.compatMode==="CSS1Compat"&&parseFloat(C.marginLeft)+parseFloat(C.marginRight)||0,E=Math.abs(s.clientWidth-y.clientWidth-T);E<=dx&&(u-=E)}else g<=dx&&(u+=g);return{width:u,height:d,x:m,y:p}}const xD=new Set(["absolute","fixed"]);function bD(t,a){const r=co(t,!0,a==="fixed"),s=r.top+t.clientTop,i=r.left+t.clientLeft,u=Ea(t)?cs(t):wa(1),d=t.clientWidth*u.x,m=t.clientHeight*u.y,p=i*u.x,g=s*u.y;return{width:d,height:m,x:p,y:g}}function fx(t,a,r){let s;if(a==="viewport")s=yD(t,r);else if(a==="document")s=vD(ja(t));else if(sa(a))s=bD(a,r);else{const i=Fb(t);s={x:a.x-i.x,y:a.y-i.y,width:a.width,height:a.height}}return Dc(s)}function Vb(t,a){const r=_r(t);return r===a||!sa(r)||ds(r)?!1:la(r).position==="fixed"||Vb(r,a)}function SD(t,a){const r=a.get(t);if(r)return r;let s=_l(t,[],!1).filter(m=>sa(m)&&ws(m)!=="body"),i=null;const u=la(t).position==="fixed";let d=u?_r(t):t;for(;sa(d)&&!ds(d);){const m=la(d),p=Wm(d);!p&&m.position==="fixed"&&(i=null),(u?!p&&!i:!p&&m.position==="static"&&!!i&&xD.has(i.position)||ql(d)&&!p&&Vb(t,d))?s=s.filter(x=>x!==d):i=m,d=_r(d)}return a.set(t,s),s}function wD(t){let{element:a,boundary:r,rootBoundary:s,strategy:i}=t;const d=[...r==="clippingAncestors"?Jc(a)?[]:SD(a,this._c):[].concat(r),s],m=d[0],p=d.reduce((g,x)=>{const y=fx(a,x,i);return g.top=Rn(y.top,g.top),g.right=Dr(y.right,g.right),g.bottom=Dr(y.bottom,g.bottom),g.left=Rn(y.left,g.left),g},fx(a,m,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function CD(t){const{width:a,height:r}=$b(t);return{width:a,height:r}}function ED(t,a,r){const s=Ea(a),i=ja(a),u=r==="fixed",d=co(t,!0,u,a);let m={scrollLeft:0,scrollTop:0};const p=wa(0);function g(){p.x=tu(i)}if(s||!s&&!u)if((ws(a)!=="body"||ql(i))&&(m=eu(a)),s){const T=co(a,!0,u,a);p.x=T.x+a.clientLeft,p.y=T.y+a.clientTop}else i&&g();u&&!s&&i&&g();const x=i&&!s&&!u?Yb(i,m):wa(0),y=d.left+m.scrollLeft-p.x-x.x,C=d.top+m.scrollTop-p.y-x.y;return{x:y,y:C,width:d.width,height:d.height}}function Ff(t){return la(t).position==="static"}function mx(t,a){if(!Ea(t)||la(t).position==="fixed")return null;if(a)return a(t);let r=t.offsetParent;return ja(t)===r&&(r=r.ownerDocument.body),r}function Gb(t,a){const r=Mn(t);if(Jc(t))return r;if(!Ea(t)){let i=_r(t);for(;i&&!ds(i);){if(sa(i)&&!Ff(i))return i;i=_r(i)}return r}let s=mx(t,a);for(;s&&sD(s)&&Ff(s);)s=mx(s,a);return s&&ds(s)&&Ff(s)&&!Wm(s)?r:s||dD(t)||r}const ND=async function(t){const a=this.getOffsetParent||Gb,r=this.getDimensions,s=await r(t.floating);return{reference:ED(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function jD(t){return la(t).direction==="rtl"}const TD={convertOffsetParentRelativeRectToViewportRelativeRect:hD,getDocumentElement:ja,getClippingRect:wD,getOffsetParent:Gb,getElementRects:ND,getClientRects:gD,getDimensions:CD,getScale:cs,isElement:sa,isRTL:jD};function Xb(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function RD(t,a){let r=null,s;const i=ja(t);function u(){var m;clearTimeout(s),(m=r)==null||m.disconnect(),r=null}function d(m,p){m===void 0&&(m=!1),p===void 0&&(p=1),u();const g=t.getBoundingClientRect(),{left:x,top:y,width:C,height:T}=g;if(m||a(),!C||!T)return;const E=dc(y),b=dc(i.clientWidth-(x+C)),S=dc(i.clientHeight-(y+T)),w=dc(x),R={rootMargin:-E+"px "+-b+"px "+-S+"px "+-w+"px",threshold:Rn(0,Dr(1,p))||1};let A=!0;function _(k){const D=k[0].intersectionRatio;if(D!==p){if(!A)return d();D?d(!1,D):s=setTimeout(()=>{d(!1,1e-7)},1e3)}D===1&&!Xb(g,t.getBoundingClientRect())&&d(),A=!1}try{r=new IntersectionObserver(_,{...R,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,R)}r.observe(t)}return d(!0),u}function MD(t,a,r,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,g=Zm(t),x=i||u?[...g?_l(g):[],..._l(a)]:[];x.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),u&&w.addEventListener("resize",r)});const y=g&&m?RD(g,r):null;let C=-1,T=null;d&&(T=new ResizeObserver(w=>{let[j]=w;j&&j.target===g&&T&&(T.unobserve(a),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var R;(R=T)==null||R.observe(a)})),r()}),g&&!p&&T.observe(g),T.observe(a));let E,b=p?co(t):null;p&&S();function S(){const w=co(t);b&&!Xb(b,w)&&r(),b=w,E=requestAnimationFrame(S)}return r(),()=>{var w;x.forEach(j=>{i&&j.removeEventListener("scroll",r),u&&j.removeEventListener("resize",r)}),y?.(),(w=T)==null||w.disconnect(),T=null,p&&cancelAnimationFrame(E)}}const DD=eD,_D=tD,AD=QM,OD=aD,kD=ZM,px=WM,zD=nD,LD=(t,a,r)=>{const s=new Map,i={platform:TD,...r},u={...i.platform,_c:s};return KM(t,a,{...i,platform:u})};var PD=typeof document<"u",UD=function(){},Cc=PD?h.useLayoutEffect:UD;function _c(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let r,s,i;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==a.length)return!1;for(s=r;s--!==0;)if(!_c(t[s],a[s]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(a).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(a,i[s]))return!1;for(s=r;s--!==0;){const u=i[s];if(!(u==="_owner"&&t.$$typeof)&&!_c(t[u],a[u]))return!1}return!0}return t!==t&&a!==a}function Kb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hx(t,a){const r=Kb(t);return Math.round(a*r)/r}function Yf(t){const a=h.useRef(t);return Cc(()=>{a.current=t}),a}function BD(t){t===void 0&&(t={});const{placement:a="bottom",strategy:r="absolute",middleware:s=[],platform:i,elements:{reference:u,floating:d}={},transform:m=!0,whileElementsMounted:p,open:g}=t,[x,y]=h.useState({x:0,y:0,strategy:r,placement:a,middlewareData:{},isPositioned:!1}),[C,T]=h.useState(s);_c(C,s)||T(s);const[E,b]=h.useState(null),[S,w]=h.useState(null),j=h.useCallback(U=>{U!==k.current&&(k.current=U,b(U))},[]),R=h.useCallback(U=>{U!==D.current&&(D.current=U,w(U))},[]),A=u||E,_=d||S,k=h.useRef(null),D=h.useRef(null),M=h.useRef(x),z=p!=null,I=Yf(p),$=Yf(i),V=Yf(g),q=h.useCallback(()=>{if(!k.current||!D.current)return;const U={placement:a,strategy:r,middleware:C};$.current&&(U.platform=$.current),LD(k.current,D.current,U).then(G=>{const ce={...G,isPositioned:V.current!==!1};X.current&&!_c(M.current,ce)&&(M.current=ce,Ul.flushSync(()=>{y(ce)}))})},[C,a,r,$,V]);Cc(()=>{g===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,y(U=>({...U,isPositioned:!1})))},[g]);const X=h.useRef(!1);Cc(()=>(X.current=!0,()=>{X.current=!1}),[]),Cc(()=>{if(A&&(k.current=A),_&&(D.current=_),A&&_){if(I.current)return I.current(A,_,q);q()}},[A,_,q,I,z]);const ae=h.useMemo(()=>({reference:k,floating:D,setReference:j,setFloating:R}),[j,R]),L=h.useMemo(()=>({reference:A,floating:_}),[A,_]),H=h.useMemo(()=>{const U={position:r,left:0,top:0};if(!L.floating)return U;const G=hx(L.floating,x.x),ce=hx(L.floating,x.y);return m?{...U,transform:"translate("+G+"px, "+ce+"px)",...Kb(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:ce}},[r,m,L.floating,x.x,x.y]);return h.useMemo(()=>({...x,update:q,refs:ae,elements:L,floatingStyles:H}),[x,q,ae,L,H])}const HD=t=>{function a(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:i}=typeof t=="function"?t(r):t;return s&&a(s)?s.current!=null?px({element:s.current,padding:i}).fn(r):{}:s?px({element:s,padding:i}).fn(r):{}}}},qD=(t,a)=>({...DD(t),options:[t,a]}),ID=(t,a)=>({..._D(t),options:[t,a]}),$D=(t,a)=>({...zD(t),options:[t,a]}),FD=(t,a)=>({...AD(t),options:[t,a]}),YD=(t,a)=>({...OD(t),options:[t,a]}),VD=(t,a)=>({...kD(t),options:[t,a]}),GD=(t,a)=>({...HD(t),options:[t,a]});var XD="Arrow",Wb=h.forwardRef((t,a)=>{const{children:r,width:s=10,height:i=5,...u}=t;return c.jsx(ke.svg,{...u,ref:a,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wb.displayName=XD;var KD=Wb,Jm="Popper",[Qb,Cs]=ia(Jm),[WD,Zb]=Qb(Jm),Jb=t=>{const{__scopePopper:a,children:r}=t,[s,i]=h.useState(null);return c.jsx(WD,{scope:a,anchor:s,onAnchorChange:i,children:r})};Jb.displayName=Jm;var eS="PopperAnchor",tS=h.forwardRef((t,a)=>{const{__scopePopper:r,virtualRef:s,...i}=t,u=Zb(eS,r),d=h.useRef(null),m=qe(a,d),p=h.useRef(null);return h.useEffect(()=>{const g=p.current;p.current=s?.current||d.current,g!==p.current&&u.onAnchorChange(p.current)}),s?null:c.jsx(ke.div,{...i,ref:m})});tS.displayName=eS;var ep="PopperContent",[QD,ZD]=Qb(ep),nS=h.forwardRef((t,a)=>{const{__scopePopper:r,side:s="bottom",sideOffset:i=0,align:u="center",alignOffset:d=0,arrowPadding:m=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:C=!1,updatePositionStrategy:T="optimized",onPlaced:E,...b}=t,S=Zb(ep,r),[w,j]=h.useState(null),R=qe(a,W=>j(W)),[A,_]=h.useState(null),k=Vm(A),D=k?.width??0,M=k?.height??0,z=s+(u!=="center"?"-"+u:""),I=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},$=Array.isArray(g)?g:[g],V=$.length>0,q={padding:I,boundary:$.filter(e_),altBoundary:V},{refs:X,floatingStyles:ae,placement:L,isPositioned:H,middlewareData:U}=BD({strategy:"fixed",placement:z,whileElementsMounted:(...W)=>MD(...W,{animationFrame:T==="always"}),elements:{reference:S.anchor},middleware:[qD({mainAxis:i+M,alignmentAxis:d}),p&&ID({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?$D():void 0,...q}),p&&FD({...q}),YD({...q,apply:({elements:W,rects:ye,availableWidth:fe,availableHeight:he})=>{const{width:pe,height:be}=ye.reference,Ae=W.floating.style;Ae.setProperty("--radix-popper-available-width",`${fe}px`),Ae.setProperty("--radix-popper-available-height",`${he}px`),Ae.setProperty("--radix-popper-anchor-width",`${pe}px`),Ae.setProperty("--radix-popper-anchor-height",`${be}px`)}}),A&&GD({element:A,padding:m}),t_({arrowWidth:D,arrowHeight:M}),C&&VD({strategy:"referenceHidden",...q})]}),[G,ce]=oS(L),P=Ca(E);rn(()=>{H&&P?.()},[H,P]);const Y=U.arrow?.x,Q=U.arrow?.y,re=U.arrow?.centerOffset!==0,[ue,me]=h.useState();return rn(()=>{w&&me(window.getComputedStyle(w).zIndex)},[w]),c.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:H?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(QD,{scope:r,placedSide:G,onArrowChange:_,arrowX:Y,arrowY:Q,shouldHideArrow:re,children:c.jsx(ke.div,{"data-side":G,"data-align":ce,...b,ref:R,style:{...b.style,animation:H?void 0:"none"}})})})});nS.displayName=ep;var aS="PopperArrow",JD={top:"bottom",right:"left",bottom:"top",left:"right"},rS=h.forwardRef(function(a,r){const{__scopePopper:s,...i}=a,u=ZD(aS,s),d=JD[u.placedSide];return c.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:c.jsx(KD,{...i,ref:r,style:{...i.style,display:"block"}})})});rS.displayName=aS;function e_(t){return t!==null}var t_=t=>({name:"transformOrigin",options:t,fn(a){const{placement:r,rects:s,middlewareData:i}=a,d=i.arrow?.centerOffset!==0,m=d?0:t.arrowWidth,p=d?0:t.arrowHeight,[g,x]=oS(r),y={start:"0%",center:"50%",end:"100%"}[x],C=(i.arrow?.x??0)+m/2,T=(i.arrow?.y??0)+p/2;let E="",b="";return g==="bottom"?(E=d?y:`${C}px`,b=`${-p}px`):g==="top"?(E=d?y:`${C}px`,b=`${s.floating.height+p}px`):g==="right"?(E=`${-p}px`,b=d?y:`${T}px`):g==="left"&&(E=`${s.floating.width+p}px`,b=d?y:`${T}px`),{data:{x:E,y:b}}}});function oS(t){const[a,r="center"]=t.split("-");return[a,r]}var tp=Jb,np=tS,ap=nS,rp=rS,Vf="rovingFocusGroup.onEntryFocus",n_={bubbles:!1,cancelable:!0},Il="RovingFocusGroup",[fm,sS,a_]=Yc(Il),[r_,lS]=ia(Il,[a_]),[o_,s_]=r_(Il),iS=h.forwardRef((t,a)=>c.jsx(fm.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(fm.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(l_,{...t,ref:a})})}));iS.displayName=Il;var l_=h.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:i=!1,dir:u,currentTabStopId:d,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...y}=t,C=h.useRef(null),T=qe(a,C),E=Vc(u),[b,S]=Mr({prop:d,defaultProp:m??null,onChange:p,caller:Il}),[w,j]=h.useState(!1),R=Ca(g),A=sS(r),_=h.useRef(!1),[k,D]=h.useState(0);return h.useEffect(()=>{const M=C.current;if(M)return M.addEventListener(Vf,R),()=>M.removeEventListener(Vf,R)},[R]),c.jsx(o_,{scope:r,orientation:s,dir:E,loop:i,currentTabStopId:b,onItemFocus:h.useCallback(M=>S(M),[S]),onItemShiftTab:h.useCallback(()=>j(!0),[]),onFocusableItemAdd:h.useCallback(()=>D(M=>M+1),[]),onFocusableItemRemove:h.useCallback(()=>D(M=>M-1),[]),children:c.jsx(ke.div,{tabIndex:w||k===0?-1:0,"data-orientation":s,...y,ref:T,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{_.current=!0}),onFocus:xe(t.onFocus,M=>{const z=!_.current;if(M.target===M.currentTarget&&z&&!w){const I=new CustomEvent(Vf,n_);if(M.currentTarget.dispatchEvent(I),!I.defaultPrevented){const $=A().filter(L=>L.focusable),V=$.find(L=>L.active),q=$.find(L=>L.id===b),ae=[V,q,...$].filter(Boolean).map(L=>L.ref.current);dS(ae,x)}}_.current=!1}),onBlur:xe(t.onBlur,()=>j(!1))})})}),cS="RovingFocusGroupItem",uS=h.forwardRef((t,a)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:i=!1,tabStopId:u,children:d,...m}=t,p=Sa(),g=u||p,x=s_(cS,r),y=x.currentTabStopId===g,C=sS(r),{onFocusableItemAdd:T,onFocusableItemRemove:E,currentTabStopId:b}=x;return h.useEffect(()=>{if(s)return T(),()=>E()},[s,T,E]),c.jsx(fm.ItemSlot,{scope:r,id:g,focusable:s,active:i,children:c.jsx(ke.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...m,ref:a,onMouseDown:xe(t.onMouseDown,S=>{s?x.onItemFocus(g):S.preventDefault()}),onFocus:xe(t.onFocus,()=>x.onItemFocus(g)),onKeyDown:xe(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){x.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const w=u_(S,x.orientation,x.dir);if(w!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let R=C().filter(A=>A.focusable).map(A=>A.ref.current);if(w==="last")R.reverse();else if(w==="prev"||w==="next"){w==="prev"&&R.reverse();const A=R.indexOf(S.currentTarget);R=x.loop?d_(R,A+1):R.slice(A+1)}setTimeout(()=>dS(R))}}),children:typeof d=="function"?d({isCurrentTabStop:y,hasTabStop:b!=null}):d})})});uS.displayName=cS;var i_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function c_(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function u_(t,a,r){const s=c_(t.key,r);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return i_[s]}function dS(t,a=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:a}),document.activeElement!==r))return}function d_(t,a){return t.map((r,s)=>t[(a+s)%t.length])}var f_=iS,m_=uS,mm=["Enter"," "],p_=["ArrowDown","PageUp","Home"],fS=["ArrowUp","PageDown","End"],h_=[...p_,...fS],g_={ltr:[...mm,"ArrowRight"],rtl:[...mm,"ArrowLeft"]},v_={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$l="Menu",[Al,y_,x_]=Yc($l),[ho,mS]=ia($l,[x_,Cs,lS]),nu=Cs(),pS=lS(),[b_,go]=ho($l),[S_,Fl]=ho($l),hS=t=>{const{__scopeMenu:a,open:r=!1,children:s,dir:i,onOpenChange:u,modal:d=!0}=t,m=nu(a),[p,g]=h.useState(null),x=h.useRef(!1),y=Ca(u),C=Vc(i);return h.useEffect(()=>{const T=()=>{x.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>x.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),c.jsx(tp,{...m,children:c.jsx(b_,{scope:a,open:r,onOpenChange:y,content:p,onContentChange:g,children:c.jsx(S_,{scope:a,onClose:h.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:x,dir:C,modal:d,children:s})})})};hS.displayName=$l;var w_="MenuAnchor",op=h.forwardRef((t,a)=>{const{__scopeMenu:r,...s}=t,i=nu(r);return c.jsx(np,{...i,...s,ref:a})});op.displayName=w_;var sp="MenuPortal",[C_,gS]=ho(sp,{forceMount:void 0}),vS=t=>{const{__scopeMenu:a,forceMount:r,children:s,container:i}=t,u=go(sp,a);return c.jsx(C_,{scope:a,forceMount:r,children:c.jsx(Na,{present:r||u.open,children:c.jsx(Hl,{asChild:!0,container:i,children:s})})})};vS.displayName=sp;var Vn="MenuContent",[E_,lp]=ho(Vn),yS=h.forwardRef((t,a)=>{const r=gS(Vn,t.__scopeMenu),{forceMount:s=r.forceMount,...i}=t,u=go(Vn,t.__scopeMenu),d=Fl(Vn,t.__scopeMenu);return c.jsx(Al.Provider,{scope:t.__scopeMenu,children:c.jsx(Na,{present:s||u.open,children:c.jsx(Al.Slot,{scope:t.__scopeMenu,children:d.modal?c.jsx(N_,{...i,ref:a}):c.jsx(j_,{...i,ref:a})})})})}),N_=h.forwardRef((t,a)=>{const r=go(Vn,t.__scopeMenu),s=h.useRef(null),i=qe(a,s);return h.useEffect(()=>{const u=s.current;if(u)return qm(u)},[]),c.jsx(ip,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:xe(t.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),j_=h.forwardRef((t,a)=>{const r=go(Vn,t.__scopeMenu);return c.jsx(ip,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),T_=lo("MenuContent.ScrollLock"),ip=h.forwardRef((t,a)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:i,onOpenAutoFocus:u,onCloseAutoFocus:d,disableOutsidePointerEvents:m,onEntryFocus:p,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:C,onDismiss:T,disableOutsideScroll:E,...b}=t,S=go(Vn,r),w=Fl(Vn,r),j=nu(r),R=pS(r),A=y_(r),[_,k]=h.useState(null),D=h.useRef(null),M=qe(a,D,S.onContentChange),z=h.useRef(0),I=h.useRef(""),$=h.useRef(0),V=h.useRef(null),q=h.useRef("right"),X=h.useRef(0),ae=E?Kc:h.Fragment,L=E?{as:T_,allowPinchZoom:!0}:void 0,H=G=>{const ce=I.current+G,P=A().filter(W=>!W.disabled),Y=document.activeElement,Q=P.find(W=>W.ref.current===Y)?.textValue,re=P.map(W=>W.textValue),ue=B_(re,ce,Q),me=P.find(W=>W.textValue===ue)?.ref.current;(function W(ye){I.current=ye,window.clearTimeout(z.current),ye!==""&&(z.current=window.setTimeout(()=>W(""),1e3))})(ce),me&&setTimeout(()=>me.focus())};h.useEffect(()=>()=>window.clearTimeout(z.current),[]),Hm();const U=h.useCallback(G=>q.current===V.current?.side&&q_(G,V.current?.area),[]);return c.jsx(E_,{scope:r,searchRef:I,onItemEnter:h.useCallback(G=>{U(G)&&G.preventDefault()},[U]),onItemLeave:h.useCallback(G=>{U(G)||(D.current?.focus(),k(null))},[U]),onTriggerLeave:h.useCallback(G=>{U(G)&&G.preventDefault()},[U]),pointerGraceTimerRef:$,onPointerGraceIntentChange:h.useCallback(G=>{V.current=G},[]),children:c.jsx(ae,{...L,children:c.jsx(Gc,{asChild:!0,trapped:i,onMountAutoFocus:xe(u,G=>{G.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:c.jsx(Bl,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:C,onDismiss:T,children:c.jsx(f_,{asChild:!0,...R,dir:w.dir,orientation:"vertical",loop:s,currentTabStopId:_,onCurrentTabStopIdChange:k,onEntryFocus:xe(p,G=>{w.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(ap,{role:"menu","aria-orientation":"vertical","data-state":kS(S.open),"data-radix-menu-content":"",dir:w.dir,...j,...b,ref:M,style:{outline:"none",...b.style},onKeyDown:xe(b.onKeyDown,G=>{const P=G.target.closest("[data-radix-menu-content]")===G.currentTarget,Y=G.ctrlKey||G.altKey||G.metaKey,Q=G.key.length===1;P&&(G.key==="Tab"&&G.preventDefault(),!Y&&Q&&H(G.key));const re=D.current;if(G.target!==re||!h_.includes(G.key))return;G.preventDefault();const me=A().filter(W=>!W.disabled).map(W=>W.ref.current);fS.includes(G.key)&&me.reverse(),P_(me)}),onBlur:xe(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(z.current),I.current="")}),onPointerMove:xe(t.onPointerMove,Ol(G=>{const ce=G.target,P=X.current!==G.clientX;if(G.currentTarget.contains(ce)&&P){const Y=G.clientX>X.current?"right":"left";q.current=Y,X.current=G.clientX}}))})})})})})})});yS.displayName=Vn;var R_="MenuGroup",cp=h.forwardRef((t,a)=>{const{__scopeMenu:r,...s}=t;return c.jsx(ke.div,{role:"group",...s,ref:a})});cp.displayName=R_;var M_="MenuLabel",xS=h.forwardRef((t,a)=>{const{__scopeMenu:r,...s}=t;return c.jsx(ke.div,{...s,ref:a})});xS.displayName=M_;var Ac="MenuItem",gx="menu.itemSelect",au=h.forwardRef((t,a)=>{const{disabled:r=!1,onSelect:s,...i}=t,u=h.useRef(null),d=Fl(Ac,t.__scopeMenu),m=lp(Ac,t.__scopeMenu),p=qe(a,u),g=h.useRef(!1),x=()=>{const y=u.current;if(!r&&y){const C=new CustomEvent(gx,{bubbles:!0,cancelable:!0});y.addEventListener(gx,T=>s?.(T),{once:!0}),U0(y,C),C.defaultPrevented?g.current=!1:d.onClose()}};return c.jsx(bS,{...i,ref:p,disabled:r,onClick:xe(t.onClick,x),onPointerDown:y=>{t.onPointerDown?.(y),g.current=!0},onPointerUp:xe(t.onPointerUp,y=>{g.current||y.currentTarget?.click()}),onKeyDown:xe(t.onKeyDown,y=>{const C=m.searchRef.current!=="";r||C&&y.key===" "||mm.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});au.displayName=Ac;var bS=h.forwardRef((t,a)=>{const{__scopeMenu:r,disabled:s=!1,textValue:i,...u}=t,d=lp(Ac,r),m=pS(r),p=h.useRef(null),g=qe(a,p),[x,y]=h.useState(!1),[C,T]=h.useState("");return h.useEffect(()=>{const E=p.current;E&&T((E.textContent??"").trim())},[u.children]),c.jsx(Al.ItemSlot,{scope:r,disabled:s,textValue:i??C,children:c.jsx(m_,{asChild:!0,...m,focusable:!s,children:c.jsx(ke.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...u,ref:g,onPointerMove:xe(t.onPointerMove,Ol(E=>{s?d.onItemLeave(E):(d.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xe(t.onPointerLeave,Ol(E=>d.onItemLeave(E))),onFocus:xe(t.onFocus,()=>y(!0)),onBlur:xe(t.onBlur,()=>y(!1))})})})}),D_="MenuCheckboxItem",SS=h.forwardRef((t,a)=>{const{checked:r=!1,onCheckedChange:s,...i}=t;return c.jsx(jS,{scope:t.__scopeMenu,checked:r,children:c.jsx(au,{role:"menuitemcheckbox","aria-checked":Oc(r)?"mixed":r,...i,ref:a,"data-state":dp(r),onSelect:xe(i.onSelect,()=>s?.(Oc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});SS.displayName=D_;var wS="MenuRadioGroup",[__,A_]=ho(wS,{value:void 0,onValueChange:()=>{}}),CS=h.forwardRef((t,a)=>{const{value:r,onValueChange:s,...i}=t,u=Ca(s);return c.jsx(__,{scope:t.__scopeMenu,value:r,onValueChange:u,children:c.jsx(cp,{...i,ref:a})})});CS.displayName=wS;var ES="MenuRadioItem",NS=h.forwardRef((t,a)=>{const{value:r,...s}=t,i=A_(ES,t.__scopeMenu),u=r===i.value;return c.jsx(jS,{scope:t.__scopeMenu,checked:u,children:c.jsx(au,{role:"menuitemradio","aria-checked":u,...s,ref:a,"data-state":dp(u),onSelect:xe(s.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});NS.displayName=ES;var up="MenuItemIndicator",[jS,O_]=ho(up,{checked:!1}),TS=h.forwardRef((t,a)=>{const{__scopeMenu:r,forceMount:s,...i}=t,u=O_(up,r);return c.jsx(Na,{present:s||Oc(u.checked)||u.checked===!0,children:c.jsx(ke.span,{...i,ref:a,"data-state":dp(u.checked)})})});TS.displayName=up;var k_="MenuSeparator",RS=h.forwardRef((t,a)=>{const{__scopeMenu:r,...s}=t;return c.jsx(ke.div,{role:"separator","aria-orientation":"horizontal",...s,ref:a})});RS.displayName=k_;var z_="MenuArrow",MS=h.forwardRef((t,a)=>{const{__scopeMenu:r,...s}=t,i=nu(r);return c.jsx(rp,{...i,...s,ref:a})});MS.displayName=z_;var L_="MenuSub",[X3,DS]=ho(L_),Rl="MenuSubTrigger",_S=h.forwardRef((t,a)=>{const r=go(Rl,t.__scopeMenu),s=Fl(Rl,t.__scopeMenu),i=DS(Rl,t.__scopeMenu),u=lp(Rl,t.__scopeMenu),d=h.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:p}=u,g={__scopeMenu:t.__scopeMenu},x=h.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return h.useEffect(()=>x,[x]),h.useEffect(()=>{const y=m.current;return()=>{window.clearTimeout(y),p(null)}},[m,p]),c.jsx(op,{asChild:!0,...g,children:c.jsx(bS,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":kS(r.open),...t,ref:Fc(a,i.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:xe(t.onPointerMove,Ol(y=>{u.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!r.open&&!d.current&&(u.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{r.onOpenChange(!0),x()},100))})),onPointerLeave:xe(t.onPointerLeave,Ol(y=>{x();const C=r.content?.getBoundingClientRect();if(C){const T=r.content?.dataset.side,E=T==="right",b=E?-5:5,S=C[E?"left":"right"],w=C[E?"right":"left"];u.onPointerGraceIntentChange({area:[{x:y.clientX+b,y:y.clientY},{x:S,y:C.top},{x:w,y:C.top},{x:w,y:C.bottom},{x:S,y:C.bottom}],side:T}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(y),y.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:xe(t.onKeyDown,y=>{const C=u.searchRef.current!=="";t.disabled||C&&y.key===" "||g_[s.dir].includes(y.key)&&(r.onOpenChange(!0),r.content?.focus(),y.preventDefault())})})})});_S.displayName=Rl;var AS="MenuSubContent",OS=h.forwardRef((t,a)=>{const r=gS(Vn,t.__scopeMenu),{forceMount:s=r.forceMount,...i}=t,u=go(Vn,t.__scopeMenu),d=Fl(Vn,t.__scopeMenu),m=DS(AS,t.__scopeMenu),p=h.useRef(null),g=qe(a,p);return c.jsx(Al.Provider,{scope:t.__scopeMenu,children:c.jsx(Na,{present:s||u.open,children:c.jsx(Al.Slot,{scope:t.__scopeMenu,children:c.jsx(ip,{id:m.contentId,"aria-labelledby":m.triggerId,...i,ref:g,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{d.isUsingKeyboardRef.current&&p.current?.focus(),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:xe(t.onFocusOutside,x=>{x.target!==m.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:xe(t.onEscapeKeyDown,x=>{d.onClose(),x.preventDefault()}),onKeyDown:xe(t.onKeyDown,x=>{const y=x.currentTarget.contains(x.target),C=v_[d.dir].includes(x.key);y&&C&&(u.onOpenChange(!1),m.trigger?.focus(),x.preventDefault())})})})})})});OS.displayName=AS;function kS(t){return t?"open":"closed"}function Oc(t){return t==="indeterminate"}function dp(t){return Oc(t)?"indeterminate":t?"checked":"unchecked"}function P_(t){const a=document.activeElement;for(const r of t)if(r===a||(r.focus(),document.activeElement!==a))return}function U_(t,a){return t.map((r,s)=>t[(a+s)%t.length])}function B_(t,a,r){const i=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,u=r?t.indexOf(r):-1;let d=U_(t,Math.max(u,0));i.length===1&&(d=d.filter(g=>g!==r));const p=d.find(g=>g.toLowerCase().startsWith(i.toLowerCase()));return p!==r?p:void 0}function H_(t,a){const{x:r,y:s}=t;let i=!1;for(let u=0,d=a.length-1;u<a.length;d=u++){const m=a[u],p=a[d],g=m.x,x=m.y,y=p.x,C=p.y;x>s!=C>s&&r<(y-g)*(s-x)/(C-x)+g&&(i=!i)}return i}function q_(t,a){if(!a)return!1;const r={x:t.clientX,y:t.clientY};return H_(r,a)}function Ol(t){return a=>a.pointerType==="mouse"?t(a):void 0}var I_=hS,$_=op,F_=vS,Y_=yS,V_=cp,G_=xS,X_=au,K_=SS,W_=CS,Q_=NS,Z_=TS,J_=RS,eA=MS,tA=_S,nA=OS,ru="DropdownMenu",[aA]=ia(ru,[mS]),ln=mS(),[rA,zS]=aA(ru),LS=t=>{const{__scopeDropdownMenu:a,children:r,dir:s,open:i,defaultOpen:u,onOpenChange:d,modal:m=!0}=t,p=ln(a),g=h.useRef(null),[x,y]=Mr({prop:i,defaultProp:u??!1,onChange:d,caller:ru});return c.jsx(rA,{scope:a,triggerId:Sa(),triggerRef:g,contentId:Sa(),open:x,onOpenChange:y,onOpenToggle:h.useCallback(()=>y(C=>!C),[y]),modal:m,children:c.jsx(I_,{...p,open:x,onOpenChange:y,dir:s,modal:m,children:r})})};LS.displayName=ru;var PS="DropdownMenuTrigger",US=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...i}=t,u=zS(PS,r),d=ln(r);return c.jsx($_,{asChild:!0,...d,children:c.jsx(ke.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Fc(a,u.triggerRef),onPointerDown:xe(t.onPointerDown,m=>{!s&&m.button===0&&m.ctrlKey===!1&&(u.onOpenToggle(),u.open||m.preventDefault())}),onKeyDown:xe(t.onKeyDown,m=>{s||(["Enter"," "].includes(m.key)&&u.onOpenToggle(),m.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});US.displayName=PS;var oA="DropdownMenuPortal",BS=t=>{const{__scopeDropdownMenu:a,...r}=t,s=ln(a);return c.jsx(F_,{...s,...r})};BS.displayName=oA;var HS="DropdownMenuContent",qS=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=zS(HS,r),u=ln(r),d=h.useRef(!1);return c.jsx(Y_,{id:i.contentId,"aria-labelledby":i.triggerId,...u,...s,ref:a,onCloseAutoFocus:xe(t.onCloseAutoFocus,m=>{d.current||i.triggerRef.current?.focus(),d.current=!1,m.preventDefault()}),onInteractOutside:xe(t.onInteractOutside,m=>{const p=m.detail.originalEvent,g=p.button===0&&p.ctrlKey===!0,x=p.button===2||g;(!i.modal||x)&&(d.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qS.displayName=HS;var sA="DropdownMenuGroup",lA=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(V_,{...i,...s,ref:a})});lA.displayName=sA;var iA="DropdownMenuLabel",IS=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(G_,{...i,...s,ref:a})});IS.displayName=iA;var cA="DropdownMenuItem",$S=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(X_,{...i,...s,ref:a})});$S.displayName=cA;var uA="DropdownMenuCheckboxItem",dA=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(K_,{...i,...s,ref:a})});dA.displayName=uA;var fA="DropdownMenuRadioGroup",mA=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(W_,{...i,...s,ref:a})});mA.displayName=fA;var pA="DropdownMenuRadioItem",hA=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(Q_,{...i,...s,ref:a})});hA.displayName=pA;var gA="DropdownMenuItemIndicator",vA=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(Z_,{...i,...s,ref:a})});vA.displayName=gA;var yA="DropdownMenuSeparator",FS=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(J_,{...i,...s,ref:a})});FS.displayName=yA;var xA="DropdownMenuArrow",bA=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(eA,{...i,...s,ref:a})});bA.displayName=xA;var SA="DropdownMenuSubTrigger",wA=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(tA,{...i,...s,ref:a})});wA.displayName=SA;var CA="DropdownMenuSubContent",EA=h.forwardRef((t,a)=>{const{__scopeDropdownMenu:r,...s}=t,i=ln(r);return c.jsx(nA,{...i,...s,ref:a,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EA.displayName=CA;var NA=LS,jA=US,TA=BS,RA=qS,MA=IS,DA=$S,_A=FS,AA="Label",YS=h.forwardRef((t,a)=>c.jsx(ke.label,{...t,ref:a,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));YS.displayName=AA;var OA=YS;function kc(t,[a,r]){return Math.min(r,Math.max(a,t))}var kA=[" ","Enter","ArrowUp","ArrowDown"],zA=[" ","Enter"],uo="Select",[ou,su,LA]=Yc(uo),[Es]=ia(uo,[LA,Cs]),lu=Cs(),[PA,Ur]=Es(uo),[UA,BA]=Es(uo),VS=t=>{const{__scopeSelect:a,children:r,open:s,defaultOpen:i,onOpenChange:u,value:d,defaultValue:m,onValueChange:p,dir:g,name:x,autoComplete:y,disabled:C,required:T,form:E}=t,b=lu(a),[S,w]=h.useState(null),[j,R]=h.useState(null),[A,_]=h.useState(!1),k=Vc(g),[D,M]=Mr({prop:s,defaultProp:i??!1,onChange:u,caller:uo}),[z,I]=Mr({prop:d,defaultProp:m,onChange:p,caller:uo}),$=h.useRef(null),V=S?E||!!S.closest("form"):!0,[q,X]=h.useState(new Set),ae=Array.from(q).map(L=>L.props.value).join(";");return c.jsx(tp,{...b,children:c.jsxs(PA,{required:T,scope:a,trigger:S,onTriggerChange:w,valueNode:j,onValueNodeChange:R,valueNodeHasChildren:A,onValueNodeHasChildrenChange:_,contentId:Sa(),value:z,onValueChange:I,open:D,onOpenChange:M,dir:k,triggerPointerDownPosRef:$,disabled:C,children:[c.jsx(ou.Provider,{scope:a,children:c.jsx(UA,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(L=>{X(H=>new Set(H).add(L))},[]),onNativeOptionRemove:h.useCallback(L=>{X(H=>{const U=new Set(H);return U.delete(L),U})},[]),children:r})}),V?c.jsxs(gw,{"aria-hidden":!0,required:T,tabIndex:-1,name:x,autoComplete:y,value:z,onChange:L=>I(L.target.value),disabled:C,form:E,children:[z===void 0?c.jsx("option",{value:""}):null,Array.from(q)]},ae):null]})})};VS.displayName=uo;var GS="SelectTrigger",XS=h.forwardRef((t,a)=>{const{__scopeSelect:r,disabled:s=!1,...i}=t,u=lu(r),d=Ur(GS,r),m=d.disabled||s,p=qe(a,d.onTriggerChange),g=su(r),x=h.useRef("touch"),[y,C,T]=yw(b=>{const S=g().filter(R=>!R.disabled),w=S.find(R=>R.value===d.value),j=xw(S,b,w);j!==void 0&&d.onValueChange(j.value)}),E=b=>{m||(d.onOpenChange(!0),T()),b&&(d.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return c.jsx(np,{asChild:!0,...u,children:c.jsx(ke.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":vw(d.value)?"":void 0,...i,ref:p,onClick:xe(i.onClick,b=>{b.currentTarget.focus(),x.current!=="mouse"&&E(b)}),onPointerDown:xe(i.onPointerDown,b=>{x.current=b.pointerType;const S=b.target;S.hasPointerCapture(b.pointerId)&&S.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(E(b),b.preventDefault())}),onKeyDown:xe(i.onKeyDown,b=>{const S=y.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&C(b.key),!(S&&b.key===" ")&&kA.includes(b.key)&&(E(),b.preventDefault())})})})});XS.displayName=GS;var KS="SelectValue",WS=h.forwardRef((t,a)=>{const{__scopeSelect:r,className:s,style:i,children:u,placeholder:d="",...m}=t,p=Ur(KS,r),{onValueNodeHasChildrenChange:g}=p,x=u!==void 0,y=qe(a,p.onValueNodeChange);return rn(()=>{g(x)},[g,x]),c.jsx(ke.span,{...m,ref:y,style:{pointerEvents:"none"},children:vw(p.value)?c.jsx(c.Fragment,{children:d}):u})});WS.displayName=KS;var HA="SelectIcon",QS=h.forwardRef((t,a)=>{const{__scopeSelect:r,children:s,...i}=t;return c.jsx(ke.span,{"aria-hidden":!0,...i,ref:a,children:s||""})});QS.displayName=HA;var qA="SelectPortal",ZS=t=>c.jsx(Hl,{asChild:!0,...t});ZS.displayName=qA;var fo="SelectContent",JS=h.forwardRef((t,a)=>{const r=Ur(fo,t.__scopeSelect),[s,i]=h.useState();if(rn(()=>{i(new DocumentFragment)},[]),!r.open){const u=s;return u?Ul.createPortal(c.jsx(ew,{scope:t.__scopeSelect,children:c.jsx(ou.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),u):null}return c.jsx(tw,{...t,ref:a})});JS.displayName=fo;var aa=10,[ew,Br]=Es(fo),IA="SelectContentImpl",$A=lo("SelectContent.RemoveScroll"),tw=h.forwardRef((t,a)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:u,onPointerDownOutside:d,side:m,sideOffset:p,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:C,collisionPadding:T,sticky:E,hideWhenDetached:b,avoidCollisions:S,...w}=t,j=Ur(fo,r),[R,A]=h.useState(null),[_,k]=h.useState(null),D=qe(a,W=>A(W)),[M,z]=h.useState(null),[I,$]=h.useState(null),V=su(r),[q,X]=h.useState(!1),ae=h.useRef(!1);h.useEffect(()=>{if(R)return qm(R)},[R]),Hm();const L=h.useCallback(W=>{const[ye,...fe]=V().map(be=>be.ref.current),[he]=fe.slice(-1),pe=document.activeElement;for(const be of W)if(be===pe||(be?.scrollIntoView({block:"nearest"}),be===ye&&_&&(_.scrollTop=0),be===he&&_&&(_.scrollTop=_.scrollHeight),be?.focus(),document.activeElement!==pe))return},[V,_]),H=h.useCallback(()=>L([M,R]),[L,M,R]);h.useEffect(()=>{q&&H()},[q,H]);const{onOpenChange:U,triggerPointerDownPosRef:G}=j;h.useEffect(()=>{if(R){let W={x:0,y:0};const ye=he=>{W={x:Math.abs(Math.round(he.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(he.pageY)-(G.current?.y??0))}},fe=he=>{W.x<=10&&W.y<=10?he.preventDefault():R.contains(he.target)||U(!1),document.removeEventListener("pointermove",ye),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",fe,{capture:!0})}}},[R,U,G]),h.useEffect(()=>{const W=()=>U(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[U]);const[ce,P]=yw(W=>{const ye=V().filter(pe=>!pe.disabled),fe=ye.find(pe=>pe.ref.current===document.activeElement),he=xw(ye,W,fe);he&&setTimeout(()=>he.ref.current.focus())}),Y=h.useCallback((W,ye,fe)=>{const he=!ae.current&&!fe;(j.value!==void 0&&j.value===ye||he)&&(z(W),he&&(ae.current=!0))},[j.value]),Q=h.useCallback(()=>R?.focus(),[R]),re=h.useCallback((W,ye,fe)=>{const he=!ae.current&&!fe;(j.value!==void 0&&j.value===ye||he)&&$(W)},[j.value]),ue=s==="popper"?pm:nw,me=ue===pm?{side:m,sideOffset:p,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:C,collisionPadding:T,sticky:E,hideWhenDetached:b,avoidCollisions:S}:{};return c.jsx(ew,{scope:r,content:R,viewport:_,onViewportChange:k,itemRefCallback:Y,selectedItem:M,onItemLeave:Q,itemTextRefCallback:re,focusSelectedItem:H,selectedItemText:I,position:s,isPositioned:q,searchRef:ce,children:c.jsx(Kc,{as:$A,allowPinchZoom:!0,children:c.jsx(Gc,{asChild:!0,trapped:j.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:xe(i,W=>{j.trigger?.focus({preventScroll:!0}),W.preventDefault()}),children:c.jsx(Bl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:c.jsx(ue,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:W=>W.preventDefault(),...w,...me,onPlaced:()=>X(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:xe(w.onKeyDown,W=>{const ye=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!ye&&W.key.length===1&&P(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let he=V().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(W.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const pe=W.target,be=he.indexOf(pe);he=he.slice(be+1)}setTimeout(()=>L(he)),W.preventDefault()}})})})})})})});tw.displayName=IA;var FA="SelectItemAlignedPosition",nw=h.forwardRef((t,a)=>{const{__scopeSelect:r,onPlaced:s,...i}=t,u=Ur(fo,r),d=Br(fo,r),[m,p]=h.useState(null),[g,x]=h.useState(null),y=qe(a,D=>x(D)),C=su(r),T=h.useRef(!1),E=h.useRef(!0),{viewport:b,selectedItem:S,selectedItemText:w,focusSelectedItem:j}=d,R=h.useCallback(()=>{if(u.trigger&&u.valueNode&&m&&g&&b&&S&&w){const D=u.trigger.getBoundingClientRect(),M=g.getBoundingClientRect(),z=u.valueNode.getBoundingClientRect(),I=w.getBoundingClientRect();if(u.dir!=="rtl"){const pe=I.left-M.left,be=z.left-pe,Ae=D.left-be,Je=D.width+Ae,ut=Math.max(Je,M.width),st=window.innerWidth-aa,dt=kc(be,[aa,Math.max(aa,st-ut)]);m.style.minWidth=Je+"px",m.style.left=dt+"px"}else{const pe=M.right-I.right,be=window.innerWidth-z.right-pe,Ae=window.innerWidth-D.right-be,Je=D.width+Ae,ut=Math.max(Je,M.width),st=window.innerWidth-aa,dt=kc(be,[aa,Math.max(aa,st-ut)]);m.style.minWidth=Je+"px",m.style.right=dt+"px"}const $=C(),V=window.innerHeight-aa*2,q=b.scrollHeight,X=window.getComputedStyle(g),ae=parseInt(X.borderTopWidth,10),L=parseInt(X.paddingTop,10),H=parseInt(X.borderBottomWidth,10),U=parseInt(X.paddingBottom,10),G=ae+L+q+U+H,ce=Math.min(S.offsetHeight*5,G),P=window.getComputedStyle(b),Y=parseInt(P.paddingTop,10),Q=parseInt(P.paddingBottom,10),re=D.top+D.height/2-aa,ue=V-re,me=S.offsetHeight/2,W=S.offsetTop+me,ye=ae+L+W,fe=G-ye;if(ye<=re){const pe=$.length>0&&S===$[$.length-1].ref.current;m.style.bottom="0px";const be=g.clientHeight-b.offsetTop-b.offsetHeight,Ae=Math.max(ue,me+(pe?Q:0)+be+H),Je=ye+Ae;m.style.height=Je+"px"}else{const pe=$.length>0&&S===$[0].ref.current;m.style.top="0px";const Ae=Math.max(re,ae+b.offsetTop+(pe?Y:0)+me)+fe;m.style.height=Ae+"px",b.scrollTop=ye-re+b.offsetTop}m.style.margin=`${aa}px 0`,m.style.minHeight=ce+"px",m.style.maxHeight=V+"px",s?.(),requestAnimationFrame(()=>T.current=!0)}},[C,u.trigger,u.valueNode,m,g,b,S,w,u.dir,s]);rn(()=>R(),[R]);const[A,_]=h.useState();rn(()=>{g&&_(window.getComputedStyle(g).zIndex)},[g]);const k=h.useCallback(D=>{D&&E.current===!0&&(R(),j?.(),E.current=!1)},[R,j]);return c.jsx(VA,{scope:r,contentWrapper:m,shouldExpandOnScrollRef:T,onScrollButtonChange:k,children:c.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:c.jsx(ke.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});nw.displayName=FA;var YA="SelectPopperPosition",pm=h.forwardRef((t,a)=>{const{__scopeSelect:r,align:s="start",collisionPadding:i=aa,...u}=t,d=lu(r);return c.jsx(ap,{...d,...u,ref:a,align:s,collisionPadding:i,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});pm.displayName=YA;var[VA,fp]=Es(fo,{}),hm="SelectViewport",aw=h.forwardRef((t,a)=>{const{__scopeSelect:r,nonce:s,...i}=t,u=Br(hm,r),d=fp(hm,r),m=qe(a,u.onViewportChange),p=h.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(ou.Slot,{scope:r,children:c.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:xe(i.onScroll,g=>{const x=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:C}=d;if(C?.current&&y){const T=Math.abs(p.current-x.scrollTop);if(T>0){const E=window.innerHeight-aa*2,b=parseFloat(y.style.minHeight),S=parseFloat(y.style.height),w=Math.max(b,S);if(w<E){const j=w+T,R=Math.min(E,j),A=j-R;y.style.height=R+"px",y.style.bottom==="0px"&&(x.scrollTop=A>0?A:0,y.style.justifyContent="flex-end")}}}p.current=x.scrollTop})})})]})});aw.displayName=hm;var rw="SelectGroup",[GA,XA]=Es(rw),ow=h.forwardRef((t,a)=>{const{__scopeSelect:r,...s}=t,i=Sa();return c.jsx(GA,{scope:r,id:i,children:c.jsx(ke.div,{role:"group","aria-labelledby":i,...s,ref:a})})});ow.displayName=rw;var sw="SelectLabel",lw=h.forwardRef((t,a)=>{const{__scopeSelect:r,...s}=t,i=XA(sw,r);return c.jsx(ke.div,{id:i.id,...s,ref:a})});lw.displayName=sw;var zc="SelectItem",[KA,iw]=Es(zc),cw=h.forwardRef((t,a)=>{const{__scopeSelect:r,value:s,disabled:i=!1,textValue:u,...d}=t,m=Ur(zc,r),p=Br(zc,r),g=m.value===s,[x,y]=h.useState(u??""),[C,T]=h.useState(!1),E=qe(a,j=>p.itemRefCallback?.(j,s,i)),b=Sa(),S=h.useRef("touch"),w=()=>{i||(m.onValueChange(s),m.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(KA,{scope:r,value:s,disabled:i,textId:b,isSelected:g,onItemTextChange:h.useCallback(j=>{y(R=>R||(j?.textContent??"").trim())},[]),children:c.jsx(ou.ItemSlot,{scope:r,value:s,disabled:i,textValue:x,children:c.jsx(ke.div,{role:"option","aria-labelledby":b,"data-highlighted":C?"":void 0,"aria-selected":g&&C,"data-state":g?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...d,ref:E,onFocus:xe(d.onFocus,()=>T(!0)),onBlur:xe(d.onBlur,()=>T(!1)),onClick:xe(d.onClick,()=>{S.current!=="mouse"&&w()}),onPointerUp:xe(d.onPointerUp,()=>{S.current==="mouse"&&w()}),onPointerDown:xe(d.onPointerDown,j=>{S.current=j.pointerType}),onPointerMove:xe(d.onPointerMove,j=>{S.current=j.pointerType,i?p.onItemLeave?.():S.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(d.onPointerLeave,j=>{j.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:xe(d.onKeyDown,j=>{p.searchRef?.current!==""&&j.key===" "||(zA.includes(j.key)&&w(),j.key===" "&&j.preventDefault())})})})})});cw.displayName=zc;var Ml="SelectItemText",uw=h.forwardRef((t,a)=>{const{__scopeSelect:r,className:s,style:i,...u}=t,d=Ur(Ml,r),m=Br(Ml,r),p=iw(Ml,r),g=BA(Ml,r),[x,y]=h.useState(null),C=qe(a,w=>y(w),p.onItemTextChange,w=>m.itemTextRefCallback?.(w,p.value,p.disabled)),T=x?.textContent,E=h.useMemo(()=>c.jsx("option",{value:p.value,disabled:p.disabled,children:T},p.value),[p.disabled,p.value,T]),{onNativeOptionAdd:b,onNativeOptionRemove:S}=g;return rn(()=>(b(E),()=>S(E)),[b,S,E]),c.jsxs(c.Fragment,{children:[c.jsx(ke.span,{id:p.textId,...u,ref:C}),p.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Ul.createPortal(u.children,d.valueNode):null]})});uw.displayName=Ml;var dw="SelectItemIndicator",fw=h.forwardRef((t,a)=>{const{__scopeSelect:r,...s}=t;return iw(dw,r).isSelected?c.jsx(ke.span,{"aria-hidden":!0,...s,ref:a}):null});fw.displayName=dw;var gm="SelectScrollUpButton",mw=h.forwardRef((t,a)=>{const r=Br(gm,t.__scopeSelect),s=fp(gm,t.__scopeSelect),[i,u]=h.useState(!1),d=qe(a,s.onScrollButtonChange);return rn(()=>{if(r.viewport&&r.isPositioned){let m=function(){const g=p.scrollTop>0;u(g)};const p=r.viewport;return m(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),i?c.jsx(hw,{...t,ref:d,onAutoScroll:()=>{const{viewport:m,selectedItem:p}=r;m&&p&&(m.scrollTop=m.scrollTop-p.offsetHeight)}}):null});mw.displayName=gm;var vm="SelectScrollDownButton",pw=h.forwardRef((t,a)=>{const r=Br(vm,t.__scopeSelect),s=fp(vm,t.__scopeSelect),[i,u]=h.useState(!1),d=qe(a,s.onScrollButtonChange);return rn(()=>{if(r.viewport&&r.isPositioned){let m=function(){const g=p.scrollHeight-p.clientHeight,x=Math.ceil(p.scrollTop)<g;u(x)};const p=r.viewport;return m(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),i?c.jsx(hw,{...t,ref:d,onAutoScroll:()=>{const{viewport:m,selectedItem:p}=r;m&&p&&(m.scrollTop=m.scrollTop+p.offsetHeight)}}):null});pw.displayName=vm;var hw=h.forwardRef((t,a)=>{const{__scopeSelect:r,onAutoScroll:s,...i}=t,u=Br("SelectScrollButton",r),d=h.useRef(null),m=su(r),p=h.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return h.useEffect(()=>()=>p(),[p]),rn(()=>{m().find(x=>x.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[m]),c.jsx(ke.div,{"aria-hidden":!0,...i,ref:a,style:{flexShrink:0,...i.style},onPointerDown:xe(i.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(s,50))}),onPointerMove:xe(i.onPointerMove,()=>{u.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(s,50))}),onPointerLeave:xe(i.onPointerLeave,()=>{p()})})}),WA="SelectSeparator",QA=h.forwardRef((t,a)=>{const{__scopeSelect:r,...s}=t;return c.jsx(ke.div,{"aria-hidden":!0,...s,ref:a})});QA.displayName=WA;var ym="SelectArrow",ZA=h.forwardRef((t,a)=>{const{__scopeSelect:r,...s}=t,i=lu(r),u=Ur(ym,r),d=Br(ym,r);return u.open&&d.position==="popper"?c.jsx(rp,{...i,...s,ref:a}):null});ZA.displayName=ym;var JA="SelectBubbleInput",gw=h.forwardRef(({__scopeSelect:t,value:a,...r},s)=>{const i=h.useRef(null),u=qe(s,i),d=Ym(a);return h.useEffect(()=>{const m=i.current;if(!m)return;const p=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(p,"value").set;if(d!==a&&x){const y=new Event("change",{bubbles:!0});x.call(m,a),m.dispatchEvent(y)}},[d,a]),c.jsx(ke.select,{...r,style:{...B0,...r.style},ref:u,defaultValue:a})});gw.displayName=JA;function vw(t){return t===""||t===void 0}function yw(t){const a=Ca(t),r=h.useRef(""),s=h.useRef(0),i=h.useCallback(d=>{const m=r.current+d;a(m),(function p(g){r.current=g,window.clearTimeout(s.current),g!==""&&(s.current=window.setTimeout(()=>p(""),1e3))})(m)},[a]),u=h.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,i,u]}function xw(t,a,r){const i=a.length>1&&Array.from(a).every(g=>g===a[0])?a[0]:a,u=r?t.indexOf(r):-1;let d=eO(t,Math.max(u,0));i.length===1&&(d=d.filter(g=>g!==r));const p=d.find(g=>g.textValue.toLowerCase().startsWith(i.toLowerCase()));return p!==r?p:void 0}function eO(t,a){return t.map((r,s)=>t[(a+s)%t.length])}var tO=VS,nO=XS,aO=WS,rO=QS,oO=ZS,sO=JS,lO=aw,iO=ow,cO=lw,uO=cw,dO=uw,fO=fw,mO=mw,pO=pw,hO="Separator",vx="horizontal",gO=["horizontal","vertical"],bw=h.forwardRef((t,a)=>{const{decorative:r,orientation:s=vx,...i}=t,u=vO(s)?s:vx,m=r?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return c.jsx(ke.div,{"data-orientation":u,...m,...i,ref:a})});bw.displayName=hO;function vO(t){return gO.includes(t)}var yO=bw,Sw=["PageUp","PageDown"],ww=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Cw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ns="Slider",[xm,xO,bO]=Yc(Ns),[Ew]=ia(Ns,[bO]),[SO,iu]=Ew(Ns),Nw=h.forwardRef((t,a)=>{const{name:r,min:s=0,max:i=100,step:u=1,orientation:d="horizontal",disabled:m=!1,minStepsBetweenThumbs:p=0,defaultValue:g=[s],value:x,onValueChange:y=()=>{},onValueCommit:C=()=>{},inverted:T=!1,form:E,...b}=t,S=h.useRef(new Set),w=h.useRef(0),R=d==="horizontal"?wO:CO,[A=[],_]=Mr({prop:x,defaultProp:g,onChange:$=>{[...S.current][w.current]?.focus(),y($)}}),k=h.useRef(A);function D($){const V=RO(A,$);I($,V)}function M($){I($,w.current)}function z(){const $=k.current[w.current];A[w.current]!==$&&C(A)}function I($,V,{commit:q}={commit:!1}){const X=AO(u),ae=OO(Math.round(($-s)/u)*u+s,X),L=kc(ae,[s,i]);_((H=[])=>{const U=jO(H,L,V);if(_O(U,p*u)){w.current=U.indexOf(L);const G=String(U)!==String(H);return G&&q&&C(U),G?U:H}else return H})}return c.jsx(SO,{scope:t.__scopeSlider,name:r,disabled:m,min:s,max:i,valueIndexToChangeRef:w,thumbs:S.current,values:A,orientation:d,form:E,children:c.jsx(xm.Provider,{scope:t.__scopeSlider,children:c.jsx(xm.Slot,{scope:t.__scopeSlider,children:c.jsx(R,{"aria-disabled":m,"data-disabled":m?"":void 0,...b,ref:a,onPointerDown:xe(b.onPointerDown,()=>{m||(k.current=A)}),min:s,max:i,inverted:T,onSlideStart:m?void 0:D,onSlideMove:m?void 0:M,onSlideEnd:m?void 0:z,onHomeKeyDown:()=>!m&&I(s,0,{commit:!0}),onEndKeyDown:()=>!m&&I(i,A.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:V})=>{if(!m){const ae=Sw.includes($.key)||$.shiftKey&&ww.includes($.key)?10:1,L=w.current,H=A[L],U=u*ae*V;I(H+U,L,{commit:!0})}}})})})})});Nw.displayName=Ns;var[jw,Tw]=Ew(Ns,{startEdge:"left",endEdge:"right",size:"width",direction:1}),wO=h.forwardRef((t,a)=>{const{min:r,max:s,dir:i,inverted:u,onSlideStart:d,onSlideMove:m,onSlideEnd:p,onStepKeyDown:g,...x}=t,[y,C]=h.useState(null),T=qe(a,R=>C(R)),E=h.useRef(void 0),b=Vc(i),S=b==="ltr",w=S&&!u||!S&&u;function j(R){const A=E.current||y.getBoundingClientRect(),_=[0,A.width],D=mp(_,w?[r,s]:[s,r]);return E.current=A,D(R-A.left)}return c.jsx(jw,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:c.jsx(Rw,{dir:b,"data-orientation":"horizontal",...x,ref:T,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:R=>{const A=j(R.clientX);d?.(A)},onSlideMove:R=>{const A=j(R.clientX);m?.(A)},onSlideEnd:()=>{E.current=void 0,p?.()},onStepKeyDown:R=>{const _=Cw[w?"from-left":"from-right"].includes(R.key);g?.({event:R,direction:_?-1:1})}})})}),CO=h.forwardRef((t,a)=>{const{min:r,max:s,inverted:i,onSlideStart:u,onSlideMove:d,onSlideEnd:m,onStepKeyDown:p,...g}=t,x=h.useRef(null),y=qe(a,x),C=h.useRef(void 0),T=!i;function E(b){const S=C.current||x.current.getBoundingClientRect(),w=[0,S.height],R=mp(w,T?[s,r]:[r,s]);return C.current=S,R(b-S.top)}return c.jsx(jw,{scope:t.__scopeSlider,startEdge:T?"bottom":"top",endEdge:T?"top":"bottom",size:"height",direction:T?1:-1,children:c.jsx(Rw,{"data-orientation":"vertical",...g,ref:y,style:{...g.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const S=E(b.clientY);u?.(S)},onSlideMove:b=>{const S=E(b.clientY);d?.(S)},onSlideEnd:()=>{C.current=void 0,m?.()},onStepKeyDown:b=>{const w=Cw[T?"from-bottom":"from-top"].includes(b.key);p?.({event:b,direction:w?-1:1})}})})}),Rw=h.forwardRef((t,a)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:i,onSlideEnd:u,onHomeKeyDown:d,onEndKeyDown:m,onStepKeyDown:p,...g}=t,x=iu(Ns,r);return c.jsx(ke.span,{...g,ref:a,onKeyDown:xe(t.onKeyDown,y=>{y.key==="Home"?(d(y),y.preventDefault()):y.key==="End"?(m(y),y.preventDefault()):Sw.concat(ww).includes(y.key)&&(p(y),y.preventDefault())}),onPointerDown:xe(t.onPointerDown,y=>{const C=y.target;C.setPointerCapture(y.pointerId),y.preventDefault(),x.thumbs.has(C)?C.focus():s(y)}),onPointerMove:xe(t.onPointerMove,y=>{y.target.hasPointerCapture(y.pointerId)&&i(y)}),onPointerUp:xe(t.onPointerUp,y=>{const C=y.target;C.hasPointerCapture(y.pointerId)&&(C.releasePointerCapture(y.pointerId),u(y))})})}),Mw="SliderTrack",Dw=h.forwardRef((t,a)=>{const{__scopeSlider:r,...s}=t,i=iu(Mw,r);return c.jsx(ke.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:a})});Dw.displayName=Mw;var bm="SliderRange",_w=h.forwardRef((t,a)=>{const{__scopeSlider:r,...s}=t,i=iu(bm,r),u=Tw(bm,r),d=h.useRef(null),m=qe(a,d),p=i.values.length,g=i.values.map(C=>kw(C,i.min,i.max)),x=p>1?Math.min(...g):0,y=100-Math.max(...g);return c.jsx(ke.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...s,ref:m,style:{...t.style,[u.startEdge]:x+"%",[u.endEdge]:y+"%"}})});_w.displayName=bm;var Sm="SliderThumb",Aw=h.forwardRef((t,a)=>{const r=xO(t.__scopeSlider),[s,i]=h.useState(null),u=qe(a,m=>i(m)),d=h.useMemo(()=>s?r().findIndex(m=>m.ref.current===s):-1,[r,s]);return c.jsx(EO,{...t,ref:u,index:d})}),EO=h.forwardRef((t,a)=>{const{__scopeSlider:r,index:s,name:i,...u}=t,d=iu(Sm,r),m=Tw(Sm,r),[p,g]=h.useState(null),x=qe(a,j=>g(j)),y=p?d.form||!!p.closest("form"):!0,C=Vm(p),T=d.values[s],E=T===void 0?0:kw(T,d.min,d.max),b=TO(s,d.values.length),S=C?.[m.size],w=S?MO(S,E,m.direction):0;return h.useEffect(()=>{if(p)return d.thumbs.add(p),()=>{d.thumbs.delete(p)}},[p,d.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${E}% + ${w}px)`},children:[c.jsx(xm.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(ke.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":d.min,"aria-valuenow":T,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...u,ref:x,style:T===void 0?{display:"none"}:t.style,onFocus:xe(t.onFocus,()=>{d.valueIndexToChangeRef.current=s})})}),y&&c.jsx(Ow,{name:i??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:T},s)]})});Aw.displayName=Sm;var NO="RadioBubbleInput",Ow=h.forwardRef(({__scopeSlider:t,value:a,...r},s)=>{const i=h.useRef(null),u=qe(i,s),d=Ym(a);return h.useEffect(()=>{const m=i.current;if(!m)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"value").set;if(d!==a&&x){const y=new Event("input",{bubbles:!0});x.call(m,a),m.dispatchEvent(y)}},[d,a]),c.jsx(ke.input,{style:{display:"none"},...r,ref:u,defaultValue:a})});Ow.displayName=NO;function jO(t=[],a,r){const s=[...t];return s[r]=a,s.sort((i,u)=>i-u)}function kw(t,a,r){const u=100/(r-a)*(t-a);return kc(u,[0,100])}function TO(t,a){return a>2?`Value ${t+1} of ${a}`:a===2?["Minimum","Maximum"][t]:void 0}function RO(t,a){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-a)),s=Math.min(...r);return r.indexOf(s)}function MO(t,a,r){const s=t/2,u=mp([0,50],[0,s]);return(s-u(a)*r)*r}function DO(t){return t.slice(0,-1).map((a,r)=>t[r+1]-a)}function _O(t,a){if(a>0){const r=DO(t);return Math.min(...r)>=a}return!0}function mp(t,a){return r=>{if(t[0]===t[1]||a[0]===a[1])return a[0];const s=(a[1]-a[0])/(t[1]-t[0]);return a[0]+s*(r-t[0])}}function AO(t){return(String(t).split(".")[1]||"").length}function OO(t,a){const r=Math.pow(10,a);return Math.round(t*r)/r}var kO=Nw,zO=Dw,LO=_w,PO=Aw,cu="Switch",[UO]=ia(cu),[BO,HO]=UO(cu),zw=h.forwardRef((t,a)=>{const{__scopeSwitch:r,name:s,checked:i,defaultChecked:u,required:d,disabled:m,value:p="on",onCheckedChange:g,form:x,...y}=t,[C,T]=h.useState(null),E=qe(a,R=>T(R)),b=h.useRef(!1),S=C?x||!!C.closest("form"):!0,[w,j]=Mr({prop:i,defaultProp:u??!1,onChange:g,caller:cu});return c.jsxs(BO,{scope:r,checked:w,disabled:m,children:[c.jsx(ke.button,{type:"button",role:"switch","aria-checked":w,"aria-required":d,"data-state":Bw(w),"data-disabled":m?"":void 0,disabled:m,value:p,...y,ref:E,onClick:xe(t.onClick,R=>{j(A=>!A),S&&(b.current=R.isPropagationStopped(),b.current||R.stopPropagation())})}),S&&c.jsx(Uw,{control:C,bubbles:!b.current,name:s,value:p,checked:w,required:d,disabled:m,form:x,style:{transform:"translateX(-100%)"}})]})});zw.displayName=cu;var Lw="SwitchThumb",Pw=h.forwardRef((t,a)=>{const{__scopeSwitch:r,...s}=t,i=HO(Lw,r);return c.jsx(ke.span,{"data-state":Bw(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:a})});Pw.displayName=Lw;var qO="SwitchBubbleInput",Uw=h.forwardRef(({__scopeSwitch:t,control:a,checked:r,bubbles:s=!0,...i},u)=>{const d=h.useRef(null),m=qe(d,u),p=Ym(r),g=Vm(a);return h.useEffect(()=>{const x=d.current;if(!x)return;const y=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(y,"checked").set;if(p!==r&&T){const E=new Event("click",{bubbles:s});T.call(x,r),x.dispatchEvent(E)}},[p,r,s]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:m,style:{...i.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Uw.displayName=qO;function Bw(t){return t?"checked":"unchecked"}var IO=zw,$O=Pw,[uu]=ia("Tooltip",[Cs]),du=Cs(),Hw="TooltipProvider",FO=700,wm="tooltip.open",[YO,pp]=uu(Hw),qw=t=>{const{__scopeTooltip:a,delayDuration:r=FO,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:u}=t,d=h.useRef(!0),m=h.useRef(!1),p=h.useRef(0);return h.useEffect(()=>{const g=p.current;return()=>window.clearTimeout(g)},[]),c.jsx(YO,{scope:a,isOpenDelayedRef:d,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(p.current),d.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>d.current=!0,s)},[s]),isPointerInTransitRef:m,onPointerInTransitChange:h.useCallback(g=>{m.current=g},[]),disableHoverableContent:i,children:u})};qw.displayName=Hw;var kl="Tooltip",[VO,Yl]=uu(kl),Iw=t=>{const{__scopeTooltip:a,children:r,open:s,defaultOpen:i,onOpenChange:u,disableHoverableContent:d,delayDuration:m}=t,p=pp(kl,t.__scopeTooltip),g=du(a),[x,y]=h.useState(null),C=Sa(),T=h.useRef(0),E=d??p.disableHoverableContent,b=m??p.delayDuration,S=h.useRef(!1),[w,j]=Mr({prop:s,defaultProp:i??!1,onChange:D=>{D?(p.onOpen(),document.dispatchEvent(new CustomEvent(wm))):p.onClose(),u?.(D)},caller:kl}),R=h.useMemo(()=>w?S.current?"delayed-open":"instant-open":"closed",[w]),A=h.useCallback(()=>{window.clearTimeout(T.current),T.current=0,S.current=!1,j(!0)},[j]),_=h.useCallback(()=>{window.clearTimeout(T.current),T.current=0,j(!1)},[j]),k=h.useCallback(()=>{window.clearTimeout(T.current),T.current=window.setTimeout(()=>{S.current=!0,j(!0),T.current=0},b)},[b,j]);return h.useEffect(()=>()=>{T.current&&(window.clearTimeout(T.current),T.current=0)},[]),c.jsx(tp,{...g,children:c.jsx(VO,{scope:a,contentId:C,open:w,stateAttribute:R,trigger:x,onTriggerChange:y,onTriggerEnter:h.useCallback(()=>{p.isOpenDelayedRef.current?k():A()},[p.isOpenDelayedRef,k,A]),onTriggerLeave:h.useCallback(()=>{E?_():(window.clearTimeout(T.current),T.current=0)},[_,E]),onOpen:A,onClose:_,disableHoverableContent:E,children:r})})};Iw.displayName=kl;var Cm="TooltipTrigger",$w=h.forwardRef((t,a)=>{const{__scopeTooltip:r,...s}=t,i=Yl(Cm,r),u=pp(Cm,r),d=du(r),m=h.useRef(null),p=qe(a,m,i.onTriggerChange),g=h.useRef(!1),x=h.useRef(!1),y=h.useCallback(()=>g.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),c.jsx(np,{asChild:!0,...d,children:c.jsx(ke.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:p,onPointerMove:xe(t.onPointerMove,C=>{C.pointerType!=="touch"&&!x.current&&!u.isPointerInTransitRef.current&&(i.onTriggerEnter(),x.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{i.onTriggerLeave(),x.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{i.open&&i.onClose(),g.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:xe(t.onFocus,()=>{g.current||i.onOpen()}),onBlur:xe(t.onBlur,i.onClose),onClick:xe(t.onClick,i.onClose)})})});$w.displayName=Cm;var hp="TooltipPortal",[GO,XO]=uu(hp,{forceMount:void 0}),Fw=t=>{const{__scopeTooltip:a,forceMount:r,children:s,container:i}=t,u=Yl(hp,a);return c.jsx(GO,{scope:a,forceMount:r,children:c.jsx(Na,{present:r||u.open,children:c.jsx(Hl,{asChild:!0,container:i,children:s})})})};Fw.displayName=hp;var fs="TooltipContent",Yw=h.forwardRef((t,a)=>{const r=XO(fs,t.__scopeTooltip),{forceMount:s=r.forceMount,side:i="top",...u}=t,d=Yl(fs,t.__scopeTooltip);return c.jsx(Na,{present:s||d.open,children:d.disableHoverableContent?c.jsx(Vw,{side:i,...u,ref:a}):c.jsx(KO,{side:i,...u,ref:a})})}),KO=h.forwardRef((t,a)=>{const r=Yl(fs,t.__scopeTooltip),s=pp(fs,t.__scopeTooltip),i=h.useRef(null),u=qe(a,i),[d,m]=h.useState(null),{trigger:p,onClose:g}=r,x=i.current,{onPointerInTransitChange:y}=s,C=h.useCallback(()=>{m(null),y(!1)},[y]),T=h.useCallback((E,b)=>{const S=E.currentTarget,w={x:E.clientX,y:E.clientY},j=JO(w,S.getBoundingClientRect()),R=ek(w,j),A=tk(b.getBoundingClientRect()),_=ak([...R,...A]);m(_),y(!0)},[y]);return h.useEffect(()=>()=>C(),[C]),h.useEffect(()=>{if(p&&x){const E=S=>T(S,x),b=S=>T(S,p);return p.addEventListener("pointerleave",E),x.addEventListener("pointerleave",b),()=>{p.removeEventListener("pointerleave",E),x.removeEventListener("pointerleave",b)}}},[p,x,T,C]),h.useEffect(()=>{if(d){const E=b=>{const S=b.target,w={x:b.clientX,y:b.clientY},j=p?.contains(S)||x?.contains(S),R=!nk(w,d);j?C():R&&(C(),g())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[p,x,d,g,C]),c.jsx(Vw,{...t,ref:u})}),[WO,QO]=uu(kl,{isInside:!1}),ZO=P0("TooltipContent"),Vw=h.forwardRef((t,a)=>{const{__scopeTooltip:r,children:s,"aria-label":i,onEscapeKeyDown:u,onPointerDownOutside:d,...m}=t,p=Yl(fs,r),g=du(r),{onClose:x}=p;return h.useEffect(()=>(document.addEventListener(wm,x),()=>document.removeEventListener(wm,x)),[x]),h.useEffect(()=>{if(p.trigger){const y=C=>{C.target?.contains(p.trigger)&&x()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[p.trigger,x]),c.jsx(Bl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:y=>y.preventDefault(),onDismiss:x,children:c.jsxs(ap,{"data-state":p.stateAttribute,...g,...m,ref:a,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(ZO,{children:s}),c.jsx(WO,{scope:r,isInside:!0,children:c.jsx(tR,{id:p.contentId,role:"tooltip",children:i||s})})]})})});Yw.displayName=fs;var Gw="TooltipArrow",Xw=h.forwardRef((t,a)=>{const{__scopeTooltip:r,...s}=t,i=du(r);return QO(Gw,r).isInside?null:c.jsx(rp,{...i,...s,ref:a})});Xw.displayName=Gw;function JO(t,a){const r=Math.abs(a.top-t.y),s=Math.abs(a.bottom-t.y),i=Math.abs(a.right-t.x),u=Math.abs(a.left-t.x);switch(Math.min(r,s,i,u)){case u:return"left";case i:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function ek(t,a,r=5){const s=[];switch(a){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function tk(t){const{top:a,right:r,bottom:s,left:i}=t;return[{x:i,y:a},{x:r,y:a},{x:r,y:s},{x:i,y:s}]}function nk(t,a){const{x:r,y:s}=t;let i=!1;for(let u=0,d=a.length-1;u<a.length;d=u++){const m=a[u],p=a[d],g=m.x,x=m.y,y=p.x,C=p.y;x>s!=C>s&&r<(y-g)*(s-x)/(C-x)+g&&(i=!i)}return i}function ak(t){const a=t.slice();return a.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),rk(a)}function rk(t){if(t.length<=1)return t.slice();const a=[];for(let s=0;s<t.length;s++){const i=t[s];for(;a.length>=2;){const u=a[a.length-1],d=a[a.length-2];if((u.x-d.x)*(i.y-d.y)>=(u.y-d.y)*(i.x-d.x))a.pop();else break}a.push(i)}a.pop();const r=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;r.length>=2;){const u=r[r.length-1],d=r[r.length-2];if((u.x-d.x)*(i.y-d.y)>=(u.y-d.y)*(i.x-d.x))r.pop();else break}r.push(i)}return r.pop(),a.length===1&&r.length===1&&a[0].x===r[0].x&&a[0].y===r[0].y?a:a.concat(r)}var ok=qw,sk=Iw,lk=$w,ik=Fw,ck=Yw,uk=Xw;function Kw(t){var a,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(r=Kw(t[a]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function fu(){for(var t,a,r=0,s="",i=arguments.length;r<i;r++)(t=arguments[r])&&(a=Kw(t))&&(s&&(s+=" "),s+=a);return s}const dk=(t,a)=>{const r=new Array(t.length+a.length);for(let s=0;s<t.length;s++)r[s]=t[s];for(let s=0;s<a.length;s++)r[t.length+s]=a[s];return r},fk=(t,a)=>({classGroupId:t,validator:a}),Ww=(t=new Map,a=null,r)=>({nextPart:t,validators:a,classGroupId:r}),Lc="-",yx=[],mk="arbitrary..",pk=t=>{const a=gk(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return hk(d);const m=d.split(Lc),p=m[0]===""&&m.length>1?1:0;return Qw(m,p,a)},getConflictingClassGroupIds:(d,m)=>{if(m){const p=s[d],g=r[d];return p?g?dk(g,p):p:g||yx}return r[d]||yx}}},Qw=(t,a,r)=>{if(t.length-a===0)return r.classGroupId;const i=t[a],u=r.nextPart.get(i);if(u){const g=Qw(t,a+1,u);if(g)return g}const d=r.validators;if(d===null)return;const m=a===0?t.join(Lc):t.slice(a).join(Lc),p=d.length;for(let g=0;g<p;g++){const x=d[g];if(x.validator(m))return x.classGroupId}},hk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const a=t.slice(1,-1),r=a.indexOf(":"),s=a.slice(0,r);return s?mk+s:void 0})(),gk=t=>{const{theme:a,classGroups:r}=t;return vk(r,a)},vk=(t,a)=>{const r=Ww();for(const s in t){const i=t[s];gp(i,r,s,a)}return r},gp=(t,a,r,s)=>{const i=t.length;for(let u=0;u<i;u++){const d=t[u];yk(d,a,r,s)}},yk=(t,a,r,s)=>{if(typeof t=="string"){xk(t,a,r);return}if(typeof t=="function"){bk(t,a,r,s);return}Sk(t,a,r,s)},xk=(t,a,r)=>{const s=t===""?a:Zw(a,t);s.classGroupId=r},bk=(t,a,r,s)=>{if(wk(t)){gp(t(s),a,r,s);return}a.validators===null&&(a.validators=[]),a.validators.push(fk(r,t))},Sk=(t,a,r,s)=>{const i=Object.entries(t),u=i.length;for(let d=0;d<u;d++){const[m,p]=i[d];gp(p,Zw(a,m),r,s)}},Zw=(t,a)=>{let r=t;const s=a.split(Lc),i=s.length;for(let u=0;u<i;u++){const d=s[u];let m=r.nextPart.get(d);m||(m=Ww(),r.nextPart.set(d,m)),r=m}return r},wk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Ck=t=>{if(t<1)return{get:()=>{},set:()=>{}};let a=0,r=Object.create(null),s=Object.create(null);const i=(u,d)=>{r[u]=d,a++,a>t&&(a=0,s=r,r=Object.create(null))};return{get(u){let d=r[u];if(d!==void 0)return d;if((d=s[u])!==void 0)return i(u,d),d},set(u,d){u in r?r[u]=d:i(u,d)}}},Em="!",xx=":",Ek=[],bx=(t,a,r,s,i)=>({modifiers:t,hasImportantModifier:a,baseClassName:r,maybePostfixModifierPosition:s,isExternal:i}),Nk=t=>{const{prefix:a,experimentalParseClassName:r}=t;let s=i=>{const u=[];let d=0,m=0,p=0,g;const x=i.length;for(let b=0;b<x;b++){const S=i[b];if(d===0&&m===0){if(S===xx){u.push(i.slice(p,b)),p=b+1;continue}if(S==="/"){g=b;continue}}S==="["?d++:S==="]"?d--:S==="("?m++:S===")"&&m--}const y=u.length===0?i:i.slice(p);let C=y,T=!1;y.endsWith(Em)?(C=y.slice(0,-1),T=!0):y.startsWith(Em)&&(C=y.slice(1),T=!0);const E=g&&g>p?g-p:void 0;return bx(u,T,C,E)};if(a){const i=a+xx,u=s;s=d=>d.startsWith(i)?u(d.slice(i.length)):bx(Ek,!1,d,void 0,!0)}if(r){const i=s;s=u=>r({className:u,parseClassName:i})}return s},jk=t=>{const a=new Map;return t.orderSensitiveModifiers.forEach((r,s)=>{a.set(r,1e6+s)}),r=>{const s=[];let i=[];for(let u=0;u<r.length;u++){const d=r[u],m=d[0]==="[",p=a.has(d);m||p?(i.length>0&&(i.sort(),s.push(...i),i=[]),s.push(d)):i.push(d)}return i.length>0&&(i.sort(),s.push(...i)),s}},Tk=t=>({cache:Ck(t.cacheSize),parseClassName:Nk(t),sortModifiers:jk(t),...pk(t)}),Rk=/\s+/,Mk=(t,a)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:u}=a,d=[],m=t.trim().split(Rk);let p="";for(let g=m.length-1;g>=0;g-=1){const x=m[g],{isExternal:y,modifiers:C,hasImportantModifier:T,baseClassName:E,maybePostfixModifierPosition:b}=r(x);if(y){p=x+(p.length>0?" "+p:p);continue}let S=!!b,w=s(S?E.substring(0,b):E);if(!w){if(!S){p=x+(p.length>0?" "+p:p);continue}if(w=s(E),!w){p=x+(p.length>0?" "+p:p);continue}S=!1}const j=C.length===0?"":C.length===1?C[0]:u(C).join(":"),R=T?j+Em:j,A=R+w;if(d.indexOf(A)>-1)continue;d.push(A);const _=i(w,S);for(let k=0;k<_.length;++k){const D=_[k];d.push(R+D)}p=x+(p.length>0?" "+p:p)}return p},Dk=(...t)=>{let a=0,r,s,i="";for(;a<t.length;)(r=t[a++])&&(s=Jw(r))&&(i&&(i+=" "),i+=s);return i},Jw=t=>{if(typeof t=="string")return t;let a,r="";for(let s=0;s<t.length;s++)t[s]&&(a=Jw(t[s]))&&(r&&(r+=" "),r+=a);return r},_k=(t,...a)=>{let r,s,i,u;const d=p=>{const g=a.reduce((x,y)=>y(x),t());return r=Tk(g),s=r.cache.get,i=r.cache.set,u=m,m(p)},m=p=>{const g=s(p);if(g)return g;const x=Mk(p,r);return i(p,x),x};return u=d,(...p)=>u(Dk(...p))},Ak=[],It=t=>{const a=r=>r[t]||Ak;return a.isThemeGetter=!0,a},e1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,t1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ok=/^\d+\/\d+$/,kk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Pk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Uk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ns=t=>Ok.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),Nr=t=>!!t&&Number.isInteger(Number(t)),Gf=t=>t.endsWith("%")&&He(t.slice(0,-1)),Va=t=>kk.test(t),Bk=()=>!0,Hk=t=>zk.test(t)&&!Lk.test(t),n1=()=>!1,qk=t=>Pk.test(t),Ik=t=>Uk.test(t),$k=t=>!we(t)&&!Ce(t),Fk=t=>js(t,o1,n1),we=t=>e1.test(t),ro=t=>js(t,s1,Hk),Xf=t=>js(t,Kk,He),Sx=t=>js(t,a1,n1),Yk=t=>js(t,r1,Ik),fc=t=>js(t,l1,qk),Ce=t=>t1.test(t),xl=t=>Ts(t,s1),Vk=t=>Ts(t,Wk),wx=t=>Ts(t,a1),Gk=t=>Ts(t,o1),Xk=t=>Ts(t,r1),mc=t=>Ts(t,l1,!0),js=(t,a,r)=>{const s=e1.exec(t);return s?s[1]?a(s[1]):r(s[2]):!1},Ts=(t,a,r=!1)=>{const s=t1.exec(t);return s?s[1]?a(s[1]):r:!1},a1=t=>t==="position"||t==="percentage",r1=t=>t==="image"||t==="url",o1=t=>t==="length"||t==="size"||t==="bg-size",s1=t=>t==="length",Kk=t=>t==="number",Wk=t=>t==="family-name",l1=t=>t==="shadow",Qk=()=>{const t=It("color"),a=It("font"),r=It("text"),s=It("font-weight"),i=It("tracking"),u=It("leading"),d=It("breakpoint"),m=It("container"),p=It("spacing"),g=It("radius"),x=It("shadow"),y=It("inset-shadow"),C=It("text-shadow"),T=It("drop-shadow"),E=It("blur"),b=It("perspective"),S=It("aspect"),w=It("ease"),j=It("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...A(),Ce,we],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],M=()=>[Ce,we,p],z=()=>[ns,"full","auto",...M()],I=()=>[Nr,"none","subgrid",Ce,we],$=()=>["auto",{span:["full",Nr,Ce,we]},Nr,Ce,we],V=()=>[Nr,"auto",Ce,we],q=()=>["auto","min","max","fr",Ce,we],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...M()],H=()=>[ns,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],U=()=>[t,Ce,we],G=()=>[...A(),wx,Sx,{position:[Ce,we]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",Gk,Fk,{size:[Ce,we]}],Y=()=>[Gf,xl,ro],Q=()=>["","none","full",g,Ce,we],re=()=>["",He,xl,ro],ue=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[He,Gf,wx,Sx],ye=()=>["","none",E,Ce,we],fe=()=>["none",He,Ce,we],he=()=>["none",He,Ce,we],pe=()=>[He,Ce,we],be=()=>[ns,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Va],breakpoint:[Va],color:[Bk],container:[Va],"drop-shadow":[Va],ease:["in","out","in-out"],font:[$k],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Va],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Va],shadow:[Va],spacing:["px",He],text:[Va],"text-shadow":[Va],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ns,we,Ce,S]}],container:["container"],columns:[{columns:[He,we,Ce,m]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Nr,"auto",Ce,we]}],basis:[{basis:[ns,"full","auto",m,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,ns,"auto","initial","none",we]}],grow:[{grow:["",He,Ce,we]}],shrink:[{shrink:["",He,Ce,we]}],order:[{order:[Nr,"first","last","none",Ce,we]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[m,"screen",...H()]}],"min-w":[{"min-w":[m,"screen","none",...H()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[d]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",r,xl,ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ce,Xf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gf,we]}],"font-family":[{font:[Vk,we,a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ce,we]}],"line-clamp":[{"line-clamp":[He,"none",Ce,Xf]}],leading:[{leading:[u,...M()]}],"list-image":[{"list-image":["none",Ce,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",Ce,ro]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[He,"auto",Ce,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Nr,Ce,we],radial:["",Ce,we],conic:[Nr,Ce,we]},Xk,Yk]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,Ce,we]}],"outline-w":[{outline:["",He,xl,ro]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",x,mc,fc]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",y,mc,fc]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[He,ro]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",C,mc,fc]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[He,Ce,we]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Ce,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,we]}],filter:[{filter:["","none",Ce,we]}],blur:[{blur:ye()}],brightness:[{brightness:[He,Ce,we]}],contrast:[{contrast:[He,Ce,we]}],"drop-shadow":[{"drop-shadow":["","none",T,mc,fc]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",He,Ce,we]}],"hue-rotate":[{"hue-rotate":[He,Ce,we]}],invert:[{invert:["",He,Ce,we]}],saturate:[{saturate:[He,Ce,we]}],sepia:[{sepia:["",He,Ce,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,we]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[He,Ce,we]}],"backdrop-contrast":[{"backdrop-contrast":[He,Ce,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,Ce,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,Ce,we]}],"backdrop-invert":[{"backdrop-invert":["",He,Ce,we]}],"backdrop-opacity":[{"backdrop-opacity":[He,Ce,we]}],"backdrop-saturate":[{"backdrop-saturate":[He,Ce,we]}],"backdrop-sepia":[{"backdrop-sepia":["",He,Ce,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",Ce,we]}],ease:[{ease:["linear","initial",w,Ce,we]}],delay:[{delay:[He,Ce,we]}],animate:[{animate:["none",j,Ce,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ce,we]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[Ce,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,we]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[He,xl,ro,Xf]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Zk=_k(Qk);function ve(...t){return Zk(fu(t))}function Nm(t){return t?new Date(t).toLocaleString():"Unknown"}function i1({...t}){return c.jsx(NA,{"data-slot":"dropdown-menu",...t})}function c1({...t}){return c.jsx(jA,{"data-slot":"dropdown-menu-trigger",...t})}function u1({className:t,sideOffset:a=4,...r}){return c.jsx(TA,{children:c.jsx(RA,{"data-slot":"dropdown-menu-content",sideOffset:a,className:ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function os({className:t,inset:a,variant:r="default",...s}){return c.jsx(DA,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:ve("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function Jk({className:t,inset:a,...r}){return c.jsx(MA,{"data-slot":"dropdown-menu-label","data-inset":a,className:ve("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function jm({className:t,...a}){return c.jsx(_A,{"data-slot":"dropdown-menu-separator",className:ve("bg-border -mx-1 my-1 h-px",t),...a})}const Cx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ex=fu,vp=(t,a)=>r=>{var s;if(a?.variants==null)return Ex(t,r?.class,r?.className);const{variants:i,defaultVariants:u}=a,d=Object.keys(i).map(g=>{const x=r?.[g],y=u?.[g];if(x===null)return null;const C=Cx(x)||Cx(y);return i[g][C]}),m=r&&Object.entries(r).reduce((g,x)=>{let[y,C]=x;return C===void 0||(g[y]=C),g},{}),p=a==null||(s=a.compoundVariants)===null||s===void 0?void 0:s.reduce((g,x)=>{let{class:y,className:C,...T}=x;return Object.entries(T).every(E=>{let[b,S]=E;return Array.isArray(S)?S.includes({...u,...m}[b]):{...u,...m}[b]===S})?[...g,y,C]:g},[]);return Ex(t,d,p,r?.class,r?.className)},yp=vp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded text-xs font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:ring-2 focus-visible:ring-primary/50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-[0_0_10px_rgba(0,245,255,0.3)] hover:shadow-[0_0_15px_rgba(0,245,255,0.5)]",destructive:"bg-destructive text-white hover:bg-destructive/90 shadow-[0_0_10px_rgba(239,68,68,0.3)] hover:shadow-[0_0_15px_rgba(239,68,68,0.5)]",outline:"border border-border bg-background hover:bg-muted hover:border-primary/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-[0_0_10px_rgba(192,132,252,0.3)] hover:shadow-[0_0_15px_rgba(192,132,252,0.5)]",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-8 px-3 py-1.5 has-[>svg]:px-2.5",xs:"h-6 gap-1 rounded px-2 py-1 has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-7 rounded gap-1.5 px-2.5 has-[>svg]:px-2",lg:"h-9 rounded px-4 has-[>svg]:px-3.5",icon:"size-8","icon-xs":"size-6 rounded [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-7","icon-lg":"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Le({className:t,variant:a="default",size:r="default",asChild:s=!1,...i}){const u=s?z0:"button";return c.jsx(u,{"data-slot":"button","data-variant":a,"data-size":r,className:ve(yp({variant:a,size:r,className:t})),...i})}const e5=vp("inline-flex items-center justify-center border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline",midi:"bg-purple-500/20 text-purple-400 border border-purple-500/30",audio:"bg-blue-500/20 text-blue-400 border border-blue-500/30",sample:"bg-green-500/20 text-green-400 border border-green-500/30"},rounded:{full:"rounded-full",default:"rounded"}},defaultVariants:{variant:"default",rounded:"full"}});function Fn({className:t,variant:a="default",rounded:r="full",asChild:s=!1,...i}){const u=s?z0:"span";return c.jsx(u,{"data-slot":"badge","data-variant":a,"data-rounded":r,className:ve(e5({variant:a,rounded:r}),t),...i})}function t5(){const t=ne(y=>y.activeComposition),a=ne(y=>y.compositions),r=ne(y=>y.loadComposition),s=ne(y=>y.saveComposition),i=ne(y=>y.hasUnsavedChanges),[u,d]=h.useState(!1),[m,p]=h.useState(!1),g=async y=>{y!==t?.id&&(await r(y),d(!1))},x=async y=>{if(y.stopPropagation(),t){p(!0);try{await s()}finally{p(!1)}}};return t?c.jsxs(i1,{open:u,onOpenChange:d,children:[c.jsx(c1,{asChild:!0,children:c.jsxs(Le,{variant:"outline",className:ve("gap-2 min-w-[200px] justify-between",i&&"border-yellow-500/50"),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(en,{className:"h-4 w-4"}),c.jsx("span",{className:"font-semibold",children:t.name}),i&&c.jsx(Fn,{variant:"outline",className:"text-xs px-1 py-0",children:"*"})]}),c.jsx(ys,{className:"h-4 w-4 opacity-50"})]})}),c.jsxs(u1,{align:"start",className:"w-[300px]",children:[c.jsxs(Jk,{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Compositions"}),i&&c.jsxs(Le,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs",onClick:x,disabled:m,children:[c.jsx(Xj,{className:"h-3 w-3 mr-1"}),m?"Saving...":"Save"]})]}),c.jsx(jm,{}),c.jsx(os,{className:"bg-primary/10 font-semibold",disabled:!0,children:c.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(en,{className:"h-4 w-4"}),t.name,c.jsx(Fn,{variant:"default",className:"text-xs ml-auto",children:"Active"})]}),c.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[c.jsx(rm,{className:"h-3 w-3"}),Nm(t.created_at)]})]})}),c.jsx(jm,{}),a.filter(y=>y.id!==t?.id).map(y=>c.jsx(os,{onClick:()=>g(y.id),children:c.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[c.jsx("div",{className:"font-medium",children:y.name}),c.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[c.jsx(rm,{className:"h-3 w-3"}),Nm(y.updated_at)]})]})},y.id)),a.length===1&&c.jsx("div",{className:"px-2 py-4 text-center text-xs text-muted-foreground",children:"No other compositions"})]})]}):null}function d1({isEngineRunning:t=!1,cpuUsage:a=0,activeSynths:r=0}){return c.jsxs("header",{className:"bg-card border-border flex h-[60px] items-center justify-between border-b-2 px-6 py-2",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(en,{className:"text-primary h-7 w-7"}),c.jsx("div",{children:c.jsx("h1",{className:"text-primary text-glow-cyan text-lg font-bold tracking-[0.3em]",children:"SONIC CLAUDE"})})]}),c.jsx(t5,{})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`h-2 w-2 rounded-full ${t?"bg-primary animate-pulse shadow-[0_0_8px_rgba(0,255,255,0.6)]":"bg-destructive"}`}),c.jsx("span",{className:"text-muted-foreground text-xs font-medium tracking-wider",children:"ENGINE"}),c.jsx("span",{className:`text-xs font-bold tracking-wider ${t?"text-primary":"text-destructive"}`,children:t?"READY":"OFFLINE"})]}),t&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Um,{className:"text-muted-foreground h-3.5 w-3.5"}),c.jsx("span",{className:"text-muted-foreground text-xs font-medium tracking-wider",children:"CPU"}),c.jsxs("span",{className:`text-xs font-bold tracking-wider ${a>80?"text-destructive":a>50?"text-yellow-500":"text-primary"}`,children:[a.toFixed(1),"%"]})]}),t&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-muted-foreground text-xs font-medium tracking-wider",children:"SYNTHS"}),c.jsx("span",{className:"text-primary text-xs font-bold tracking-wider",children:r})]})]})]})}function Rs(t){const{margin:a,containerPadding:r,containerWidth:s,cols:i}=t;return(s-a[0]*(i-1)-r[0]*2)/i}function ms(t,a,r){return Number.isFinite(t)?Math.round(a*t+Math.max(0,t-1)*r):t}function bl(t,a,r,s,i,u,d){const{margin:m,containerPadding:p,rowHeight:g}=t,x=Rs(t);let y,C,T,E;if(d?(y=Math.round(d.width),C=Math.round(d.height)):(y=ms(s,x,m[0]),C=ms(i,g,m[1])),u?(T=Math.round(u.top),E=Math.round(u.left)):d?(T=Math.round(d.top),E=Math.round(d.left)):(T=Math.round((g+m[1])*r+p[1]),E=Math.round((x+m[0])*a+p[0])),!u&&!d){if(Number.isFinite(s)){const S=Math.round((x+m[0])*(a+s)+p[0])-E-y;S!==m[0]&&(y+=S-m[0])}if(Number.isFinite(i)){const S=Math.round((g+m[1])*(r+i)+p[1])-T-C;S!==m[1]&&(C+=S-m[1])}}return{top:T,left:E,width:y,height:C}}function n5(t,a,r,s,i){const{margin:u,containerPadding:d,cols:m,rowHeight:p,maxRows:g}=t,x=Rs(t);let y=Math.round((r-d[0])/(x+u[0])),C=Math.round((a-d[1])/(p+u[1]));return y=Pc(y,0,m-s),C=Pc(C,0,g-i),{x:y,y:C}}function pc(t,a,r){const{margin:s,containerPadding:i,rowHeight:u}=t,d=Rs(t),m=Math.round((r-i[0])/(d+s[0])),p=Math.round((a-i[1])/(u+s[1]));return{x:m,y:p}}function a5(t,a,r){const{margin:s,rowHeight:i}=t,u=Rs(t),d=Math.max(1,Math.round((a+s[0])/(u+s[0]))),m=Math.max(1,Math.round((r+s[1])/(i+s[1])));return{w:d,h:m}}function Pc(t,a,r){return Math.max(Math.min(t,r),a)}function xp(t,a){return!(t.i===a.i||t.x+t.w<=a.x||t.x>=a.x+a.w||t.y+t.h<=a.y||t.y>=a.y+a.h)}function Uc(t,a){for(let r=0;r<t.length;r++){const s=t[r];if(s!==void 0&&xp(s,a))return s}}function f1(t,a){return t.filter(r=>xp(r,a))}function r5(t,a){return a==="horizontal"?o5(t):a==="vertical"||a==="wrap"?Tm(t):[...t]}function Tm(t){return[...t].sort((a,r)=>a.y!==r.y?a.y-r.y:a.x-r.x)}function o5(t){return[...t].sort((a,r)=>a.x!==r.x?a.x-r.x:a.y-r.y)}function bp(t){let a=0;for(let r=0;r<t.length;r++){const s=t[r];if(s!==void 0){const i=s.y+s.h;i>a&&(a=i)}}return a}function oo(t,a){for(let r=0;r<t.length;r++){const s=t[r];if(s!==void 0&&s.i===a)return s}}function Sp(t){return t.filter(a=>a.static===!0)}function ps(t){return{i:t.i,x:t.x,y:t.y,w:t.w,h:t.h,minW:t.minW,maxW:t.maxW,minH:t.minH,maxH:t.maxH,moved:!!t.moved,static:!!t.static,isDraggable:t.isDraggable,isResizable:t.isResizable,resizeHandles:t.resizeHandles,constraints:t.constraints,isBounded:t.isBounded}}function m1(t){const a=new Array(t.length);for(let r=0;r<t.length;r++){const s=t[r];s!==void 0&&(a[r]=ps(s))}return a}function s5(t,a){const r=new Array(t.length);for(let s=0;s<t.length;s++){const i=t[s];i!==void 0&&(a.i===i.i?r[s]=a:r[s]=i)}return r}function l5(t,a,r){let s=oo(t,a);return s?(s=r(ps(s)),[s5(t,s),s]):[[...t],null]}function i5(t,a){const r=Sp(t);for(let s=0;s<t.length;s++){const i=t[s];if(i!==void 0)if(i.x+i.w>a.cols&&(i.x=a.cols-i.w),i.x<0&&(i.x=0,i.w=a.cols),!i.static)r.push(i);else for(;Uc(r,i);)i.y++}return t}function so(t,a,r,s,i,u,d,m,p){if(a.static&&a.isDraggable!==!0)return[...t];if(a.y===s&&a.x===r)return[...t];const g=a.x,x=a.y;typeof r=="number"&&(a.x=r),typeof s=="number"&&(a.y=s),a.moved=!0;let y=r5(t,d);(d==="vertical"&&typeof s=="number"?x>=s:d==="horizontal"&&typeof r=="number"&&g>=r)&&(y=y.reverse());const T=f1(y,a),E=T.length>0;if(E&&p)return m1(t);if(E&&u)return a.x=g,a.y=x,a.moved=!1,t;let b=[...t];for(let S=0;S<T.length;S++){const w=T[S];w!==void 0&&(w.moved||(w.static?b=Nx(b,w,a,i,d):b=Nx(b,a,w,i,d)))}return b}function Nx(t,a,r,s,i,u){const d=i==="horizontal",m=i==="vertical",p=a.static;if(s){s=!1;const y={x:d?Math.max(a.x-r.w,0):r.x,y:m?Math.max(a.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},C=Uc(t,y),T=C!==void 0&&C.y+C.h>a.y,E=C!==void 0&&a.x+a.w>C.x;if(!C)return so(t,r,d?y.x:void 0,m?y.y:void 0,s,p,i);if(T&&m)return so(t,r,void 0,r.y+1,s,p,i);if(T&&i===null)return a.y=r.y,r.y=r.y+r.h,[...t];if(E&&d)return so(t,a,r.x,void 0,s,p,i)}const g=d?r.x+1:void 0,x=m?r.y+1:void 0;return g===void 0&&x===void 0?[...t]:so(t,r,g,x,s,p,i)}function ss(t,a,r){return Math.max(a,Math.min(r,t))}var c5={name:"gridBounds",constrainPosition(t,a,r,{cols:s,maxRows:i}){return{x:ss(a,0,Math.max(0,s-t.w)),y:ss(r,0,Math.max(0,i-t.h))}},constrainSize(t,a,r,s,{cols:i,maxRows:u}){const d=s==="w"||s==="nw"||s==="sw"?t.x+t.w:i-t.x,m=s==="n"||s==="nw"||s==="ne"?t.y+t.h:u-t.y;return{w:ss(a,1,Math.max(1,d)),h:ss(r,1,Math.max(1,m))}}},u5={name:"minMaxSize",constrainSize(t,a,r){return{w:ss(a,t.minW??1,t.maxW??1/0),h:ss(r,t.minH??1,t.maxH??1/0)}}},p1=[c5,u5];function hc(t,a,r,s,i){let u={x:r,y:s};for(const d of t)d.constrainPosition&&(u=d.constrainPosition(a,u.x,u.y,i));if(a.constraints)for(const d of a.constraints)d.constrainPosition&&(u=d.constrainPosition(a,u.x,u.y,i));return u}function d5(t,a,r,s,i,u){let d={w:r,h:s};for(const m of t)m.constrainSize&&(d=m.constrainSize(a,d.w,d.h,i,u));if(a.constraints)for(const m of a.constraints)m.constrainSize&&(d=m.constrainSize(a,d.w,d.h,i,u));return d}function h1({top:t,left:a,width:r,height:s}){const i=`translate(${a}px,${t}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${r}px`,height:`${s}px`,position:"absolute"}}function f5({top:t,left:a,width:r,height:s}){return{top:`${t}px`,left:`${a}px`,width:`${r}px`,height:`${s}px`,position:"absolute"}}function jx(t){return t*100+"%"}function m5(t,a,r,s){return t+r>s?a:r}function g1(t,a,r){return t<0?a:r}function p5(t){return Math.max(0,t)}function Bc(t){return Math.max(0,t)}var wp=(t,a,r)=>{const{left:s,height:i,width:u}=a,d=t.top-(i-t.height);return{left:s,width:u,height:g1(d,t.height,i),top:Bc(d)}},Cp=(t,a,r)=>{const{top:s,left:i,height:u,width:d}=a;return{top:s,height:u,width:m5(t.left,t.width,d,r),left:p5(i)}},Ep=(t,a,r)=>{const{top:s,height:i,width:u}=a,d=t.left+t.width-u;return d<0?{height:i,width:t.left+t.width,top:Bc(s),left:0}:{height:i,width:u,top:Bc(s),left:d}},Np=(t,a,r)=>{const{top:s,left:i,height:u,width:d}=a;return{width:d,left:i,height:g1(s,t.height,u),top:Bc(s)}},h5=(t,a,r)=>wp(t,Cp(t,a,r)),g5=(t,a,r)=>wp(t,Ep(t,a)),v5=(t,a,r)=>Np(t,Cp(t,a,r)),y5=(t,a,r)=>Np(t,Ep(t,a)),x5={n:wp,ne:h5,e:Cp,se:v5,s:Np,sw:y5,w:Ep,nw:g5};function b5(t,a,r,s){const i=x5[t];return i?i(a,{...a,...r},s):r}var S5={type:"transform",scale:1,calcStyle(t){return h1(t)}},w5=S5,C5={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},E5={enabled:!0,bounded:!1,threshold:3},N5={enabled:!0,handles:["se"]},j5={enabled:!1,defaultItem:{w:1,h:1}};function v1(t,a,r,s,i){a[s]+=1;const d=t.findIndex(p=>p.i===a.i),m=i??Sp(t).length>0;for(let p=d+1;p<t.length;p++){const g=t[p];if(g!==void 0&&!g.static){if(!m&&g.y>a.y+a.h)break;xp(a,g)&&v1(t,g,r+a.h,s,m)}}a[s]=r}function T5(t,a,r,s){for(a.x=Math.max(a.x,0),a.y=Math.max(a.y,0),a.y=Math.min(s,a.y);a.y>0&&!Uc(t,a);)a.y--;let i;for(;(i=Uc(t,a))!==void 0;)v1(r,a,i.y+i.h,"y");return a.y=Math.max(a.y,0),a}var jp={type:"vertical",allowOverlap:!1,compact(t,a){const r=Sp(t);let s=bp(r);const i=Tm(t),u=new Array(t.length);for(let d=0;d<i.length;d++){const m=i[d];if(m===void 0)continue;let p=ps(m);p.static||(p=T5(r,p,i,s),s=Math.max(s,p.y+p.h),r.push(p));const g=t.indexOf(m);u[g]=p,p.moved=!1}return u}},R5={...jp,allowOverlap:!0,compact(t,a){return m1(t)}};function M5(t,a=!1,r=!1){let s;return a?s=R5:s=jp,r?{...s,preventCollision:r}:s}function y1(t){return function(r,s,i,u,d,m,p){return t(r,s,p)}}function mu(t){return function(r,s,i,u){if(!r||!s||typeof r!="object"||typeof s!="object")return t(r,s,i,u);var d=u.get(r),m=u.get(s);if(d&&m)return d===s&&m===r;u.set(r,s),u.set(s,r);var p=t(r,s,i,u);return u.delete(r),u.delete(s),p}}function x1(t,a){var r={};for(var s in t)r[s]=t[s];for(var s in a)r[s]=a[s];return r}function Tx(t){return t.constructor===Object||t.constructor==null}function Rx(t){return typeof t.then=="function"}function pu(t,a){return t===a||t!==t&&a!==a}var D5="[object Arguments]",_5="[object Boolean]",A5="[object Date]",O5="[object RegExp]",k5="[object Map]",z5="[object Number]",L5="[object Object]",P5="[object Set]",U5="[object String]",Mx=Object.prototype.toString;function hu(t){var a=t.areArraysEqual,r=t.areDatesEqual,s=t.areMapsEqual,i=t.areObjectsEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,m=t.createIsNestedEqual,p=m(g);function g(x,y,C){if(x===y)return!0;if(!x||!y||typeof x!="object"||typeof y!="object")return x!==x&&y!==y;if(Tx(x)&&Tx(y))return i(x,y,p,C);var T=Array.isArray(x),E=Array.isArray(y);if(T||E)return T===E&&a(x,y,p,C);var b=Mx.call(x);return b!==Mx.call(y)?!1:b===A5?r(x,y,p,C):b===O5?u(x,y,p,C):b===k5?s(x,y,p,C):b===P5?d(x,y,p,C):b===L5||b===D5?Rx(x)||Rx(y)?!1:i(x,y,p,C):b===_5||b===z5||b===U5?pu(x.valueOf(),y.valueOf()):!1}return g}function b1(t,a,r,s){var i=t.length;if(a.length!==i)return!1;for(;i-- >0;)if(!r(t[i],a[i],i,i,t,a,s))return!1;return!0}var B5=mu(b1);function S1(t,a){return pu(t.valueOf(),a.valueOf())}function w1(t,a,r,s){var i=t.size===a.size;if(!i)return!1;if(!t.size)return!0;var u={},d=0;return t.forEach(function(m,p){if(i){var g=!1,x=0;a.forEach(function(y,C){!g&&!u[x]&&(g=r(p,C,d,x,t,a,s)&&r(m,y,p,C,t,a,s))&&(u[x]=!0),x++}),d++,i=g}}),i}var H5=mu(w1),q5="_owner",I5=Object.prototype.hasOwnProperty;function C1(t,a,r,s){var i=Object.keys(t),u=i.length;if(Object.keys(a).length!==u)return!1;for(var d;u-- >0;){if(d=i[u],d===q5){var m=!!t.$$typeof,p=!!a.$$typeof;if((m||p)&&m!==p)return!1}if(!I5.call(a,d)||!r(t[d],a[d],d,d,t,a,s))return!1}return!0}var $5=mu(C1);function E1(t,a){return t.source===a.source&&t.flags===a.flags}function N1(t,a,r,s){var i=t.size===a.size;if(!i)return!1;if(!t.size)return!0;var u={};return t.forEach(function(d,m){if(i){var p=!1,g=0;a.forEach(function(x,y){!p&&!u[g]&&(p=r(d,x,m,y,t,a,s))&&(u[g]=!0),g++}),i=p}}),i}var F5=mu(N1),j1=Object.freeze({areArraysEqual:b1,areDatesEqual:S1,areMapsEqual:w1,areObjectsEqual:C1,areRegExpsEqual:E1,areSetsEqual:N1,createIsNestedEqual:y1}),T1=Object.freeze({areArraysEqual:B5,areDatesEqual:S1,areMapsEqual:H5,areObjectsEqual:$5,areRegExpsEqual:E1,areSetsEqual:F5,createIsNestedEqual:y1}),Y5=hu(j1);function as(t,a){return Y5(t,a,void 0)}hu(x1(j1,{createIsNestedEqual:function(){return pu}}));hu(T1);hu(x1(T1,{createIsNestedEqual:function(){return pu}}));var Sl={exports:{}},Kf={},Wf={exports:{}},Qf,Dx;function V5(){if(Dx)return Qf;Dx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qf=t,Qf}var Zf,_x;function G5(){if(_x)return Zf;_x=1;var t=V5();function a(){}function r(){}return r.resetWarningCache=a,Zf=function(){function s(d,m,p,g,x,y){if(y!==t){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}s.isRequired=s;function i(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:a};return u.PropTypes=u,u},Zf}var Ax;function gu(){return Ax||(Ax=1,Wf.exports=G5()()),Wf.exports}var gc={exports:{}},Ox;function X5(){if(Ox)return gc.exports;Ox=1;function t(r){var s,i,u="";if(typeof r=="string"||typeof r=="number")u+=r;else if(typeof r=="object")if(Array.isArray(r)){var d=r.length;for(s=0;s<d;s++)r[s]&&(i=t(r[s]))&&(u&&(u+=" "),u+=i)}else for(i in r)r[i]&&(u&&(u+=" "),u+=i);return u}function a(){for(var r,s,i=0,u="",d=arguments.length;i<d;i++)(r=arguments[i])&&(s=t(r))&&(u&&(u+=" "),u+=s);return u}return gc.exports=a,gc.exports.clsx=a,gc.exports}var Ot={},jr={},kx;function vu(){if(kx)return jr;kx=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.dontSetMe=i,jr.findInArray=t,jr.int=s,jr.isFunction=a,jr.isNum=r;function t(u,d){for(let m=0,p=u.length;m<p;m++)if(d.apply(d,[u[m],m,u]))return u[m]}function a(u){return typeof u=="function"||Object.prototype.toString.call(u)==="[object Function]"}function r(u){return typeof u=="number"&&!isNaN(u)}function s(u){return parseInt(u,10)}function i(u,d,m){if(u[d])return new Error(`Invalid prop ${d} passed to ${m} - do not set this, set it on the child.`)}return jr}var Tr={},zx;function K5(){if(zx)return Tr;zx=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.browserPrefixToKey=r,Tr.browserPrefixToStyle=s,Tr.default=void 0,Tr.getPrefix=a;const t=["Moz","Webkit","O","ms"];function a(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const d=window.document?.documentElement?.style;if(!d||u in d)return"";for(let m=0;m<t.length;m++)if(r(u,t[m])in d)return t[m];return""}function r(u,d){return d?`${d}${i(u)}`:u}function s(u,d){return d?`-${d.toLowerCase()}-${u}`:u}function i(u){let d="",m=!0;for(let p=0;p<u.length;p++)m?(d+=u[p].toUpperCase(),m=!1):u[p]==="-"?m=!0:d+=u[p];return d}return Tr.default=a(),Tr}var Lx;function Tp(){if(Lx)return Ot;Lx=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.addClassName=_,Ot.addEvent=d,Ot.addUserSelectStyles=j,Ot.createCSSTransform=T,Ot.createSVGTransform=E,Ot.getTouch=S,Ot.getTouchIdentifier=w,Ot.getTranslation=b,Ot.innerHeight=x,Ot.innerWidth=y,Ot.matchesSelector=i,Ot.matchesSelectorAndParentsTo=u,Ot.offsetXYFromParent=C,Ot.outerHeight=p,Ot.outerWidth=g,Ot.removeClassName=k,Ot.removeEvent=m,Ot.scheduleRemoveUserSelectStyles=R;var t=vu(),a=r(K5());function r(D,M){if(typeof WeakMap=="function")var z=new WeakMap,I=new WeakMap;return(r=function($,V){if(!V&&$&&$.__esModule)return $;var q,X,ae={__proto__:null,default:$};if($===null||typeof $!="object"&&typeof $!="function")return ae;if(q=V?I:z){if(q.has($))return q.get($);q.set($,ae)}for(const L in $)L!=="default"&&{}.hasOwnProperty.call($,L)&&((X=(q=Object.defineProperty)&&Object.getOwnPropertyDescriptor($,L))&&(X.get||X.set)?q(ae,L,X):ae[L]=$[L]);return ae})(D,M)}let s="";function i(D,M){return s||(s=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(z){return(0,t.isFunction)(D[z])})),(0,t.isFunction)(D[s])?D[s](M):!1}function u(D,M,z){let I=D;do{if(i(I,M))return!0;if(I===z)return!1;I=I.parentNode}while(I);return!1}function d(D,M,z,I){if(!D)return;const $={capture:!0,...I};D.addEventListener?D.addEventListener(M,z,$):D.attachEvent?D.attachEvent("on"+M,z):D["on"+M]=z}function m(D,M,z,I){if(!D)return;const $={capture:!0,...I};D.removeEventListener?D.removeEventListener(M,z,$):D.detachEvent?D.detachEvent("on"+M,z):D["on"+M]=null}function p(D){let M=D.clientHeight;const z=D.ownerDocument.defaultView.getComputedStyle(D);return M+=(0,t.int)(z.borderTopWidth),M+=(0,t.int)(z.borderBottomWidth),M}function g(D){let M=D.clientWidth;const z=D.ownerDocument.defaultView.getComputedStyle(D);return M+=(0,t.int)(z.borderLeftWidth),M+=(0,t.int)(z.borderRightWidth),M}function x(D){let M=D.clientHeight;const z=D.ownerDocument.defaultView.getComputedStyle(D);return M-=(0,t.int)(z.paddingTop),M-=(0,t.int)(z.paddingBottom),M}function y(D){let M=D.clientWidth;const z=D.ownerDocument.defaultView.getComputedStyle(D);return M-=(0,t.int)(z.paddingLeft),M-=(0,t.int)(z.paddingRight),M}function C(D,M,z){const $=M===M.ownerDocument.body?{left:0,top:0}:M.getBoundingClientRect(),V=(D.clientX+M.scrollLeft-$.left)/z,q=(D.clientY+M.scrollTop-$.top)/z;return{x:V,y:q}}function T(D,M){const z=b(D,M,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:z}}function E(D,M){return b(D,M,"")}function b(D,M,z){let{x:I,y:$}=D,V=`translate(${I}${z},${$}${z})`;if(M){const q=`${typeof M.x=="string"?M.x:M.x+z}`,X=`${typeof M.y=="string"?M.y:M.y+z}`;V=`translate(${q}, ${X})`+V}return V}function S(D,M){return D.targetTouches&&(0,t.findInArray)(D.targetTouches,z=>M===z.identifier)||D.changedTouches&&(0,t.findInArray)(D.changedTouches,z=>M===z.identifier)}function w(D){if(D.targetTouches&&D.targetTouches[0])return D.targetTouches[0].identifier;if(D.changedTouches&&D.changedTouches[0])return D.changedTouches[0].identifier}function j(D){if(!D)return;let M=D.getElementById("react-draggable-style-el");M||(M=D.createElement("style"),M.type="text/css",M.id="react-draggable-style-el",M.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,M.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,D.getElementsByTagName("head")[0].appendChild(M)),D.body&&_(D.body,"react-draggable-transparent-selection")}function R(D){window.requestAnimationFrame?window.requestAnimationFrame(()=>{A(D)}):A(D)}function A(D){if(D)try{if(D.body&&k(D.body,"react-draggable-transparent-selection"),D.selection)D.selection.empty();else{const M=(D.defaultView||window).getSelection();M&&M.type!=="Caret"&&M.removeAllRanges()}}catch{}}function _(D,M){D.classList?D.classList.add(M):D.className.match(new RegExp(`(?:^|\\s)${M}(?!\\S)`))||(D.className+=` ${M}`)}function k(D,M){D.classList?D.classList.remove(M):D.className=D.className.replace(new RegExp(`(?:^|\\s)${M}(?!\\S)`,"g"),"")}return Ot}var va={},Px;function R1(){if(Px)return va;Px=1,Object.defineProperty(va,"__esModule",{value:!0}),va.canDragX=i,va.canDragY=u,va.createCoreData=m,va.createDraggableData=p,va.getBoundPosition=r,va.getControlPosition=d,va.snapToGrid=s;var t=vu(),a=Tp();function r(y,C,T){if(!y.props.bounds)return[C,T];let{bounds:E}=y.props;E=typeof E=="string"?E:g(E);const b=x(y);if(typeof E=="string"){const{ownerDocument:S}=b,w=S.defaultView;let j;if(E==="parent"?j=b.parentNode:j=b.getRootNode().querySelector(E),!(j instanceof w.HTMLElement))throw new Error('Bounds selector "'+E+'" could not find an element.');const R=j,A=w.getComputedStyle(b),_=w.getComputedStyle(R);E={left:-b.offsetLeft+(0,t.int)(_.paddingLeft)+(0,t.int)(A.marginLeft),top:-b.offsetTop+(0,t.int)(_.paddingTop)+(0,t.int)(A.marginTop),right:(0,a.innerWidth)(R)-(0,a.outerWidth)(b)-b.offsetLeft+(0,t.int)(_.paddingRight)-(0,t.int)(A.marginRight),bottom:(0,a.innerHeight)(R)-(0,a.outerHeight)(b)-b.offsetTop+(0,t.int)(_.paddingBottom)-(0,t.int)(A.marginBottom)}}return(0,t.isNum)(E.right)&&(C=Math.min(C,E.right)),(0,t.isNum)(E.bottom)&&(T=Math.min(T,E.bottom)),(0,t.isNum)(E.left)&&(C=Math.max(C,E.left)),(0,t.isNum)(E.top)&&(T=Math.max(T,E.top)),[C,T]}function s(y,C,T){const E=Math.round(C/y[0])*y[0],b=Math.round(T/y[1])*y[1];return[E,b]}function i(y){return y.props.axis==="both"||y.props.axis==="x"}function u(y){return y.props.axis==="both"||y.props.axis==="y"}function d(y,C,T){const E=typeof C=="number"?(0,a.getTouch)(y,C):null;if(typeof C=="number"&&!E)return null;const b=x(T),S=T.props.offsetParent||b.offsetParent||b.ownerDocument.body;return(0,a.offsetXYFromParent)(E||y,S,T.props.scale)}function m(y,C,T){const E=!(0,t.isNum)(y.lastX),b=x(y);return E?{node:b,deltaX:0,deltaY:0,lastX:C,lastY:T,x:C,y:T}:{node:b,deltaX:C-y.lastX,deltaY:T-y.lastY,lastX:y.lastX,lastY:y.lastY,x:C,y:T}}function p(y,C){const T=y.props.scale;return{node:C.node,x:y.state.x+C.deltaX/T,y:y.state.y+C.deltaY/T,deltaX:C.deltaX/T,deltaY:C.deltaY/T,lastX:y.state.x,lastY:y.state.y}}function g(y){return{left:y.left,top:y.top,right:y.right,bottom:y.bottom}}function x(y){const C=y.findDOMNode();if(!C)throw new Error("<DraggableCore>: Unmounted during event!");return C}return va}var wl={},vc={},Ux;function M1(){if(Ux)return vc;Ux=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.default=t;function t(){}return vc}var Bx;function W5(){if(Bx)return wl;Bx=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.default=void 0;var t=p(Lr()),a=m(gu()),r=m(Hc()),s=Tp(),i=R1(),u=vu(),d=m(M1());function m(b){return b&&b.__esModule?b:{default:b}}function p(b,S){if(typeof WeakMap=="function")var w=new WeakMap,j=new WeakMap;return(p=function(R,A){if(!A&&R&&R.__esModule)return R;var _,k,D={__proto__:null,default:R};if(R===null||typeof R!="object"&&typeof R!="function")return D;if(_=A?j:w){if(_.has(R))return _.get(R);_.set(R,D)}for(const M in R)M!=="default"&&{}.hasOwnProperty.call(R,M)&&((k=(_=Object.defineProperty)&&Object.getOwnPropertyDescriptor(R,M))&&(k.get||k.set)?_(D,M,k):D[M]=R[M]);return D})(b,S)}function g(b,S,w){return(S=x(S))in b?Object.defineProperty(b,S,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[S]=w,b}function x(b){var S=y(b,"string");return typeof S=="symbol"?S:S+""}function y(b,S){if(typeof b!="object"||!b)return b;var w=b[Symbol.toPrimitive];if(w!==void 0){var j=w.call(b,S);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(b)}const C={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let T=C.mouse,E=class extends t.Component{constructor(){super(...arguments),g(this,"dragging",!1),g(this,"lastX",NaN),g(this,"lastY",NaN),g(this,"touchIdentifier",null),g(this,"mounted",!1),g(this,"handleDragStart",S=>{if(this.props.onMouseDown(S),!this.props.allowAnyClick&&typeof S.button=="number"&&S.button!==0)return!1;const w=this.findDOMNode();if(!w||!w.ownerDocument||!w.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:j}=w;if(this.props.disabled||!(S.target instanceof j.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(S.target,this.props.handle,w)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(S.target,this.props.cancel,w))return;S.type==="touchstart"&&!this.props.allowMobileScroll&&S.preventDefault();const R=(0,s.getTouchIdentifier)(S);this.touchIdentifier=R;const A=(0,i.getControlPosition)(S,R,this);if(A==null)return;const{x:_,y:k}=A,D=(0,i.createCoreData)(this,_,k);(0,d.default)("DraggableCore: handleDragStart: %j",D),(0,d.default)("calling",this.props.onStart),!(this.props.onStart(S,D)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(j),this.dragging=!0,this.lastX=_,this.lastY=k,(0,s.addEvent)(j,T.move,this.handleDrag),(0,s.addEvent)(j,T.stop,this.handleDragStop))}),g(this,"handleDrag",S=>{const w=(0,i.getControlPosition)(S,this.touchIdentifier,this);if(w==null)return;let{x:j,y:R}=w;if(Array.isArray(this.props.grid)){let k=j-this.lastX,D=R-this.lastY;if([k,D]=(0,i.snapToGrid)(this.props.grid,k,D),!k&&!D)return;j=this.lastX+k,R=this.lastY+D}const A=(0,i.createCoreData)(this,j,R);if((0,d.default)("DraggableCore: handleDrag: %j",A),this.props.onDrag(S,A)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const D=document.createEvent("MouseEvents");D.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(D)}return}this.lastX=j,this.lastY=R}),g(this,"handleDragStop",S=>{if(!this.dragging)return;const w=(0,i.getControlPosition)(S,this.touchIdentifier,this);if(w==null)return;let{x:j,y:R}=w;if(Array.isArray(this.props.grid)){let D=j-this.lastX||0,M=R-this.lastY||0;[D,M]=(0,i.snapToGrid)(this.props.grid,D,M),j=this.lastX+D,R=this.lastY+M}const A=(0,i.createCoreData)(this,j,R);if(this.props.onStop(S,A)===!1||this.mounted===!1)return!1;const k=this.findDOMNode();k&&this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(k.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",A),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,k&&((0,d.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(k.ownerDocument,T.move,this.handleDrag),(0,s.removeEvent)(k.ownerDocument,T.stop,this.handleDragStop))}),g(this,"onMouseDown",S=>(T=C.mouse,this.handleDragStart(S))),g(this,"onMouseUp",S=>(T=C.mouse,this.handleDragStop(S))),g(this,"onTouchStart",S=>(T=C.touch,this.handleDragStart(S))),g(this,"onTouchEnd",S=>(T=C.touch,this.handleDragStop(S)))}componentDidMount(){this.mounted=!0;const S=this.findDOMNode();S&&(0,s.addEvent)(S,C.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const S=this.findDOMNode();if(S){const{ownerDocument:w}=S;(0,s.removeEvent)(w,C.mouse.move,this.handleDrag),(0,s.removeEvent)(w,C.touch.move,this.handleDrag),(0,s.removeEvent)(w,C.mouse.stop,this.handleDragStop),(0,s.removeEvent)(w,C.touch.stop,this.handleDragStop),(0,s.removeEvent)(S,C.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(w)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:r.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return wl.default=E,g(E,"displayName","DraggableCore"),g(E,"propTypes",{allowAnyClick:a.default.bool,allowMobileScroll:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(b,S){if(b[S]&&b[S].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),g(E,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),wl}var Hx;function Q5(){return Hx||(Hx=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return p.default}}),t.default=void 0;var a=y(Lr()),r=x(gu()),s=x(Hc()),i=X5(),u=Tp(),d=R1(),m=vu(),p=x(W5()),g=x(M1());function x(w){return w&&w.__esModule?w:{default:w}}function y(w,j){if(typeof WeakMap=="function")var R=new WeakMap,A=new WeakMap;return(y=function(_,k){if(!k&&_&&_.__esModule)return _;var D,M,z={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return z;if(D=k?A:R){if(D.has(_))return D.get(_);D.set(_,z)}for(const I in _)I!=="default"&&{}.hasOwnProperty.call(_,I)&&((M=(D=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,I))&&(M.get||M.set)?D(z,I,M):z[I]=_[I]);return z})(w,j)}function C(){return C=Object.assign?Object.assign.bind():function(w){for(var j=1;j<arguments.length;j++){var R=arguments[j];for(var A in R)({}).hasOwnProperty.call(R,A)&&(w[A]=R[A])}return w},C.apply(null,arguments)}function T(w,j,R){return(j=E(j))in w?Object.defineProperty(w,j,{value:R,enumerable:!0,configurable:!0,writable:!0}):w[j]=R,w}function E(w){var j=b(w,"string");return typeof j=="symbol"?j:j+""}function b(w,j){if(typeof w!="object"||!w)return w;var R=w[Symbol.toPrimitive];if(R!==void 0){var A=R.call(w,j);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(w)}class S extends a.Component{static getDerivedStateFromProps(j,R){let{position:A}=j,{prevPropsPosition:_}=R;return A&&(!_||A.x!==_.x||A.y!==_.y)?((0,g.default)("Draggable: getDerivedStateFromProps %j",{position:A,prevPropsPosition:_}),{x:A.x,y:A.y,prevPropsPosition:{...A}}):null}constructor(j){super(j),T(this,"onDragStart",(R,A)=>{if((0,g.default)("Draggable: onDragStart: %j",A),this.props.onStart(R,(0,d.createDraggableData)(this,A))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),T(this,"onDrag",(R,A)=>{if(!this.state.dragging)return!1;(0,g.default)("Draggable: onDrag: %j",A);const _=(0,d.createDraggableData)(this,A),k={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:z}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[I,$]=(0,d.getBoundPosition)(this,k.x,k.y);k.x=I,k.y=$,k.slackX=this.state.slackX+(M-k.x),k.slackY=this.state.slackY+(z-k.y),_.x=k.x,_.y=k.y,_.deltaX=k.x-this.state.x,_.deltaY=k.y-this.state.y}if(this.props.onDrag(R,_)===!1)return!1;this.setState(k)}),T(this,"onDragStop",(R,A)=>{if(!this.state.dragging||this.props.onStop(R,(0,d.createDraggableData)(this,A))===!1)return!1;(0,g.default)("Draggable: onDragStop: %j",A);const k={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:M,y:z}=this.props.position;k.x=M,k.y=z}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:j.position?j.position.x:j.defaultPosition.x,y:j.position?j.position.y:j.defaultPosition.y,prevPropsPosition:{...j.position},slackX:0,slackY:0,isElementSVG:!1},j.position&&!(j.onDrag||j.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??s.default.findDOMNode(this)}render(){const{axis:j,bounds:R,children:A,defaultPosition:_,defaultClassName:k,defaultClassNameDragging:D,defaultClassNameDragged:M,position:z,positionOffset:I,scale:$,...V}=this.props;let q={},X=null;const L=!!!z||this.state.dragging,H=z||_,U={x:(0,d.canDragX)(this)&&L?this.state.x:H.x,y:(0,d.canDragY)(this)&&L?this.state.y:H.y};this.state.isElementSVG?X=(0,u.createSVGTransform)(U,I):q=(0,u.createCSSTransform)(U,I);const G=(0,i.clsx)(A.props.className||"",k,{[D]:this.state.dragging,[M]:this.state.dragged});return a.createElement(p.default,C({},V,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),a.cloneElement(a.Children.only(A),{className:G,style:{...A.props.style,...q},transform:X}))}}t.default=S,T(S,"displayName","Draggable"),T(S,"propTypes",{...p.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe}),T(S,"defaultProps",{...p.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Kf)),Kf}var qx;function Rp(){if(qx)return Sl.exports;qx=1;const{default:t,DraggableCore:a}=Q5();return Sl.exports=t,Sl.exports.default=t,Sl.exports.DraggableCore=a,Sl.exports}var Z5=Rp(),Cl={exports:{}},El={},yc={},Ix;function J5(){if(Ix)return yc;Ix=1,yc.__esModule=!0,yc.cloneElement=m;var t=a(Lr());function a(p){return p&&p.__esModule?p:{default:p}}function r(p,g){var x=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);g&&(y=y.filter(function(C){return Object.getOwnPropertyDescriptor(p,C).enumerable})),x.push.apply(x,y)}return x}function s(p){for(var g=1;g<arguments.length;g++){var x=arguments[g]!=null?arguments[g]:{};g%2?r(Object(x),!0).forEach(function(y){i(p,y,x[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(x)):r(Object(x)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(x,y))})}return p}function i(p,g,x){return(g=u(g))in p?Object.defineProperty(p,g,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[g]=x,p}function u(p){var g=d(p,"string");return typeof g=="symbol"?g:g+""}function d(p,g){if(typeof p!="object"||!p)return p;var x=p[Symbol.toPrimitive];if(x!==void 0){var y=x.call(p,g);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(p)}function m(p,g){return g.style&&p.props.style&&(g.style=s(s({},p.props.style),g.style)),g.className&&p.props.className&&(g.className=`${p.props.className} ${g.className}`),t.default.cloneElement(p,g)}return yc}var Nl={},$x;function D1(){if($x)return Nl;$x=1,Nl.__esModule=!0,Nl.resizableProps=void 0;var t=a(gu());Rp();function a(r){return r&&r.__esModule?r:{default:r}}return Nl.resizableProps={axis:t.default.oneOf(["both","x","y","none"]),className:t.default.string,children:t.default.element.isRequired,draggableOpts:t.default.shape({allowAnyClick:t.default.bool,cancel:t.default.string,children:t.default.node,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:typeof Element<"u"?t.default.instanceOf(Element):t.default.any,grid:t.default.arrayOf(t.default.number),handle:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number}),height:function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];const[u]=s;return u.axis==="both"||u.axis==="y"?t.default.number.isRequired(...s):t.default.number(...s)},handle:t.default.oneOfType([t.default.node,t.default.func]),handleSize:t.default.arrayOf(t.default.number),lockAspectRatio:t.default.bool,maxConstraints:t.default.arrayOf(t.default.number),minConstraints:t.default.arrayOf(t.default.number),onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,resizeHandles:t.default.arrayOf(t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:t.default.number,width:function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];const[u]=s;return u.axis==="both"||u.axis==="x"?t.default.number.isRequired(...s):t.default.number(...s)}},Nl}var Fx;function _1(){if(Fx)return El;Fx=1,El.__esModule=!0,El.default=void 0;var t=u(Lr()),a=Rp(),r=J5(),s=D1();const i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function u(b,S){if(typeof WeakMap=="function")var w=new WeakMap,j=new WeakMap;return(u=function(R,A){if(!A&&R&&R.__esModule)return R;var _,k,D={__proto__:null,default:R};if(R===null||typeof R!="object"&&typeof R!="function")return D;if(_=A?j:w){if(_.has(R))return _.get(R);_.set(R,D)}for(const M in R)M!=="default"&&{}.hasOwnProperty.call(R,M)&&((k=(_=Object.defineProperty)&&Object.getOwnPropertyDescriptor(R,M))&&(k.get||k.set)?_(D,M,k):D[M]=R[M]);return D})(b,S)}function d(){return d=Object.assign?Object.assign.bind():function(b){for(var S=1;S<arguments.length;S++){var w=arguments[S];for(var j in w)({}).hasOwnProperty.call(w,j)&&(b[j]=w[j])}return b},d.apply(null,arguments)}function m(b,S){if(b==null)return{};var w,j,R=p(b,S);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(b);for(j=0;j<A.length;j++)w=A[j],S.indexOf(w)===-1&&{}.propertyIsEnumerable.call(b,w)&&(R[w]=b[w])}return R}function p(b,S){if(b==null)return{};var w={};for(var j in b)if({}.hasOwnProperty.call(b,j)){if(S.indexOf(j)!==-1)continue;w[j]=b[j]}return w}function g(b,S){var w=Object.keys(b);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(b);S&&(j=j.filter(function(R){return Object.getOwnPropertyDescriptor(b,R).enumerable})),w.push.apply(w,j)}return w}function x(b){for(var S=1;S<arguments.length;S++){var w=arguments[S]!=null?arguments[S]:{};S%2?g(Object(w),!0).forEach(function(j){y(b,j,w[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(w)):g(Object(w)).forEach(function(j){Object.defineProperty(b,j,Object.getOwnPropertyDescriptor(w,j))})}return b}function y(b,S,w){return(S=C(S))in b?Object.defineProperty(b,S,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[S]=w,b}function C(b){var S=T(b,"string");return typeof S=="symbol"?S:S+""}function T(b,S){if(typeof b!="object"||!b)return b;var w=b[Symbol.toPrimitive];if(w!==void 0){var j=w.call(b,S);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(b)}let E=class extends t.Component{constructor(){super(...arguments),this.handleRefs={},this.lastHandleRect=null,this.slack=null,this.lastSize=null}componentWillUnmount(){this.resetData()}resetData(){this.lastHandleRect=this.slack=this.lastSize=null}runConstraints(S,w){const{minConstraints:j,maxConstraints:R,lockAspectRatio:A}=this.props;if(!j&&!R&&!A)return[S,w];if(A){const z=this.props.width/this.props.height,I=S-this.props.width,$=w-this.props.height;Math.abs(I)>Math.abs($*z)?w=S/z:S=w*z}const[_,k]=[S,w];let[D,M]=this.slack||[0,0];return S+=D,w+=M,j&&(S=Math.max(j[0],S),w=Math.max(j[1],w)),R&&(S=Math.min(R[0],S),w=Math.min(R[1],w)),this.slack=[D+(_-S),M+(k-w)],[S,w]}resizeHandler(S,w){return(j,R)=>{let{node:A,deltaX:_,deltaY:k}=R;S==="onResizeStart"&&this.resetData();const D=(this.props.axis==="both"||this.props.axis==="x")&&w!=="n"&&w!=="s",M=(this.props.axis==="both"||this.props.axis==="y")&&w!=="e"&&w!=="w";if(!D&&!M)return;const z=w[0],I=w[w.length-1],$=A.getBoundingClientRect();if(this.lastHandleRect!=null){if(I==="w"){const H=$.left-this.lastHandleRect.left;_+=H}if(z==="n"){const H=$.top-this.lastHandleRect.top;k+=H}}this.lastHandleRect=$,I==="w"&&(_=-_),z==="n"&&(k=-k);let V=this.props.width+(D?_/this.props.transformScale:0),q=this.props.height+(M?k/this.props.transformScale:0);[V,q]=this.runConstraints(V,q),S==="onResizeStop"&&this.lastSize&&({width:V,height:q}=this.lastSize);const X=V!==this.props.width||q!==this.props.height;S!=="onResizeStop"&&(this.lastSize={width:V,height:q});const ae=typeof this.props[S]=="function"?this.props[S]:null;ae&&!(S==="onResize"&&!X)&&(j.persist?.(),ae(j,{node:A,size:{width:V,height:q},handle:w})),S==="onResizeStop"&&this.resetData()}}renderResizeHandle(S,w){const{handle:j}=this.props;if(!j)return t.createElement("span",{className:`react-resizable-handle react-resizable-handle-${S}`,ref:w});if(typeof j=="function")return j(S,w);const R=typeof j.type=="string",A=x({ref:w},R?{}:{handleAxis:S});return t.cloneElement(j,A)}render(){const S=this.props,{children:w,className:j,draggableOpts:R,width:A,height:_,handle:k,handleSize:D,lockAspectRatio:M,axis:z,minConstraints:I,maxConstraints:$,onResize:V,onResizeStop:q,onResizeStart:X,resizeHandles:ae,transformScale:L}=S,H=m(S,i);return(0,r.cloneElement)(w,x(x({},H),{},{className:`${j?`${j} `:""}react-resizable`,children:[...t.Children.toArray(w.props.children),...ae.map(U=>{const G=this.handleRefs[U]??(this.handleRefs[U]=t.createRef());return t.createElement(a.DraggableCore,d({},R,{nodeRef:G,key:`resizableHandle-${U}`,onStop:this.resizeHandler("onResizeStop",U),onStart:this.resizeHandler("onResizeStart",U),onDrag:this.resizeHandler("onResize",U)}),this.renderResizeHandle(U,G))})]}))}};return El.default=E,E.propTypes=s.resizableProps,E.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},El}var jl={},Yx;function ez(){if(Yx)return jl;Yx=1,jl.__esModule=!0,jl.default=void 0;var t=d(Lr()),a=u(gu()),r=u(_1()),s=D1();const i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function u(S){return S&&S.__esModule?S:{default:S}}function d(S,w){if(typeof WeakMap=="function")var j=new WeakMap,R=new WeakMap;return(d=function(A,_){if(!_&&A&&A.__esModule)return A;var k,D,M={__proto__:null,default:A};if(A===null||typeof A!="object"&&typeof A!="function")return M;if(k=_?R:j){if(k.has(A))return k.get(A);k.set(A,M)}for(const z in A)z!=="default"&&{}.hasOwnProperty.call(A,z)&&((D=(k=Object.defineProperty)&&Object.getOwnPropertyDescriptor(A,z))&&(D.get||D.set)?k(M,z,D):M[z]=A[z]);return M})(S,w)}function m(){return m=Object.assign?Object.assign.bind():function(S){for(var w=1;w<arguments.length;w++){var j=arguments[w];for(var R in j)({}).hasOwnProperty.call(j,R)&&(S[R]=j[R])}return S},m.apply(null,arguments)}function p(S,w){var j=Object.keys(S);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(S);w&&(R=R.filter(function(A){return Object.getOwnPropertyDescriptor(S,A).enumerable})),j.push.apply(j,R)}return j}function g(S){for(var w=1;w<arguments.length;w++){var j=arguments[w]!=null?arguments[w]:{};w%2?p(Object(j),!0).forEach(function(R){x(S,R,j[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(j)):p(Object(j)).forEach(function(R){Object.defineProperty(S,R,Object.getOwnPropertyDescriptor(j,R))})}return S}function x(S,w,j){return(w=y(w))in S?Object.defineProperty(S,w,{value:j,enumerable:!0,configurable:!0,writable:!0}):S[w]=j,S}function y(S){var w=C(S,"string");return typeof w=="symbol"?w:w+""}function C(S,w){if(typeof S!="object"||!S)return S;var j=S[Symbol.toPrimitive];if(j!==void 0){var R=j.call(S,w);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(S)}function T(S,w){if(S==null)return{};var j,R,A=E(S,w);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(S);for(R=0;R<_.length;R++)j=_[R],w.indexOf(j)===-1&&{}.propertyIsEnumerable.call(S,j)&&(A[j]=S[j])}return A}function E(S,w){if(S==null)return{};var j={};for(var R in S)if({}.hasOwnProperty.call(S,R)){if(w.indexOf(R)!==-1)continue;j[R]=S[R]}return j}let b=class extends t.Component{constructor(){super(...arguments),this.state={width:this.props.width,height:this.props.height,propsWidth:this.props.width,propsHeight:this.props.height},this.onResize=(w,j)=>{const{size:R}=j;this.props.onResize?(w.persist?.(),this.setState(R,()=>this.props.onResize&&this.props.onResize(w,j))):this.setState(R)}}static getDerivedStateFromProps(w,j){return j.propsWidth!==w.width||j.propsHeight!==w.height?{width:w.width,height:w.height,propsWidth:w.width,propsHeight:w.height}:null}render(){const w=this.props,{handle:j,handleSize:R,onResize:A,onResizeStart:_,onResizeStop:k,draggableOpts:D,minConstraints:M,maxConstraints:z,lockAspectRatio:I,axis:$,width:V,height:q,resizeHandles:X,style:ae,transformScale:L}=w,H=T(w,i);return t.createElement(r.default,{axis:$,draggableOpts:D,handle:j,handleSize:R,height:this.state.height,lockAspectRatio:I,maxConstraints:z,minConstraints:M,onResizeStart:_,onResize:this.onResize,onResizeStop:k,resizeHandles:X,transformScale:L,width:this.state.width},t.createElement("div",m({},H,{style:g(g({},ae),{},{width:this.state.width+"px",height:this.state.height+"px"})})))}};return jl.default=b,b.propTypes=g(g({},s.resizableProps),{},{children:a.default.element}),jl}var Vx;function tz(){return Vx||(Vx=1,Cl.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Cl.exports.Resizable=_1().default,Cl.exports.ResizableBox=ez().default),Cl.exports}var nz=tz();function Gx(t){const{children:a,cols:r,containerWidth:s,margin:i,containerPadding:u,rowHeight:d,maxRows:m,isDraggable:p,isResizable:g,isBounded:x,static:y,useCSSTransforms:C=!0,usePercentages:T=!1,transformScale:E=1,positionStrategy:b,dragThreshold:S=0,droppingPosition:w,className:j="",style:R,handle:A="",cancel:_="",x:k,y:D,w:M,h:z,minW:I=1,maxW:$=1/0,minH:V=1,maxH:q=1/0,i:X,resizeHandles:ae,resizeHandle:L,constraints:H=p1,layoutItem:U,layout:G=[],onDragStart:ce,onDrag:P,onDragStop:Y,onResizeStart:Q,onResize:re,onResizeStop:ue}=t,[me,W]=h.useState(!1),[ye,fe]=h.useState(!1),he=h.useRef(null),pe=h.useRef({left:0,top:0}),be=h.useRef({top:0,left:0,width:0,height:0}),Ae=h.useRef(void 0),Je=h.useRef(G);Je.current=G;const ut=h.useRef(null),st=h.useRef(null),dt=h.useRef(!1),yn=h.useRef({x:0,y:0}),rt=h.useRef(!1),tt=h.useMemo(()=>({cols:r,containerPadding:u,containerWidth:s,margin:i,maxRows:m,rowHeight:d}),[r,u,s,i,m,d]),Mt=h.useMemo(()=>({cols:r,maxRows:m,containerWidth:s,containerHeight:0,rowHeight:d,margin:i,layout:[]}),[r,m,s,d,i]),Nt=h.useCallback(()=>({...Mt,layout:Je.current}),[Mt]),tn=h.useMemo(()=>U??{i:X,x:k,y:D,w:M,h:z,minW:I,maxW:$,minH:V,maxH:q},[U,X,k,D,M,z,I,$,V,q]),kt=h.useCallback(Ke=>{if(b?.calcStyle)return b.calcStyle(Ke);if(C)return h1(Ke);const Ie=f5(Ke);return T?{...Ie,left:jx(Ke.left/s),width:jx(Ke.width/s)}:Ie},[b,C,T,s]),cn=h.useCallback((Ke,{node:Ie})=>{if(!ce)return;const{offsetParent:gt}=Ie;if(!gt)return;const Ze=gt.getBoundingClientRect(),zt=Ie.getBoundingClientRect(),Ft=zt.left/E,Yt=Ze.left/E,Dt=zt.top/E,dn=Ze.top/E;let on;if(b?.calcDragPosition){const ze=Ke;on=b.calcDragPosition(ze.clientX,ze.clientY,ze.clientX-zt.left,ze.clientY-zt.top)}else on={left:Ft-Yt+gt.scrollLeft,top:Dt-dn+gt.scrollTop};if(pe.current=on,S>0){const ze=Ke;yn.current={x:ze.clientX,y:ze.clientY},dt.current=!0,rt.current=!1,W(!0);return}W(!0);const Wn=pc(tt,on.top,on.left),{x:Qn,y:Ee}=hc(H,tn,Wn.x,Wn.y,Nt());ce(X,Qn,Ee,{e:Ke,node:Ie,newPosition:on})},[ce,E,tt,b,S,H,tn,Nt,X]),Xn=h.useCallback((Ke,{node:Ie,deltaX:gt,deltaY:Ze})=>{if(!P||!me)return;const zt=Ke;if(dt.current&&!rt.current){const Qn=zt.clientX-yn.current.x,Ee=zt.clientY-yn.current.y;if(Math.hypot(Qn,Ee)<S)return;if(rt.current=!0,dt.current=!1,ce){const Te=pc(tt,pe.current.top,pe.current.left),{x:We,y:$e}=hc(H,tn,Te.x,Te.y,Nt());ce(X,We,$e,{e:Ke,node:Ie,newPosition:pe.current})}}let Ft=pe.current.top+Ze,Yt=pe.current.left+gt;if(x){const{offsetParent:Qn}=Ie;if(Qn){const Ee=Qn.clientHeight-ms(z,d,i[1]);Ft=Pc(Ft,0,Ee);const ze=Rs(tt),Te=s-ms(M,ze,i[0]);Yt=Pc(Yt,0,Te)}}const Dt={top:Ft,left:Yt};pe.current=Dt;const dn=pc(tt,Ft,Yt),{x:on,y:Wn}=hc(H,tn,dn.x,dn.y,Nt());P(X,on,Wn,{e:Ke,node:Ie,newPosition:Dt})},[P,ce,me,S,x,z,d,i,tt,s,M,X,H,tn,Nt]),xn=h.useCallback((Ke,{node:Ie})=>{if(!Y||!me)return;const gt=dt.current;if(dt.current=!1,rt.current=!1,yn.current={x:0,y:0},gt){W(!1),pe.current={left:0,top:0};return}const{left:Ze,top:zt}=pe.current,Ft={top:zt,left:Ze};W(!1),pe.current={left:0,top:0};const Yt=pc(tt,zt,Ze),{x:Dt,y:dn}=hc(H,tn,Yt.x,Yt.y,Nt());Y(X,Dt,dn,{e:Ke,node:Ie,newPosition:Ft})},[Y,me,tt,H,tn,Nt,X]);ut.current=cn,st.current=Xn;const $t=h.useCallback((Ke,{node:Ie,size:gt,handle:Ze},zt,Ft)=>{const Yt=Ft==="onResizeStart"?Q:Ft==="onResize"?re:ue;if(!Yt)return;let Dt;Ie?Dt=b5(Ze,zt,gt,s):Dt={...gt,top:zt.top,left:zt.left},be.current=Dt;const dn=a5(tt,Dt.width,Dt.height),{w:on,h:Wn}=d5(H,tn,dn.w,dn.h,Ze,Nt());Yt(X,on,Wn,{e:Ke.nativeEvent,node:Ie,size:Dt,handle:Ze})},[Q,re,ue,s,tt,X,H,tn,Nt]),ua=h.useCallback((Ke,Ie)=>{fe(!0);const gt=bl(tt,k,D,M,z),Ze={...Ie,handle:Ie.handle};$t(Ke,Ze,gt,"onResizeStart")},[$t,tt,k,D,M,z]),Kn=h.useCallback((Ke,Ie)=>{const gt=bl(tt,k,D,M,z),Ze={...Ie,handle:Ie.handle};$t(Ke,Ze,gt,"onResize")},[$t,tt,k,D,M,z]),Dn=h.useCallback((Ke,Ie)=>{fe(!1),be.current={top:0,left:0,width:0,height:0};const gt=bl(tt,k,D,M,z),Ze={...Ie,handle:Ie.handle};$t(Ke,Ze,gt,"onResizeStop")},[$t,tt,k,D,M,z]);h.useEffect(()=>{if(!w)return;const Ke=he.current;if(!Ke)return;const Ie=Ae.current||{left:0,top:0},gt=me&&(w.left!==Ie.left||w.top!==Ie.top);if(me){if(gt){const Ze=w.left-pe.current.left,zt=w.top-pe.current.top,Ft={node:Ke,deltaX:Ze,deltaY:zt,lastX:pe.current.left,lastY:pe.current.top,x:w.left,y:w.top};st.current?.(w.e,Ft)}}else{const Ze={node:Ke,deltaX:w.left,deltaY:w.top,lastX:0,lastY:0,x:w.left,y:w.top};ut.current?.(w.e,Ze)}Ae.current=w},[w,me,X]);const un=bl(tt,k,D,M,z,me?pe.current:null,ye?be.current:null),_n=wt.Children.only(a),ie=bl(tt,0,0,1,1),et=[ie.width,ie.height],yt=[1/0,1/0],Xt=_n.props,Hr=Xt.className,vo=Xt.style;let bn=wt.cloneElement(_n,{ref:he,className:fu("react-grid-item",Hr,j,{static:y,resizing:ye,"react-draggable":p,"react-draggable-dragging":me,dropping:!!w,cssTransforms:C}),style:{...R,...vo,...kt(un)}});const Ta=L;return bn=c.jsx(nz.Resizable,{draggableOpts:{disabled:!g},className:g?void 0:"react-resizable-hide",width:un.width,height:un.height,minConstraints:et,maxConstraints:yt,onResizeStart:ua,onResize:Kn,onResizeStop:Dn,transformScale:E,resizeHandles:ae,handle:Ta,children:bn}),bn=c.jsx(Z5.DraggableCore,{disabled:!p,onStart:cn,onDrag:Xn,onStop:xn,handle:A,cancel:".react-resizable-handle"+(_?","+_:""),scale:E,nodeRef:he,children:bn}),bn}var Ga=()=>{},Xx="react-grid-layout",A1=!1;try{A1=/firefox/i.test(navigator.userAgent)}catch{}function az(t,a){const r=wt.Children.toArray(t),s=wt.Children.toArray(a);if(r.length!==s.length)return!1;for(let i=0;i<r.length;i++){const u=r[i],d=s[i];if(u?.key!==d?.key)return!1}return!0}function Kx(t,a,r,s){const i=[],u=new Set;wt.Children.forEach(a,m=>{if(!wt.isValidElement(m)||m.key===null)return;const p=String(m.key);u.add(p);const g=t.find(x=>x.i===p);if(g)i.push(ps(g));else{const y=m.props["data-grid"];y?i.push({i:p,x:y.x??0,y:y.y??0,w:y.w??1,h:y.h??1,minW:y.minW,maxW:y.maxW,minH:y.minH,maxH:y.maxH,static:y.static,isDraggable:y.isDraggable,isResizable:y.isResizable,resizeHandles:y.resizeHandles,isBounded:y.isBounded}):i.push({i:p,x:0,y:bp(i),w:1,h:1})}});const d=i5(i,{cols:r});return s.compact(d,r)}function rz(t){const{children:a,width:r,gridConfig:s,dragConfig:i,resizeConfig:u,dropConfig:d,positionStrategy:m=w5,compactor:p,constraints:g=p1,layout:x=[],droppingItem:y,autoSize:C=!0,className:T="",style:E={},innerRef:b,onLayoutChange:S=Ga,onDragStart:w=Ga,onDrag:j=Ga,onDragStop:R=Ga,onResizeStart:A=Ga,onResize:_=Ga,onResizeStop:k=Ga,onDrop:D=Ga,onDropDragOver:M=Ga}=t,z=h.useMemo(()=>({...C5,...s}),[s]),I=h.useMemo(()=>({...E5,...i}),[i]),$=h.useMemo(()=>({...N5,...u}),[u]),V=h.useMemo(()=>({...j5,...d}),[d]),{cols:q,rowHeight:X,maxRows:ae,margin:L,containerPadding:H}=z,{enabled:U,bounded:G,handle:ce,cancel:P,threshold:Y}=I,{enabled:Q,handles:re,handleComponent:ue}=$,{enabled:me,defaultItem:W,onDragOver:ye}=V,fe=p??M5(),he=fe.type,pe=fe.allowOverlap,be=fe.preventCollision??!1,Ae=h.useMemo(()=>y??{i:"__dropping-elem__",...W},[y,W]),Je=m.type==="transform",ut=m.scale,st=H??L,[dt,yn]=h.useState(!1),[rt,tt]=h.useState(()=>Kx(x,a,q,fe)),[Mt,Nt]=h.useState(null),[tn,kt]=h.useState(!1),[cn,Xn]=h.useState(null),[xn,$t]=h.useState(),ua=h.useRef(null),Kn=h.useRef(null),Dn=h.useRef(null),un=h.useRef(0),_n=h.useRef(rt),ie=h.useRef(x),et=h.useRef(a),yt=h.useRef(he),Xt=h.useRef(rt);Xt.current=rt,h.useEffect(()=>{yn(!0),as(rt,x)||S(rt)},[]),h.useEffect(()=>{if(Mt||cn)return;const Ee=!as(x,ie.current),ze=!az(a,et.current),Te=he!==yt.current;if(Ee||ze||Te){const $e=Kx(Ee?x:rt,a,q,fe);as($e,rt)||tt($e)}ie.current=x,et.current=a,yt.current=he},[x,a,q,he,fe,Mt,cn,rt]),h.useEffect(()=>{if(!Mt&&!as(rt,_n.current)){_n.current=rt;const Ee=rt.filter(ze=>ze.i!==Ae.i);S(Ee)}},[rt,Mt,S,Ae.i]);const Hr=h.useMemo(()=>{if(!C)return;const Ee=bp(rt),ze=st[1];return Ee*X+(Ee-1)*L[1]+ze*2+"px"},[C,rt,X,L,st]),vo=h.useCallback((Ee,ze,Te,We)=>{const $e=Xt.current,_e=oo($e,Ee);if(!_e)return;const Be={w:_e.w,h:_e.h,x:_e.x,y:_e.y,i:Ee};ua.current=ps(_e),Dn.current=$e,Nt(Be),w($e,_e,_e,null,We.e,We.node)},[w]),bn=h.useCallback((Ee,ze,Te,We)=>{const $e=Xt.current,_e=ua.current,Be=oo($e,Ee);if(!Be)return;const xt={w:Be.w,h:Be.h,x:Be.x,y:Be.y,i:Ee},ft=so($e,Be,ze,Te,!0,be,he,q,pe);j(ft,_e,Be,xt,We.e,We.node),tt(fe.compact(ft,q)),Nt(xt)},[be,he,q,pe,fe,j]),Ta=h.useCallback((Ee,ze,Te,We)=>{if(!Mt)return;const $e=Xt.current,_e=ua.current,Be=oo($e,Ee);if(!Be)return;const xt=so($e,Be,ze,Te,!0,be,he,q,pe),ft=fe.compact(xt,q);R(ft,_e,Be,null,We.e,We.node);const Vt=Dn.current;ua.current=null,Dn.current=null,Nt(null),tt(ft),Vt&&!as(Vt,ft)&&S(ft)},[Mt,be,he,q,pe,fe,R,S]),Ke=h.useCallback((Ee,ze,Te,We)=>{const $e=Xt.current,_e=oo($e,Ee);_e&&(Kn.current=ps(_e),Dn.current=$e,kt(!0),A($e,_e,_e,null,We.e,We.node))},[A]),Ie=h.useCallback((Ee,ze,Te,We)=>{const $e=Xt.current,_e=Kn.current,{handle:Be}=We;let xt=!1,ft,Vt;const[yo,An]=l5($e,Ee,lt=>(ft=lt.x,Vt=lt.y,["sw","w","nw","n","ne"].includes(Be)&&(["sw","nw","w"].includes(Be)&&(ft=lt.x+(lt.w-ze),ze=lt.x!==ft&&ft<0?lt.w:ze,ft=ft<0?0:ft),["ne","n","nw"].includes(Be)&&(Vt=lt.y+(lt.h-Te),Te=lt.y!==Vt&&Vt<0?lt.h:Te,Vt=Vt<0?0:Vt),xt=!0),be&&!pe&&f1($e,{...lt,w:ze,h:Te,x:ft??lt.x,y:Vt??lt.y}).filter(fa=>fa.i!==lt.i).length>0&&(Vt=lt.y,Te=lt.h,ft=lt.x,ze=lt.w,xt=!1),lt.w=ze,lt.h=Te,lt));if(!An)return;let Zn=yo;xt&&ft!==void 0&&Vt!==void 0&&(Zn=so(yo,An,ft,Vt,!0,be,he,q,pe));const tr={w:An.w,h:An.h,x:An.x,y:An.y,i:Ee,static:!0};_(Zn,_e,An,tr,We.e,We.node),tt(fe.compact(Zn,q)),Nt(tr)},[be,he,q,pe,fe,_]),gt=h.useCallback((Ee,ze,Te,We)=>{const $e=Xt.current,_e=Kn.current,Be=oo($e,Ee),xt=fe.compact($e,q);k(xt,_e,Be??null,null,We.e,We.node);const ft=Dn.current;Kn.current=null,Dn.current=null,Nt(null),kt(!1),tt(xt),ft&&!as(ft,xt)&&S(xt)},[q,fe,k,S]),Ze=h.useCallback(()=>{const Ee=Xt.current;if(!Ee.some(We=>We.i===Ae.i)){Xn(null),Nt(null),$t(void 0);return}const Te=fe.compact(Ee.filter(We=>We.i!==Ae.i),q);tt(Te),Xn(null),Nt(null),$t(void 0)},[Ae.i,q,fe]),zt=h.useCallback(Ee=>{if(Ee.preventDefault(),Ee.stopPropagation(),A1&&!Ee.nativeEvent.target?.classList.contains(Xx))return!1;const ze=ye?ye(Ee.nativeEvent):M(Ee);if(ze===!1)return cn&&Ze(),!1;const{dragOffsetX:Te=0,dragOffsetY:We=0,...$e}=ze??{},_e={...Ae,...$e},Be=Ee.currentTarget.getBoundingClientRect(),xt={cols:q,margin:L,maxRows:ae,rowHeight:X,containerWidth:r,containerPadding:st},ft=Rs(xt),Vt=ms(_e.w,ft,L[0]),yo=ms(_e.h,X,L[1]),An=Vt/2,Zn=yo/2,tr=Ee.clientX-Be.left+Te-An,lt=Ee.clientY-Be.top+We-Zn,da=Math.max(0,tr),fa=Math.max(0,lt),Jn={left:da/ut,top:fa/ut,e:Ee.nativeEvent};if(cn)xn&&(xn.left!==Jn.left||xn.top!==Jn.top)&&$t(Jn);else{const jt=n5(xt,fa,da,_e.w,_e.h);Xn(c.jsx("div",{},_e.i)),$t(Jn),tt([...Xt.current,{..._e,x:jt.x,y:jt.y,static:!1,isDraggable:!0}])}},[cn,xn,Ae,ye,M,Ze,ut,q,L,ae,X,r,st]),Ft=h.useCallback(Ee=>{Ee.preventDefault(),Ee.stopPropagation(),un.current--,un.current<0&&(un.current=0),un.current===0&&Ze()},[Ze]),Yt=h.useCallback(Ee=>{Ee.preventDefault(),Ee.stopPropagation(),un.current++},[]),Dt=h.useCallback(Ee=>{Ee.preventDefault(),Ee.stopPropagation();const ze=Xt.current,Te=ze.find(We=>We.i===Ae.i);un.current=0,Ze(),D(ze,Te,Ee.nativeEvent)},[Ae.i,Ze,D]),dn=h.useCallback((Ee,ze)=>{if(!Ee||!Ee.key)return null;const Te=oo(rt,String(Ee.key));if(!Te)return null;const We=typeof Te.isDraggable=="boolean"?Te.isDraggable:!Te.static&&U,$e=typeof Te.isResizable=="boolean"?Te.isResizable:!Te.static&&Q,_e=Te.resizeHandles||[...re],Be=We&&G&&Te.isBounded!==!1,xt=ue;return c.jsx(Gx,{containerWidth:r,cols:q,margin:L,containerPadding:st,maxRows:ae,rowHeight:X,cancel:P,handle:ce,onDragStart:vo,onDrag:bn,onDragStop:Ta,onResizeStart:Ke,onResize:Ie,onResizeStop:gt,isDraggable:We,isResizable:$e,isBounded:Be,useCSSTransforms:Je&&dt,usePercentages:!dt,transformScale:ut,positionStrategy:m,dragThreshold:Y,w:Te.w,h:Te.h,x:Te.x,y:Te.y,i:Te.i,minH:Te.minH,minW:Te.minW,maxH:Te.maxH,maxW:Te.maxW,static:Te.static,droppingPosition:ze?xn:void 0,resizeHandles:_e,resizeHandle:xt,constraints:g,layoutItem:Te,layout:rt,children:Ee},Te.i)},[rt,r,q,L,st,ae,X,P,ce,vo,bn,Ta,Ke,Ie,gt,U,Q,G,Je,dt,ut,m,Y,xn,re,ue,g]),on=()=>Mt?c.jsx(Gx,{w:Mt.w,h:Mt.h,x:Mt.x,y:Mt.y,i:Mt.i,className:`react-grid-placeholder ${tn?"placeholder-resizing":""}`,containerWidth:r,cols:q,margin:L,containerPadding:st,maxRows:ae,rowHeight:X,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:Je,transformScale:ut,constraints:g,layout:rt,children:c.jsx("div",{})}):null,Wn=fu(Xx,T),Qn={height:Hr,...E};return c.jsxs("div",{ref:b,className:Wn,style:Qn,onDrop:me?Dt:void 0,onDragLeave:me?Ft:void 0,onDragEnter:me?Yt:void 0,onDragOver:me?zt:void 0,children:[wt.Children.map(a,Ee=>wt.isValidElement(Ee)?dn(Ee):null),me&&cn&&dn(cn,!0),on()]})}const Rm=h.forwardRef(({title:t,subtitle:a,draggable:r=!1,closeable:s=!1,onClose:i,isMaximized:u=!1,onMaximize:d,headerActions:m,headerContent:p,showHeader:g=!0,className:x,children:y,...C},T)=>c.jsxs("div",{ref:T,className:ve("panel-glass flex flex-col overflow-hidden",u&&"h-full",x),...C,children:[g&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:ve("from-primary/5 to-secondary/5 border-primary/10 flex items-center justify-between border-b bg-gradient-to-r px-4 py-3",r&&"drag-handle cursor-move"),children:p||c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-primary flex-1 text-xs font-bold tracking-widest uppercase",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[m,d&&c.jsx("button",{onClick:E=>{E.stopPropagation(),d()},className:"hover:bg-primary/20 cursor-pointer touch-manipulation rounded p-2 transition-colors","aria-label":u?"Minimize panel":"Maximize panel",title:u?"Minimize panel":"Maximize panel",children:u?c.jsx(Pj,{className:"h-4 w-4"}):c.jsx(Oj,{className:"h-4 w-4"})}),s&&c.jsx("button",{onClick:E=>{E.stopPropagation(),i?.()},className:"hover:bg-destructive/20 cursor-pointer touch-manipulation rounded p-2 transition-colors","aria-label":"Close panel",children:c.jsx(mo,{className:"h-4 w-4"})})]})]})}),a&&c.jsx("div",{className:"border-border bg-muted/30 border-b px-4 py-2",children:c.jsx("span",{className:"text-muted-foreground font-mono text-xs",children:a})})]}),c.jsx("div",{className:"min-h-0 flex-1 overflow-auto",onMouseDown:E=>r&&E.stopPropagation(),onPointerDown:E=>r&&E.stopPropagation(),children:y})]}));Rm.displayName="Panel";function oz({onRecordingComplete:t}={}){const[a,r]=h.useState([]),[s,i]=h.useState(""),[u,d]=h.useState(!1),[m,p]=h.useState(0),[g,x]=h.useState(0),[y,C]=h.useState(new Array(32).fill(0)),[T,E]=h.useState(!1),b=h.useRef(null),S=h.useRef(null),w=h.useRef(null),j=h.useRef(null),R=h.useRef(null),A=h.useRef(null),_=h.useRef([]),k=h.useRef(0),D=h.useRef([]),M=h.useRef(0),z=h.useCallback(H=>H.includes("BlackHole")?0:H.includes("Microphone")?1:H.includes("Speakers")?2:H.includes("Multi-Output")?3:0,[]);h.useEffect(()=>{const H=async()=>{try{const U=await navigator.mediaDevices.getUserMedia({audio:!0}),ce=(await navigator.mediaDevices.enumerateDevices()).filter(P=>P.kind==="audioinput").map(P=>({deviceId:P.deviceId,label:P.label||`Audio Input ${P.deviceId.slice(0,5)}`,kind:P.kind}));U.getTracks().forEach(P=>P.stop()),r(ce),D.current=ce,ce.length>0&&!s&&i(ce[0].deviceId),console.log("Audio input devices detected:",ce)}catch(U){console.error("Failed to enumerate audio devices:",U),de.error("Failed to access audio devices. Grant microphone permission.")}};return H(),navigator.mediaDevices.addEventListener("devicechange",H),()=>{navigator.mediaDevices.removeEventListener("devicechange",H)}},[]);const I=h.useCallback(()=>{if(!w.current)return;const H=new Uint8Array(w.current.frequencyBinCount);w.current.getByteTimeDomainData(H);let U=0;for(let ue=0;ue<H.length;ue++){const me=(H[ue]-128)/128;U+=me*me}const G=Math.sqrt(U/H.length),ce=20*Math.log10(G+1e-4);p(Math.max(-60,Math.min(0,ce)));const P=new Uint8Array(w.current.frequencyBinCount);w.current.getByteFrequencyData(P);const Y=32,Q=[],re=Math.floor(P.length/Y);for(let ue=0;ue<Y;ue++){let me=0;for(let W=0;W<re;W++)me+=P[ue*re+W];Q.push(me/re/255)}C(Q),R.current=requestAnimationFrame(I)},[]),$=h.useCallback(async H=>{try{S.current&&S.current.getTracks().forEach(Q=>Q.stop()),(!b.current||b.current.state==="closed")&&(b.current=new AudioContext),b.current.state==="suspended"&&await b.current.resume();const U=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:H},echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}});S.current=U,console.log(" Media stream acquired, tracks:",U.getTracks().map(Q=>({kind:Q.kind,label:Q.label,enabled:Q.enabled,muted:Q.muted,readyState:Q.readyState,settings:Q.getSettings()})));const G=b.current.createAnalyser();G.fftSize=2048,G.smoothingTimeConstant=.8,w.current=G;const ce=b.current.createGain(),P=Math.pow(10,M.current/20);ce.gain.value=P,j.current=ce,b.current.createMediaStreamSource(U).connect(ce),ce.connect(G),I(),console.log(" Audio input started:",H),console.log("   Audio context state:",b.current.state),console.log("   Sample rate:",b.current.sampleRate)}catch(U){console.error("Failed to start audio input:",U),de.error("Failed to start audio input")}},[I]),V=h.useCallback(()=>{R.current&&(cancelAnimationFrame(R.current),R.current=null),S.current&&(S.current.getTracks().forEach(H=>H.stop()),S.current=null),b.current&&b.current.state!=="closed"&&(b.current.close(),b.current=null),w.current=null,j.current=null,p(0),C(new Array(32).fill(0)),console.log(" Audio input stopped")},[]),q=h.useCallback(async H=>{try{const U=D.current.find(P=>P.deviceId===H)?.label||"",G=z(U),ce=Math.pow(10,M.current/20);await ge.audio.setInputDevice({device_index:G,amp:ce}),console.log(` SuperCollider input set to device ${G} (${U})`)}catch(U){console.warn("SuperCollider input not available:",U)}},[z]),X=h.useCallback(async()=>{try{await ge.audio.stopInput(),console.log(" SuperCollider input stopped")}catch(H){console.warn("Failed to stop SuperCollider input:",H)}},[]),ae=h.useCallback(H=>{if(x(H),M.current=H,j.current){const U=Math.pow(10,H/20);j.current.gain.value=U}if(u&&s){const U=Math.pow(10,H/20);ge.audio.setInputGain({amp:U}).catch(G=>{console.warn("Failed to update SuperCollider gain:",G)})}},[u,s]),L=h.useCallback(async()=>{if(T)A.current&&A.current.state==="recording"&&A.current.stop();else try{let H=S.current;if(!H){const G=s||D.current[0]?.deviceId;if(!G){de.error("No audio input device available");return}H=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:G}}}),S.current=H,console.log(" Created media stream for recording")}const U=new MediaRecorder(H,{mimeType:"audio/webm;codecs=opus"});_.current=[],k.current=Date.now(),U.ondataavailable=G=>{G.data.size>0&&_.current.push(G.data)},U.onstop=async()=>{const G=new Blob(_.current,{type:"audio/webm"}),ce=(Date.now()-k.current)/1e3,P=new File([G],`recording-${Date.now()}.webm`,{type:"audio/webm"});E(!1),t&&await t(P,ce)},U.start(),A.current=U,E(!0),console.log(" Recording started")}catch(H){console.error("Failed to start recording:",H),de.error("Failed to start recording")}},[T,t,s]);return h.useEffect(()=>{if(u&&s)return console.log(" Starting monitoring for device:",s),$(s),q(s),()=>{console.log(" Cleanup: stopping monitoring"),V(),X()};u||(console.log(" Monitoring disabled, stopping audio"),V(),X())},[u,s]),{audioInputDevices:a,selectedInputDevice:s,isMonitoring:u,inputLevel:m,gain:g,spectrumData:y,isRecording:T,setSelectedInputDevice:i,setIsMonitoring:d,handleGainChange:ae,handleStartRecording:L}}const Ht=h.forwardRef(({title:t,headerActions:a,showHeader:r=!0,collapsible:s=!1,defaultCollapsed:i=!1,contentOverflow:u="auto",className:d,children:m,...p},g)=>{const[x,y]=h.useState(i);return c.jsxs("div",{ref:g,className:ve("bg-card/20 border-primary/5 flex flex-1 flex-col overflow-hidden border min-h-0",d),...p,children:[r&&(t||a||s)&&c.jsxs("div",{className:"border-primary/5 bg-card/10 flex items-center justify-between border-b px-3 py-2",children:[t&&c.jsx("h3",{className:"text-muted-foreground text-xs font-semibold uppercase tracking-wider",children:t}),c.jsxs("div",{className:"flex items-center gap-2",children:[a,s&&c.jsx(Le,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:()=>y(!x),title:x?"Expand":"Collapse",children:x?c.jsx(ys,{className:"h-3 w-3"}):c.jsx(j0,{className:"h-3 w-3"})})]})]}),!x&&c.jsx("div",{className:ve("flex min-h-0 flex-1 flex-col",u==="auto"?"overflow-auto":"overflow-hidden"),children:m})]})});Ht.displayName="SubPanel";function Ar({...t}){return c.jsx(tO,{"data-slot":"select",...t})}function O1({...t}){return c.jsx(iO,{"data-slot":"select-group",...t})}function hs({...t}){return c.jsx(aO,{"data-slot":"select-value",...t})}function Or({className:t,size:a="default",children:r,...s}){return c.jsxs(nO,{"data-slot":"select-trigger","data-size":a,className:ve("border-border data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-primary focus-visible:ring-primary/50 bg-background hover:border-primary/50 flex w-fit items-center justify-between gap-2 rounded border px-2 py-1 text-xs whitespace-nowrap transition-all outline-none focus-visible:ring-2 disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-8 data-[size=sm]:h-7 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-3",t),...s,children:[r,c.jsx(rO,{asChild:!0,children:c.jsx(ys,{className:"size-3 opacity-50"})})]})}function kr({className:t,children:a,position:r="item-aligned",align:s="center",...i}){return c.jsx(oO,{children:c.jsxs(sO,{"data-slot":"select-content",className:ve("bg-card text-foreground border-border data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded border shadow-lg backdrop-blur-sm",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,align:s,...i,children:[c.jsx(sz,{}),c.jsx(lO,{className:ve("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),c.jsx(lz,{})]})})}function k1({className:t,...a}){return c.jsx(cO,{"data-slot":"select-label",className:ve("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function Jt({className:t,children:a,...r}){return c.jsxs(uO,{"data-slot":"select-item",className:ve("focus:bg-muted focus:text-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded py-1 pr-6 pl-2 text-xs outline-hidden transition-colors select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-3 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[c.jsx("span",{"data-slot":"select-item-indicator",className:"absolute right-1.5 flex size-3 items-center justify-center",children:c.jsx(fO,{children:c.jsx(N0,{className:"text-primary size-3"})})}),c.jsx(dO,{children:a})]})}function sz({className:t,...a}){return c.jsx(mO,{"data-slot":"select-scroll-up-button",className:ve("flex cursor-default items-center justify-center py-1",t),...a,children:c.jsx(j0,{className:"size-4"})})}function lz({className:t,...a}){return c.jsx(pO,{"data-slot":"select-scroll-down-button",className:ve("flex cursor-default items-center justify-center py-1",t),...a,children:c.jsx(ys,{className:"size-4"})})}function Ve({className:t,...a}){return c.jsx(OA,{"data-slot":"label",className:ve("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}function zr({className:t,defaultValue:a,value:r,min:s=0,max:i=100,...u}){const d=h.useMemo(()=>Array.isArray(r)?r:Array.isArray(a)?a:[s,i],[r,a,s,i]);return c.jsxs(kO,{"data-slot":"slider",defaultValue:a,value:r,min:s,max:i,className:ve("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...u,children:[c.jsx(zO,{"data-slot":"slider-track",className:ve("bg-border relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1"),children:c.jsx(LO,{"data-slot":"slider-range",className:ve("bg-primary absolute shadow-[0_0_8px_rgba(0,245,255,0.4)] data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(m,p)=>c.jsx(PO,{"data-slot":"slider-thumb",className:"border-primary bg-background block size-3 shrink-0 rounded-full border shadow-md transition-all hover:shadow-[0_0_12px_rgba(0,245,255,0.6)] focus-visible:shadow-[0_0_12px_rgba(0,245,255,0.6)] focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},p))]})}function Mm({checked:t=!1,onCheckedChange:a,disabled:r=!1,className:s=""}){const i=()=>{!r&&a&&a(!t)};return c.jsx("button",{type:"button",role:"switch","aria-checked":t,onClick:i,disabled:r,className:ve("focus-visible:ring-primary/50 relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",t?"bg-primary shadow-[0_0_10px_rgba(0,245,255,0.5)]":"bg-border",s),children:c.jsx("span",{className:ve("bg-background inline-block h-4 w-4 transform rounded-full shadow-md transition-transform",t?"translate-x-6":"translate-x-1")})})}function iz({audioInputDevices:t,selectedInputDevice:a,onDeviceChange:r,isMonitoring:s,onMonitoringChange:i,inputLevel:u,spectrumData:d,gain:m,onGainChange:p,isRecording:g,onStartRecording:x}){return c.jsxs(c.Fragment,{children:[c.jsx(Ht,{title:"Input Device",collapsible:!0,children:c.jsx("div",{className:"p-2",children:c.jsxs(Ar,{value:a,onValueChange:r,children:[c.jsx(Or,{className:"w-full",children:c.jsx(hs,{placeholder:t.length===0?"No input devices":"Select input device..."})}),c.jsx(kr,{children:t.map(y=>c.jsx(Jt,{value:y.deviceId,children:y.label},y.deviceId))})]})})}),c.jsx(Ht,{title:"Spectrum",collapsible:!0,children:c.jsx("div",{className:"p-2",children:c.jsx("div",{className:"flex h-16 items-end gap-0.5",children:d.map((y,C)=>c.jsx("div",{className:"flex-1 rounded-t transition-all duration-75",style:{height:`${y*100}%`,backgroundColor:y>.8?"hsl(0 85% 60%)":y>.5?"hsl(45 95% 60%)":"hsl(187 85% 55%)",boxShadow:y>.5?`0 0 8px ${y>.8?"rgba(239, 68, 68, 0.5)":"rgba(250, 204, 21, 0.5)"}`:"0 0 6px rgba(0, 245, 255, 0.3)",minHeight:"2px"}},C))})})}),c.jsx(Ht,{title:"Input Level",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-background border-border h-4 flex-1 overflow-hidden rounded border",children:c.jsx("div",{className:"h-full transition-all duration-75",style:{width:`${Math.max(0,Math.min(100,(u+60)/60*100))}%`,backgroundColor:u>-6?"hsl(0 85% 60%)":u>-12?"hsl(45 95% 60%)":"hsl(187 85% 55%)",boxShadow:u>-12?`0 0 10px ${u>-6?"rgba(239, 68, 68, 0.5)":"rgba(250, 204, 21, 0.5)"}`:"0 0 8px rgba(0, 245, 255, 0.3)"}})}),c.jsxs(Ve,{className:"w-14 text-right text-xs",children:[u.toFixed(1)," dB"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ve,{className:"w-10 text-xs",children:"Gain:"}),c.jsx(zr,{min:-20,max:20,step:.5,value:[m],onValueChange:y=>p(y[0]),className:"flex-1"}),c.jsxs(Ve,{className:"w-14 text-right text-xs",children:[m>0?"+":"",m.toFixed(1)," dB"]})]})]})}),c.jsx(Ht,{title:"Controls",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ve,{className:"text-xs",children:"MONITOR"}),c.jsx(Mm,{checked:s,onCheckedChange:i})]}),c.jsxs(Le,{onClick:x,variant:g?"destructive":"default",size:"sm",className:"w-full",children:[c.jsx("div",{className:`h-2 w-2 rounded-full ${g?"animate-pulse bg-white":"bg-red-500"}`}),g?"STOP":"REC"]})]})})]})}function cz({onRecordingComplete:t,onSwitchToLibrary:a}){const r=h.useCallback(async(E,b)=>{try{const S=`Recording ${new Date().toLocaleTimeString()}`;de.info("Saving recording...");const w=await ge.samples.upload(E,S,"Uncategorized");w.sample&&(await ge.samples.updateDuration(w.sample.id,b),de.success(`Recording saved: ${S}`),t&&t(w.sample.id)),a&&a()}catch(S){console.error("Failed to save recording:",S),de.error("Failed to save recording to server")}},[t,a]),{audioInputDevices:s,selectedInputDevice:i,isMonitoring:u,inputLevel:d,gain:m,spectrumData:p,isRecording:g,setSelectedInputDevice:x,setIsMonitoring:y,handleGainChange:C,handleStartRecording:T}=oz({onRecordingComplete:r});return c.jsx(iz,{audioInputDevices:s,selectedInputDevice:i,onDeviceChange:x,isMonitoring:u,onMonitoringChange:y,inputLevel:d,spectrumData:p,gain:m,onGainChange:C,isRecording:g,onStartRecording:T})}function uz({onSampleSelect:t}={}){const[a,r]=h.useState([]),[s,i]=h.useState(null),[u,d]=h.useState(!1),[m,p]=h.useState(null),[g,x]=h.useState(""),[y,C]=h.useState(""),[T,E]=h.useState(null),b=h.useRef(null),S=h.useRef(null),w=h.useCallback(async()=>{try{const z=await ge.samples.getAll();r(z.samples),console.log(` Loaded ${z.samples.length} samples`)}catch(z){console.error("Failed to load samples:",z),de.error("Failed to load samples")}},[]);h.useEffect(()=>{w()},[w]);const j=h.useCallback(async(z,I,$="Uncategorized")=>{d(!0);try{const V=await ge.samples.upload(z,I,$);if(V.sample){const q=`/api/samples/${V.sample.id}/download`,X=new Audio(q);X.addEventListener("loadedmetadata",async()=>{const ae=X.duration;await ge.samples.updateDuration(V.sample.id,ae),await w()})}de.success(`Sample "${I}" uploaded successfully`),await w()}catch(V){console.error("Failed to upload sample:",V),de.error("Failed to upload sample")}finally{d(!1)}},[w]),R=h.useCallback(z=>{i(z),t&&t(z)},[t]),A=h.useCallback(z=>{p(z.id),x(z.name),C(z.category)},[]),_=h.useCallback(async()=>{if(m)try{await ge.samples.update(m,{name:g,category:y}),de.success("Sample updated successfully"),p(null),await w()}catch(z){console.error("Failed to update sample:",z),de.error("Failed to update sample")}},[m,g,y,w]),k=h.useCallback(()=>{p(null),x(""),C("")},[]),D=h.useCallback(async z=>{try{await ge.samples.deleteSample(z),de.success("Sample deleted successfully"),await w(),s?.id===z&&i(null)}catch(I){console.error("Failed to delete sample:",I),de.error(I.message||"Failed to delete sample")}},[w,s]),M=h.useCallback(async z=>{try{S.current&&(S.current.stop(),S.current=null),b.current||(b.current=new AudioContext);const I=`/api/samples/${z}/download`,V=await(await fetch(I)).arrayBuffer(),q=await b.current.decodeAudioData(V),X=b.current.createBufferSource();X.buffer=q,X.connect(b.current.destination),X.onended=()=>{E(null),S.current=null},X.start(),S.current=X,E(z)}catch(I){console.error("Failed to play sample:",I),de.error("Failed to play sample"),E(null)}},[]);return{samples:a,selectedSample:s,isUploading:u,editingSampleId:m,editName:g,editCategory:y,playingSampleId:T,loadSamples:w,handleUploadSample:j,handleSelectSample:R,handleStartEdit:A,handleSaveEdit:_,handleCancelEdit:k,handleDeleteSample:D,handlePlaySample:M,setEditName:x,setEditCategory:C}}function ra({className:t,type:a,...r}){return c.jsx("input",{type:a,"data-slot":"input",className:ve("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground bg-background border-border h-8 w-full min-w-0 rounded border px-2 py-1 text-xs transition-all outline-none file:inline-flex file:h-6 file:border-0 file:bg-transparent file:text-xs file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50","focus-visible:border-primary focus-visible:ring-primary/50 focus-visible:ring-2","hover:border-primary/50",t),...r})}const Wx=["All","Uncategorized","Drums","Bass","Synth","Vocals","FX","Loops"];function dz({samples:t,searchQuery:a,onSearchChange:r,selectedCategory:s,onCategoryChange:i,isUploading:u,onFileUpload:d,editingSampleId:m,editName:p,editCategory:g,onEditNameChange:x,onEditCategoryChange:y,onStartEdit:C,onSaveEdit:T,onCancelEdit:E,onPlaySample:b,onDeleteSample:S,onSampleDragStart:w}){const j=t.filter(R=>{const A=s==="All"||R.category===s,_=R.name.toLowerCase().includes(a.toLowerCase());return A&&_});return c.jsxs(c.Fragment,{children:[c.jsx(Ht,{title:"Search",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(A0,{className:"text-muted-foreground absolute top-1/2 left-2 z-10 -translate-y-1/2",size:14}),c.jsx(ra,{type:"text",placeholder:"Search samples...",value:a,onChange:R=>r(R.target.value),className:"h-8 w-full pl-8 text-xs"})]}),c.jsxs(Le,{onClick:()=>document.getElementById("file-upload-input")?.click(),variant:"default",size:"sm",className:"w-full",disabled:u,children:[c.jsx(pT,{size:12}),u?"UPLOADING...":"UPLOAD FILES"]}),c.jsx("input",{id:"file-upload-input",type:"file",multiple:!0,accept:"audio/*",onChange:d,className:"hidden"})]})}),c.jsx(Ht,{title:"Categories",collapsible:!0,children:c.jsx("div",{className:"flex flex-wrap gap-1 p-2",children:Wx.map(R=>c.jsx(Le,{onClick:()=>i(R),variant:s===R?"default":"ghost",size:"xs",children:R},R))})}),c.jsx(Ht,{title:`Samples (${j.length})`,collapsible:!0,children:c.jsxs("div",{className:"divide-border divide-y",children:[j.length===0&&c.jsx("div",{className:"text-muted-foreground p-4 text-center text-xs",children:"No samples. Upload audio files to get started."}),j.map(R=>c.jsx("div",{className:"hover:bg-muted/50 group p-2 transition-colors",children:m===R.id?c.jsxs("div",{className:"space-y-2",children:[c.jsx(ra,{type:"text",value:p,onChange:A=>x(A.target.value),className:"w-full",placeholder:"Sample name"}),c.jsxs(Ar,{value:g,onValueChange:y,children:[c.jsx(Or,{className:"h-8 w-full text-xs",children:c.jsx(hs,{})}),c.jsx(kr,{children:Wx.filter(A=>A!=="All").map(A=>c.jsx(Jt,{value:A,children:A},A))})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Le,{onClick:T,variant:"default",size:"xs",className:"flex-1",children:"Save"}),c.jsx(Le,{onClick:E,variant:"ghost",size:"xs",className:"flex-1",children:"Cancel"})]})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(en,{size:14,className:"text-muted-foreground flex-shrink-0"}),c.jsxs("div",{className:"min-w-0 flex-1 cursor-move",draggable:!0,onDragStart:()=>w(R.id),children:[c.jsx("div",{className:"truncate text-xs",children:R.name}),c.jsxs("div",{className:"text-muted-foreground text-[10px]",children:[R.category," "," ",R.duration>0?`${R.duration.toFixed(1)}s`:"",R.duration>0?"  ":"",(R.size/1024/1024).toFixed(2)," MB"]})]}),c.jsxs("div",{className:"flex gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[c.jsx(Le,{onClick:()=>b(R.id),variant:"ghost",size:"icon-xs",title:"Play",children:c.jsx($c,{size:12,className:"text-muted-foreground"})}),c.jsx(Le,{onClick:()=>C(R),variant:"ghost",size:"icon-xs",title:"Edit",children:c.jsx(_0,{size:12,className:"text-muted-foreground"})}),c.jsx(Le,{onClick:()=>S(R.id),variant:"ghost",size:"icon-xs",title:"Delete",children:c.jsx(bs,{size:12,className:"text-red-500"})})]})]})},R.id))]})})]})}function fz({onSampleSelect:t}){const[a,r]=h.useState(""),[s,i]=h.useState("All"),{samples:u,isUploading:d,editingSampleId:m,editName:p,editCategory:g,handleUploadSample:x,handleStartEdit:y,handleSaveEdit:C,handleCancelEdit:T,handleDeleteSample:E,handlePlaySample:b,setEditName:S,setEditCategory:w}=uz({onSampleSelect:t}),j=h.useCallback(async A=>{const _=A.target.files;if(_){for(let k=0;k<_.length;k++){const D=_[k];if(!D.type.startsWith("audio/")){console.warn(`${D.name} is not an audio file`);continue}const M=D.name.replace(/\.[^/.]+$/,"");await x(D,M,"Uncategorized")}A.target.value=""}},[x]),R=h.useCallback(A=>{console.log("Drag sample:",A)},[]);return c.jsx(dz,{samples:u,searchQuery:a,onSearchChange:r,selectedCategory:s,onCategoryChange:i,isUploading:d,onFileUpload:j,editingSampleId:m,editName:p,editCategory:g,onEditNameChange:S,onEditCategoryChange:w,onStartEdit:y,onSaveEdit:C,onCancelEdit:T,onPlaySample:b,onDeleteSample:E,onSampleDragStart:R})}function mz(){const[t,a]=h.useState([]),[r,s]=h.useState(""),[i,u]=h.useState(!1),d=h.useCallback(async()=>{try{if(!navigator.requestMIDIAccess){console.warn("Web MIDI API not supported");return}const p=await navigator.requestMIDIAccess(),g=[];p.inputs.forEach(x=>{g.push({id:x.id,name:x.name||"Unknown MIDI Device",manufacturer:x.manufacturer||"Unknown",state:x.state})}),a(g),g.length>0&&!r&&s(g[0].id),console.log("MIDI input devices detected:",g)}catch(p){console.error("Failed to access MIDI devices:",p),de.error("Failed to access MIDI devices")}},[r]),m=h.useCallback(async p=>{try{if(!navigator.requestMIDIAccess)return;const g=await navigator.requestMIDIAccess(),x=Array.from(g.inputs.values()).find(y=>y.id===p);if(!x){console.warn("MIDI device not found:",p);return}x.onmidimessage=y=>{if(!y.data)return;const[C,T,E]=y.data;u(!0),setTimeout(()=>u(!1),100),console.log("MIDI:",{status:C.toString(16),note:T,velocity:E})},console.log(" MIDI listener setup for:",x.name)}catch(g){console.error("Failed to setup MIDI listener:",g)}},[]);return h.useEffect(()=>{d()},[d]),h.useEffect(()=>{r&&m(r)},[r,m]),{midiInputDevices:t,selectedMidiDevice:r,midiActivity:i,setSelectedMidiDevice:s,enumerateMidiDevices:d}}function pz({midiInputDevices:t,selectedMidiDevice:a,onDeviceChange:r,midiActivity:s,midiThruEnabled:i,onMidiThruChange:u,quantizeEnabled:d,onQuantizeChange:m}){return c.jsxs(c.Fragment,{children:[c.jsx(Ht,{title:"MIDI Device",collapsible:!0,children:c.jsx("div",{className:"space-y-2 p-2",children:c.jsxs(Ar,{value:a,onValueChange:r,children:[c.jsx(Or,{className:"h-8 w-full text-xs",children:c.jsx(hs,{placeholder:t.length===0?"No MIDI Devices":"Select MIDI device..."})}),c.jsx(kr,{children:t.length===0?c.jsx(Jt,{value:"none",children:"No MIDI Devices"}):t.map(p=>c.jsxs(Jt,{value:p.id,children:[p.name,p.manufacturer&&` (${p.manufacturer})`]},p.id))})]})})}),c.jsx(Ht,{title:"MIDI Activity",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx(Ve,{className:"text-xs",children:"Status:"}),c.jsx(Ve,{className:"text-xs",children:t.length>0?"Connected":"No Device"})]}),c.jsx("div",{className:"bg-background border-border flex h-8 items-center justify-center rounded border",children:s?c.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500"}):c.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-500"})})]})}),c.jsx(Ht,{title:"Settings",collapsible:!0,children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ve,{className:"text-xs",children:"Channel:"}),c.jsxs(Ar,{defaultValue:"all",children:[c.jsx(Or,{className:"flex-1",children:c.jsx(hs,{})}),c.jsxs(kr,{children:[c.jsx(Jt,{value:"all",children:"All Channels"}),Array.from({length:16},(p,g)=>c.jsxs(Jt,{value:String(g+1),children:["Channel ",g+1]},g+1))]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ve,{className:"text-xs",children:"Enable MIDI thru"}),c.jsx(Mm,{checked:i,onCheckedChange:u})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ve,{className:"text-xs",children:"Quantize input"}),c.jsx(Mm,{checked:d,onCheckedChange:m})]})]})})]})}function hz(){const[t,a]=h.useState(!0),[r,s]=h.useState(!1),{midiInputDevices:i,selectedMidiDevice:u,midiActivity:d,setSelectedMidiDevice:m}=mz();return c.jsx(pz,{midiInputDevices:i,selectedMidiDevice:u,onDeviceChange:m,midiActivity:d,midiThruEnabled:t,onMidiThruChange:a,quantizeEnabled:r,onQuantizeChange:s})}function gz(){const[t,a]=h.useState("audio"),r=()=>{a("library")},s=()=>{a("library")};return c.jsxs("div",{className:"flex h-full flex-1 flex-col overflow-hidden",children:[c.jsxs("div",{className:"border-border flex gap-1 border-b p-2",children:[c.jsxs(Le,{onClick:()=>a("audio"),variant:t==="audio"?"default":"ghost",size:"xs",children:[c.jsx(zj,{size:12}),"AUDIO IN"]}),c.jsxs(Le,{onClick:()=>a("midi"),variant:t==="midi"?"default":"ghost",size:"xs",children:[c.jsx(Ij,{size:12}),"MIDI IN"]}),c.jsxs(Le,{onClick:()=>a("library"),variant:t==="library"?"default":"ghost",size:"xs",children:[c.jsx(wj,{size:12}),"LIBRARY"]})]}),c.jsxs("div",{className:"flex-1 space-y-2 overflow-auto p-2",children:[t==="audio"&&c.jsx(cz,{onRecordingComplete:r,onSwitchToLibrary:s}),t==="library"&&c.jsx(fz,{}),t==="midi"&&c.jsx(hz,{})]})]})}function z1({data:t,rightData:a,width:r,height:s,color:i="rgba(6, 182, 212, 1)",rightColor:u="rgba(192, 132, 252, 1)",backgroundColor:d="hsl(220 15% 6%)",showGrid:m=!1,gridColor:p="hsl(220 15% 15%)",glowEffect:g=!1,className:x=""}){const y=h.useRef(null);h.useEffect(()=>{const T=y.current;if(!T||t.length===0)return;const E=T.getContext("2d");if(!E)return;const b=T.getBoundingClientRect(),S=r||b.width,w=s||b.height;if(T.width=S*window.devicePixelRatio,T.height=w*window.devicePixelRatio,E.scale(window.devicePixelRatio,window.devicePixelRatio),E.fillStyle=d,E.fillRect(0,0,S,w),m){E.strokeStyle=p,E.lineWidth=1;for(let _=0;_<=4;_++){const k=w/4*_;E.beginPath(),E.moveTo(0,k),E.lineTo(S,k),E.stroke()}if(a)for(let _=0;_<=8;_++){const k=S/8*_;E.beginPath(),E.moveTo(k,0),E.lineTo(k,w),E.stroke()}}const j=w/2,R=.85;if(a&&a.length>0){E.fillStyle=i,g&&(E.shadowBlur=10,E.shadowColor=i);const _=w/4;E.beginPath(),E.moveTo(0,_),t.forEach((D,M)=>{const z=M/t.length*S,I=_-D*_*R;E.lineTo(z,I)}),E.lineTo(S,_),E.closePath(),E.fill(),E.beginPath(),E.moveTo(0,_),t.forEach((D,M)=>{const z=M/t.length*S,I=_+D*_*R;E.lineTo(z,I)}),E.lineTo(S,_),E.closePath(),E.fill(),E.fillStyle=u,g&&(E.shadowColor=u);const k=w*3/4;E.beginPath(),E.moveTo(0,k),a.forEach((D,M)=>{const z=M/a.length*S,I=k-D*(w/4)*R;E.lineTo(z,I)}),E.lineTo(S,k),E.closePath(),E.fill(),E.beginPath(),E.moveTo(0,k),a.forEach((D,M)=>{const z=M/a.length*S,I=k+D*(w/4)*R;E.lineTo(z,I)}),E.lineTo(S,k),E.closePath(),E.fill()}else E.fillStyle=i,g&&(E.shadowBlur=10,E.shadowColor=i),E.beginPath(),E.moveTo(0,j),t.forEach((_,k)=>{const D=k/t.length*S,M=j-_*j*R;E.lineTo(D,M)}),E.lineTo(S,j),E.closePath(),E.fill(),E.beginPath(),E.moveTo(0,j),t.forEach((_,k)=>{const D=k/t.length*S,M=j+_*j*R;E.lineTo(D,M)}),E.lineTo(S,j),E.closePath(),E.fill()},[t,a,r,s,i,u,d,m,p,g]);const C=r&&s?{width:`${r}px`,height:`${s}px`}:{width:"100%",height:"100%"};return c.jsx("canvas",{ref:y,className:x,style:C})}const Xa={primary:"hsl(187 85% 55%)",secondary:"hsl(280 85% 65%)",accent:"hsl(45 95% 60%)",background:"hsl(220 15% 6%)",border:"hsl(220 15% 15%)"};function vz(){const t=ne(u=>u.spectrum),a=ne(u=>u.waveform),r=h.useRef(null),[s,i]=h.useState({peakFrequency:0,peakLeft:0,peakRight:0,rmsLeft:0,rmsRight:0,spectralCentroid:0,isClipping:!1});return h.useMemo(()=>{if(!t||t.length===0||!a||a.samples_left.length===0)return;let u=0,d=0;t.forEach((S,w)=>{S>u&&(u=S,d=w)});const m=d/t.length*24e3;let p=0,g=0;t.forEach((S,w)=>{const j=w/t.length*24e3;p+=j*S,g+=S});const x=g>0?p/g:0,y=Math.max(...a.samples_left.map(Math.abs)),C=Math.max(...a.samples_right.map(Math.abs)),T=Math.sqrt(a.samples_left.reduce((S,w)=>S+w*w,0)/a.samples_left.length),E=Math.sqrt(a.samples_right.reduce((S,w)=>S+w*w,0)/a.samples_right.length),b=y>.95||C>.95;i({peakFrequency:m,peakLeft:y,peakRight:C,rmsLeft:T,rmsRight:E,spectralCentroid:x,isClipping:b})},[t,a]),h.useEffect(()=>{const u=r.current;if(!u||t.length===0)return;const d=u.getContext("2d");if(!d)return;const m=u.getBoundingClientRect();u.width=m.width*window.devicePixelRatio,u.height=m.height*window.devicePixelRatio,d.scale(window.devicePixelRatio,window.devicePixelRatio);const p=m.width,g=m.height,x=p/t.length;d.fillStyle=Xa.background,d.fillRect(0,0,p,g),d.strokeStyle=Xa.border,d.lineWidth=1;for(let C=0;C<4;C++){const T=g/4*C;d.beginPath(),d.moveTo(0,T),d.lineTo(p,T),d.stroke()}const y=d.createLinearGradient(0,g,0,0);y.addColorStop(0,Xa.primary),y.addColorStop(.5,Xa.secondary),y.addColorStop(1,Xa.accent),t.forEach((C,T)=>{const b=Math.max(0,Math.min(1,(C+96)/96))*g,S=T*x,w=g-b;d.fillStyle=y,d.fillRect(S,w,Math.max(1,x-1),b)})},[t]),c.jsxs("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:[c.jsx(Ht,{title:"WAVEFORM",className:"flex-1",collapsible:!0,children:c.jsxs("div",{className:"relative h-full w-full",children:[c.jsx(z1,{data:a?.samples_left||[],rightData:a?.samples_right||[],color:Xa.primary,rightColor:Xa.secondary,backgroundColor:Xa.background,gridColor:Xa.border,showGrid:!0,glowEffect:!0,className:"h-full w-full"}),c.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-2",children:[c.jsx(Iy,{className:"h-3 w-3 text-primary"}),c.jsx(Ve,{className:"text-xs text-primary",children:"L"})]}),c.jsxs("div",{className:"absolute bottom-2 left-2 flex items-center gap-2",children:[c.jsx(Iy,{className:"h-3 w-3 text-secondary"}),c.jsx(Ve,{className:"text-xs text-secondary",children:"R"})]}),s.isClipping&&c.jsx("div",{className:"absolute right-2 top-2",children:c.jsxs(Fn,{variant:"destructive",className:"animate-pulse",children:[c.jsx(O0,{className:"h-3 w-3"}),"CLIPPING"]})})]})}),c.jsx(Ht,{title:"SPECTRUM",className:"flex-1",collapsible:!0,children:c.jsxs("div",{className:"relative h-full w-full",children:[c.jsx("canvas",{ref:r,className:"h-full w-full"}),c.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-2",children:[c.jsx(aj,{className:"h-3 w-3 text-accent"}),c.jsx(Ve,{className:"text-xs text-muted-foreground",children:"FFT"})]})]})}),c.jsx(Ht,{title:"LOOP FEEDBACK",collapsible:!0,headerActions:c.jsx(Um,{className:"h-3 w-3 text-primary"}),children:c.jsxs("div",{className:"space-y-2 p-2",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ve,{className:"text-xs text-muted-foreground",children:"Peak Freq"}),c.jsxs(Fn,{variant:"default",className:"w-full justify-center",children:[s.peakFrequency.toFixed(1)," Hz"]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ve,{className:"text-xs text-muted-foreground",children:"Brightness"}),c.jsxs(Fn,{variant:"secondary",className:"w-full justify-center",children:[s.spectralCentroid.toFixed(0)," Hz"]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ve,{className:"text-xs text-muted-foreground",children:"Samples"}),c.jsx(Fn,{variant:"outline",className:"w-full justify-center",children:a?.samples_left.length||0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ve,{className:"text-xs text-primary",children:"Left Channel"}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Peak:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.peakLeft+1e-10)).toFixed(1)," dB"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"RMS:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.rmsLeft+1e-10)).toFixed(1)," dB"]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ve,{className:"text-xs text-secondary",children:"Right Channel"}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Peak:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.peakRight+1e-10)).toFixed(1)," dB"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"RMS:"}),c.jsxs("span",{className:"font-mono",children:[(20*Math.log10(s.rmsRight+1e-10)).toFixed(1)," dB"]})]})]})]})]})})]})}function yz(){const t=h.useRef(null),a=h.useRef(null),r=h.useRef(null),s=h.useRef(!1),i=h.useRef(null),u=h.useCallback(p=>{if(s.current){s.current=!1;return}const g=p.currentTarget.scrollLeft;i.current!==null&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{a.current&&a.current.scrollLeft!==g&&(s.current=!0,a.current.scrollLeft=g),r.current&&r.current.scrollLeft!==g&&(s.current=!0,r.current.scrollLeft=g),i.current=null})},[]),d=h.useCallback(p=>{if(s.current){s.current=!1;return}const g=p.currentTarget.scrollLeft;i.current!==null&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{t.current&&t.current.scrollLeft!==g&&(s.current=!0,t.current.scrollLeft=g),i.current=null})},[]),m=h.useCallback(p=>{if(s.current){s.current=!1;return}const g=p.currentTarget.scrollLeft;i.current!==null&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{t.current&&t.current.scrollLeft!==g&&(s.current=!0,t.current.scrollLeft=g),i.current=null})},[]);return h.useEffect(()=>()=>{i.current!==null&&cancelAnimationFrame(i.current)},[]),{timelineScrollRef:t,pianoRollScrollRef:a,sampleEditorScrollRef:r,handleTimelineScroll:u,handlePianoRollScroll:d,handleSampleEditorScroll:m}}function xz({isOpen:t,onClose:a,onSelectSample:r}){const[s,i]=h.useState([]),[u,d]=h.useState(""),[m,p]=h.useState(null),[g,x]=h.useState(null),[y,C]=h.useState(null);h.useEffect(()=>{t&&T()},[t]);const T=async()=>{try{const w=await ge.samples.getAll();i(w.samples)}catch(w){console.error("Failed to load samples:",w)}},E=s.filter(w=>w.name.toLowerCase().includes(u.toLowerCase())||w.category.toLowerCase().includes(u.toLowerCase())),b=w=>{if(g===w.id)y?.pause(),x(null);else{y&&y.pause();const j=new Audio(`/api/samples/${w.id}/download`);j.play(),j.onended=()=>x(null),C(j),x(w.id)}},S=()=>{m&&(r(m),a())};return t?c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:c.jsxs("div",{className:"bg-background border-border w-full max-w-2xl rounded-lg border shadow-lg",children:[c.jsxs("div",{className:"border-border flex items-center justify-between border-b p-4",children:[c.jsx(Ve,{className:"text-lg font-bold",children:"Select Sample"}),c.jsx(Le,{onClick:a,variant:"ghost",size:"icon-xs",children:c.jsx(mo,{size:16})})]}),c.jsx("div",{className:"border-border border-b p-4",children:c.jsxs("div",{className:"relative",children:[c.jsx(A0,{className:"text-muted-foreground absolute left-3 top-1/2 -translate-y-1/2",size:16}),c.jsx(ra,{value:u,onChange:w=>d(w.target.value),placeholder:"Search samples...",className:"pl-10"})]})}),c.jsx("div",{className:"max-h-96 overflow-y-auto p-4",children:E.length===0?c.jsx("div",{className:"text-muted-foreground py-8 text-center",children:c.jsx(Ve,{children:"No samples found"})}):c.jsx("div",{className:"space-y-2",children:E.map(w=>c.jsxs("div",{onClick:()=>p(w),className:ve("border-border hover:bg-muted/50 flex cursor-pointer items-center justify-between rounded border p-3 transition-colors",m?.id===w.id&&"bg-muted border-primary"),children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Ve,{className:"font-mono text-sm",children:w.name}),c.jsxs("div",{className:"text-muted-foreground mt-1 flex gap-3 text-xs",children:[c.jsx("span",{children:w.category}),c.jsx("span",{children:""}),c.jsxs("span",{children:[w.duration.toFixed(2),"s"]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[(w.size/1024).toFixed(1)," KB"]})]})]}),c.jsx(Le,{onClick:j=>{j.stopPropagation(),b(w)},variant:"ghost",size:"icon-xs",children:g===w.id?c.jsx(D0,{size:14}):c.jsx($c,{size:14})})]},w.id))})}),c.jsxs("div",{className:"border-border flex justify-end gap-2 border-t p-4",children:[c.jsx(Le,{onClick:a,variant:"outline",children:"Cancel"}),c.jsx(Le,{onClick:S,disabled:!m,children:"Select Sample"})]})]})}):null}function Mp({...t}){return c.jsx(hb,{"data-slot":"dialog",...t})}function bz({...t}){return c.jsx(gb,{"data-slot":"dialog-portal",...t})}function Sz({className:t,...a}){return c.jsx(vb,{"data-slot":"dialog-overlay",className:ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function Dp({className:t,children:a,showCloseButton:r=!0,...s}){return c.jsxs(bz,{"data-slot":"dialog-portal",children:[c.jsx(Sz,{}),c.jsxs(yb,{"data-slot":"dialog-content",className:ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...s,children:[a,r&&c.jsxs(Qc,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(mo,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function _p({className:t,...a}){return c.jsx("div",{"data-slot":"dialog-header",className:ve("flex flex-col gap-2 text-center sm:text-left",t),...a})}function wz({className:t,showCloseButton:a=!1,children:r,...s}){return c.jsxs("div",{"data-slot":"dialog-footer",className:ve("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s,children:[r,a&&c.jsx(Qc,{asChild:!0,children:c.jsx(Le,{variant:"outline",children:"Close"})})]})}function Ap({className:t,...a}){return c.jsx(xb,{"data-slot":"dialog-title",className:ve("text-lg leading-none font-semibold",t),...a})}function Op({className:t,...a}){return c.jsx(bb,{"data-slot":"dialog-description",className:ve("text-muted-foreground text-sm",t),...a})}function Cz({className:t,size:a="default",...r}){return c.jsx(IO,{"data-slot":"switch","data-size":a,className:ve("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-border focus-visible:ring-primary/50 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-2 disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6 data-[state=checked]:shadow-[0_0_10px_rgba(0,245,255,0.5)]",t),...r,children:c.jsx($O,{"data-slot":"switch-thumb",className:ve("bg-background pointer-events-none block rounded-full shadow-md ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Jf({className:t,orientation:a="horizontal",decorative:r=!0,...s}){return c.jsx(yO,{"data-slot":"separator",decorative:r,orientation:a,className:ve("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}function Ez({isOpen:t,onClose:a,composition:r,onSave:s}){const[i,u]=h.useState(""),[d,m]=h.useState("120"),[p,g]=h.useState("4/4"),[x,y]=h.useState(!1),[C,T]=h.useState("0"),[E,b]=h.useState("16");h.useEffect(()=>{r&&(u(r.name),m(r.tempo.toString()),g(r.time_signature),y(r.loop_enabled||!1),T((r.loop_start||0).toString()),b((r.loop_end||16).toString()))},[r]);const S=()=>{const j={name:i,tempo:parseFloat(d)||120,time_signature:p,loop_enabled:x,loop_start:parseFloat(C)||0,loop_end:parseFloat(E)||16};s(j),a()},w=j=>{if(!j)return"N/A";try{return new Date(j).toLocaleString()}catch{return"N/A"}};return c.jsx(Mp,{open:t,onOpenChange:a,children:c.jsxs(Dp,{className:"sm:max-w-[500px]",children:[c.jsxs(_p,{children:[c.jsx(Ap,{children:"Sequence Settings"}),c.jsx(Op,{children:"Configure settings for this sequence"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ve,{htmlFor:"seq-name",className:"text-right",children:"Name"}),c.jsx(ra,{id:"seq-name",value:i,onChange:j=>u(j.target.value),className:"col-span-3"})]}),c.jsx(Jf,{}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ve,{htmlFor:"seq-tempo",className:"text-right",children:"Tempo (BPM)"}),c.jsx(ra,{id:"seq-tempo",type:"number",min:"20",max:"999",value:d,onChange:j=>m(j.target.value),className:"col-span-3"})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ve,{htmlFor:"seq-time-sig",className:"text-right",children:"Time Signature"}),c.jsx(ra,{id:"seq-time-sig",value:p,onChange:j=>g(j.target.value),placeholder:"4/4",className:"col-span-3"})]}),c.jsx(Jf,{}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ve,{htmlFor:"seq-loop",className:"text-right",children:"Loop Enabled"}),c.jsx("div",{className:"col-span-3",children:c.jsx(Cz,{id:"seq-loop",checked:x,onCheckedChange:y})})]}),x&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ve,{htmlFor:"seq-loop-start",className:"text-right",children:"Loop Start (beats)"}),c.jsx(ra,{id:"seq-loop-start",type:"number",min:"0",value:C,onChange:j=>T(j.target.value),className:"col-span-3"})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(Ve,{htmlFor:"seq-loop-end",className:"text-right",children:"Loop End (beats)"}),c.jsx(ra,{id:"seq-loop-end",type:"number",min:"0",value:E,onChange:j=>b(j.target.value),className:"col-span-3"})]})]}),c.jsx(Jf,{}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4 text-sm text-muted-foreground",children:[c.jsx(Ve,{className:"text-right",children:"Created"}),c.jsx("div",{className:"col-span-3",children:w(r?.created_at)})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4 text-sm text-muted-foreground",children:[c.jsx(Ve,{className:"text-right",children:"Updated"}),c.jsx("div",{className:"col-span-3",children:w(r?.updated_at)})]})]}),c.jsxs(wz,{children:[c.jsx(Le,{variant:"outline",onClick:a,children:"Cancel"}),c.jsx(Le,{onClick:S,children:"Save Changes"})]})]})})}function Nz({isOpen:t,onClose:a,onSelectMIDI:r,onSelectSample:s}){return c.jsx(Mp,{open:t,onOpenChange:a,children:c.jsxs(Dp,{className:"sm:max-w-lg",children:[c.jsxs(_p,{children:[c.jsx(Ap,{children:"Add Track"}),c.jsx(Op,{children:"Choose the type of track you want to create"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[c.jsxs(Le,{onClick:r,variant:"outline",className:"h-32 flex flex-col gap-2 hover:bg-primary/10 hover:border-primary p-4",children:[c.jsx(en,{size:40,className:"text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-center flex flex-col gap-1",children:[c.jsx("div",{className:"font-semibold text-sm",children:"MIDI Track"}),c.jsx("div",{className:"text-xs text-muted-foreground leading-tight",children:"Synths & instruments"})]})]}),c.jsxs(Le,{onClick:s,variant:"outline",className:"h-32 flex flex-col gap-2 hover:bg-primary/10 hover:border-primary p-4",children:[c.jsx(gj,{size:40,className:"text-primary flex-shrink-0"}),c.jsxs("div",{className:"text-center flex flex-col gap-1",children:[c.jsx("div",{className:"font-semibold text-sm",children:"Sample Track"}),c.jsx("div",{className:"text-xs text-muted-foreground leading-tight",children:"Audio samples & loops"})]})]})]})]})})}function jz({onCreateSequence:t,onOpenSequenceManager:a}){return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px] gap-6 p-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-primary/20 blur-3xl rounded-full"}),c.jsx("div",{className:"relative bg-muted/50 p-8 rounded-full border-2 border-primary/20",children:c.jsx(en,{className:"w-16 h-16 text-primary/60"})})]}),c.jsxs("div",{className:"text-center space-y-2 max-w-md",children:[c.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"No Sequences Yet"}),c.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Create your first sequence to start composing. Sequences contain tracks, clips, and automation for your musical ideas."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(Le,{onClick:t,size:"lg",className:"gap-2",children:[c.jsx(xs,{className:"w-4 h-4"}),"Create Sequence"]}),c.jsxs(Le,{onClick:a,size:"lg",variant:"outline",className:"gap-2",children:[c.jsx(R0,{className:"w-4 h-4"}),"Manage Sequences"]})]}),c.jsx("div",{className:"text-xs text-muted-foreground/60 mt-4",children:"Tip: You can also create sequences from the toolbar above"})]})}function Tz({delayDuration:t=0,...a}){return c.jsx(ok,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function Rz({...t}){return c.jsx(sk,{"data-slot":"tooltip",...t})}function Mz({...t}){return c.jsx(lk,{"data-slot":"tooltip-trigger",...t})}function Dz({className:t,sideOffset:a=0,children:r,...s}){return c.jsx(ik,{children:c.jsxs(ck,{"data-slot":"tooltip-content",sideOffset:a,className:ve("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:[r,c.jsx(uk,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Yn=h.forwardRef(({icon:t,tooltip:a,iconSize:r="h-4 w-4",tooltipSide:s="top",disableTooltip:i=!1,className:u,variant:d="ghost",size:m="icon",...p},g)=>{const x=c.jsx(Le,{ref:g,variant:d,size:m,className:ve(u),"aria-label":a,...p,children:c.jsx(t,{className:r})});return i?x:c.jsxs(Rz,{children:[c.jsx(Mz,{asChild:!0,children:x}),c.jsx(Dz,{side:s,children:c.jsx("p",{children:a})})]})});Yn.displayName="IconButton";function _z({isPlaying:t,metronomeEnabled:a,tempo:r,hasTracksOrClips:s,onPlayPause:i,onStop:u,onRecord:d,onLoop:m,onMetronomeToggle:p,onTempoChange:g,onTempoBlur:x,onTempoKeyDown:y}){const T=ne(S=>S.isLooping),E=s,b=E?t?"Pause":"Play":"Add tracks and clips to play";return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Yn,{icon:rT,tooltip:"Stop and rewind to start",onClick:u,variant:"ghost",size:"icon-sm"}),c.jsx(Yn,{icon:t?D0:$c,tooltip:b,onClick:i,variant:t?"default":"ghost",size:"icon-sm",disabled:!E,className:ve(t&&"bg-primary")}),c.jsx(Le,{onClick:d,variant:"ghost",size:"icon-sm",className:ve(!1),title:"Record audio input",children:c.jsx(fj,{size:16,fill:"none"})}),c.jsx(Yn,{icon:Vj,tooltip:T?"Loop enabled":"Loop disabled",onClick:m,variant:T?"secondary":"ghost",size:"icon-sm"}),c.jsx(Yn,{icon:en,tooltip:a?"Metronome enabled":"Metronome disabled",onClick:p,variant:a?"secondary":"ghost",size:"icon-sm"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ve,{htmlFor:"tempo",className:"text-xs text-muted-foreground",children:"BPM"}),c.jsx(ra,{id:"tempo",type:"number",min:"20",max:"300",value:r,onChange:S=>g(S.target.value),onBlur:x,onKeyDown:y,className:"w-16 h-7 text-sm"})]})]})}function Az({activeSequenceId:t,onAddTrack:a}){const r=ne(p=>p.zoom),s=ne(p=>p.snapEnabled),i=ne(p=>p.gridSize),u=ne(p=>p.setZoom),d=ne(p=>p.setSnapEnabled),m=ne(p=>p.setGridSize);return c.jsx("div",{className:"flex items-center justify-between gap-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Le,{onClick:a,size:"sm",variant:"default",disabled:!t,children:[c.jsx(xs,{size:14,className:"mr-1"}),"Track"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Yn,{icon:CT,tooltip:"Zoom out timeline",onClick:()=>u(Math.max(.25,r-.25)),variant:"ghost",size:"icon-sm",disabled:!t||r<=.25}),c.jsxs("span",{className:"text-xs text-muted-foreground w-12 text-center",children:[Math.round(r*100),"%"]}),c.jsx(Yn,{icon:ST,tooltip:"Zoom in timeline",onClick:()=>u(Math.min(4,r+.25)),variant:"ghost",size:"icon-sm",disabled:!t||r>=4})]}),c.jsx(Yn,{icon:jj,tooltip:s?"Snap to grid: ON":"Snap to grid: OFF",onClick:()=>d(!s),variant:s?"default":"ghost",size:"icon-sm",className:s?"bg-primary/20 text-primary":"",disabled:!t}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ve,{htmlFor:"grid-size-select",className:"text-xs text-muted-foreground",children:"Grid"}),c.jsxs(Ar,{value:i.toString(),onValueChange:p=>m(parseInt(p)),disabled:!t||!s,children:[c.jsx(Or,{id:"grid-size-select",className:"w-20 h-7 text-sm",children:c.jsx(hs,{})}),c.jsxs(kr,{children:[c.jsx(Jt,{value:"1",children:"1/1"}),c.jsx(Jt,{value:"2",children:"1/2"}),c.jsx(Jt,{value:"4",children:"1/4"}),c.jsx(Jt,{value:"8",children:"1/8"}),c.jsx(Jt,{value:"16",children:"1/16"}),c.jsx(Jt,{value:"32",children:"1/32"})]})]})]})]})})}function Oz({trackId:t,currentInstrument:a,onInstrumentChange:r,disabled:s=!1}){const[i,u]=h.useState([]),[d,m]=h.useState(!0);h.useEffect(()=>{(async()=>{try{m(!0);const T=await ge.sequencer.getSynthDefs();u(T)}catch(T){console.error("Failed to load SynthDefs:",T)}finally{m(!1)}})()},[]);const p=i.reduce((C,T)=>(C[T.category]||(C[T.category]=[]),C[T.category].push(T),C),{}),x=i.find(C=>C.name===a)?.display_name||a||"Instrument",y=C=>{r(t,C)};return d?c.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 text-xs text-muted-foreground",children:[c.jsx(en,{size:12}),c.jsx("span",{children:"Loading..."})]}):c.jsxs(Ar,{value:a||"",onValueChange:y,disabled:s,children:[c.jsx(Or,{className:"h-7 w-32 text-xs border-border/50 hover:border-border transition-colors min-w-0",children:c.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 w-full overflow-hidden",children:[c.jsx(en,{size:12,className:"text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"truncate text-xs",children:x})]})}),c.jsx(kr,{className:"max-h-80 z-[9999]",align:"start",position:"popper",sideOffset:4,children:Object.entries(p).map(([C,T])=>c.jsxs(O1,{children:[c.jsx(k1,{className:"text-xs font-semibold text-muted-foreground",children:C}),T.map(E=>c.jsx(Jt,{value:E.name,className:"text-xs",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:E.display_name}),c.jsx("span",{className:"text-[10px] text-muted-foreground",children:E.description})]})},E.name))]},C))})]})}const kz=vp("inline-flex items-center justify-center rounded font-bold uppercase tracking-wide transition-all disabled:pointer-events-none disabled:opacity-50 outline-none focus-visible:ring-2 focus-visible:ring-primary/50",{variants:{variant:{mute:"data-[active=true]:bg-yellow-500/20 data-[active=true]:text-yellow-500 data-[active=false]:bg-muted/50 data-[active=false]:text-muted-foreground data-[active=false]:hover:bg-muted",solo:"data-[active=true]:bg-blue-500/20 data-[active=true]:text-blue-500 data-[active=false]:bg-muted/50 data-[active=false]:text-muted-foreground data-[active=false]:hover:bg-muted",arm:"data-[active=true]:bg-red-500/20 data-[active=true]:text-red-500 data-[active=false]:bg-muted/50 data-[active=false]:text-muted-foreground data-[active=false]:hover:bg-muted"},size:{xs:"px-1.5 py-0.5 text-[9px]",sm:"px-2 py-1 text-[10px]",default:"px-3 py-1.5 text-xs"},bordered:{true:"border",false:""}},compoundVariants:[{variant:"mute",bordered:!0,className:"data-[active=true]:border-yellow-500/50 data-[active=false]:border-border data-[active=false]:hover:border-yellow-500/30"},{variant:"solo",bordered:!0,className:"data-[active=true]:border-blue-500/50 data-[active=false]:border-border data-[active=false]:hover:border-blue-500/30"},{variant:"arm",bordered:!0,className:"data-[active=true]:border-red-500/50 data-[active=false]:border-border data-[active=false]:hover:border-red-500/30"}],defaultVariants:{variant:"mute",size:"default",bordered:!1}}),rs=h.forwardRef(({active:t=!1,variant:a="mute",size:r="default",bordered:s=!1,className:i,children:u,...d},m)=>c.jsx("button",{ref:m,"data-slot":"track-button","data-active":t,"data-variant":a,"data-size":r,className:ve(kz({variant:a,size:r,bordered:s,className:i})),title:a==="mute"?t?"Unmute":"Mute":a==="solo"?t?"Unsolo":"Solo":t?"Disarm":"Arm for recording",...d,children:u}));rs.displayName="SequencerTrackButton";function zz({track:t,onToggleMute:a,onToggleSolo:r,onRename:s,onDelete:i,onUpdateTrack:u,isExpanded:d=!1,onToggleExpand:m}){const[p,g]=h.useState(!1),[x,y]=h.useState(t.name),C=()=>{y(t.name),g(!0)},T=()=>{x.trim()&&s&&s(t.id,x.trim()),g(!1)},E=()=>{y(t.name),g(!1)};return c.jsxs("div",{className:ve("relative flex flex-col border-b border-border hover:bg-muted/30 transition-all group",d?"h-32 px-3 py-2 gap-2":"h-16 px-2 py-1 gap-1"),style:{borderLeftColor:t.color,borderLeftWidth:"3px"},onContextMenu:b=>{b.preventDefault()},children:[c.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:c.jsxs(i1,{children:[c.jsx(c1,{asChild:!0,children:c.jsx("button",{className:"p-0.5 rounded hover:bg-muted transition-colors",children:c.jsx(yj,{size:12,className:"text-muted-foreground"})})}),c.jsxs(u1,{align:"end",className:"w-36 mr-2",children:[c.jsxs(os,{onClick:C,className:"text-xs py-1",children:[c.jsx(_0,{size:10,className:"mr-1.5"}),"Rename"]}),c.jsxs(os,{className:"text-xs py-1",children:[c.jsx(T0,{size:10,className:"mr-1.5"}),"Duplicate"]}),c.jsxs(os,{className:"text-xs py-1",children:[c.jsx(nT,{size:10,className:"mr-1.5"}),"Settings"]}),c.jsx(jm,{}),c.jsxs(os,{onClick:()=>i?.(t.id),className:"text-xs py-1 text-red-500 focus:text-red-500",children:[c.jsx(bs,{size:10,className:"mr-1.5"}),"Delete"]})]})]})}),!d&&c.jsxs("div",{className:"flex items-center gap-2 h-full",children:[c.jsx(Fn,{variant:t.type,rounded:"default",className:"px-1.5 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:t.type}),c.jsx("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>m?.(t.id),title:"Click to expand track controls",children:p?c.jsx("input",{type:"text",value:x,onChange:b=>y(b.target.value),onKeyDown:b=>{b.key==="Enter"&&T(),b.key==="Escape"&&E()},onClick:b=>b.stopPropagation(),autoFocus:!0,className:"w-full px-1.5 py-0.5 text-xs font-medium bg-background border border-primary rounded"}):c.jsx("div",{className:"text-sm font-medium truncate",children:t.name})}),c.jsx(rs,{variant:"mute",active:t.is_muted,onClick:()=>a(t.id),size:"xs",children:"M"}),c.jsx(rs,{variant:"solo",active:t.is_solo,onClick:()=>r(t.id),size:"xs",children:"S"})]}),d&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>m?.(t.id),className:"p-0.5 rounded hover:bg-muted transition-colors flex-shrink-0",title:"Minimize track header",children:c.jsx(ys,{size:14,className:"text-muted-foreground"})}),c.jsx(Fn,{variant:t.type,rounded:"default",className:"px-1.5 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:t.type}),c.jsx("div",{className:"flex-1 min-w-0",children:p?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("input",{type:"text",value:x,onChange:b=>y(b.target.value),onKeyDown:b=>{b.key==="Enter"&&T(),b.key==="Escape"&&E()},autoFocus:!0,className:"flex-1 px-1.5 py-0.5 text-sm font-medium bg-background border border-primary rounded"}),c.jsx(Yn,{icon:N0,onClick:T,size:"icon-xs",variant:"ghost",tooltip:"Save"}),c.jsx(Yn,{icon:mo,onClick:E,size:"icon-xs",variant:"ghost",tooltip:"Cancel"})]}):c.jsx("div",{className:"text-sm font-medium truncate",children:t.name})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[t.type==="midi"&&u&&c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(Oz,{trackId:t.id,currentInstrument:t.instrument,onInstrumentChange:(b,S)=>{u(b,{instrument:S})}})}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(rs,{variant:"mute",active:t.is_muted,onClick:()=>a(t.id),size:"sm",bordered:!0,children:"M"}),c.jsx(rs,{variant:"solo",active:t.is_solo,onClick:()=>r(t.id),size:"sm",bordered:!0,children:"S"}),c.jsx(rs,{variant:"arm",active:t.is_armed,disabled:!0,size:"sm",bordered:!0,children:"R"})]})]}),u&&c.jsxs("div",{className:"flex items-center gap-3 text-[10px]",children:[c.jsxs("div",{className:"flex items-center gap-1.5 flex-1",children:[c.jsx("span",{className:"text-muted-foreground w-7 flex-shrink-0",children:"Vol"}),c.jsx(zr,{value:[t.volume*100],onValueChange:b=>{u(t.id,{volume:b[0]/100})},min:0,max:200,step:1,className:"flex-1"}),c.jsxs("span",{className:"text-muted-foreground w-10 text-right flex-shrink-0 font-mono",children:[Math.round(t.volume*100),"%"]})]}),c.jsxs("div",{className:"flex items-center gap-1.5 flex-1",children:[c.jsx("span",{className:"text-muted-foreground w-7 flex-shrink-0",children:"Pan"}),c.jsx(zr,{value:[t.pan*100],onValueChange:b=>{u(t.id,{pan:b[0]/100})},min:-100,max:100,step:1,className:"flex-1"}),c.jsx("span",{className:"text-muted-foreground w-9 text-right flex-shrink-0 font-mono",children:t.pan===0?"C":t.pan>0?`R${Math.round(t.pan*100)}`:`L${Math.round(Math.abs(t.pan)*100)}`})]})]})]})]})}const Lz=zM,Pz=LM,L1=h.forwardRef(({className:t,...a},r)=>c.jsx(Ob,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:r}));L1.displayName=Ob.displayName;const P1=h.forwardRef(({className:t,...a},r)=>c.jsxs(Pz,{children:[c.jsx(L1,{}),c.jsx(kb,{ref:r,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));P1.displayName=kb.displayName;const U1=({className:t,...a})=>c.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",t),...a});U1.displayName="AlertDialogHeader";const B1=({className:t,...a})=>c.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});B1.displayName="AlertDialogFooter";const H1=h.forwardRef(({className:t,...a},r)=>c.jsx(Pb,{ref:r,className:ve("text-lg font-semibold",t),...a}));H1.displayName=Pb.displayName;const q1=h.forwardRef(({className:t,...a},r)=>c.jsx(Ub,{ref:r,className:ve("text-sm text-muted-foreground",t),...a}));q1.displayName=Ub.displayName;const I1=h.forwardRef(({className:t,...a},r)=>c.jsx(zb,{ref:r,className:ve(yp(),t),...a}));I1.displayName=zb.displayName;const $1=h.forwardRef(({className:t,...a},r)=>c.jsx(Lb,{ref:r,className:ve(yp({variant:"outline"}),"mt-2 sm:mt-0",t),...a}));$1.displayName=Lb.displayName;function Uz({tracks:t,onToggleMute:a,onToggleSolo:r,onDeleteTrack:s,onRenameTrack:i,onUpdateTrack:u,expandedTracks:d,onExpandedTracksChange:m}){const[p,g]=h.useState(!1),[x,y]=h.useState(null),[C,T]=h.useState(new Set),E=d??C,b=m??T,S=R=>{const A=t.find(_=>_.id===R);A&&(y({id:A.id,name:A.name}),g(!0))},w=()=>{x&&s&&s(x.id),g(!1),y(null)},j=R=>{if(typeof b=="function"){const A=E,_=new Set(A);_.has(R)?_.delete(R):_.add(R),b(_)}};return c.jsxs("div",{className:"flex flex-col",children:[t.length===0?c.jsx("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(k0,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"No tracks yet"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Add a track to start sequencing"})]})}):t.map(R=>c.jsx(zz,{track:R,onToggleMute:a,onToggleSolo:r,onRename:i,onDelete:s?S:void 0,onUpdateTrack:u,isExpanded:E.has(R.id),onToggleExpand:j},R.id)),c.jsx(Lz,{open:p,onOpenChange:g,children:c.jsxs(P1,{children:[c.jsxs(U1,{children:[c.jsx(H1,{children:"Delete Track"}),c.jsxs(q1,{children:['Are you sure you want to delete track "',x?.name,'"? This will also delete all clips on this track. This action cannot be undone.']})]}),c.jsxs(B1,{children:[c.jsx($1,{children:"Cancel"}),c.jsx(I1,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function Bz({rulerMarkers:t}){return c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:t.map((a,r)=>c.jsx("div",{className:a.isMeasure?"absolute top-0 bottom-0 w-px bg-border":"absolute top-0 bottom-0 w-px bg-border/20",style:{left:`${a.x}px`,transform:"translateX(-0.5px)"}},`${a.beat}-${r}`))})}function F1({pixelsPerBeat:t,onLoopStartChange:a,onLoopEndChange:r}){const s=ne(j=>j.isLooping),i=ne(j=>j.loopStart),u=ne(j=>j.loopEnd),d=ne(j=>j.zoom),m=ne(j=>j.snapEnabled),p=ne(j=>j.gridSize),[g,x]=h.useState(!1),[y,C]=h.useState(!1),T=h.useRef(0),E=h.useRef(0),b=i*t*d,S=u*t*d,w=(j,R)=>{R.stopPropagation(),R.preventDefault(),j==="start"?(x(!0),E.current=i):(C(!0),E.current=u),T.current=R.clientX};return h.useEffect(()=>{if(!g&&!y)return;const j=A=>{const k=(A.clientX-T.current)/(t*d);let D=E.current+k;g?(D=Math.max(0,Math.min(D,u-1)),a&&a(D)):(D=Math.max(i+1,D),r&&r(D))},R=A=>{const k=(A.clientX-T.current)/(t*d);let D=E.current+k;m&&(D=Math.round(D*p)/p),g?(D=Math.max(0,Math.min(D,u-1)),a&&a(D),x(!1)):(D=Math.max(i+1,D),r&&r(D),C(!1))};return document.addEventListener("mousemove",j),document.addEventListener("mouseup",R),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",R)}},[g,y,i,u,t,d,m,p,a,r]),s?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute top-0 bottom-0 bg-primary/10 border-l-2 border-r-2 border-primary/40 z-10 pointer-events-none",style:{left:`${b}px`,width:`${S-b}px`}}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-primary z-20 cursor-ew-resize",style:{left:`${b}px`},onMouseDown:j=>w("start",j),children:c.jsx("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-primary rounded-sm flex items-center justify-center hover:bg-primary/80 transition-colors cursor-ew-resize",title:"Drag to adjust loop start",children:c.jsx("span",{className:"text-[8px] text-primary-foreground font-bold",children:"L"})})}),c.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-primary z-20 cursor-ew-resize",style:{left:`${S}px`},onMouseDown:j=>w("end",j),children:c.jsx("div",{className:"absolute -top-2 -left-2 w-4 h-4 bg-primary rounded-sm flex items-center justify-center hover:bg-primary/80 transition-colors cursor-ew-resize",title:"Drag to adjust loop end",children:c.jsx("span",{className:"text-[8px] text-primary-foreground font-bold",children:"R"})})})]}):null}function Hz({pixelsPerBeat:t,onSeek:a}){const r=ne($=>$.transport),s=ne($=>$.activeComposition),i=r?.position_beats??0,u=r?.is_playing??!1,d=s?.tempo??120,m=ne($=>$.zoom),p=ne($=>$.snapEnabled),g=ne($=>$.gridSize),x=ne($=>$.isLooping),y=ne($=>$.loopEnd),[C,T]=h.useState(!1),[E,b]=h.useState(null),S=h.useRef(0),w=h.useRef(0),j=h.useRef(null),R=h.useRef(null),A=h.useRef(Date.now()),_=h.useRef(i),k=h.useRef(i),D=h.useRef(i);h.useEffect(()=>{const $=Date.now();Math.abs(i-D.current)>1&&(k.current=i),_.current=i,D.current=i,A.current=$},[i]),h.useEffect(()=>{if(!u||C){if(k.current=E??i,j.current){const V=k.current*t*m;j.current.style.transform=`translateX(${V}px)`}return}const $=()=>{const q=(Date.now()-A.current)/1e3,X=d/60;let ae=_.current+q*X;x&&ae>=y&&(ae=y-.01);const L=.3;if(k.current+=(ae-k.current)*L,j.current){const H=k.current*t*m;j.current.style.transform=`translateX(${H}px)`}R.current=requestAnimationFrame($)};return R.current=requestAnimationFrame($),()=>{R.current!==null&&cancelAnimationFrame(R.current)}},[u,C,d,t,m,i,E,x,y]);const z=(E!==null?E:i)*t*m,I=$=>{$.stopPropagation(),$.preventDefault(),T(!0),w.current=i,S.current=$.clientX};return h.useEffect(()=>{if(!C)return;const $=q=>{const ae=(q.clientX-S.current)/(t*m),L=w.current+ae;b(Math.max(0,L))},V=q=>{const ae=(q.clientX-S.current)/(t*m);let L=w.current+ae;p&&(L=Math.round(L*g)/g),L=Math.max(0,L),a&&a(L,!0),T(!1),b(null)};return document.addEventListener("mousemove",$),document.addEventListener("mouseup",V),()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",V)}},[C,i,t,m,p,g,a]),c.jsx("div",{ref:j,className:"absolute top-0 bottom-0 w-1 bg-red-500 z-50 cursor-ew-resize pointer-events-auto",style:{transform:`translateX(${z}px)`,boxShadow:"0 0 8px rgba(239, 68, 68, 0.8)",willChange:"transform"},onMouseDown:I,title:"Drag to scrub",children:c.jsx("div",{className:"absolute -top-3 -left-2.5 w-0 h-0 pointer-events-none",style:{borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"12px solid #ef4444"}})})}function qz({sampleId:t,clipDuration:a,tempo:r,samplesPerLoop:s=200}){const[i,u]=h.useState([]),[d,m]=h.useState([]),[p,g]=h.useState(!1),[x,y]=h.useState(null);return h.useEffect(()=>{if(!t){u([]),m([]),g(!1),y(null);return}let C=!1;return(async()=>{g(!0),y(null);try{const b=(await ge.samples.getById(t)).sample?.duration??0,S=Bm.getURL(`/api/samples/${t}/download`),w=await fetch(S);if(!w.ok)throw new Error(`Failed to fetch audio file: ${w.statusText}`);const j=await w.arrayBuffer(),R=new AudioContext,A=await R.decodeAudioData(j);if(await R.close(),C)return;const k=a/r*60/b,D=Math.max(1,Math.min(100,Math.ceil(k))),M=A.getChannelData(0);let z=[];if(k<1){const V=Math.floor(s*k),q=Math.floor(M.length/s);for(let X=0;X<V;X++){const ae=X*q,L=ae+q;let H=0;for(let U=ae;U<L;U++){const G=Math.abs(M[U]);G>H&&(H=G)}z.push(H)}}else{const V=Math.floor(M.length/s);for(let q=0;q<s;q++){const X=q*V,ae=X+V;let L=0;for(let H=X;H<ae;H++){const U=Math.abs(M[H]);U>L&&(L=U)}z.push(L)}}const I=[];if(k<1)I.push(...z);else for(let V=0;V<D;V++)I.push(...z);let $=[];if(A.numberOfChannels>1){const V=A.getChannelData(1);let q=[];if(k<1){const X=Math.floor(s*k),ae=Math.floor(V.length/s);for(let L=0;L<X;L++){const H=L*ae,U=H+ae;let G=0;for(let ce=H;ce<U;ce++){const P=Math.abs(V[ce]);P>G&&(G=P)}q.push(G)}}else{const X=Math.floor(V.length/s);for(let ae=0;ae<s;ae++){const L=ae*X,H=L+X;let U=0;for(let G=L;G<H;G++){const ce=Math.abs(V[G]);ce>U&&(U=ce)}q.push(U)}}if(k<1)$.push(...q);else for(let X=0;X<D;X++)$.push(...q)}C||(u(I),m($),g(!1))}catch(E){if(!C){const b=E instanceof Error?E.message:"Failed to load waveform";console.error("Failed to load waveform:",E),y(b),u([]),m([]),g(!1)}}})(),()=>{C=!0}},[t,a,r,s]),{leftData:i,rightData:d,isLoading:p,error:x}}function Iz({clip:t,trackColor:a="#3b82f6",isEditingInPianoRoll:r=!1,isEditingInSampleEditor:s=!1,pixelsPerBeat:i,isTrackExpanded:u=!1,onSelect:d,onDuplicate:m,onDelete:p,onMove:g,onResize:x,onUpdateClip:y,onOpenPianoRoll:C,onOpenSampleEditor:T,onClipDragStateChange:E}){const S=ne(W=>W.activeComposition)?.tempo??120,w=ne(W=>W.zoom),j=ne(W=>W.snapEnabled),R=ne(W=>W.gridSize),_=ne(W=>W.selectedClipId)===t.id,{leftData:k}=qz({sampleId:t.type==="audio"?t.audio_file_path??null:null,clipDuration:t.duration,tempo:S,samplesPerLoop:200}),[D,M]=h.useState(!1),[z,I]=h.useState(null),[$,V]=h.useState(0),[q,X]=h.useState(0),[ae,L]=h.useState(0),[H,U]=h.useState(0),[G,ce]=h.useState(null);h.useEffect(()=>{E&&E(t.id,G)},[G,t.id,E]),h.useEffect(()=>{if(G&&!D&&!z){const W=Math.abs(t.start_time-G.startTime)<.01,ye=Math.abs(t.duration-G.duration)<.01;W&&ye&&ce(null)}},[t.start_time,t.duration,G,D,z]);const P=G?.startTime??t.start_time,Y=G?.duration??t.duration,Q=P*i*w,re=Y*i*w,ue=(W,ye)=>{W.stopPropagation(),V(W.clientX),X(P),L(Y),ye==="move"?M(!0):ye==="resize-left"?I("left"):ye==="resize-right"&&I("right")};h.useEffect(()=>{if(!D&&!z)return;const W=fe=>{const pe=(fe.clientX-$)/(i*w);if(D){let be=Math.max(0,q+pe);j&&(be=Math.round(be*R)/R),ce({startTime:be,duration:Y})}else if(z==="left"){let be=Math.max(0,q+pe);j&&(be=Math.round(be*R)/R);const Ae=Math.max(.25,ae-(be-q));ce({startTime:be,duration:Ae})}else if(z==="right"){let be=Math.max(.25,ae+pe);j&&(be=Math.round(be*R)/R),ce({startTime:P,duration:be})}},ye=()=>{D&&g&&G?g(t.id,G.startTime):z==="left"&&x&&g&&G?(g(t.id,G.startTime),x(t.id,G.duration)):z==="right"&&x&&G&&x(t.id,G.duration),M(!1),I(null)};return window.addEventListener("mousemove",W),window.addEventListener("mouseup",ye),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",ye)}},[D,z,$,q,ae,i,w,j,R,t.id,P,Y,G,g,x]);const me=()=>{const W=Date.now();W-H<300?(d(null),t.type==="midi"&&C?C(t.id):t.type==="audio"&&T&&T(t.id),U(0)):(d(t.id),U(W))};return c.jsxs(c.Fragment,{children:[(D||z)&&j&&G&&c.jsx("div",{className:"absolute top-0 bottom-0 border-l-2 border-dashed border-teal-400/60 pointer-events-none z-10",style:{left:`${G.startTime*i*w}px`}}),c.jsxs("div",{className:ve("absolute top-1 bottom-1 rounded border-2 cursor-move overflow-hidden transition-all",r||s?"border-cyan-400 shadow-[0_0_20px_rgba(34,211,238,0.6)] ring-2 ring-cyan-400/50":_?"border-white shadow-lg":"border-white/40",D&&"opacity-70",z&&"opacity-70"),style:{left:`${Q}px`,width:`${re}px`,backgroundColor:r||s?`${a}60`:`${a}40`,borderColor:r||s?"#22d3ee":a},onClick:me,onMouseDown:W=>ue(W,"move"),children:[x&&c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 cursor-ew-resize hover:bg-white/20 z-20",onMouseDown:W=>ue(W,"resize-left")}),x&&c.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize hover:bg-white/20 z-20",onMouseDown:W=>ue(W,"resize-right")}),t.type==="audio"&&k.length>0&&c.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none",children:c.jsx(z1,{data:k,width:re,height:60,color:"rgba(255, 255, 255, 0.6)",backgroundColor:"transparent",showGrid:!1,glowEffect:!1,className:"w-full h-full"})}),u?c.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/40 backdrop-blur-sm border-t border-white/10 px-2 py-1 z-10 pointer-events-none",children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"text-xs font-medium text-white truncate flex-1",children:t.name}),t.type==="midi"&&t.midi_events&&c.jsxs("span",{className:"text-[10px] text-white/60 flex-shrink-0",children:[t.midi_events.length," notes"]})]})}):c.jsx("div",{className:"relative z-10 px-2 py-1 text-xs font-medium text-white truncate pointer-events-none",children:t.name}),_&&c.jsxs("div",{className:"absolute top-1 right-1 flex gap-1 z-20",children:[c.jsx(Le,{onClick:W=>{W.stopPropagation(),m(t.id)},size:"sm",variant:"ghost",className:"h-5 w-5 p-0 bg-background/80 hover:bg-background",children:c.jsx(T0,{size:10,className:"text-white"})}),c.jsx(Le,{onClick:W=>{W.stopPropagation(),p(t.id)},size:"sm",variant:"ghost",className:"h-5 w-5 p-0 bg-background/80 hover:bg-background",children:c.jsx(bs,{size:10,className:"text-white"})})]}),_&&re>100&&y&&t.type==="audio"&&c.jsxs("div",{className:"absolute bottom-8 left-2 right-2 flex items-center gap-1 z-20 bg-background/90 rounded px-2 py-1",onClick:W=>W.stopPropagation(),onMouseDown:W=>W.stopPropagation(),children:[c.jsx(Qj,{size:12,className:"text-white flex-shrink-0"}),c.jsx(zr,{value:[(t.audio_offset||0)*10],onValueChange:W=>{const ye=W[0]/10;y(t.id,{audio_offset:ye})},min:0,max:100,step:1,className:"flex-1"}),c.jsxs("span",{className:"text-[10px] text-white/80 w-10 text-right flex-shrink-0",children:[(t.audio_offset||0).toFixed(1),"s"]})]}),_&&re>100&&y&&c.jsxs("div",{className:"absolute bottom-1 left-2 right-2 flex items-center gap-1 z-20 bg-background/90 rounded px-2 py-1",onClick:W=>W.stopPropagation(),onMouseDown:W=>W.stopPropagation(),children:[c.jsx(k0,{size:12,className:"text-white flex-shrink-0"}),c.jsx(zr,{value:[t.gain*100],onValueChange:W=>{const ye=W[0]/100;y(t.id,{gain:ye})},min:0,max:200,step:1,className:"flex-1"}),c.jsxs("span",{className:"text-[10px] text-white/80 w-8 text-right flex-shrink-0",children:[Math.round(t.gain*100),"%"]})]})]})]})}function $z({track:t,clips:a,pixelsPerBeat:r,isExpanded:s=!1,onSelectClip:i,onDuplicateClip:u,onDeleteClip:d,onAddClipToTrack:m,onMoveClip:p,onResizeClip:g,onUpdateClip:x,onOpenPianoRoll:y,onOpenSampleEditor:C,onClipDragStateChange:T}){const E=ne(_=>_.zoom),b=ne(_=>_.snapEnabled),S=ne(_=>_.gridSize),w=ne(_=>_.pianoRollClipId),j=h.useRef(null),R=_=>{_.target===_.currentTarget&&(j.current={x:_.clientX,y:_.clientY,target:_.target})},A=_=>{if(!m||!j.current||j.current.target!==_.currentTarget)return;const k=Math.abs(_.clientX-j.current.x),D=Math.abs(_.clientY-j.current.y);if(k>5||D>5)return;j.current=null;const M=_.currentTarget.getBoundingClientRect(),I=(_.clientX-M.left)/(r*E),$=b?Math.round(I*S)/S:I;m(t.id,$)};return c.jsx("div",{className:ve("relative border-b border-border cursor-pointer hover:bg-muted/10 transition-all",s?"h-32":"h-16"),onMouseDown:R,onClick:A,title:"Click to add clip",children:a.filter(_=>_.track_id===t.id).map(_=>c.jsx(Iz,{clip:_,trackColor:t.color,isEditingInPianoRoll:w===_.id,isEditingInSampleEditor:!1,pixelsPerBeat:r,isTrackExpanded:s,onSelect:i,onDuplicate:u,onDelete:d,onMove:p,onResize:g,onUpdateClip:x,onOpenPianoRoll:y,onOpenSampleEditor:C,onClipDragStateChange:T},_.id))})}function Y1(){const t=ne(g=>g.clips),a=ne(g=>g.zoom),r=40,s=4,i=64,u=t.length>0?Math.max(...t.map(g=>g.start_time+g.duration)):0,d=Math.max(i,Math.ceil(u)+128),m=d*r*a+1e3,p=[];for(let g=0;g<=d;g++){const x=g*r*a,y=g%s===0,C=!0,T=Math.floor(g/s)+1;p.push({beat:g,x,isMeasure:y,isBeat:C,label:y?`${T}`:""})}return{pixelsPerBeat:r,beatsPerMeasure:s,totalBeats:d,totalWidth:m,rulerMarkers:p,zoom:a}}function Fz({expandedTracks:t,onSelectClip:a,onDuplicateClip:r,onDeleteClip:s,onAddClipToTrack:i,onMoveClip:u,onResizeClip:d,onUpdateClip:m,onOpenPianoRoll:p,onOpenSampleEditor:g,onLoopStartChange:x,onLoopEndChange:y,onSeek:C,onClipDragStateChange:T}){const E=ne(M=>M.tracks),b=ne(M=>M.clips),w=ne(M=>M.transport)?.position_beats??0,{pixelsPerBeat:j,totalWidth:R,rulerMarkers:A,zoom:_}=Y1(),k=h.useRef(null),D=w*j*_;return h.useEffect(()=>{if(!k.current)return;const M=k.current,z=M.clientWidth,I=M.scrollLeft,$=D-I,V=z*.8;if($>V){const q=D-z*.5;M.scrollTo({left:Math.max(0,q),behavior:"smooth"})}else $<0&&M.scrollTo({left:Math.max(0,D-z*.2),behavior:"smooth"})},[D]),c.jsx("div",{ref:k,className:"flex-shrink-0",style:{width:`${R}px`,minWidth:`${R}px`},children:E.length===0?c.jsx("div",{className:"flex items-center justify-center h-40 text-sm text-muted-foreground",children:"No tracks. Add a track to start sequencing."}):c.jsx("div",{className:"flex-shrink-0",style:{width:`${R}px`},children:c.jsxs("div",{className:"relative",style:{width:`${R}px`},children:[c.jsx(Bz,{rulerMarkers:A}),c.jsx(F1,{pixelsPerBeat:j,onLoopStartChange:x,onLoopEndChange:y}),E.map(M=>c.jsx($z,{track:M,clips:b,pixelsPerBeat:j,isExpanded:t?.has(M.id),onSelectClip:a,onDuplicateClip:r,onDeleteClip:s,onAddClipToTrack:i,onMoveClip:u,onResizeClip:d,onUpdateClip:m,onOpenPianoRoll:p,onOpenSampleEditor:g,onClipDragStateChange:T},M.id)),c.jsx(Hz,{pixelsPerBeat:j,onSeek:C})]})})})}function Yz({rulerMarkers:t,totalWidth:a,onSeek:r,pixelsPerBeat:s,zoom:i,snapEnabled:u,gridSize:d}){const m=p=>{if(!r)return;const g=p.currentTarget.getBoundingClientRect(),y=(p.clientX-g.left)/(s*i),C=u?Math.round(y*d)/d:y;r(Math.max(0,C),!0)};return c.jsx("div",{className:"h-8 border-b border-border bg-muted/30 flex-shrink-0 sticky top-0 z-20 cursor-pointer hover:bg-muted/50 transition-colors",onClick:m,title:"Click to seek",children:c.jsx("div",{className:"relative h-full pointer-events-none",style:{width:`${a}px`},children:t.map((p,g)=>c.jsx("div",{className:"absolute top-0 bottom-0 flex flex-col",style:{left:`${p.x}px`,transform:"translateX(-0.5px)"},children:p.isMeasure?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-muted-foreground px-1",children:p.label}),c.jsx("div",{className:"flex-1 w-px bg-border"})]}):c.jsx("div",{className:"flex-1 w-px bg-border/40 mt-4"})},`${p.beat}-${g}`))})})}function V1({cornerHeader:t,ruler:a,sidebar:r,mainContent:s,sidebarWidth:i=256,headerHeight:u=32,contentWidth:d,scrollRef:m,onScroll:p,rulerScrollDataAttr:g="data-ruler-scroll",sidebarScrollDataAttr:x="data-sidebar-scroll"}){const y=h.useRef(null),C=h.useRef(null),T=h.useRef(null),E=h.useCallback(b=>{const S=b.currentTarget.scrollTop,w=b.currentTarget.scrollLeft;T.current!==null&&cancelAnimationFrame(T.current),T.current=requestAnimationFrame(()=>{C.current&&C.current.scrollTop!==S&&(C.current.scrollTop=S),y.current&&y.current.scrollLeft!==w&&(y.current.scrollLeft=w),T.current=null}),p(b)},[p]);return h.useEffect(()=>()=>{T.current!==null&&cancelAnimationFrame(T.current)},[]),c.jsxs("div",{className:"flex-1 min-h-0",style:{display:"grid",gridTemplateColumns:`${i}px 1fr`,gridTemplateRows:`${u}px 1fr`},children:[c.jsx("div",{className:"border-r border-b border-border bg-muted/30 flex items-center px-3",children:t}),c.jsx("div",{ref:y,[g]:"",className:"border-b border-border overflow-x-auto overflow-y-hidden scrollbar-hide",style:{willChange:"scroll-position"},children:c.jsx("div",{style:{width:`${d}px`,minWidth:`${d}px`},children:a})}),c.jsx("div",{ref:C,[x]:"",className:"border-r border-border bg-background overflow-y-auto overflow-x-hidden scrollbar-hide",style:{willChange:"scroll-position"},children:r}),c.jsx("div",{ref:m,className:"overflow-auto",onScroll:E,style:{willChange:"scroll-position"},children:c.jsx("div",{style:{width:`${d}px`,minWidth:`${d}px`},children:s})})]})}function Vz(t){const{timelineScrollRef:a,onTimelineScroll:r,onToggleMute:s,onToggleSolo:i,onDeleteTrack:u,onRenameTrack:d,onUpdateTrack:m,onSelectClip:p,onDuplicateClip:g,onDeleteClip:x,onAddClipToTrack:y,onMoveClip:C,onResizeClip:T,onUpdateClip:E,onOpenPianoRoll:b,onOpenSampleEditor:S,onLoopStartChange:w,onLoopEndChange:j,onSeek:R,onClipDragStateChange:A}=t,_=ne(X=>X.tracks),k=ne(X=>X.zoom),D=ne(X=>X.snapEnabled),M=ne(X=>X.gridSize),[z,I]=h.useState(new Set),{totalWidth:$,rulerMarkers:V,pixelsPerBeat:q}=Y1();return c.jsx(V1,{cornerHeader:c.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Tracks"}),ruler:c.jsx(Yz,{rulerMarkers:V,totalWidth:$,onSeek:R,pixelsPerBeat:q,zoom:k,snapEnabled:D,gridSize:M}),sidebar:c.jsx(Uz,{tracks:_,onToggleMute:s,onToggleSolo:i,onDeleteTrack:u,onRenameTrack:d,onUpdateTrack:m,expandedTracks:z,onExpandedTracksChange:I}),mainContent:c.jsx(Fz,{expandedTracks:z,onSelectClip:p,onDuplicateClip:g,onDeleteClip:x,onAddClipToTrack:y,onMoveClip:C,onResizeClip:T,onUpdateClip:E,onOpenPianoRoll:b,onOpenSampleEditor:S,onLoopStartChange:w,onLoopEndChange:j,onSeek:R,onClipDragStateChange:A}),sidebarWidth:256,headerHeight:32,contentWidth:$,scrollRef:a,onScroll:r,rulerScrollDataAttr:"data-ruler-scroll",sidebarScrollDataAttr:"data-track-list"})}const Gz=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Xz({minPitch:t,maxPitch:a,noteHeight:r,instrument:s="sine"}){const[i,u]=h.useState(null),d=x=>{const y=Math.floor(x/12)-1;return`${Gz[x%12]}${y}`},m=x=>{const y=x%12;return[1,3,6,8,10].includes(y)},p=async x=>{u(x),setTimeout(()=>u(null),300);try{await ge.sequencer.previewNote({note:x,velocity:100,duration:.5,synthdef:s})}catch(y){console.error("Failed to preview note:",y)}},g=(a-t+1)*r;return c.jsx("div",{className:"w-32 flex-shrink-0 border-r border-border bg-gray-900 relative",children:c.jsx("div",{style:{height:`${g}px`,position:"relative"},children:Array.from({length:a-t+1},(x,y)=>{const C=a-y,T=m(C),E=d(C),b=i===C,S=C%12===0;return c.jsx("div",{className:ve("absolute left-0 right-0 select-none cursor-pointer transition-all border-b border-gray-700/50",T?b?"bg-gradient-to-r from-gray-600 to-gray-500 shadow-lg z-10":"bg-gradient-to-r from-gray-800 to-gray-700 hover:from-gray-700 hover:to-gray-600 z-10":b?"bg-gradient-to-r from-gray-200 to-gray-100 shadow-lg":"bg-gradient-to-r from-gray-100 to-white hover:from-gray-200 hover:to-gray-100"),style:{top:`${y*r}px`,height:`${r}px`,width:T?"70%":"100%",right:T?"0":"auto",borderRight:T?"none":"1px solid rgba(0,0,0,0.1)",boxShadow:T?"inset 0 -1px 2px rgba(0,0,0,0.5), 2px 2px 4px rgba(0,0,0,0.3)":"inset 0 -1px 1px rgba(0,0,0,0.1)"},onClick:()=>p(C),title:`Click to preview ${E}`,children:!T&&S&&c.jsx("span",{className:ve("absolute left-2 top-1/2 -translate-y-1/2 text-[10px] font-bold",b?"text-gray-800":"text-gray-500"),children:E})},C)})})})}function Kz({notes:t,selectedNotes:a,minPitch:r,maxPitch:s,clipStartTime:i,clipDuration:u,totalBeats:d,beatWidth:m,noteHeight:p,snapEnabled:g,gridSize:x,clipId:y,activeNotes:C,onAddNote:T,onMoveNote:E,onResizeNote:b,onDeleteNote:S,onSelectNote:w,onToggleSelectNote:j}){const R=h.useRef(null),[A,_]=h.useState(null),[k,D]=h.useState(null),[M,z]=h.useState(0),[I,$]=h.useState(0),[V,q]=h.useState(0),[X,ae]=h.useState(0),[L,H]=h.useState(0),[U,G]=h.useState(!1),ce=d*m,P=(s-r+1)*p,Y=i*m,Q=(i+u)*m,re=fe=>{const he=Math.floor(fe/p);return s-he},ue=fe=>fe/m,me=fe=>{if(A!==null||k!==null)return;const he=R.current?.getBoundingClientRect();if(!he)return;const pe=fe.clientX-he.left,be=fe.clientY-he.top;if(pe<Y||pe>=Q)return;const Ae=re(be),ut=ue(pe)-i,st=W(Ae,ut);st!==-1?S(st):T(Ae,ut)},W=(fe,he)=>{const pe=g?1/x*.5:.1;return t.findIndex(be=>{const Ae=be.start_time,Je=Ae+be.duration;return be.note===fe&&he>=Ae-pe&&he<=Je+pe})},ye=(fe,he,pe)=>{fe.stopPropagation();const be=t[he];z(fe.clientX),$(fe.clientY),q(be.start_time),ae(be.note),H(be.duration),G(!1),pe==="move"?(_(he),fe.shiftKey?j(he):w(he)):D(he)};return h.useEffect(()=>{if(A===null&&k===null)return;const fe=pe=>{if(!R.current?.getBoundingClientRect())return;const Ae=pe.clientX-M,Je=pe.clientY-I,ut=3;if((Math.abs(Ae)>ut||Math.abs(Je)>ut)&&G(!0),A!==null){const st=Ae/m,dt=-Math.round(Je/p),yn=Math.max(0,V+st),rt=Math.max(r,Math.min(s,X+dt));E(A,yn,rt)}else if(k!==null){const st=Ae/m,dt=Math.max(.0625,L+st);b(k,dt)}},he=()=>{!U&&A!==null&&k===null&&S(A),_(null),D(null),G(!1)};return document.addEventListener("mousemove",fe),document.addEventListener("mouseup",he),()=>{document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",he)}},[A,k,M,I,V,X,L,m,p,r,s,U,S,E,b]),h.useEffect(()=>{const fe=he=>{(he.key==="Delete"||he.key==="Backspace")&&a.forEach(pe=>S(pe))};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[a,S]),c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("div",{ref:R,className:"relative cursor-crosshair",style:{width:`${ce}px`,height:`${P}px`,backgroundImage:`
                        linear-gradient(to right, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                        linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px)
                    `,backgroundSize:`${m}px ${p}px`,backgroundColor:"#0a0a0a"},onClick:me,children:[c.jsx("div",{className:"absolute top-0 bottom-0 bg-cyan-500/5 border-l-2 border-r-2 border-cyan-500/30 pointer-events-none",style:{left:`${Y}px`,width:`${Q-Y}px`}}),t.map((fe,he)=>{const pe=(s-fe.note)*p,be=(i+fe.start_time)*m,Ae=fe.duration*m,Je=a.has(he),ut=C?.some(dt=>dt.clip_id===y&&dt.note===fe.note)??!1,st=.3+fe.velocity/127*.7;return c.jsxs("div",{className:ve("absolute rounded cursor-move transition-colors group",Je?"border-2 border-cyan-300 z-10":"border border-cyan-500 hover:border-cyan-300",ut&&"animate-pulse ring-2 ring-cyan-400 shadow-lg shadow-cyan-400/50"),style:{left:`${be}px`,top:`${pe}px`,width:`${Ae}px`,height:`${p}px`,backgroundColor:Je?`rgba(6, 182, 212, ${st})`:`rgba(8, 145, 178, ${st})`,boxShadow:ut?"0 0 20px rgba(6, 182, 212, 0.8)":void 0},onMouseDown:dt=>ye(dt,he,"move"),title:`Velocity: ${fe.velocity}`,children:[c.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-cyan-300/40",style:{height:`${fe.velocity/127*100}%`}}),c.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize hover:bg-white/20 z-10",onMouseDown:dt=>ye(dt,he,"resize")})]},he)})]})})}function Wz({totalBeats:t,currentPosition:a,isPlaying:r,zoom:s,pixelsPerBeat:i,totalWidth:u,snapEnabled:d,gridSize:m,onSeek:p}){const g=h.useRef(null),[x,y]=h.useState(!1),[C,T]=h.useState(null),E=h.useRef(0),b=h.useRef(0),S=4,w=i*s,j=[],R=Math.ceil(t)+1;for(let M=0;M<=R;M++){const z=M*w,I=M%S===0,$=Math.floor(M/S)+1;j.push({beat:M,x:z,isMeasure:I,label:I?`${$}`:""})}const _=(C!==null?C:a)*w;h.useEffect(()=>{if(!g.current||!r||x)return;let M;const z=()=>{g.current&&(g.current.style.transform=`translateX(${_}px)`),M=requestAnimationFrame(z)};return M=requestAnimationFrame(z),()=>{M&&cancelAnimationFrame(M)}},[r,_,x]);const k=M=>{if(!p||x)return;const z=M.currentTarget.getBoundingClientRect(),$=(M.clientX-z.left)/w,V=d?Math.round($*m)/m:$;p(Math.max(0,V),!0)},D=M=>{M.stopPropagation(),M.preventDefault(),y(!0),b.current=a,E.current=M.clientX};return h.useEffect(()=>{if(!x)return;const M=I=>{const V=(I.clientX-E.current)/w,q=b.current+V;T(Math.max(0,q))},z=I=>{const V=(I.clientX-E.current)/w;let q=b.current+V;d&&(q=Math.round(q*m)/m),q=Math.max(0,q),p&&p(q,!0),y(!1),T(null)};return document.addEventListener("mousemove",M),document.addEventListener("mouseup",z),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",z)}},[x,a,w,d,m,p]),c.jsxs("div",{className:"relative h-8 border-b border-border bg-muted/30 flex-shrink-0 cursor-pointer hover:bg-muted/50 transition-colors",onClick:k,title:"Click to seek",style:{width:u},children:[c.jsx("div",{className:"relative h-full pointer-events-none",children:j.map((M,z)=>c.jsx("div",{className:"absolute top-0 bottom-0 flex flex-col",style:{left:`${M.x}px`,transform:"translateX(-0.5px)"},children:M.isMeasure?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs text-muted-foreground px-1",children:M.label}),c.jsx("div",{className:"flex-1 w-px bg-border"})]}):c.jsx("div",{className:"flex-1 w-px bg-border/40 mt-4"})},`${M.beat}-${z}`))}),c.jsx("div",{ref:g,className:"absolute top-0 bottom-0 w-1 bg-red-500 z-50 cursor-ew-resize pointer-events-auto",style:{transform:`translateX(${_}px)`,boxShadow:"0 0 8px rgba(239, 68, 68, 0.8)",willChange:"transform"},onMouseDown:D,title:"Drag to scrub",children:c.jsx("div",{className:"absolute -top-3 -left-2.5 w-0 h-0 pointer-events-none",style:{borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"12px solid #ef4444"}})})]})}function Qz(t){const{notes:a,selectedNotes:r,minPitch:s,maxPitch:i,noteHeight:u,clipStartTime:d,clipDuration:m,totalBeats:p,beatWidth:g,instrument:x,clipId:y,activeNotes:C,currentPosition:T,isPlaying:E,pixelsPerBeat:b,pianoRollScrollRef:S,onPianoRollScroll:w,onAddNote:j,onMoveNote:R,onResizeNote:A,onUpdateVelocity:_,onDeleteNote:k,onSelectNote:D,onToggleSelectNote:M,onSeek:z,onLoopStartChange:I,onLoopEndChange:$}=t,V=ne(L=>L.snapEnabled),q=ne(L=>L.gridSize),X=ne(L=>L.zoom),ae=p*g+1e3;return c.jsx(V1,{cornerHeader:c.jsx("span",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Notes"}),ruler:c.jsx(Wz,{totalBeats:p,currentPosition:T,isPlaying:E,zoom:X,pixelsPerBeat:b,totalWidth:ae,snapEnabled:V,gridSize:q,onSeek:z}),sidebar:c.jsx(Xz,{minPitch:s,maxPitch:i,noteHeight:u,instrument:x}),mainContent:c.jsxs("div",{className:"relative",children:[c.jsx(Kz,{notes:a,selectedNotes:r,minPitch:s,maxPitch:i,clipStartTime:d,clipDuration:m,totalBeats:p,beatWidth:g,noteHeight:u,snapEnabled:V,gridSize:q,clipId:y,activeNotes:C,onAddNote:j,onMoveNote:R,onResizeNote:A,onUpdateVelocity:_,onDeleteNote:k,onSelectNote:D,onToggleSelectNote:M}),c.jsx(F1,{pixelsPerBeat:b,onLoopStartChange:I,onLoopEndChange:$})]}),sidebarWidth:256,headerHeight:32,contentWidth:ae,scrollRef:S,onScroll:w,rulerScrollDataAttr:"data-piano-ruler-scroll",sidebarScrollDataAttr:"data-piano-keyboard"})}const Zz=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Jz({clipId:t,clipName:a,clipDuration:r,clipStartTime:s,midiEvents:i,totalBeats:u,instrument:d,activeNotes:m,currentPosition:p,isPlaying:g,pianoRollScrollRef:x,onPianoRollScroll:y,onClose:C,onUpdateNotes:T,onSeek:E,onLoopStartChange:b,onLoopEndChange:S}){const w=ne(Y=>Y.snapEnabled),j=ne(Y=>Y.gridSize),R=ne(Y=>Y.zoom),[A,_]=h.useState(new Set),[k,D]=h.useState([]),M=21,z=108,I=40,$=I*R,V=20,q=Y=>{const Q=Math.floor(Y/12)-1;return`${Zz[Y%12]}${Q}`},X=async(Y,Q)=>{const re={note:Y,note_name:q(Y),start_time:w?Math.round(Q*j)/j:Q,duration:w?1/j:.25,velocity:100,channel:0};T(t,[...i,re]);try{await ge.sequencer.previewNote({note:Y,velocity:100,duration:.5,synthdef:d||"sine"})}catch(ue){console.error("Failed to preview note:",ue)}},ae=async(Y,Q,re)=>{const ue=[...i],me=ue[Y].note;if(ue[Y]={...ue[Y],note:re,note_name:q(re),start_time:w?Math.round(Q*j)/j:Q},T(t,ue),re!==me)try{await ge.sequencer.previewNote({note:re,velocity:ue[Y].velocity,duration:.5,synthdef:d||"sine"})}catch(W){console.error("Failed to preview note:",W)}},L=(Y,Q)=>{const re=[...i];re[Y]={...re[Y],duration:Math.max(.0625,w?Math.round(Q*j)/j:Q)},T(t,re)},H=(Y,Q)=>{const re=[...i];re[Y]={...re[Y],velocity:Math.max(1,Math.min(127,Math.round(Q)))},T(t,re)},U=Y=>{T(t,i.filter((Q,re)=>re!==Y)),_(new Set(Array.from(A).filter(Q=>Q!==Y)))},G=()=>{T(t,i.filter((Y,Q)=>!A.has(Q))),_(new Set)},ce=()=>{const Y=Array.from(A).map(Q=>i[Q]);D(Y)},P=()=>{if(k.length===0)return;const Q=0-Math.min(...k.map(ue=>ue.start_time)),re=k.map(ue=>({...ue,start_time:ue.start_time+Q}));T(t,[...i,...re])};return h.useEffect(()=>{const Y=Q=>{(Q.ctrlKey||Q.metaKey)&&Q.key==="c"&&A.size>0?(Q.preventDefault(),ce()):(Q.ctrlKey||Q.metaKey)&&Q.key==="v"&&k.length>0?(Q.preventDefault(),P()):(Q.key==="Delete"||Q.key==="Backspace")&&A.size>0&&(Q.preventDefault(),G())};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[A,k,i]),c.jsxs("div",{className:"flex flex-col h-full bg-background",children:[c.jsxs("div",{className:"border-b border-border bg-muted/20 flex items-center flex-shrink-0 relative",children:[c.jsx("div",{className:"w-64 px-3 py-2 border-r border-border flex-shrink-0 bg-background absolute left-0 top-0 bottom-0 z-10",children:c.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Piano Roll"})}),c.jsxs("div",{className:"flex-1 px-4 py-2 pl-[17rem] flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-semibold",children:a}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.length," ",i.length===1?"note":"notes"]}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" Bar ",Math.floor(s/4)+1,"  ",r," beats"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Le,{onClick:G,size:"sm",variant:"ghost",disabled:A.size===0,children:[c.jsx(bs,{size:14,className:"mr-1"}),"Delete (",A.size,")"]}),c.jsx(Yn,{icon:mo,tooltip:"Close Piano Roll",onClick:C,variant:"ghost",size:"icon-sm"})]})]})]}),c.jsx(Qz,{notes:i,selectedNotes:A,minPitch:M,maxPitch:z,noteHeight:V,clipStartTime:s,clipDuration:r,totalBeats:u,beatWidth:$,instrument:d,clipId:t,activeNotes:m,currentPosition:p,isPlaying:g,pixelsPerBeat:I,pianoRollScrollRef:x,onPianoRollScroll:y,onAddNote:X,onMoveNote:ae,onResizeNote:L,onUpdateVelocity:H,onDeleteNote:U,onSelectNote:Y=>_(new Set([Y])),onToggleSelectNote:Y=>{const Q=new Set(A);Q.has(Y)?Q.delete(Y):Q.add(Y),_(Q)},onSeek:E,onLoopStartChange:b,onLoopEndChange:S})]})}function e3(t){const{clip:a,track:r,clipDragState:s,totalBeats:i,currentPosition:u,isPlaying:d,pianoRollScrollRef:m,onPianoRollScroll:p,onClose:g,onUpdateNotes:x,onSeek:y,onLoopStartChange:C,onLoopEndChange:T}=t;if(!a)return c.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 text-center overflow-hidden min-h-0 min-w-0",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(en,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"No MIDI Clip Selected"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Double-click a MIDI clip in the timeline above to open it in the piano roll editor."})]})});if(a.type!=="midi")return c.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center p-8 text-center overflow-hidden min-h-0 min-w-0",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(en,{size:48,className:"mx-auto mb-4 opacity-20"}),c.jsx("div",{className:"text-base font-medium mb-1",children:"Audio Clip Selected"}),c.jsx("div",{className:"text-xs text-muted-foreground/70",children:"Piano roll only works with MIDI clips. The selected clip is an audio clip."})]})});const E=s?.startTime??a.start_time,b=s?.duration??a.duration,S=`${a.id}-${b}-${E}-${a.midi_events?.length||0}`;return c.jsx(Jz,{clipId:a.id,clipName:a.name,clipDuration:b,clipStartTime:E,midiEvents:a.midi_events||[],totalBeats:i,instrument:r?.instrument,activeNotes:t.activeNotes,currentPosition:u,isPlaying:d,pianoRollScrollRef:m,onPianoRollScroll:p,onClose:g,onUpdateNotes:x,onSeek:y,onLoopStartChange:C,onLoopEndChange:T},S)}function t3(t){const{pianoRollScrollRef:a,sampleEditorScrollRef:r,onPianoRollScroll:s,onSampleEditorScroll:i,onClosePianoRoll:u,onCloseSampleEditor:d,onUpdateMIDINotes:m,onUpdateClip:p,onSeek:g,timelineScrollRef:x,...y}=t,C=ne(U=>U.tracks),T=ne(U=>U.clips),E=ne(U=>U.transport),b=E?.position_beats??0,S=E?.is_playing??!1,w=ne(U=>U.pianoRollClipId),j=ne(U=>U.showPianoRoll),[R,A]=h.useState(()=>us.getSequencerSplitRatio()),[_,k]=h.useState(!1),[D,M]=h.useState(new Map),z=h.useCallback((U,G)=>{M(ce=>{const P=new Map(ce);return G===null?P.delete(U):P.set(U,G),P})},[]);h.useEffect(()=>{us.setSequencerSplitRatio(R)},[R]);const I=h.useCallback(U=>{U.preventDefault(),k(!0)},[]);h.useEffect(()=>{if(!_)return;const U=ce=>{const P=document.querySelector(".sequencer-split-container");if(!P)return;const Y=P.getBoundingClientRect(),re=(ce.clientY-Y.top)/Y.height*100,ue=Math.max(20,Math.min(80,re));A(ue)},G=()=>{k(!1)};return document.addEventListener("mousemove",U),document.addEventListener("mouseup",G),()=>{document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",G)}},[_]);const $=h.useCallback(()=>{A(50)},[]),V=T.find(U=>U.id===w),q=V?C.find(U=>U.id===V.track_id):void 0,X=w?D.get(w):null,ae=64,L=T.length>0?Math.max(...T.map(U=>U.start_time+U.duration)):0,H=Math.max(ae,Math.ceil(L)+128);return c.jsxs("div",{className:"flex-1 min-h-0 flex flex-col overflow-hidden sequencer-split-container",children:[c.jsx("div",{className:"min-h-0 flex relative overflow-hidden",style:{height:`${R}%`},children:c.jsx(Vz,{...y,timelineScrollRef:x,onUpdateClip:p,onSeek:g,onClipDragStateChange:z})}),c.jsx("div",{className:`h-1 border-t border-border bg-background hover:bg-accent cursor-row-resize flex items-center justify-center group ${_?"bg-accent":""}`,onMouseDown:I,onDoubleClick:$,title:"Drag to resize, double-click to reset",children:c.jsx("div",{className:"w-12 h-0.5 bg-border group-hover:bg-foreground/50 rounded-full"})}),c.jsx("div",{className:"min-h-0 overflow-hidden",style:{height:`${100-R}%`},children:c.jsx("div",{className:"h-full flex flex-col overflow-hidden",children:j&&c.jsx(e3,{clip:V,track:q,clipDragState:X,totalBeats:H,activeNotes:t.activeNotes,currentPosition:b,isPlaying:S??!1,timelineScrollRef:x,pianoRollScrollRef:a,onPianoRollScroll:s,onClose:u,onUpdateNotes:m,onSeek:g,onLoopStartChange:t.onLoopStartChange,onLoopEndChange:t.onLoopEndChange})})})]})}function n3(){const t=ne(ie=>ie.activeComposition),a=ne(ie=>ie.tracks),r=ne(ie=>ie.clips),s=ne(ie=>ie.transport),i=ne(ie=>ie.play),u=ne(ie=>ie.stop),d=ne(ie=>ie.pause),m=ne(ie=>ie.resume),p=ne(ie=>ie.setTempo),g=ne(ie=>ie.toggleMetronome),x=ne(ie=>ie.seek),y=ne(ie=>ie.setLoopStart),C=ne(ie=>ie.setLoopEnd),T=ne(ie=>ie.createTrack),E=ne(ie=>ie.deleteTrack),b=ne(ie=>ie.renameTrack),S=ne(ie=>ie.updateTrack),w=ne(ie=>ie.muteTrack),j=ne(ie=>ie.soloTrack),R=ne(ie=>ie.addClip),A=ne(ie=>ie.updateClip),_=ne(ie=>ie.deleteClip),k=ne(ie=>ie.duplicateClip),[D,M]=h.useState(t?.tempo?.toString()||"120"),[z,I]=h.useState(!1),[$,V]=h.useState(!1),[q,X]=h.useState(!1),[ae,L]=h.useState(!1),H=s?.active_notes??[],{timelineScrollRef:U,pianoRollScrollRef:G,sampleEditorScrollRef:ce,handleTimelineScroll:P,handlePianoRollScroll:Y,handleSampleEditorScroll:Q}=yz();h.useEffect(()=>{t&&M(t.tempo.toString())},[t?.tempo]);const re=s?.is_playing??!1,ue=t?.tempo??120,me=s?.metronome_enabled??!1,W=h.useCallback(async()=>{t&&(re?z?(await m(),I(!1)):(await d(),I(!0)):(await i(),I(!1)))},[re,z,t,i,d,m]),ye=h.useCallback(async()=>{await u(),I(!1)},[u]),fe=h.useCallback(()=>{de.info("Recording not yet implemented")},[]),he=h.useCallback(ie=>{M(ie)},[]),pe=h.useCallback(async()=>{const ie=parseFloat(D);!isNaN(ie)&&ie>=20&&ie<=300?await p(ie):M(ue.toString())},[D,ue,p]),be=h.useCallback(async ie=>{ie.key==="Enter"&&await pe()},[pe]),Ae=h.useCallback(()=>{V(!0)},[]),Je=h.useCallback(async()=>{if(!t)return;const ie=`Track ${a.length+1}`;await T(ie,"midi","sine"),V(!1)},[t,a.length,T]),ut=h.useCallback(()=>{t&&(V(!1),X(!0))},[t]),st=h.useCallback(ie=>{if(!t)return;const et=ie.name||`Track ${a.length+1}`;T(et,"audio"),X(!1)},[t,a.length,T]),dt=h.useCallback(async ie=>{const et=a.find(yt=>yt.id===ie);et&&await w(ie,!et.is_muted)},[a,w]),yn=h.useCallback(async ie=>{const et=a.find(yt=>yt.id===ie);et&&await j(ie,!et.is_solo)},[a,j]),rt=h.useCallback(async(ie,et)=>{await S(ie,et)},[S]),tt=h.useCallback(async(ie,et)=>{if(!t)return;const yt=a.find(Hr=>Hr.id===ie);if(!yt)return;const Xt={sequence_id:t.id,clip_type:yt.type==="midi"?"midi":"audio",track_id:ie,start_time:et,duration:4};await R(Xt)},[t,a,R]),Mt=h.useCallback(async ie=>{t&&await k(t.id,ie)},[t,k]),Nt=ne(ie=>ie.openPianoRoll),tn=ne(ie=>ie.closePianoRoll),kt=h.useCallback(ie=>{Nt(ie)},[Nt]),cn=h.useCallback(()=>{tn()},[tn]),Xn=h.useCallback(ie=>{de.info("Sample editor not yet implemented")},[]),xn=h.useCallback(async(ie,et)=>{await A(ie,{midi_events:et})},[A]),$t=h.useCallback(async ie=>{await _(ie)},[_]),ua=h.useCallback(async(ie,et)=>{await A(ie,{start_time:et})},[A]),Kn=h.useCallback(async(ie,et)=>{await A(ie,{duration:et})},[A]),Dn=h.useCallback(async(ie,et)=>{await A(ie,et)},[A]),un=a.length>0||r.length>0;return t?c.jsxs("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Ht,{title:"TRANSPORT",showHeader:!1,children:c.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-muted/20 to-muted/10",children:c.jsx(_z,{isPlaying:re,metronomeEnabled:me,tempo:ue,hasTracksOrClips:un,onPlayPause:W,onStop:ye,onRecord:fe,onLoop:()=>de.info("Loop toggle not yet implemented"),onMetronomeToggle:g,onTempoChange:he,onTempoBlur:pe,onTempoKeyDown:be})})})}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Ht,{title:"TOOLBAR",showHeader:!1,children:c.jsx(Az,{activeSequenceId:t?.id||null,onAddTrack:Ae})})}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(Ht,{title:"SEQUENCER",showHeader:!1,children:c.jsx(t3,{activeNotes:H,onToggleMute:dt,onToggleSolo:yn,onDeleteTrack:E,onRenameTrack:b,onUpdateTrack:rt,onSelectClip:()=>{},onDuplicateClip:Mt,onDeleteClip:$t,onAddClipToTrack:tt,onMoveClip:ua,onResizeClip:Kn,onUpdateClip:Dn,onOpenPianoRoll:kt,onOpenSampleEditor:Xn,onLoopStartChange:y,onLoopEndChange:C,onSeek:x,onClosePianoRoll:cn,onUpdateMIDINotes:xn,onCloseSampleEditor:()=>{},timelineScrollRef:U,pianoRollScrollRef:G,sampleEditorScrollRef:ce,onTimelineScroll:P,onPianoRollScroll:Y,onSampleEditorScroll:Q})})}),c.jsx(Nz,{isOpen:$,onClose:()=>V(!1),onSelectMIDI:Je,onSelectSample:ut}),c.jsx(xz,{isOpen:q,onClose:()=>X(!1),onSelectSample:st}),ae&&t&&c.jsx(Ez,{isOpen:ae,composition:t,onClose:()=>L(!1),onSave:async()=>{de.info("Composition settings update not yet implemented"),L(!1)}})]}):c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx(jz,{onCreateSequence:()=>de.info("Use File > New to create a new composition"),onOpenSequenceManager:()=>de.info("Use File > Open to load a composition")})})}function a3(){const t=ne(m=>m.tracks),a=ne(m=>m.showMeters),r=ne(m=>m.meterMode),s=ne(m=>m.setShowMeters),i=ne(m=>m.setMeterMode),u=t.filter(m=>!m.is_muted).length,d=t.filter(m=>m.is_solo).length;return c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(om,{size:16,className:"text-primary"}),c.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[t.length," ",t.length===1?"Channel":"Channels"]})]}),u<t.length&&c.jsxs(Fn,{variant:"secondary",className:"text-[10px] font-semibold",children:[u," Active"]}),d>0&&c.jsxs(Fn,{variant:"default",className:"text-[10px] font-semibold bg-yellow-500/20 text-yellow-500 border-yellow-500/30",children:[d," Solo"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(Le,{onClick:()=>s(!a),variant:a?"default":"outline",size:"sm",className:ve("gap-1.5",a&&"shadow-[0_0_10px_rgba(0,245,255,0.5)]"),children:[c.jsx(Um,{size:14}),c.jsx("span",{className:"font-semibold",children:"Meters"})]}),a&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ve,{htmlFor:"meter-mode-select",className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Mode"}),c.jsxs(Ar,{value:r,onValueChange:m=>i(m),children:[c.jsx(Or,{id:"meter-mode-select",className:"w-20 h-7 text-xs font-semibold",children:c.jsx(hs,{})}),c.jsxs(kr,{children:[c.jsx(Jt,{value:"peak",children:"Peak"}),c.jsx(Jt,{value:"rms",children:"RMS"}),c.jsx(Jt,{value:"both",children:"Both"})]})]})]})]})]})}function G1({value:t,onChange:a,label:r,min:s=-96,max:i=6,disabled:u=!1,className:d}){const m=h.useRef(null),[p,g]=h.useState(!1),x=R=>(R-s)/(i-s),y=R=>s+R*(i-s),C=R=>{u||(g(!0),S(R),R.target.setPointerCapture(R.pointerId))},T=R=>{!p||u||S(R)},E=R=>{p&&(g(!1),R.target.releasePointerCapture(R.pointerId))},b=R=>{if(u)return;R.preventDefault();const k=R.shiftKey?.1:1,D=-R.deltaY*.01*k,M=Math.max(s,Math.min(i,t+D));a(Math.round(M*10)/10)},S=R=>{if(!m.current)return;const A=m.current.getBoundingClientRect(),_=R.clientY-A.top;let k;if(R.shiftKey){const M=_-A.height*(1-x(t));k=x(t)-M/A.height*.1}else k=1-Math.max(0,Math.min(1,_/A.height));k=Math.max(0,Math.min(1,k));const D=y(k);a(Math.round(D*10)/10)},w=x(t),j=t>-96?`${t>0?"+":""}${t.toFixed(1)}`:"-";return c.jsxs("div",{className:ve("flex h-full flex-col items-center gap-2",d),children:[c.jsxs("div",{ref:m,className:"relative flex-1 w-9 cursor-pointer rounded-sm border border-white/20 bg-gradient-to-b from-black/60 to-black/80 select-none shadow-inner",onPointerDown:C,onPointerMove:T,onPointerUp:E,onPointerCancel:E,onWheel:b,children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s<0&&i>0&&c.jsx("div",{className:"absolute right-0 left-0 h-0.5 bg-yellow-500/60 shadow-[0_0_4px_rgba(234,179,8,0.4)]",style:{bottom:`${x(0)*100}%`}}),s<-12&&i>-12&&c.jsx("div",{className:"absolute right-0 left-0 h-px bg-white/10",style:{bottom:`${x(-12)*100}%`}})]}),c.jsx("div",{className:"absolute right-0 bottom-0 left-0 rounded-b bg-gradient-to-t from-cyan-500/70 via-cyan-400/50 to-purple-500/60 transition-all duration-100 shadow-[0_0_10px_rgba(6,182,212,0.3)]",style:{height:`${w*100}%`}}),c.jsx("div",{className:ve("absolute left-1/2 h-4 w-11 -translate-x-1/2 rounded-sm border-2 transition-all shadow-lg",p?"border-cyan-300 bg-gradient-to-b from-cyan-400 to-cyan-500 shadow-[0_0_12px_rgba(6,182,212,0.6)]":"border-gray-500 bg-gradient-to-b from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 hover:border-gray-400"),style:{bottom:`calc(${w*100}% - 8px)`},children:c.jsxs("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 flex flex-col gap-0.5 px-1.5",children:[c.jsx("div",{className:"h-px bg-white/30"}),c.jsx("div",{className:"h-px bg-white/30"}),c.jsx("div",{className:"h-px bg-white/30"})]})})]}),r&&c.jsxs("div",{className:"min-w-[3rem] text-center font-mono text-xs",children:[c.jsx("div",{className:"font-semibold text-cyan-400",children:j}),c.jsx("div",{className:"text-muted-foreground mt-1",children:r})]})]})}function r3({value:t,onChange:a,label:r,min:s=-1,max:i=1,disabled:u=!1,format:d="default",className:m}){const[p,g]=h.useState(!1),x=h.useRef(0),y=h.useRef(0),C=R=>{u||(g(!0),x.current=R.clientY,y.current=t,R.target.setPointerCapture(R.pointerId))},T=R=>{if(!p||u)return;const A=x.current-R.clientY,D=R.shiftKey?5e-4:.005,M=A*D*(i-s),z=Math.max(s,Math.min(i,y.current+M));a(Math.round(z*100)/100)},E=R=>{if(u)return;R.preventDefault();const k=R.shiftKey?.001:.01,D=-R.deltaY*k*(i-s),M=Math.max(s,Math.min(i,t+D));a(Math.round(M*100)/100)},b=R=>{p&&(g(!1),R.target.releasePointerCapture(R.pointerId))},S=(t-s)/(i-s),w=-135+S*270,j=()=>d==="pan"?Math.abs(t)<.01?"C":t<0?`L${Math.abs(t*100).toFixed(0)}`:`R${(t*100).toFixed(0)}`:d==="percent"?`${(t*100).toFixed(0)}%`:t.toFixed(2);return c.jsxs("div",{className:ve("flex flex-col items-center gap-2",m),children:[c.jsx("div",{className:"relative h-12 w-12",children:c.jsxs("svg",{className:"h-full w-full cursor-pointer select-none",viewBox:"0 0 48 48",onPointerDown:C,onPointerMove:T,onPointerUp:b,onPointerCancel:b,onWheel:E,children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"knobGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgb(6, 182, 212)"}),c.jsx("stop",{offset:"100%",stopColor:"rgb(168, 85, 247)"})]})}),c.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"3",strokeDasharray:"94.2 31.4",strokeDashoffset:"15.7",transform:"rotate(-135 24 24)"}),c.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"url(#knobGradient)",strokeWidth:"3",strokeDasharray:`${94.2*S} ${94.2*(1-S)+31.4}`,strokeDashoffset:"15.7",transform:"rotate(-135 24 24)",strokeLinecap:"round"}),c.jsx("circle",{cx:"24",cy:"24",r:"18",fill:"url(#knobBodyGradient)",stroke:p?"rgb(6, 182, 212)":"rgb(75, 85, 99)",strokeWidth:"2",className:"transition-all"}),c.jsx("line",{x1:"24",y1:"8",x2:"24",y2:"16",stroke:"rgb(6, 182, 212)",strokeWidth:"2",strokeLinecap:"round",transform:`rotate(${w} 24 24)`}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"knobBodyGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"rgb(55, 65, 81)"}),c.jsx("stop",{offset:"100%",stopColor:"rgb(17, 24, 39)"})]})})]})}),c.jsxs("div",{className:"min-w-[3rem] text-center font-mono text-xs",children:[c.jsx("div",{className:"font-semibold text-cyan-400",children:j()}),r&&c.jsx("div",{className:"text-muted-foreground mt-1",children:r})]})]})}function X1({peak:t,rms:a,stereo:r=!1,peakRight:s,rmsRight:i,className:u}){const d=g=>Math.max(0,Math.min(1,(g+96)/96)),m=g=>g>-3?"bg-red-500":g>-12?"bg-yellow-500":"bg-green-500",p=(g,x)=>{const y=d(g),C=x!==void 0?d(x):y;return c.jsxs("div",{className:"relative h-full w-3 rounded-sm border border-white/20 bg-black/60 shadow-inner",children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute left-0 right-0 h-px bg-red-500/40",style:{top:`${(1-d(-3))*100}%`}}),c.jsx("div",{className:"absolute left-0 right-0 h-px bg-yellow-500/30",style:{top:`${(1-d(-12))*100}%`}}),c.jsx("div",{className:"absolute left-0 right-0 h-px bg-white/10",style:{top:`${(1-d(-24))*100}%`}})]}),x!==void 0&&c.jsx("div",{className:ve("absolute right-0 bottom-0 left-0 rounded-b opacity-50 transition-all duration-100",m(x)),style:{height:`${C*100}%`}}),c.jsx("div",{className:ve("absolute right-0 bottom-0 left-0 rounded-b transition-all duration-75 shadow-[0_0_8px_currentColor]",m(g)),style:{height:`${y*100}%`}}),g>-3&&c.jsx("div",{className:"absolute top-0 right-0 left-0 h-2 rounded-t bg-red-500 animate-pulse"})]})};return c.jsxs("div",{className:ve("flex h-32 gap-1.5",u),children:[p(t,a),r&&s!==void 0&&p(s,i)]})}function Qx({variant:t,active:a,onClick:r,className:s,disabled:i=!1}){const u="h-7 px-2 text-xs font-bold uppercase tracking-wide rounded transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",d={mute:a?"bg-orange-500 text-white shadow-lg shadow-orange-500/50 hover:bg-orange-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border",solo:a?"bg-yellow-500 text-black shadow-lg shadow-yellow-500/50 hover:bg-yellow-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border",record:a?"bg-red-500 text-white shadow-lg shadow-red-500/50 hover:bg-red-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border",monitor:a?"bg-green-500 text-white shadow-lg shadow-green-500/50 hover:bg-green-600":"bg-muted text-muted-foreground hover:bg-muted/80 border border-border"},m={mute:"M",solo:"S",record:"R",monitor:"Mon"};return c.jsx("button",{onClick:r,disabled:i,className:ve(u,d[t],s),children:m[t]})}function o3(t){return t===0?-60:20*Math.log10(t)}function s3(t){return t<=-60?0:Math.pow(10,t/20)}function Dm(t,a=1){return t<=-96?"-":`${t>0?"+":""}${t.toFixed(a)}`}function l3({track:t,showMeters:a}){const r=ne(y=>y.meters),s=ne(y=>y.updateTrackVolume),i=ne(y=>y.updateTrackPan),u=ne(y=>y.muteTrack),d=ne(y=>y.soloTrack),m=o3(t.volume),p=r[t.id],g=p?.peakLeft??-60,x=p?.peakRight??-60;return c.jsxs("div",{className:"flex w-56 flex-shrink-0 flex-col gap-3 rounded-lg border border-border/70 bg-gradient-to-b from-card to-card/60 p-3 shadow-lg hover:border-border transition-all",children:[c.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-border/30 pb-2.5",children:[c.jsx("div",{className:"truncate text-center text-xs font-bold uppercase tracking-wider drop-shadow-sm",style:{color:t.color},title:t.name,children:t.name}),c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:"rounded-full px-2.5 py-0.5 text-[9px] font-bold uppercase tracking-wider shadow-sm",style:{backgroundColor:`${t.color}20`,color:t.color,border:`1px solid ${t.color}40`},children:t.type})})]}),a&&c.jsx("div",{className:"flex justify-center rounded-md bg-black/30 p-2.5 shadow-inner border border-white/5",children:c.jsx(X1,{peak:g,peakRight:x,stereo:!0,className:"h-56"})}),c.jsx("div",{className:"flex justify-center rounded-md bg-background/40 p-2 border border-border/30",children:c.jsx(r3,{value:t.pan,onChange:y=>i(t.id,y),label:"Pan",min:-1,max:1,format:"pan"})}),c.jsxs("div",{className:"flex flex-1 flex-col gap-2 rounded-md bg-background/40 p-2 border border-border/30",children:[c.jsx("div",{className:"text-center text-[11px] font-mono font-bold text-cyan-400 tracking-tight",children:Dm(m)}),c.jsx("div",{className:"flex flex-1 justify-center",children:c.jsx(G1,{value:m,onChange:y=>s(t.id,s3(y)),min:-60,max:12,className:"flex-1"})})]}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx(Qx,{variant:"mute",active:t.is_muted,onClick:()=>u(t.id,!t.is_muted),className:"flex-1"}),c.jsx(Qx,{variant:"solo",active:t.is_solo,onClick:()=>d(t.id,!t.is_solo),className:"flex-1"})]})]})}function i3({master:t,showMeters:a}){const r=ne(g=>g.meters),s=ne(g=>g.updateMasterFader),i=ne(g=>g.toggleLimiter),u=ne(g=>g.setLimiterThreshold),d=r.master,m=d?.peakLeft??t.meter_peak_left,p=d?.peakRight??t.meter_peak_right;return c.jsxs("div",{className:"flex w-44 flex-shrink-0 flex-col gap-3 rounded-lg border-2 border-primary/60 bg-gradient-to-b from-primary/10 via-card to-card/80 p-4 shadow-2xl",children:[c.jsxs("div",{className:"flex flex-col items-center gap-1.5 border-b-2 border-primary/30 pb-3",children:[c.jsx("div",{className:"text-center text-sm font-black uppercase tracking-widest text-primary drop-shadow-[0_0_8px_rgba(0,245,255,0.4)]",children:t.name}),c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-wider text-primary/70",children:"Main Output"})]}),a&&c.jsx("div",{className:"flex justify-center rounded-md bg-black/40 p-3 shadow-inner border border-primary/20",children:c.jsx(X1,{peak:m,peakRight:p,stereo:!0,className:"h-56"})}),c.jsxs("div",{className:"space-y-2.5 rounded-md border-2 border-primary/30 bg-gradient-to-b from-primary/5 to-background/60 p-3 shadow-md",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ve,{className:"text-[10px] font-black uppercase tracking-wider text-primary",children:"Limiter"}),c.jsx(Le,{onClick:i,variant:t.limiter_enabled?"default":"outline",size:"sm",className:ve("h-6 px-2.5 text-[10px] font-bold",t.limiter_enabled&&"shadow-[0_0_10px_rgba(0,245,255,0.5)]"),children:t.limiter_enabled?"ON":"OFF"})]}),t.limiter_enabled&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ve,{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wide",children:"Threshold"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zr,{value:[t.limiter_threshold],onValueChange:g=>u(g[0]),min:-12,max:0,step:.1,className:"flex-1"}),c.jsx("span",{className:"w-14 text-right text-[10px] font-mono font-bold text-primary",children:Dm(t.limiter_threshold)})]})]})]}),c.jsxs("div",{className:"flex flex-1 flex-col gap-2 rounded-md bg-gradient-to-b from-background/50 to-background/30 p-3 border-2 border-primary/20",children:[c.jsx("div",{className:"text-center text-sm font-mono font-black text-primary drop-shadow-[0_0_6px_rgba(0,245,255,0.3)] tracking-tight",children:Dm(t.fader)}),c.jsx("div",{className:"flex flex-1 justify-center",children:c.jsx(G1,{value:t.fader,onChange:s,min:-60,max:12,className:"flex-1"})})]})]})}function c3(){const t=ne(s=>s.tracks),a=ne(s=>s.master),r=ne(s=>s.showMeters);return c.jsxs("div",{className:"flex h-full gap-4 overflow-x-auto overflow-y-hidden bg-gradient-to-b from-background/50 to-background p-5",children:[t.length===0&&c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-3 max-w-sm",children:[c.jsx("div",{className:"text-6xl opacity-20",children:""}),c.jsx("p",{className:"text-base font-bold text-foreground",children:"No Mixer Channels"}),c.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Add tracks in the sequencer to see them as mixer channels with faders, pan controls, and meters"})]})}),t.map(s=>c.jsx(l3,{track:s,showMeters:r},s.id)),t.length>0&&c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"w-0.5 h-full bg-gradient-to-b from-transparent via-primary/40 to-transparent"})}),a&&c.jsx(i3,{master:a,showMeters:r})]})}function u3(){const t=ne(a=>a.loadMaster);return h.useEffect(()=>{t()},[t]),c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsxs(Ht,{title:"MIXER",showHeader:!1,contentOverflow:"hidden",children:[c.jsx("div",{className:"border-b-2 border-border/70 bg-gradient-to-b from-muted/30 to-muted/10 px-4 py-2.5 flex-shrink-0 shadow-sm",children:c.jsx(a3,{})}),c.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:c.jsx(c3,{})})]})})})}function d3({parameter:t,value:a,onChange:r,disabled:s=!1}){const i=d=>t.unit==="Hz"?d>=1e3?`${(d/1e3).toFixed(1)}kHz`:`${Math.round(d)}Hz`:t.unit==="dB"?`${d.toFixed(1)}dB`:t.unit==="ms"?d>=1e3?`${(d/1e3).toFixed(2)}s`:`${Math.round(d)}ms`:t.unit==="%"?`${Math.round(d*100)}%`:t.unit==="ratio"?`${d.toFixed(1)}:1`:d.toFixed(2),u=()=>{const d=t.min??0,p=(t.max??1)-d;return p>1e3?10:p>100?1:p>10?.1:.01};return c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-[10px] font-medium text-muted-foreground",children:t.display_name}),c.jsx("span",{className:"text-[10px] font-mono font-bold text-foreground",children:i(a)})]}),c.jsx(zr,{value:[a],onValueChange:d=>r(d[0]),min:t.min,max:t.max,step:u(),disabled:s,className:"w-full"})]})}function f3({effect:t,effectDefinition:a,onParameterChange:r,onToggleBypass:s,onDelete:i,isDragging:u=!1,isDragOver:d=!1,onDragStart:m,onDragEnd:p,onDragOver:g,onDragLeave:x,onDrop:y}){const[C,T]=h.useState(!1),E=(A,_)=>{r(t.id,A,_)},b=A=>{const _=A.target;if(_.tagName==="BUTTON"||_.closest("button")){A.preventDefault();return}A.dataTransfer.effectAllowed="move",A.dataTransfer.setData("text/plain",t.id),m?.(t.id)},S=A=>{A.preventDefault(),A.dataTransfer.dropEffect="move",g?.(t.id)},w=()=>{x?.()},j=A=>{A.preventDefault(),y?.(t.id)},R=()=>{p?.()};return c.jsxs("div",{draggable:!0,onDragStart:b,onDragOver:S,onDragLeave:w,onDrop:j,onDragEnd:R,className:ve("rounded-lg border transition-all duration-200",t.is_bypassed?"border-border/30 bg-background/5 opacity-50":"border-border/50 bg-gradient-to-b from-background/80 to-background/40 hover:border-primary/50",u&&"opacity-40 scale-95",d&&"border-primary ring-2 ring-primary/50"),children:[c.jsxs("div",{className:"p-3.5 space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("div",{className:"flex-shrink-0 pt-0.5 text-muted-foreground/40 hover:text-muted-foreground cursor-grab active:cursor-grabbing",children:c.jsx(Rj,{size:16})}),c.jsxs("div",{className:"flex-1 min-w-0 flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-semibold text-foreground leading-tight mb-1",title:t.display_name,children:t.display_name}),a&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:a.category==="Filter"?"#60a5fa":a.category==="EQ"?"#4ade80":a.category==="Dynamics"?"#facc15":a.category==="Time-Based"?"#c084fc":a.category==="Distortion"?"#f87171":"#9ca3af"}}),c.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-medium",children:a.category})]})]}),c.jsx("button",{onClick:()=>T(!C),className:"flex-shrink-0 text-muted-foreground hover:text-foreground transition-colors",title:C?"Collapse":"Expand",children:c.jsx(ys,{size:16,className:ve("transition-transform duration-200",C?"rotate-180":"")})})]})]}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("button",{onClick:()=>s(t.id),className:ve("flex-1 h-7 px-2 text-xs font-bold uppercase tracking-wide rounded transition-all duration-150",t.is_bypassed?"bg-muted text-muted-foreground hover:bg-muted/80 border border-border":"bg-orange-500 text-white shadow-lg shadow-orange-500/50 hover:bg-orange-600"),title:t.is_bypassed?"Activate":"Bypass",children:t.is_bypassed?"Off":"On"}),c.jsx("button",{onClick:()=>i(t.id),className:"h-7 px-3 rounded transition-all duration-150 bg-muted text-muted-foreground hover:bg-destructive hover:text-white border border-border hover:border-destructive flex items-center gap-1.5",title:"Delete Effect",children:c.jsx(bs,{size:14})})]})]}),C&&a&&c.jsx("div",{className:"border-t border-border/30 px-3.5 py-3.5 space-y-2.5 bg-background/20",children:a.parameters.filter(A=>A.name!=="bypass").map(A=>{const _=t.parameters[A.name]??A.default;return c.jsx(d3,{parameter:A,value:_,onChange:k=>E(A.name,k),disabled:t.is_bypassed},A.name)})})]})}function m3({effectDefinitions:t,onEffectSelected:a,disabled:r=!1}){const s=t.reduce((d,m)=>(d[m.category]||(d[m.category]=[]),d[m.category].push(m),d),{}),i=["Filter","EQ","Dynamics","Time-Based","Distortion","Utility"],u=Object.keys(s).sort((d,m)=>{const p=i.indexOf(d),g=i.indexOf(m);return p===-1&&g===-1?d.localeCompare(m):p===-1?1:g===-1?-1:p-g});return c.jsxs(Ar,{value:"",onValueChange:d=>{d&&a(d)},disabled:r,children:[c.jsx(Or,{className:"h-7 w-full text-xs border-border/50 hover:border-primary/50 transition-colors",children:c.jsxs("div",{className:"flex items-center gap-1.5 min-w-0 w-full overflow-hidden",children:[c.jsx(xs,{size:12,className:"text-muted-foreground flex-shrink-0"}),c.jsx("span",{className:"truncate text-xs",children:"Effects"})]})}),c.jsx(kr,{className:"max-h-80 z-[9999]",align:"start",position:"popper",sideOffset:4,children:u.map(d=>c.jsxs(O1,{children:[c.jsx(k1,{className:"text-xs font-semibold text-muted-foreground",children:d}),s[d].map(m=>c.jsx(Jt,{value:m.name,className:"text-xs",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:m.display_name}),c.jsx("span",{className:"text-[10px] text-muted-foreground",children:m.description})]})},m.name))]},d))})]})}function p3({track:t,effectChain:a}){const r=ne(b=>b.effectDefinitions),s=ne(b=>b.addEffect),i=ne(b=>b.updateEffectParameter),u=ne(b=>b.toggleEffectBypass),d=ne(b=>b.deleteEffect),m=ne(b=>b.moveEffect),p=a?.effects||[],g=[...p].sort((b,S)=>b.slot_index-S.slot_index),x=p.length<8,[y,C]=h.useState(null),[T,E]=h.useState(null);return c.jsxs("div",{className:"flex w-56 flex-shrink-0 flex-col gap-3 rounded-lg border border-border/70 bg-gradient-to-b from-card to-card/60 p-3 shadow-lg hover:border-border transition-all",children:[c.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-border/30 pb-2.5",children:[c.jsx("div",{className:"truncate text-center text-xs font-bold uppercase tracking-wider drop-shadow-sm",style:{color:t.color},title:t.name,children:t.name}),c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:"rounded-full px-2.5 py-0.5 text-[9px] font-bold uppercase tracking-wider shadow-sm",style:{backgroundColor:`${t.color}20`,color:t.color,border:`1px solid ${t.color}40`},children:"FX CHAIN"})})]}),c.jsx("div",{className:"flex flex-col gap-2 flex-1 overflow-y-auto",children:g.length===0?c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("div",{className:"text-2xl opacity-20",children:""}),c.jsx("p",{className:"text-[9px] text-muted-foreground",children:"No Effects"})]})}):g.map(b=>{const S=r.find(w=>w.name===b.effect_name);return c.jsx(f3,{effect:b,effectDefinition:S,onParameterChange:i,onToggleBypass:u,onDelete:d,isDragging:y===b.id,isDragOver:T===b.id,onDragStart:()=>C(b.id),onDragEnd:()=>{C(null),E(null)},onDragOver:()=>E(b.id),onDragLeave:()=>E(null),onDrop:w=>{if(y&&y!==w){const j=g.find(R=>R.id===w);j&&m(y,j.slot_index)}C(null),E(null)}},b.id)})}),x&&c.jsx(m3,{effectDefinitions:r,onEffectSelected:b=>s(t.id,b),disabled:!x})]})}function h3(){return c.jsxs("div",{className:"flex w-56 flex-shrink-0 flex-col gap-3 rounded-lg border-2 border-primary/50 bg-gradient-to-b from-primary/10 to-primary/5 p-3 shadow-lg",children:[c.jsxs("div",{className:"flex flex-col gap-1.5 border-b border-primary/30 pb-2.5",children:[c.jsx("div",{className:"truncate text-center text-xs font-bold uppercase tracking-wider text-primary drop-shadow-sm",children:"Master"}),c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:"rounded-full bg-primary/20 px-2.5 py-0.5 text-[9px] font-bold uppercase tracking-wider text-primary shadow-sm border border-primary/40",children:"FX CHAIN"})})]}),c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("div",{className:"text-2xl opacity-20",children:""}),c.jsx("p",{className:"text-[9px] text-muted-foreground",children:"Master Effects"}),c.jsx("p",{className:"text-[8px] text-muted-foreground/60",children:"Coming Soon"})]})})]})}function g3(){const t=ne(r=>r.effectChains),a=ne(r=>r.tracks);return c.jsxs("div",{className:"flex h-full gap-4 overflow-x-auto overflow-y-hidden bg-gradient-to-b from-background/50 to-background p-5",children:[a.length===0&&c.jsx("div",{className:"flex flex-1 items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-3 max-w-sm",children:[c.jsx("div",{className:"text-6xl opacity-20",children:""}),c.jsx("p",{className:"text-base font-bold text-foreground",children:"No Effects Channels"}),c.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Add tracks in the sequencer to see their effects chains with up to 8 insert effects per track"})]})}),a.map(r=>c.jsx(p3,{track:r,effectChain:t[r.id]||null},r.id)),a.length>0&&c.jsx("div",{className:"flex items-center",children:c.jsx("div",{className:"w-0.5 h-full bg-gradient-to-b from-transparent via-primary/40 to-transparent"})}),c.jsx(h3,{})]})}function v3(){const t=ne(a=>a.loadEffectDefinitions);return h.useEffect(()=>{t()},[t]),c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsx(Ht,{title:"EFFECTS",showHeader:!1,contentOverflow:"hidden",children:c.jsx("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:c.jsx(g3,{})})})})})}function y3(){const[t,a]=h.useState("chat"),[r,s]=h.useState(!1),[i,u]=h.useState(!1),[d,m]=h.useState(!0),[p,g]=h.useState(2e3),x=h.useCallback(()=>{m(T=>!T)},[]);return{state:{activeTab:t,isLoadingState:r,isSendingMessage:i,autoRefreshEnabled:d,refreshInterval:p},actions:{setActiveTab:a,setIsLoadingState:s,setIsSendingMessage:u,setAutoRefreshEnabled:m,setRefreshInterval:g,toggleAutoRefresh:x}}}const K1=h.createContext(void 0);function x3({children:t}){const[a,r]=h.useState(()=>{const _=us.getLayout();if(_){if(_.tabs&&Array.isArray(_.tabs)&&_.tabs.length>0)return{..._,poppedOutTabs:new Set};console.warn("Stored layout has no tabs, using defaults")}return console.log("Using DEFAULT_LAYOUT_STATE:",Zx),{...Zx,poppedOutTabs:new Set,maximizedPanel:null,attachments:{},xrayEnabled:!1,xraySourceTab:null,xrayTargetTab:null,xrayOpacity:.5}});h.useEffect(()=>{const _={...a,poppedOutTabs:Array.from(a.poppedOutTabs)};us.setLayout(_)},[a]),h.useEffect(()=>{const _=Me.subscribeToState(Ec.LAYOUT,D=>{r({...D,poppedOutTabs:new Set(D.poppedOutTabs)})}),k=Me.subscribeToState(Ec.POPOUT_CLOSED,D=>{console.log(` Received popout close event for tab: ${D.tabId}`),r(M=>{const z=new Set(M.poppedOutTabs);return z.delete(D.tabId),{...M,poppedOutTabs:z}})});return()=>{_(),k()}},[]);const s=h.useCallback(_=>{Me.broadcastState(Ec.LAYOUT,{..._,poppedOutTabs:Array.from(_.poppedOutTabs)})},[]),i=h.useCallback(_=>{r(k=>{const D={...k,activeTab:_};return s(D),D})},[s]),u=h.useCallback((_,k)=>{r(D=>{const M={id:`tab-${Date.now()}`,name:_,panelIds:k},z={...D,tabs:[...D.tabs,M],activeTab:M.id};return s(z),z})},[s]),d=h.useCallback(_=>{r(k=>{const D=k.tabs.filter(z=>z.id!==_),M={...k,tabs:D,activeTab:k.activeTab===_?D[0]?.id||"":k.activeTab};return s(M),M})},[s]),m=h.useCallback((_,k)=>{r(D=>{const M={...D,tabs:D.tabs.map(z=>z.id===_?{...z,name:k}:z)};return s(M),M})},[s]),p=h.useCallback((_,k,D)=>{r(M=>{const z=M.tabs.map($=>$.id===k?{...$,panelIds:$.panelIds.filter(V=>V!==_)}:$.id===D?{...$,panelIds:[...$.panelIds,_]}:$),I={...M,tabs:z};return s(I),I})},[s]),g=h.useCallback((_,k,D)=>{r(M=>{const z={...M,layouts:{...M.layouts,[_]:{...M.layouts[_],[k]:D}}};return s(z),z})},[s]),x=h.useCallback((_,k)=>{r(D=>{const M={};k.forEach(I=>{const{i:$,...V}=I;M[$]=V});const z={...D,layouts:{...D.layouts,[_]:M}};return s(z),z})},[s]),y=h.useCallback((_,k=!0)=>{const D=a.tabs.find(M=>M.id===_);D&&(k&&Me.openPopout(_,D.panelIds),r(M=>{const z=new Set(M.poppedOutTabs);z.add(_);const I={...M,poppedOutTabs:z};return s(I),I}))},[a.tabs,s]),C=h.useCallback(_=>{r(k=>{const D=new Set(k.poppedOutTabs);D.delete(_);const M={...k,poppedOutTabs:D};return s(M),M})},[s]),T=h.useCallback(_=>{r(k=>{const D={...k,maximizedPanel:_};return s(D),D})},[s]),E=h.useCallback(()=>{r(_=>{const k={..._,maximizedPanel:null};return s(k),k})},[s]),b=h.useCallback((_,k)=>{r(D=>{const M={...D,attachments:{...D.attachments,[_]:k}};return s(M),M})},[s]),S=h.useCallback(_=>{r(k=>{const{[_]:D,...M}=k.attachments,z={...k,attachments:M};return s(z),z})},[s]),w=h.useCallback(_=>{r(k=>{if(_===k.activeTab)return console.warn("Cannot x-ray the active tab"),k;const D={...k,xrayEnabled:!0,xraySourceTab:k.activeTab,xrayTargetTab:_,xrayOpacity:k.xrayEnabled?k.xrayOpacity:.5};return s(D),D})},[s]),j=h.useCallback(()=>{r(_=>{const k={..._,xrayEnabled:!1,xraySourceTab:null,xrayTargetTab:null};return s(k),k})},[s]),R=h.useCallback(_=>{r(k=>{const D={...k,xrayOpacity:Math.max(0,Math.min(1,_))};return s(D),D})},[s]),A={...a,setActiveTab:i,createTab:u,deleteTab:d,renameTab:m,movePanelToTab:p,updatePanelLayout:g,updateTabLayout:x,maximizePanel:T,minimizePanel:E,attachPanel:b,detachPanel:S,popoutTab:y,closePopout:C,enableXray:w,disableXray:j,setXrayOpacity:R};return c.jsx(K1.Provider,{value:A,children:t})}function Vl(){const t=h.useContext(K1);if(!t)throw new Error("useLayout must be used within LayoutProvider");return t}function b3(t){const{addChatMessage:a,addAnalysisEvent:r,setDawState:s,setAIContext:i,setIsSendingMessage:u,setIsLoadingState:d,activeSequenceId:m,loadSequencerTracks:p,loadSequences:g,loadTracks:x,loadEffectDefs:y}=t,C=ne(w=>w.startActivity),T=ne(w=>w.completeActivity),{activeTab:E}=Vl(),b=h.useCallback(async w=>{if(w.trim())try{u(!0);const j={role:"user",content:w,timestamp:new Date().toISOString()};a(j),r({id:`event-${Date.now()}-user`,timestamp:new Date().toISOString(),type:"user_message",content:w}),console.log("Sending message to AI backend:",w);const R=await ge.ai.chat({message:w});console.log("Received response from AI backend:",R);const A={role:"assistant",content:R.response,timestamp:new Date().toISOString(),actions_executed:R.actions_executed};a(A),R.musical_context&&(i(R.musical_context),r({id:`event-${Date.now()}-context`,timestamp:new Date().toISOString(),type:"context",content:R.musical_context})),r({id:`event-${Date.now()}-llm`,timestamp:new Date().toISOString(),type:"llm_response",content:R.response}),R.actions_executed&&R.actions_executed.forEach((_,k)=>{r({id:`event-${Date.now()}-action-${k}`,timestamp:new Date().toISOString(),type:"action_result",content:`${_.action}: ${_.message}`,metadata:_}),setTimeout(()=>{const D=C(_.action,_.message,{targetId:_.data?.track_id||_.data?.clip_id||_.data?.effect_id,targetType:_.action.includes("track")?"track":_.action.includes("clip")?"clip":_.action.includes("effect")?"effect":_.action.includes("tempo")?"tempo":_.action.includes("play")||_.action.includes("stop")?"playback":void 0,tabId:E,metadata:_.data});setTimeout(()=>{T(D,_.success)},1500)},k*100)}),R.actions_executed&&R.actions_executed.length>0&&(console.log(" AI executed actions - reloading ALL UI components..."),await g(),m&&await p(m),await x(),await y(),console.log(" UI reload complete")),de.success("AI responded")}catch(j){console.error("Failed to send message:",j);const R={role:"assistant",content:`Error: ${j.message||"Failed to communicate with AI service. Please check that the backend is running and the Claude API key is configured."}`,timestamp:new Date().toISOString()};a(R),de.error(`AI Error: ${j.message||"Failed to send message"}`)}finally{u(!1)}},[a,r,u,g,p,x,y,m]),S=h.useCallback(async()=>{try{d(!0);const w=await ge.ai.getState();s(w.full_state);try{const j=await ge.ai.getContext();i(j.context)}catch(j){console.error("Failed to fetch AI context:",j),i("Error loading AI context: "+j.message)}}catch(w){console.error("Failed to refresh state:",w)}finally{d(!1)}},[s,i,d]);return{handleSendMessage:b,handleRefreshState:S}}function S3({state:t,handlers:a}){const r=ne(p=>p.chatHistory),[s,i]=h.useState(""),u=h.useRef(null);h.useEffect(()=>{u.current?.scrollIntoView({behavior:"smooth"})},[r]);const d=async()=>{!s.trim()||t.isSendingMessage||(await a.handleSendMessage(s),i(""))},m=p=>{i(p)};return c.jsxs("div",{className:"flex h-full flex-col",children:[c.jsx("div",{className:"border-b border-border/50 bg-muted/20 p-3 flex-shrink-0",children:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>m("Recompose this sequence to be more ambient and atmospheric"),children:[c.jsx(jc,{size:14,className:"mr-1"}),"Make Ambient"]}),c.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>m("Add rhythmic variation and tension to the drums"),children:[c.jsx(xT,{size:14,className:"mr-1"}),"Add Tension"]}),c.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>m("Create a melodic variation on the current theme"),children:[c.jsx(en,{size:14,className:"mr-1"}),"Add Variation"]}),c.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>m("Explain the current musical state and suggest improvements"),children:[c.jsx(M0,{size:14,className:"mr-1"}),"Analyze & Suggest"]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.length===0&&!t.isSendingMessage?c.jsx("div",{className:"flex h-full items-center justify-center text-center",children:c.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[c.jsx(jc,{size:32,className:"mx-auto opacity-50"}),c.jsx("p",{className:"text-sm font-medium",children:"AI Music Composition Assistant"}),c.jsx("p",{className:"text-xs max-w-md",children:`Give me vague, creative commands like "make this more ambient" or "add tension". I'll autonomously recompose your sequence with reversible iterations.`})]})}):c.jsxs(c.Fragment,{children:[r.map((p,g)=>c.jsx("div",{className:`flex ${p.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:c.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${p.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:c.jsx("div",{className:"flex items-start gap-2",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-xs opacity-70 mb-1",children:p.role==="user"?"You":"AI Assistant"}),c.jsx("div",{className:"text-sm whitespace-pre-wrap",children:p.content}),p.actions_executed&&p.actions_executed.length>0&&c.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:p.actions_executed.map((x,y)=>c.jsx(Fn,{variant:x.success?"default":"destructive",className:"text-[10px]",children:x.action},y))})]})})})},g)),t.isSendingMessage&&c.jsx("div",{className:"flex justify-start animate-in fade-in slide-in-from-bottom-2 duration-300",children:c.jsx("div",{className:"max-w-[80%] rounded-lg p-3 bg-muted",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"AI is analyzing your sequence and composing..."})]})})})]}),c.jsx("div",{ref:u})]}),c.jsx("div",{className:"border-t border-border/50 bg-muted/20 p-3 flex-shrink-0",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ra,{value:s,onChange:p=>i(p.target.value),onKeyDown:p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),d())},placeholder:"Give me a vague, creative command...",disabled:t.isSendingMessage,className:"flex-1"}),c.jsx(Le,{onClick:d,disabled:!s.trim()||t.isSendingMessage,size:"icon",children:c.jsx(eT,{size:16})})]})})]})}function w3({state:t,actions:a,dawState:r,aiContext:s}){const i=r?r.sequence?s||"Loading AI context...":"No sequence loaded. Create a new sequence or load an existing one from the Sequencer panel.":"Loading DAW state...";return r?r.sequence?c.jsx("div",{className:"h-full overflow-y-auto p-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-border/50 pb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(en,{size:16,className:"text-primary"}),c.jsx("span",{className:"text-sm font-semibold",children:"Real-Time Musical Analysis"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Le,{variant:"ghost",size:"sm",onClick:a.toggleAutoRefresh,children:c.jsxs(Fn,{variant:t.autoRefreshEnabled?"default":"outline",className:"text-[10px]",children:["Auto-refresh ",t.autoRefreshEnabled?"ON":"OFF"]})}),c.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(r.timestamp).toLocaleTimeString()})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wide",children:" What the AI Sees (Exact LLM Context)"}),c.jsx("pre",{className:"text-[11px] font-mono whitespace-pre-wrap text-foreground/90 leading-relaxed",children:i})]})]})}):c.jsx("div",{className:"flex h-full items-center justify-center p-8",children:c.jsxs("div",{className:"text-center space-y-3 max-w-md",children:[c.jsx(en,{size:48,className:"mx-auto text-muted-foreground opacity-50"}),c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No Sequence Loaded"}),c.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Create a new sequence or load an existing one from the Sequencer panel. Once you have tracks and clips, the AI will analyze the musical content here."})]})}):c.jsx("div",{className:"flex h-full items-center justify-center p-8",children:c.jsxs("div",{className:"text-center space-y-3 max-w-md",children:[c.jsx(en,{size:48,className:"mx-auto text-muted-foreground opacity-50"}),c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Loading DAW state..."}),c.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Connecting to backend to fetch sequence data"})]})})}function C3(){const{state:t,actions:a}=y3(),[r,s]=h.useState(null),[i,u]=h.useState(null),d=ne(T=>T.activeComposition),m=ne(T=>T.addChatMessage),p=ne(T=>T.addAnalysisEvent),g=ne(T=>T.loadCompositions),x=ne(T=>T.loadChannels),y=ne(T=>T.loadEffectDefinitions),C=b3({addChatMessage:m,addAnalysisEvent:p,setDawState:s,setAIContext:u,setIsSendingMessage:a.setIsSendingMessage,setIsLoadingState:a.setIsLoadingState,activeSequenceId:d?.id||null,loadSequencerTracks:async()=>{},loadSequences:g,loadTracks:async()=>{d?.id&&await x(d.id)},loadEffectDefs:y});return h.useEffect(()=>{(async()=>{try{a.setIsLoadingState(!0),console.log("AIPanel: Loading initial DAW state and AI context...");const E=await ge.ai.getState();console.log("AIPanel: Received state response:",E),console.log("AIPanel: Set dawState to:",E.full_state||null);try{await ge.ai.getContext(),console.log("AIPanel: Loaded AI context")}catch(b){console.error("AIPanel: Failed to load AI context:",b)}}catch(E){console.error("AIPanel: Failed to load initial state:",E)}finally{a.setIsLoadingState(!1)}})()},[]),h.useEffect(()=>{if(!t.autoRefreshEnabled||t.activeTab!=="analysis")return;const T=setInterval(()=>{C.handleRefreshState()},t.refreshInterval);return()=>clearInterval(T)},[t.autoRefreshEnabled,t.activeTab,t.refreshInterval,C]),c.jsx("div",{className:"flex h-full flex-1 flex-col gap-2 overflow-hidden p-2",children:c.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:c.jsxs(Ht,{title:"AI ASSISTANT",showHeader:!1,contentOverflow:"hidden",children:[c.jsx("div",{className:"border-b-2 border-border/70 bg-gradient-to-b from-muted/30 to-muted/10 px-4 py-2.5 flex-shrink-0 shadow-sm",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Le,{variant:t.activeTab==="chat"?"default":"ghost",size:"sm",onClick:()=>a.setActiveTab("chat"),children:"CHAT"}),c.jsx(Le,{variant:t.activeTab==="analysis"?"default":"ghost",size:"sm",onClick:()=>a.setActiveTab("analysis"),children:"ANALYSIS"})]})}),c.jsxs("div",{className:"flex-1 overflow-hidden bg-gradient-to-b from-background to-background/95",children:[t.activeTab==="chat"&&c.jsx(S3,{state:t,handlers:C}),t.activeTab==="analysis"&&c.jsx(w3,{state:t,actions:a,dawState:r,aiContext:i})]})]})})})}const Tl={cols:{lg:12},rowHeight:60,margin:[8,8],containerPadding:[8,8]},W1=[{id:"input",title:"INPUT",component:h.createElement(gz),closeable:!1,getSubtitle:()=>"Library  4 samples loaded",defaultLayout:{x:0,y:0,w:6,h:10}},{id:"loop-visualizer",title:"LOOP",component:h.createElement(vz),closeable:!1,getSubtitle:()=>"Active  120 BPM  4/4  Position: 8.2 beats",defaultLayout:{x:6,y:0,w:6,h:10}},{id:"sequencer",title:"SEQUENCER",component:h.createElement(n3),closeable:!1,getSubtitle:()=>"Timeline + Transport  0 tracks  0 clips",defaultLayout:{x:0,y:6,w:12,h:12}},{id:"mixer",title:"MIXER",component:h.createElement(u3),closeable:!1,getSubtitle:()=>"0 channels  Master: 0.0 dB",defaultLayout:{x:0,y:12,w:12,h:14}},{id:"effects",title:"EFFECTS",component:h.createElement(v3),closeable:!1,getSubtitle:()=>"Track FX  0 effects",defaultLayout:{x:0,y:26,w:12,h:12},snapTargets:[{panelId:"mixer",edges:["bottom"],snapDistance:20}]},{id:"ai",title:"ASSISTANT",component:h.createElement(C3),closeable:!1,getSubtitle:()=>"Chat  State Viewer  Autonomous: Off",defaultLayout:{x:0,y:38,w:12,h:16}}],E3=[{id:"compose",name:"COMPOSE",panelIds:["sequencer","mixer","effects"]},{id:"interact",name:"INTERACT",panelIds:["input","loop-visualizer","ai"]}],Ec={LAYOUT:"layout",POPOUT_CLOSED:"popout-closed"},Zx={tabs:E3,activeTab:"compose",poppedOutTabs:[],layouts:{},xrayEnabled:!1,xraySourceTab:null,xrayTargetTab:null,xrayOpacity:.5};function _m({panels:t,onLayoutChange:a,onPanelClose:r}){const s=h.useRef(null),[i,u]=h.useState({width:0,height:0}),{maximizedPanel:d,maximizePanel:m,minimizePanel:p,attachments:g,attachPanel:x,detachPanel:y}=Vl(),[C,T]=h.useState(null),[E,b]=h.useState(null),[S,w]=h.useState([]);h.useEffect(()=>{if(!s.current)return;const M=new ResizeObserver(z=>{for(const I of z){const{width:$,height:V}=I.contentRect;u({width:$,height:V})}});return M.observe(s.current),()=>M.disconnect()},[]),h.useEffect(()=>{const M=t.map((z,I)=>({i:z.id,x:z.defaultLayout?.x??I%2*6,y:z.defaultLayout?.y??Math.floor(I/2)*6,w:z.defaultLayout?.w??6,h:z.defaultLayout?.h??6,minW:3,minH:3}));w(M)},[t]);const j=S;h.useEffect(()=>{if(!j.length||!Object.keys(g).length)return;let M=!1;const z=j.map(I=>{const $=Object.entries(g).find(([V,q])=>q.attachedTo===I.i)?.[0];if($){const V=j.find(X=>X.i===$),q=g[$];if(V&&q){let X={...V};switch(q.edge){case"bottom":const ae=I.y+I.h,L=I.x,H=I.w;(V.y!==ae||V.x!==L||V.w!==H)&&(X={...V,x:L,y:ae,w:H},M=!0,console.log(` Enforcing attachment: ${$} following ${I.i}`));break;case"top":const U=I.y-V.h,G=I.x,ce=I.w;(V.y!==U||V.x!==G||V.w!==ce)&&(X={...V,x:G,y:U,w:ce},M=!0,console.log(` Enforcing attachment: ${$} following ${I.i}`));break}return I.i===$?X:I}}return I});M&&(w(z),a?.(z))},[j,g,a]);const R=h.useCallback((M,z)=>{const I=t.find($=>$.id===M);if(!I?.snapTargets)return console.log(" No snap targets for panel:",M),null;console.log(" Checking snap targets for",M,I.snapTargets);for(const $ of I.snapTargets){const V=j.find(ae=>ae.i===$.panelId);if(!V){console.log(" Target panel not found in layout:",$.panelId);continue}const q=$.snapDistance??20,X=q/Tl.rowHeight;console.log(" Snap distance:",q,"pixels =",X,"grid units");for(const ae of $.edges){let L=1/0,H={x:z.x,y:z.y};switch(ae){case"bottom":const U=V.y+V.h;L=Math.abs(z.y-U),console.log(` Bottom edge check: dragged.y=${z.y}, targetBottom=${U}, distance=${L}, SNAP_DISTANCE=${X}`),L<=X&&(H={x:V.x,y:U});break;case"top":L=Math.abs(z.y+z.h-V.y),L<=X&&(H={x:V.x,y:V.y-z.h});break;case"right":const G=V.x+V.w;L=Math.abs(z.x-G),L<=X&&(H={x:G,y:V.y});break;case"left":L=Math.abs(z.x+z.w-V.x),L<=X&&(H={x:V.x-z.w,y:V.y});break}if(L<=X)return{targetPanelId:$.panelId,edge:ae,snapPosition:H,distance:L}}}return null},[t,j]),A=h.useCallback((M,z,I,$,V,q)=>{console.log(" Drag started - panel:",I.i),b(I.i)},[]),_=h.useCallback(M=>{if(E){const z=M.find(I=>I.i===E);if(z){const I=R(E,z);I&&console.log(" Snap zone detected:",I),T(I)}}},[E,R]),k=h.useCallback(M=>{if(E&&C){const z={attachedTo:C.targetPanelId,edge:C.edge};x(E,z);const I=M.map($=>$.i===E?{...$,x:C.snapPosition.x,y:C.snapPosition.y}:$);w([...I]),a?.([...I]),console.log(` Snapped ${E} to ${C.targetPanelId} ${C.edge} edge`)}else w([...M]),a?.([...M]);b(null),T(null)},[E,C,x,a]),D=M=>{w([...M]),a?.([...M])};if(t.length===0)return c.jsx("div",{className:"flex h-full w-full items-center justify-center",children:c.jsx("p",{className:"text-muted-foreground text-sm",children:"No panels in this tab"})});if(i.height===0)return c.jsx("div",{ref:s,className:"h-full w-full"});if(d){const M=t.find(z=>z.id===d);if(M)return c.jsx("div",{ref:s,className:"h-full w-full flex flex-col",children:c.jsx(Rm,{title:M.title,subtitle:M.getSubtitle?.(),draggable:!1,closeable:M.closeable??!0,onClose:()=>r?.(M.id),isMaximized:!0,onMaximize:p,className:"flex-1",children:M.component})})}return c.jsx("div",{ref:s,className:"h-full w-full overflow-auto relative",children:c.jsx(rz,{className:"layout",layout:j,width:i.width,gridConfig:{cols:Tl.cols.lg,rowHeight:Tl.rowHeight,containerPadding:Tl.containerPadding,margin:Tl.margin},dragConfig:{handle:".drag-handle"},compactor:jp,onLayoutChange:D,onDragStart:A,onDrag:_,onDragStop:k,children:t.map(M=>{const z=g[M.id],I=C?.targetPanelId===M.id,$=E===M.id,V=!!z,q=Object.entries(g).filter(([P,Y])=>Y.attachedTo===M.id),X=q.length>0,ae=q[0]?.[0],L=ae?t.find(P=>P.id===ae):null,H=q[0]?.[1]?.edge,U=z?.edge,G=X&&L?`${M.title} + ${L.title}`:M.title,ce=X&&ae?c.jsx("button",{onClick:P=>{P.stopPropagation(),y(ae)},className:"hover:bg-primary/20 cursor-pointer touch-manipulation rounded p-2 transition-colors","aria-label":"Detach panels",title:"Detach panels",children:c.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}):null;return c.jsxs("div",{className:"grid-item-wrapper relative",style:{marginTop:U==="bottom"?"-8px":void 0,marginBottom:U==="top"?"-8px":void 0},children:[c.jsx(Rm,{title:G,subtitle:M.getSubtitle?.(),draggable:!V,closeable:M.closeable??!0,onClose:()=>r?.(M.id),isMaximized:!1,onMaximize:()=>m(M.id),showHeader:!V,headerActions:ce,className:`h-full transition-all ${U==="bottom"?"rounded-t-none border-t-0":""} ${U==="top"?"rounded-b-none border-b-0":""} ${H==="bottom"?"rounded-b-none border-b-0":""} ${H==="top"?"rounded-t-none border-t-0":""}`,children:M.component}),I&&C&&!$&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none z-50",children:[C.edge==="bottom"&&c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary animate-pulse",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/50 to-transparent h-8 -translate-y-full"}),c.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -translate-y-1/2 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-bold shadow-lg whitespace-nowrap",children:"Drop to attach below"})]}),C.edge==="top"&&c.jsxs("div",{className:"absolute top-0 left-0 right-0 h-1 bg-primary animate-pulse",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/50 to-transparent h-8 translate-y-full"}),c.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 translate-y-1/2 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-bold shadow-lg whitespace-nowrap",children:"Drop to attach above"})]})]})]},M.id)})})})}const Jx={create_track:{color:"cyan",icon:xs,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"},create_midi_clip:{color:"cyan",icon:en,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"},modify_clip:{color:"magenta",icon:iT,bgClass:"bg-purple-500/20",borderClass:"border-purple-500",textClass:"text-purple-400",glowClass:"glow-magenta"},delete_clip:{color:"red",icon:bs,bgClass:"bg-red-500/20",borderClass:"border-red-500",textClass:"text-red-400",glowClass:"shadow-lg shadow-red-500/20"},add_effect:{color:"yellow",icon:jc,bgClass:"bg-yellow-500/20",borderClass:"border-yellow-500",textClass:"text-yellow-400",glowClass:"glow-yellow"},set_track_parameter:{color:"magenta",icon:om,bgClass:"bg-purple-500/20",borderClass:"border-purple-500",textClass:"text-purple-400",glowClass:"glow-magenta"},set_tempo:{color:"yellow",icon:Ej,bgClass:"bg-yellow-500/20",borderClass:"border-yellow-500",textClass:"text-yellow-400",glowClass:"glow-yellow"},play_sequence:{color:"cyan",icon:$c,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"},stop_playback:{color:"red",icon:uT,bgClass:"bg-red-500/20",borderClass:"border-red-500",textClass:"text-red-400",glowClass:"shadow-lg shadow-red-500/20"},set_effect_parameter:{color:"magenta",icon:om,bgClass:"bg-purple-500/20",borderClass:"border-purple-500",textClass:"text-purple-400",glowClass:"glow-magenta"},default:{color:"cyan",icon:_j,bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500",textClass:"text-cyan-400",glowClass:"glow-cyan"}};function N3({activity:t,onComplete:a}){const[r,s]=h.useState(!1),[i,u]=h.useState(!1),d=Jx[t.action]||Jx.default,m=d.icon;return h.useEffect(()=>{const p=setTimeout(()=>s(!0),10);return()=>clearTimeout(p)},[]),h.useEffect(()=>{if(t.status==="success"||t.status==="error"){const p=setTimeout(()=>{u(!0),setTimeout(()=>{a?.()},300)},t.duration||1500);return()=>clearTimeout(p)}},[t.status,t.duration,a]),c.jsxs("div",{className:ve("pointer-events-none fixed z-50 flex items-center gap-3 rounded-lg border-2 px-4 py-3 backdrop-blur-sm transition-all duration-300",d.bgClass,d.borderClass,d.glowClass,r&&!i&&"opacity-100 translate-y-0 scale-100",!r&&"opacity-0 translate-y-4 scale-95",i&&"opacity-0 translate-y--4 scale-95"),style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[c.jsx(m,{className:ve("h-5 w-5 flex-shrink-0",d.textClass,t.status==="in-progress"&&"animate-spin")}),c.jsx("p",{className:ve("font-mono text-sm font-medium",d.textClass),children:t.message})]})}function j3({count:t,className:a}){return t===0?null:c.jsxs("div",{className:ve("flex items-center gap-1.5 rounded-full bg-cyan-500/20 px-2 py-1 border border-cyan-500/50","glow-cyan animate-pulse",a),children:[c.jsx(jc,{className:"h-3 w-3 text-cyan-400"}),c.jsx("span",{className:"text-xs font-bold text-cyan-400",children:t})]})}function T3(){const t=ne(a=>a.activities);return t.length===0?null:c.jsx("div",{className:"pointer-events-none fixed inset-0 z-50 flex items-center justify-center",children:c.jsx("div",{className:"flex flex-col gap-3",children:t.map((a,r)=>c.jsx("div",{style:{animationDelay:`${r*100}ms`},children:c.jsx(N3,{activity:a,onComplete:()=>{}})},a.id))})})}function R3({panels:t,tabs:a=[],activeTab:r,onTabChange:s,onTabCreate:i,onTabDelete:u,onTabPopout:d}){const[m,p]=h.useState(a[0]?.id||""),{updateTabLayout:g,poppedOutTabs:x,xrayEnabled:y,xraySourceTab:C,xrayTargetTab:T,xrayOpacity:E,enableXray:b,disableXray:S,setXrayOpacity:w}=Vl(),j=ne(q=>q.activities),R=()=>j,A=r??m,_=q=>{p(q),s?.(q)};h.useEffect(()=>{const q=X=>{if((X.metaKey||X.ctrlKey)&&X.key==="x")if(X.preventDefault(),y)S();else{const ae=a.find(L=>L.id!==A&&!x.has(L.id));ae&&b(ae.id)}};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[y,A,a,x,b,S]);const k=(q,X)=>{X.stopPropagation(),u?.(q)},D=(q,X)=>{X.stopPropagation(),d?.(q)};if(a.length===0)return c.jsx("div",{className:"flex h-full w-full items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"No tabs available"}),c.jsx("button",{onClick:()=>i?.(),className:"bg-primary/10 hover:bg-primary/20 text-primary rounded px-4 py-2 transition-colors",children:"Create First Tab"})]})});const M=a.find(q=>q.id===A),z=M?t.filter(q=>M.panelIds.includes(q.id)):[],I=y&&T?a.find(q=>q.id===T):null,$=I?t.filter(q=>I.panelIds.includes(q.id)):[],V=x.has(A);return c.jsxs("div",{className:"flex h-full w-full flex-col overflow-hidden",children:[c.jsxs("div",{className:"border-primary/10 bg-card/20 flex items-center gap-1 border-b px-2",children:[a.map(q=>{const X=x.has(q.id),ae=y&&q.id===T,L=y&&q.id===C,H=R();return c.jsxs("div",{className:`group relative flex cursor-pointer items-center gap-2 px-4 py-2.5 transition-all duration-300 ${X?"border-b-2 border-purple-500 bg-purple-500/20 text-purple-400":ae?"border-b-2 border-cyan-500 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 text-cyan-400 shadow-lg shadow-cyan-500/20":L?"border-b-2 border-purple-500/50 bg-purple-500/10 text-purple-300":q.id===A?"bg-primary/10 text-primary border-primary border-b-2":"text-muted-foreground hover:bg-card/30 hover:text-foreground"}`,onClick:()=>!X&&_(q.id),title:X?"Tab is popped out to separate window":ae?"X-Ray Target - Viewing this tab":L?"X-Ray Source - Currently active":void 0,children:[X&&c.jsx(zf,{className:"h-3.5 w-3.5 text-purple-400"}),ae&&c.jsx(qy,{className:"h-3.5 w-3.5 text-cyan-400 animate-pulse"}),c.jsx("span",{className:"text-sm font-medium",children:q.name}),c.jsx(j3,{count:H.length}),!X&&c.jsxs("div",{className:"flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[c.jsx("button",{onClick:U=>D(q.id,U),className:"hover:bg-primary/20 rounded p-1 transition-colors",title:"Pop out to window",children:c.jsx(zf,{className:"h-3 w-3"})}),a.length>1&&c.jsx("button",{onClick:U=>k(q.id,U),className:"hover:bg-destructive/20 rounded p-1 transition-colors",title:"Close tab",children:c.jsx(mo,{className:"h-3 w-3"})})]})]},q.id)}),c.jsx("div",{className:"flex-1"}),a.length>1&&!V&&c.jsxs("div",{className:"flex items-center gap-2 border-l border-border/50 pl-3 ml-2",children:[c.jsx(Yn,{icon:qy,tooltip:y?"Disable X-Ray Mode (X)":"Enable X-Ray Mode (X)",onClick:()=>{if(y)S();else{const q=a.find(X=>X.id!==A&&!x.has(X.id));q&&b(q.id)}},variant:y?"default":"ghost",size:"icon-sm",className:y?"bg-purple-500/20 text-purple-400 hover:bg-purple-500/30":""}),y&&c.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-2 duration-200",children:[c.jsx(Ve,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"X-RAY"}),c.jsx(zr,{value:[E*100],onValueChange:q=>w(q[0]/100),min:0,max:100,step:5,className:"w-24"}),c.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[Math.round(E*100),"%"]})]}),y&&a.length>2&&c.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-2 duration-200",children:[c.jsx(Ve,{className:"text-xs text-muted-foreground whitespace-nowrap",children:"View"}),c.jsx("select",{value:T||"",onChange:q=>{q.target.value&&b(q.target.value)},className:"bg-card border border-border rounded px-2 py-1 text-xs text-foreground focus:outline-none focus:ring-2 focus:ring-primary/50",children:a.filter(q=>q.id!==A&&!x.has(q.id)).map(q=>c.jsx("option",{value:q.id,children:q.name},q.id))})]})]}),c.jsx("button",{onClick:i,className:"hover:bg-card/30 rounded p-2 transition-colors",title:"New tab",children:c.jsx(xs,{className:"text-muted-foreground h-4 w-4"})})]}),c.jsx("div",{className:"flex-1 overflow-hidden relative",children:V?c.jsx("div",{className:"flex h-full w-full items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(zf,{className:"text-secondary mx-auto mb-4 h-12 w-12"}),c.jsx("h2",{className:"text-secondary mb-2 text-xl font-bold",children:"Tab Popped Out"}),c.jsx("p",{className:"text-muted-foreground",children:"This tab is currently open in a separate window"})]})}):c.jsxs(c.Fragment,{children:[y&&$.length>0&&c.jsx("div",{className:"absolute inset-0 transition-all duration-300",style:{opacity:E,zIndex:E>0?1:0,pointerEvents:E>0?"auto":"none",transform:`
                                        perspective(1200px)
                                        rotateX(${(1-E)*-12}deg)
                                        rotateY(${(1-E)*5}deg)
                                        scale(${.92+E*.08})
                                        translateZ(${(E-1)*80}px)
                                    `,transformOrigin:"center center",transformStyle:"preserve-3d"},children:c.jsx(_m,{panels:$,onLayoutChange:q=>{T&&g(T,q)},onPanelClose:q=>{console.log("Panel closed:",q)}})}),c.jsx("div",{className:"absolute inset-0 transition-all duration-300",style:{opacity:y?1-E:1,zIndex:y&&E>0?0:1,pointerEvents:y&&E>0?"none":"auto",transform:y?`
                                    perspective(1200px)
                                    rotateX(${E*8}deg)
                                    rotateY(${E*-3}deg)
                                    scale(${1-E*.05})
                                    translateZ(${E*40}px)
                                `:"none",transformOrigin:"center center",transformStyle:"preserve-3d"},children:c.jsx(_m,{panels:z,onLayoutChange:q=>{g(A,q)},onPanelClose:q=>{console.log("Panel closed:",q)}})})]})})]})}function M3(){const t=ne(E=>E.activeComposition),a=ne(E=>E.compositions),r=ne(E=>E.loadComposition),s=ne(E=>E.loadCompositions),i=ne(E=>E.createComposition),[u,d]=h.useState(""),[m,p]=h.useState(!1),[g,x]=h.useState(!0);h.useEffect(()=>{(async()=>{try{await s();const b=us.getActiveSequenceId();b&&(console.log(`Auto-loading last active composition: ${b}`),await r(b))}catch(b){console.error("Failed to initialize compositions:",b)}finally{x(!1)}})()},[]);const y=!t&&!g,C=async()=>{if(u.trim()){p(!0);try{await i(u.trim()),d("")}catch(E){console.error("Failed to create composition:",E)}finally{p(!1)}}},T=async E=>{await r(E)};return c.jsx(Mp,{open:y,onOpenChange:()=>{},children:c.jsxs(Dp,{className:"sm:max-w-[600px]",showCloseButton:!1,children:[c.jsxs(_p,{children:[c.jsxs(Ap,{className:"flex items-center gap-2 text-2xl",children:[c.jsx(en,{className:"h-6 w-6"}),"Welcome to Sonic Claude"]}),c.jsx(Op,{children:"Create a new composition or load an existing one to get started"})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Ve,{className:"text-sm font-semibold uppercase tracking-wide",children:[c.jsx(xs,{className:"inline h-4 w-4 mr-1"}),"Create New Composition"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ra,{placeholder:"Enter composition name...",value:u,onChange:E=>d(E.target.value),onKeyDown:E=>{E.key==="Enter"&&C()},disabled:m}),c.jsx(Le,{onClick:C,disabled:!u.trim()||m,children:"Create"})]})]}),a.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Ve,{className:"text-sm font-semibold uppercase tracking-wide",children:[c.jsx(R0,{className:"inline h-4 w-4 mr-1"}),"Load Existing Composition"]}),c.jsx("div",{className:"h-[300px] rounded-md border overflow-y-auto",children:c.jsx("div",{className:"p-2 space-y-2",children:a.map(E=>c.jsx(Le,{variant:"outline",className:"w-full justify-start h-auto py-3 px-4",onClick:()=>T(E.id),children:c.jsxs("div",{className:"flex flex-col items-start gap-1 w-full",children:[c.jsx("div",{className:"font-semibold",children:E.name}),c.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[c.jsx(rm,{className:"h-3 w-3"}),Nm(E.updated_at)]})]})},E.id))})})]}),a.length===0&&c.jsx("div",{className:"text-center text-sm text-muted-foreground py-8",children:"No existing compositions found. Create your first one above!"})]})]})})}const D3=3e3;function _3(){const t=h.useRef(void 0),a=h.useRef(!1);h.useEffect(()=>{const r=ne.subscribe(s=>s.hasUnsavedChanges,async(s,i)=>{!s||i===s||(t.current&&clearTimeout(t.current),t.current=window.setTimeout(async()=>{const u=ne.getState(),{activeComposition:d}=u;if(!(!d||a.current))try{a.current=!0,console.log(" Autosaving composition:",d.id),await ge.compositions.saveComposition(d.id,!1,!0),ne.setState({hasUnsavedChanges:!1}),console.log(" Autosave complete")}catch(m){console.error(" Autosave failed:",m),de.error("Autosave failed")}finally{a.current=!1}},D3))});return()=>{r(),t.current&&clearTimeout(t.current)}},[])}function A3(){const{tabs:t,activeTab:a,setActiveTab:r,createTab:s,deleteTab:i,popoutTab:u}=Vl();_3();const d=ne(y=>y.analytics),m=ne(y=>y.activeSynths),p=d!==null,g=d?.cpu_usage||0,x=Object.keys(m).length;return c.jsxs("div",{className:"bg-background flex h-screen w-screen flex-col overflow-hidden",children:[c.jsx(M3,{}),c.jsx(d1,{isEngineRunning:p,cpuUsage:g,activeSynths:x}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(R3,{panels:W1,tabs:t,activeTab:a,onTabChange:r,onTabCreate:()=>{s("NEW TAB",[])},onTabDelete:i,onTabPopout:u})}),c.jsx(T3,{})]})}function O3(){const[t]=$N(),a=t.get("tab"),r=t.get("panels"),{tabs:s,updateTabLayout:i,closePopout:u,popoutTab:d}=Vl(),m=ne(b=>b.analytics),p=ne(b=>b.activeSynths),g=m!==null,x=m?.cpu_usage||0,y=Object.keys(p).length,C=r?r.split(","):[],T=s.find(b=>b.id===a),E=W1.filter(b=>C.includes(b.id));return h.useEffect(()=>{a&&(console.log(` Popout window registering tab: ${a}`),d(a,!1))},[a,d]),h.useEffect(()=>{const b=new BroadcastChannel("sonic-claude-sync"),S=()=>{a&&(console.log(` Popout window closing, broadcasting close event for tab: ${a}`),b.postMessage({key:Ec.POPOUT_CLOSED,value:{tabId:a},timestamp:Date.now()}),u(a))};return window.addEventListener("pagehide",S),()=>{window.removeEventListener("pagehide",S),b.close()}},[a,u]),h.useEffect(()=>{T&&(document.title=`Sonic Claude - ${T.name}`)},[T]),!a||!T?c.jsx("div",{className:"bg-background flex h-screen w-screen items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-primary mb-2 text-2xl font-bold",children:"Invalid Popout"}),c.jsx("p",{className:"text-muted-foreground",children:"Tab not found"})]})}):c.jsxs("div",{className:"bg-background flex h-screen w-screen flex-col overflow-hidden",children:[c.jsx(d1,{isEngineRunning:g,cpuUsage:x,activeSynths:y}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(_m,{panels:E,onLayoutChange:b=>{a&&i(a,b)},onPanelClose:b=>{console.log("Panel closed in popout:",b)}})})]})}var xa=(t=>(t.CONNECTING="CONNECTING",t.CONNECTED="CONNECTED",t.DISCONNECTED="DISCONNECTED",t.RECONNECTING="RECONNECTING",t.FAILED="FAILED",t))(xa||{});class e0 extends Error{constructor(a,r,s){super(a),this.endpoint=r,this.code=s,this.name="WebSocketError"}}class k3{ws=null;endpoint;fullURL;state="DISCONNECTED";messageHandlers=new Set;stateChangeHandlers=new Set;reconnectAttempts=0;reconnectTimeout;currentReconnectDelay;isCleaningUp=!1;options;constructor(a,r={}){this.endpoint=a,this.fullURL=Bm.getWSURL(a),this.options={autoReconnect:r.autoReconnect??!0,reconnectDelay:r.reconnectDelay??1e3,maxReconnectDelay:r.maxReconnectDelay??3e4,backoffMultiplier:r.backoffMultiplier??1.5,maxReconnectAttempts:r.maxReconnectAttempts??1/0,debug:r.debug??!1},this.currentReconnectDelay=this.options.reconnectDelay}connect(){if(!this.isCleaningUp){if(this.ws?.readyState===WebSocket.OPEN||this.ws?.readyState===WebSocket.CONNECTING){this.log("Already connected or connecting");return}try{this.setState("CONNECTING"),this.ws=new WebSocket(this.fullURL),this.ws.onopen=()=>this.handleOpen(),this.ws.onmessage=a=>this.handleMessage(a),this.ws.onerror=a=>this.handleError(a),this.ws.onclose=a=>this.handleClose(a),this.log(`Connecting to ${this.endpoint}`)}catch(a){this.handleConnectionError(a)}}}disconnect(){this.isCleaningUp=!0,this.clearReconnectTimeout(),this.ws&&(this.ws.close(),this.ws=null),this.setState("DISCONNECTED"),this.log("Disconnected")}onMessage(a){return this.messageHandlers.add(a),()=>this.messageHandlers.delete(a)}onStateChange(a){return this.stateChangeHandlers.add(a),()=>this.stateChangeHandlers.delete(a)}getState(){return this.state}isConnected(){return this.state==="CONNECTED"}send(a){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)throw new e0("Cannot send message: WebSocket not connected",this.endpoint);try{const r=typeof a=="string"?a:JSON.stringify(a);this.ws.send(r),this.log("Sent message:",a)}catch(r){throw new e0(`Failed to send message: ${r instanceof Error?r.message:"Unknown error"}`,this.endpoint)}}handleOpen(){this.setState("CONNECTED"),this.reconnectAttempts=0,this.currentReconnectDelay=this.options.reconnectDelay,this.log(" Connected")}handleMessage(a){if(!this.isCleaningUp)try{const r=JSON.parse(a.data);this.messageHandlers.forEach(s=>s(r))}catch(r){console.error(`Failed to parse WebSocket message from ${this.endpoint}:`,r)}}handleError(a){this.isCleaningUp||this.ws?.readyState!==WebSocket.CLOSED&&this.log(" WebSocket error")}handleClose(a){this.isCleaningUp||(this.setState("DISCONNECTED"),this.log(`Closed (code: ${a.code}, reason: ${a.reason||"none"})`),this.options.autoReconnect&&this.reconnectAttempts<this.options.maxReconnectAttempts?this.scheduleReconnect():this.reconnectAttempts>=this.options.maxReconnectAttempts&&(this.setState("FAILED"),this.log(" Max reconnect attempts reached")))}handleConnectionError(a){this.setState("FAILED"),console.error(`Failed to create WebSocket connection to ${this.endpoint}:`,a)}scheduleReconnect(){this.clearReconnectTimeout(),this.setState("RECONNECTING"),this.reconnectAttempts++,this.log(`Reconnecting in ${this.currentReconnectDelay}ms (attempt ${this.reconnectAttempts})`),this.reconnectTimeout=window.setTimeout(()=>{this.isCleaningUp||(this.connect(),this.currentReconnectDelay=Math.min(this.currentReconnectDelay*this.options.backoffMultiplier,this.options.maxReconnectDelay))},this.currentReconnectDelay)}clearReconnectTimeout(){this.reconnectTimeout!==void 0&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0)}setState(a){this.state!==a&&(this.state=a,this.stateChangeHandlers.forEach(r=>r(a)))}log(...a){this.options.debug&&console.log(`[WebSocket:${this.endpoint}]`,...a)}}class z3{connections=new Map;getConnection(a,r){if(this.connections.has(a))return this.connections.get(a);const s=new k3(a,r);return this.connections.set(a,s),s.connect(),s}disconnect(a){const r=this.connections.get(a);r&&(r.disconnect(),this.connections.delete(a))}disconnectAll(){this.connections.forEach(a=>{a.disconnect()}),this.connections.clear()}getConnectionState(a){const r=this.connections.get(a);return r?r.getState():null}isConnected(a){const r=this.connections.get(a);return r?r.isConnected():!1}getActiveConnections(){return Array.from(this.connections.keys()).filter(a=>{const r=this.connections.get(a);return r&&r.isConnected()})}getHealthStatus(){const a={total:this.connections.size,connected:0,connecting:0,disconnected:0,reconnecting:0,failed:0};return this.connections.forEach(r=>{switch(r.getState()){case xa.CONNECTED:a.connected++;break;case xa.CONNECTING:a.connecting++;break;case xa.DISCONNECTED:a.disconnected++;break;case xa.RECONNECTING:a.reconnecting++;break;case xa.FAILED:a.failed++;break}}),a}}const Am=new z3;function kp(t,a){const[r,s]=h.useState(null),[i,u]=h.useState(xa.DISCONNECTED),d=h.useRef(Am.getConnection(t,a));h.useEffect(()=>{const x=d.current,y=x.onMessage(T=>{s(T)}),C=x.onStateChange(T=>{u(T)});return u(x.getState()),()=>{y(),C()}},[t]);const m=h.useCallback(x=>{d.current.send(x)},[]),p=h.useCallback(()=>{d.current.connect()},[]),g=h.useCallback(()=>{Am.disconnect(t)},[t]);return{data:r,state:i,isConnected:i===xa.CONNECTED,send:m,reconnect:p,disconnect:g}}function Q1(t,a,r){const[s,i]=h.useState(xa.DISCONNECTED),u=h.useRef(Am.getConnection(t,r)),d=h.useRef(a);return h.useEffect(()=>{d.current=a},[a]),h.useEffect(()=>{const m=u.current,p=m.onMessage(x=>{d.current(x)}),g=m.onStateChange(x=>{i(x)});return i(m.getState()),()=>{p(),g()}},[t]),{state:s,isConnected:s===xa.CONNECTED}}function L3(){const{data:t,isConnected:a}=kp("/api/ws/transport",{debug:!1});return{transport:t||{type:"transport",is_playing:!1,position_beats:0,position_seconds:0,tempo:120,time_signature_num:4,time_signature_den:4},isConnected:a}}function P3(){const[t,a]=h.useState({}),{isConnected:r}=Q1("/api/ws/meters",s=>{s.type==="meters"&&a(i=>({...i,[s.track_id]:{peakLeft:s.peak_left,peakRight:s.peak_right,rmsLeft:s.rms_left,rmsRight:s.rms_right}}))},{debug:!1});return{meters:t,isConnected:r}}function U3(){const[t,a]=h.useState([]),{isConnected:r}=Q1("/api/ws/spectrum",s=>{s.type==="spectrum"&&Array.isArray(s.magnitudes)&&a(s.magnitudes)},{debug:!1});return{spectrum:t,isConnected:r}}function B3(){const{data:t,isConnected:a}=kp("/api/ws/waveform",{debug:!1});return{waveform:t||null,isConnected:a}}function H3(){const{data:t,isConnected:a}=kp("/ws/analytics",{debug:!1});return{analytics:t||null,isConnected:a}}function q3(){const{transport:t}=L3(),{meters:a}=P3(),{spectrum:r}=U3(),{waveform:s}=B3(),{analytics:i}=H3(),u=ne(x=>x.setTransport),d=ne(x=>x.setMeters),m=ne(x=>x.setSpectrum),p=ne(x=>x.setWaveform),g=ne(x=>x.setAnalytics);return h.useEffect(()=>{t&&u(t)},[t,u]),h.useEffect(()=>{a&&Object.keys(a).length>0&&d(a)},[a,d]),h.useEffect(()=>{r&&r.length>0&&m(r)},[r,m]),h.useEffect(()=>{s&&p(s)},[s,p]),h.useEffect(()=>{i&&g(i)},[i,g]),null}const I3={success:uj,error:ij,info:M0,warning:O0},$3={success:"border-primary/50 bg-primary/10 text-primary",error:"border-destructive/50 bg-destructive/10 text-destructive",info:"border-border bg-card/50 text-foreground",warning:"border-yellow-500/50 bg-yellow-500/10 text-yellow-500"};function F3({type:t="info",message:a,onClose:r}){const s=I3[t];return c.jsxs("div",{className:ve("pointer-events-auto flex items-center gap-3 rounded-md border-2 px-4 py-3 shadow-lg backdrop-blur-sm transition-all",$3[t]),children:[c.jsx(s,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("p",{className:"flex-1 font-mono text-sm",children:a}),c.jsx("button",{onClick:r,className:"hover:bg-background/20 flex-shrink-0 rounded p-1 transition-colors",children:c.jsx(mo,{className:"h-4 w-4"})})]})}function Y3({toasts:t,onRemove:a}){return c.jsx("div",{className:"pointer-events-none fixed right-4 bottom-4 z-50 flex w-96 flex-col gap-2",children:t.map(r=>c.jsx(F3,{...r,onClose:()=>a(r.id)},r.id))})}const V3=h.createContext(void 0);function G3({children:t}){const[a,r]=h.useState([]),s=h.useCallback((d,m="info",p=3e3)=>{const g=`toast-${Date.now()}-${Math.random()}`,x={id:g,message:d,type:m,duration:p};return r(y=>[...y,x]),p>0&&setTimeout(()=>{r(y=>y.filter(C=>C.id!==g))},p),g},[]),i=h.useCallback(d=>{r(m=>m.filter(p=>p.id!==d))},[]),u=h.useMemo(()=>({success:(d,m)=>s(d,"success",m),error:(d,m)=>s(d,"error",m),info:(d,m)=>s(d,"info",m),warning:(d,m)=>s(d,"warning",m)}),[s]);return c.jsxs(V3.Provider,{value:{toasts:a,toast:u,removeToast:i},children:[t,c.jsx(Y3,{toasts:a,onRemove:i})]})}gE.createRoot(document.getElementById("root")).render(c.jsx(h.StrictMode,{children:c.jsx(UN,{children:c.jsx(Tz,{delayDuration:300,children:c.jsxs(G3,{children:[c.jsx(q3,{}),c.jsx(x3,{children:c.jsxs(mN,{children:[c.jsx(tm,{path:"/",element:c.jsx(A3,{})}),c.jsx(tm,{path:"/popout",element:c.jsx(O3,{})})]})})]})})})}));
