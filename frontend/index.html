<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SONIC CLAUDE - AI Performance System</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="stage">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="logo">
                <div class="logo-icon">üéµ</div>
                <div class="logo-text">
                    <h1>SONIC CLAUDE</h1>
                    <span class="tagline">AI Performance System</span>
                </div>
            </div>

            <div class="ai-control-center">
                <div class="ai-brain-viz">
                    <canvas id="brain-viz" width="120" height="120"></canvas>
                    <div class="brain-status">
                        <span id="brain-state">IDLE</span>
                    </div>
                </div>
                <button id="ai-master-toggle" class="ai-master-btn">
                    <span class="ai-icon">üß†</span>
                    <span class="ai-label">AI AGENT</span>
                    <span class="ai-state" id="ai-state">OFFLINE</span>
                </button>
            </div>

            <div class="system-status">
                <div class="status-item">
                    <span class="status-label">SONIC PI</span>
                    <div class="status-indicator" id="sonicpi-status">
                        <span class="pulse-dot"></span>
                        <span id="sonicpi-text">READY</span>
                    </div>
                </div>
                <div class="status-item">
                    <span class="status-label">AUDIO ENGINE</span>
                    <div class="status-indicator" id="audio-status">
                        <span class="pulse-dot"></span>
                        <span id="audio-text">MONITORING</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Performance Area -->
        <div class="performance-area">
            <!-- Left: Control Deck -->
            <div class="control-deck">
                <div class="deck-section transport-section">
                    <h2>TRANSPORT</h2>
                    <div class="transport-controls">
                        <button id="master-play" class="transport-btn play-btn">
                            <span class="btn-icon">‚ñ∂</span>
                            <span class="btn-label">PLAY</span>
                        </button>
                        <button id="master-stop" class="transport-btn stop-btn">
                            <span class="btn-icon">‚èπ</span>
                            <span class="btn-label">STOP</span>
                        </button>
                    </div>
                    <div class="bpm-display">
                        <span class="bpm-label">BPM</span>
                        <input type="number" id="bpm-input" value="120" min="60" max="180">
                        <input type="range" id="bpm-slider" min="60" max="180" value="120" step="1">
                    </div>
                </div>

                <div class="deck-section mixer-section">
                    <h2>MASTER MIX</h2>
                    <div class="fader-group">
                        <div class="fader">
                            <label>INTENSITY</label>
                            <div class="fader-track">
                                <input type="range" id="intensity" min="0" max="10" value="5" step="0.1" orient="vertical">
                                <span class="fader-value" id="intensity-val">5.0</span>
                            </div>
                        </div>
                        <div class="fader">
                            <label>CUTOFF</label>
                            <div class="fader-track">
                                <input type="range" id="cutoff" min="40" max="130" value="100" step="1" orient="vertical">
                                <span class="fader-value" id="cutoff-val">100</span>
                            </div>
                        </div>
                        <div class="fader">
                            <label>REVERB</label>
                            <div class="fader-track">
                                <input type="range" id="reverb" min="0" max="1" value="0.3" step="0.01" orient="vertical">
                                <span class="fader-value" id="reverb-val">0.30</span>
                            </div>
                        </div>
                        <div class="fader">
                            <label>ECHO</label>
                            <div class="fader-track">
                                <input type="range" id="echo" min="0" max="1" value="0.2" step="0.01" orient="vertical">
                                <span class="fader-value" id="echo-val">0.20</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="deck-section harmony-section">
                    <h2>HARMONY</h2>
                    <div class="harmony-controls">
                        <div class="key-selector">
                            <label>KEY</label>
                            <select id="key">
                                <option value="C">C</option>
                                <option value="Db">C#/Db</option>
                                <option value="D">D</option>
                                <option value="Eb">D#/Eb</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                                <option value="Gb">F#/Gb</option>
                                <option value="G">G</option>
                                <option value="Ab">G#/Ab</option>
                                <option value="A" selected>A</option>
                                <option value="Bb">A#/Bb</option>
                                <option value="B">B</option>
                            </select>
                        </div>
                        <div class="scale-selector">
                            <label>SCALE</label>
                            <select id="scale">
                                <option value="minor" selected>Minor</option>
                                <option value="major">Major</option>
                                <option value="dorian">Dorian</option>
                                <option value="phrygian">Phrygian</option>
                                <option value="lydian">Lydian</option>
                                <option value="mixolydian">Mixolydian</option>
                                <option value="pentatonic">Pentatonic</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>



            <!-- Center: Visualizer & AI -->
            <div class="center-stage">
                <div class="visualizer-container">
                    <canvas id="spectrum-analyzer" width="1400" height="400"></canvas>
                    <div class="viz-overlay">
                        <div class="viz-stats">
                            <div class="stat">
                                <span class="stat-label">ENERGY</span>
                                <span class="stat-value" id="energy-stat">0.00</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">FREQ</span>
                                <span class="stat-value" id="freq-stat">0 Hz</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">RHYTHM</span>
                                <span class="stat-value" id="rhythm-stat">0.00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="ai-command-center">
                    <div class="command-header">
                        <h2>AI COMMAND INTERFACE</h2>
                        <div class="ai-mode-selector">
                            <button class="mode-btn active" data-mode="chat">CHAT</button>
                            <button class="mode-btn" data-mode="autonomous">AUTONOMOUS</button>
                            <button class="mode-btn" data-mode="collaborative">COLLABORATIVE</button>
                        </div>
                    </div>

                    <div class="command-display" id="command-display">
                        <div class="ai-message">
                            <span class="msg-sender">AI AGENT</span>
                            <span class="msg-time">00:00:00</span>
                            <p class="msg-content">System initialized. Ready for musical collaboration.</p>
                        </div>
                    </div>

                    <div class="command-input-area">
                        <input type="text" id="ai-command" placeholder="Enter command: e.g., 'build tension with rising bass'" autocomplete="off">
                        <button id="send-command" class="send-btn">
                            <span>SEND</span>
                            <span class="send-icon">‚Üí</span>
                        </button>
                    </div>
                </div>

                <div class="decision-matrix">
                    <h3>AI DECISION STREAM</h3>
                    <div class="decision-grid" id="decision-grid">
                        <div class="decision-item placeholder">
                            <span class="decision-param">Awaiting AI decisions...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right: AI Brain & Samples -->
            <div class="right-panel">
                <div class="brain-analytics">
                    <h2>AI BRAIN ANALYTICS</h2>
                    <div class="analytics-grid">
                        <div class="analytic-card">
                            <div class="card-header">
                                <span class="card-icon">‚ö°</span>
                                <span class="card-title">ENERGY</span>
                            </div>
                            <div class="card-value" id="ai-energy">--</div>
                            <div class="card-bar">
                                <div class="bar-fill" id="energy-bar" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="analytic-card">
                            <div class="card-header">
                                <span class="card-icon">üåü</span>
                                <span class="card-title">BRIGHTNESS</span>
                            </div>
                            <div class="card-value" id="ai-brightness">--</div>
                            <div class="card-bar">
                                <div class="bar-fill" id="brightness-bar" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="analytic-card">
                            <div class="card-header">
                                <span class="card-icon">ü•Å</span>
                                <span class="card-title">RHYTHM</span>
                            </div>
                            <div class="card-value" id="ai-rhythm">--</div>
                            <div class="card-bar">
                                <div class="bar-fill" id="rhythm-bar" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="analytic-card">
                            <div class="card-header">
                                <span class="card-icon">üß©</span>
                                <span class="card-title">COMPLEXITY</span>
                            </div>
                            <div class="card-value" id="ai-complexity">--</div>
                            <div class="card-bar">
                                <div class="bar-fill" id="complexity-bar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>

                    <div class="musical-state">
                        <h3>MUSICAL STATE</h3>
                        <div class="state-display">
                            <div class="state-item">
                                <span class="state-label">Key:</span>
                                <span class="state-value" id="current-key">A</span>
                            </div>
                            <div class="state-item">
                                <span class="state-label">Scale:</span>
                                <span class="state-value" id="current-scale">Minor</span>
                            </div>
                            <div class="state-item">
                                <span class="state-label">BPM:</span>
                                <span class="state-value" id="current-bpm">120</span>
                            </div>
                            <div class="state-item">
                                <span class="state-label">Intensity:</span>
                                <span class="state-value" id="current-intensity">5.0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sample-launcher">
                    <h2>SAMPLE LAUNCHER</h2>
                    <div class="launcher-tabs">
                        <button class="launcher-tab active" data-tab="drums">DRUMS</button>
                        <button class="launcher-tab" data-tab="bass">BASS</button>
                        <button class="launcher-tab" data-tab="synth">SYNTH</button>
                    </div>
                    <div class="sample-pads" id="sample-pads"></div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="/static/app.js"></script>
</body>
</html>